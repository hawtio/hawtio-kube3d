(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// threejs.org/license
'use strict';var THREE={REVISION:"71"};"object"===typeof module&&(module.exports=THREE);void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});THREE.log=function(){console.log.apply(console,arguments)};THREE.warn=function(){console.warn.apply(console,arguments)};THREE.error=function(){console.error.apply(console,arguments)};THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2};THREE.CullFaceNone=0;THREE.CullFaceBack=1;THREE.CullFaceFront=2;THREE.CullFaceFrontBack=3;THREE.FrontFaceDirectionCW=0;
THREE.FrontFaceDirectionCCW=1;THREE.BasicShadowMap=0;THREE.PCFShadowMap=1;THREE.PCFSoftShadowMap=2;THREE.FrontSide=0;THREE.BackSide=1;THREE.DoubleSide=2;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.CustomBlending=5;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;
THREE.MinEquation=103;THREE.MaxEquation=104;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.AddOperation=2;THREE.UVMapping=300;THREE.CubeReflectionMapping=301;THREE.CubeRefractionMapping=302;
THREE.EquirectangularReflectionMapping=303;THREE.EquirectangularRefractionMapping=304;THREE.SphericalReflectionMapping=305;THREE.RepeatWrapping=1E3;THREE.ClampToEdgeWrapping=1001;THREE.MirroredRepeatWrapping=1002;THREE.NearestFilter=1003;THREE.NearestMipMapNearestFilter=1004;THREE.NearestMipMapLinearFilter=1005;THREE.LinearFilter=1006;THREE.LinearMipMapNearestFilter=1007;THREE.LinearMipMapLinearFilter=1008;THREE.UnsignedByteType=1009;THREE.ByteType=1010;THREE.ShortType=1011;
THREE.UnsignedShortType=1012;THREE.IntType=1013;THREE.UnsignedIntType=1014;THREE.FloatType=1015;THREE.HalfFloatType=1025;THREE.UnsignedShort4444Type=1016;THREE.UnsignedShort5551Type=1017;THREE.UnsignedShort565Type=1018;THREE.AlphaFormat=1019;THREE.RGBFormat=1020;THREE.RGBAFormat=1021;THREE.LuminanceFormat=1022;THREE.LuminanceAlphaFormat=1023;THREE.RGBEFormat=THREE.RGBAFormat;THREE.RGB_S3TC_DXT1_Format=2001;THREE.RGBA_S3TC_DXT1_Format=2002;THREE.RGBA_S3TC_DXT3_Format=2003;
THREE.RGBA_S3TC_DXT5_Format=2004;THREE.RGB_PVRTC_4BPPV1_Format=2100;THREE.RGB_PVRTC_2BPPV1_Format=2101;THREE.RGBA_PVRTC_4BPPV1_Format=2102;THREE.RGBA_PVRTC_2BPPV1_Format=2103;
THREE.Projector=function(){THREE.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");this.projectVector=function(a,b){THREE.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){THREE.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(a,b){THREE.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};
THREE.CanvasRenderer=function(){THREE.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};THREE.Color=function(a){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(a)};
THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(a){a instanceof THREE.Color?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,b,c){this.r=a;this.g=b;this.b=c;return this},setHSL:function(a,b,c){if(0===b)this.r=this.g=this.b=c;else{var d=function(a,b,c){0>c&&(c+=1);1<c&&(c-=1);return c<1/6?a+6*(b-a)*
c:.5>c?b:c<2/3?a+6*(b-a)*(2/3-c):a};b=.5>=c?c*(1+b):c+b-c*b;c=2*c-b;this.r=d(c,b,a+1/3);this.g=d(c,b,a);this.b=d(c,b,a-1/3)}return this},setStyle:function(a){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(a))return a=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(a),this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,this;if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(a))return a=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(a),this.r=
Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,this;if(/^\#([0-9a-f]{6})$/i.test(a))return a=/^\#([0-9a-f]{6})$/i.exec(a),this.setHex(parseInt(a[1],16)),this;if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(a))return a=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a),this.setHex(parseInt(a[1]+a[1]+a[2]+a[2]+a[3]+a[3],16)),this;if(/^(\w+)$/i.test(a))return this.setHex(THREE.ColorKeywords[a]),this},copy:function(a){this.r=a.r;this.g=
a.g;this.b=a.b;return this},copyGammaToLinear:function(a,b){void 0===b&&(b=2);this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,b);return this},copyLinearToGamma:function(a,b){void 0===b&&(b=2);var c=0<b?1/b:1;this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,c);return this},convertGammaToLinear:function(){var a=this.r,b=this.g,c=this.b;this.r=a*a;this.g=b*b;this.b=c*c;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=
Math.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var b=this.r,c=this.g,d=this.b,e=Math.max(b,c,d),f=Math.min(b,c,d),g,h=(f+e)/2;if(f===e)f=g=0;else{var k=e-f,f=.5>=h?k/(e+f):k/(2-e-f);switch(e){case b:g=(c-d)/k+(c<d?6:0);break;case c:g=(d-b)/k+2;break;case d:g=(b-c)/k+4}g/=6}a.h=g;a.s=f;a.l=h;return a},getStyle:function(){return"rgb("+
(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,b,c){var d=this.getHSL();d.h+=a;d.s+=b;d.l+=c;this.setHSL(d.h,d.s,d.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,b){this.r=a.r+b.r;this.g=a.g+b.g;this.b=a.b+b.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;
return this},lerp:function(a,b){this.r+=(a.r-this.r)*b;this.g+=(a.g-this.g)*b;this.b+=(a.b-this.b)*b;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a){this.r=a[0];this.g=a[1];this.b=a[2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.r;a[b+1]=this.g;a[b+2]=this.b;return a},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}};
THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,
darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,
grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,
lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,
palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,
tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};THREE.Quaternion=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._w=void 0!==d?d:1};
THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._w=d;this.onChangeCallback();return this},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;
this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,b){if(!1===a instanceof THREE.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var c=Math.cos(a._x/2),d=Math.cos(a._y/2),e=Math.cos(a._z/2),f=Math.sin(a._x/2),g=Math.sin(a._y/2),h=Math.sin(a._z/2);"XYZ"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"YXZ"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e-f*d*h,this._z=
c*d*h-f*g*e,this._w=c*d*e+f*g*h):"ZXY"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e-f*g*h):"ZYX"===a.order?(this._x=f*d*e-c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e+f*g*h):"YZX"===a.order?(this._x=f*d*e+c*g*h,this._y=c*g*e+f*d*h,this._z=c*d*h-f*g*e,this._w=c*d*e-f*g*h):"XZY"===a.order&&(this._x=f*d*e-c*g*h,this._y=c*g*e-f*d*h,this._z=c*d*h+f*g*e,this._w=c*d*e+f*g*h);if(!1!==b)this.onChangeCallback();return this},setFromAxisAngle:function(a,
b){var c=b/2,d=Math.sin(c);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(c);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var b=a.elements,c=b[0];a=b[4];var d=b[8],e=b[1],f=b[5],g=b[9],h=b[2],k=b[6],b=b[10],l=c+f+b;0<l?(c=.5/Math.sqrt(l+1),this._w=.25/c,this._x=(k-g)*c,this._y=(d-h)*c,this._z=(e-a)*c):c>f&&c>b?(c=2*Math.sqrt(1+c-f-b),this._w=(k-g)/c,this._x=.25*c,this._y=(a+e)/c,this._z=(d+h)/c):f>b?(c=2*Math.sqrt(1+f-c-b),this._w=(d-h)/c,this._x=(a+e)/c,this._y=
.25*c,this._z=(g+k)/c):(c=2*Math.sqrt(1+b-c-f),this._w=(e-a)/c,this._x=(d+h)/c,this._y=(g+k)/c,this._z=.25*c);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3);b=c.dot(d)+1;1E-6>b?(b=0,Math.abs(c.x)>Math.abs(c.z)?a.set(-c.y,c.x,0):a.set(0,-c.z,c.y)):a.crossVectors(c,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=b;this.normalize();return this}}(),inverse:function(){this.conjugate().normalize();return this},conjugate:function(){this._x*=
-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},
multiply:function(a,b){return void 0!==b?(THREE.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,b)):this.multiplyQuaternions(this,a)},multiplyQuaternions:function(a,b){var c=a._x,d=a._y,e=a._z,f=a._w,g=b._x,h=b._y,k=b._z,l=b._w;this._x=c*l+f*g+d*k-e*h;this._y=d*l+f*h+e*g-c*k;this._z=e*l+f*k+c*h-d*g;this._w=f*l-c*g-d*h-e*k;this.onChangeCallback();return this},multiplyVector3:function(a){THREE.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");
return a.applyQuaternion(this)},slerp:function(a,b){if(0===b)return this;if(1===b)return this.copy(a);var c=this._x,d=this._y,e=this._z,f=this._w,g=f*a._w+c*a._x+d*a._y+e*a._z;0>g?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,g=-g):this.copy(a);if(1<=g)return this._w=f,this._x=c,this._y=d,this._z=e,this;var h=Math.acos(g),k=Math.sqrt(1-g*g);if(.001>Math.abs(k))return this._w=.5*(f+this._w),this._x=.5*(c+this._x),this._y=.5*(d+this._y),this._z=.5*(e+this._z),this;g=Math.sin((1-b)*h)/k;h=
Math.sin(b*h)/k;this._w=f*g+this._w*h;this._x=c*g+this._x*h;this._y=d*g+this._y*h;this._z=e*g+this._z*h;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,b){void 0===b&&(b=0);this._x=a[b];this._y=a[b+1];this._z=a[b+2];this._w=a[b+3];this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._w;return a},onChange:function(a){this.onChangeCallback=
a;return this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}};THREE.Quaternion.slerp=function(a,b,c,d){return c.copy(a).slerp(b,d)};THREE.Vector2=function(a,b){this.x=a||0;this.y=b||0};
THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(a,b){this.x=a;this.y=b;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},copy:function(a){this.x=a.x;this.y=a.y;return this},add:function(a,
b){if(void 0!==b)return THREE.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},sub:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;return this},
subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a):this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);return this},max:function(a){this.x<a.x&&(this.x=a.x);
this.y<a.y&&(this.y=a.y);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector2,b=new THREE.Vector2);a.set(c,c);b.set(d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=
Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},
distanceToSquared:function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];return this},toArray:function(a,b){void 0===
a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];return this},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(a,b,c){this.x=a||0;this.y=b||0;this.z=c||0};
THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(a,b,c){this.x=a;this.y=b;this.z=c;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+
a);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},sub:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},multiply:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,b);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){this.x*=a;this.y*=a;this.z*=
a;return this},multiplyVectors:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},applyEuler:function(){var a;return function(b){!1===b instanceof THREE.Euler&&THREE.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.");void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromEuler(b));return this}}(),applyAxisAngle:function(){var a;return function(b,c){void 0===a&&(a=new THREE.Quaternion);this.applyQuaternion(a.setFromAxisAngle(b,
c));return this}}(),applyMatrix3:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[3]*c+a[6]*d;this.y=a[1]*b+a[4]*c+a[7]*d;this.z=a[2]*b+a[5]*c+a[8]*d;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12];this.y=a[1]*b+a[5]*c+a[9]*d+a[13];this.z=a[2]*b+a[6]*c+a[10]*d+a[14];return this},applyProjection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;var e=1/(a[3]*b+a[7]*c+a[11]*d+a[15]);this.x=(a[0]*b+a[4]*
c+a[8]*d+a[12])*e;this.y=(a[1]*b+a[5]*c+a[9]*d+a[13])*e;this.z=(a[2]*b+a[6]*c+a[10]*d+a[14])*e;return this},applyQuaternion:function(a){var b=this.x,c=this.y,d=this.z,e=a.x,f=a.y,g=a.z;a=a.w;var h=a*b+f*d-g*c,k=a*c+g*b-e*d,l=a*d+e*c-f*b,b=-e*b-f*c-g*d;this.x=h*a+b*-e+k*-g-l*-f;this.y=k*a+b*-f+l*-e-h*-g;this.z=l*a+b*-g+h*-f-k*-e;return this},project:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.projectionMatrix,a.getInverse(b.matrixWorld));return this.applyProjection(a)}}(),
unproject:function(){var a;return function(b){void 0===a&&(a=new THREE.Matrix4);a.multiplyMatrices(b.matrixWorld,a.getInverse(b.projectionMatrix));return this.applyProjection(a)}}(),transformDirection:function(a){var b=this.x,c=this.y,d=this.z;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d;this.y=a[1]*b+a[5]*c+a[9]*d;this.z=a[2]*b+a[6]*c+a[10]*d;this.normalize();return this},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=
a):this.z=this.y=this.x=0;return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);return this},max:function(a){this.x<a.x&&(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector3,
b=new THREE.Vector3);a.set(c,c,c);b.set(d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):
Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},
setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},cross:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,b);var c=this.x,d=this.y,e=this.z;this.x=d*a.z-e*a.y;this.y=
e*a.x-c*a.z;this.z=c*a.y-d*a.x;return this},crossVectors:function(a,b){var c=a.x,d=a.y,e=a.z,f=b.x,g=b.y,h=b.z;this.x=d*h-e*g;this.y=e*f-c*h;this.z=c*g-d*f;return this},projectOnVector:function(){var a,b;return function(c){void 0===a&&(a=new THREE.Vector3);a.copy(c).normalize();b=this.dot(a);return this.copy(a).multiplyScalar(b)}}(),projectOnPlane:function(){var a;return function(b){void 0===a&&(a=new THREE.Vector3);a.copy(this).projectOnVector(b);return this.sub(a)}}(),reflect:function(){var a;return function(b){void 0===
a&&(a=new THREE.Vector3);return this.sub(a.copy(b).multiplyScalar(2*this.dot(b)))}}(),angleTo:function(a){a=this.dot(a)/(this.length()*a.length());return Math.acos(THREE.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var b=this.x-a.x,c=this.y-a.y;a=this.z-a.z;return b*b+c*c+a*a},setEulerFromRotationMatrix:function(a,b){THREE.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},
setEulerFromQuaternion:function(a,b){THREE.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(a){THREE.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){THREE.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,
b){THREE.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(a,b)},setFromMatrixPosition:function(a){this.x=a.elements[12];this.y=a.elements[13];this.z=a.elements[14];return this},setFromMatrixScale:function(a){var b=this.set(a.elements[0],a.elements[1],a.elements[2]).length(),c=this.set(a.elements[4],a.elements[5],a.elements[6]).length();a=this.set(a.elements[8],a.elements[9],a.elements[10]).length();this.x=b;this.y=c;this.z=a;
return this},setFromMatrixColumn:function(a,b){var c=4*a,d=b.elements;this.x=d[c];this.y=d[c+1];this.z=d[c+2];return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=
a.array[b+2];return this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};THREE.Vector4=function(a,b,c,d){this.x=a||0;this.y=b||0;this.z=c||0;this.w=void 0!==d?d:1};
THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(a,b,c,d){this.x=a;this.y=b;this.z=c;this.w=d;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,b){switch(a){case 0:this.x=b;break;case 1:this.y=b;break;case 2:this.z=b;break;case 3:this.w=b;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,b);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,
b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},sub:function(a,b){if(void 0!==b)return THREE.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,b);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},multiplyScalar:function(a){this.x*=
a;this.y*=a;this.z*=a;this.w*=a;return this},applyMatrix4:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;a=a.elements;this.x=a[0]*b+a[4]*c+a[8]*d+a[12]*e;this.y=a[1]*b+a[5]*c+a[9]*d+a[13]*e;this.z=a[2]*b+a[6]*c+a[10]*d+a[14]*e;this.w=a[3]*b+a[7]*c+a[11]*d+a[15]*e;return this},divideScalar:function(a){0!==a?(a=1/a,this.x*=a,this.y*=a,this.z*=a,this.w*=a):(this.z=this.y=this.x=0,this.w=1);return this},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var b=Math.sqrt(1-a.w*a.w);1E-4>
b?(this.x=1,this.z=this.y=0):(this.x=a.x/b,this.y=a.y/b,this.z=a.z/b);return this},setAxisAngleFromRotationMatrix:function(a){var b,c,d;a=a.elements;var e=a[0];d=a[4];var f=a[8],g=a[1],h=a[5],k=a[9];c=a[2];b=a[6];var l=a[10];if(.01>Math.abs(d-g)&&.01>Math.abs(f-c)&&.01>Math.abs(k-b)){if(.1>Math.abs(d+g)&&.1>Math.abs(f+c)&&.1>Math.abs(k+b)&&.1>Math.abs(e+h+l-3))return this.set(1,0,0,0),this;a=Math.PI;e=(e+1)/2;h=(h+1)/2;l=(l+1)/2;d=(d+g)/4;f=(f+c)/4;k=(k+b)/4;e>h&&e>l?.01>e?(b=0,d=c=.707106781):(b=
Math.sqrt(e),c=d/b,d=f/b):h>l?.01>h?(b=.707106781,c=0,d=.707106781):(c=Math.sqrt(h),b=d/c,d=k/c):.01>l?(c=b=.707106781,d=0):(d=Math.sqrt(l),b=f/d,c=k/d);this.set(b,c,d,a);return this}a=Math.sqrt((b-k)*(b-k)+(f-c)*(f-c)+(g-d)*(g-d));.001>Math.abs(a)&&(a=1);this.x=(b-k)/a;this.y=(f-c)/a;this.z=(g-d)/a;this.w=Math.acos((e+h+l-1)/2);return this},min:function(a){this.x>a.x&&(this.x=a.x);this.y>a.y&&(this.y=a.y);this.z>a.z&&(this.z=a.z);this.w>a.w&&(this.w=a.w);return this},max:function(a){this.x<a.x&&
(this.x=a.x);this.y<a.y&&(this.y=a.y);this.z<a.z&&(this.z=a.z);this.w<a.w&&(this.w=a.w);return this},clamp:function(a,b){this.x<a.x?this.x=a.x:this.x>b.x&&(this.x=b.x);this.y<a.y?this.y=a.y:this.y>b.y&&(this.y=b.y);this.z<a.z?this.z=a.z:this.z>b.z&&(this.z=b.z);this.w<a.w?this.w=a.w:this.w>b.w&&(this.w=b.w);return this},clampScalar:function(){var a,b;return function(c,d){void 0===a&&(a=new THREE.Vector4,b=new THREE.Vector4);a.set(c,c,c,c);b.set(d,d,d,d);return this.clamp(a,b)}}(),floor:function(){this.x=
Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);
this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+
Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){var b=this.length();0!==b&&a!==b&&this.multiplyScalar(a/b);return this},lerp:function(a,b){this.x+=(a.x-this.x)*b;this.y+=(a.y-this.y)*b;this.z+=(a.z-this.z)*b;this.w+=(a.w-this.w)*b;return this},lerpVectors:function(a,b,c){this.subVectors(b,a).multiplyScalar(c).add(a);return this},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},
fromArray:function(a,b){void 0===b&&(b=0);this.x=a[b];this.y=a[b+1];this.z=a[b+2];this.w=a[b+3];return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this.x;a[b+1]=this.y;a[b+2]=this.z;a[b+3]=this.w;return a},fromAttribute:function(a,b,c){void 0===c&&(c=0);b=b*a.itemSize+c;this.x=a.array[b];this.y=a.array[b+1];this.z=a.array[b+2];this.w=a.array[b+3];return this},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}};
THREE.Euler=function(a,b,c,d){this._x=a||0;this._y=b||0;this._z=c||0;this._order=d||THREE.Euler.DefaultOrder};THREE.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");THREE.Euler.DefaultOrder="XYZ";
THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,b,c,d){this._x=a;this._y=b;this._z=c;this._order=d||this._order;this.onChangeCallback();return this},copy:function(a){this._x=
a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,b,c){var d=THREE.Math.clamp,e=a.elements;a=e[0];var f=e[4],g=e[8],h=e[1],k=e[5],l=e[9],p=e[2],q=e[6],e=e[10];b=b||this._order;"XYZ"===b?(this._y=Math.asin(d(g,-1,1)),.99999>Math.abs(g)?(this._x=Math.atan2(-l,e),this._z=Math.atan2(-f,a)):(this._x=Math.atan2(q,k),this._z=0)):"YXZ"===b?(this._x=Math.asin(-d(l,-1,1)),.99999>Math.abs(l)?(this._y=Math.atan2(g,e),this._z=Math.atan2(h,
k)):(this._y=Math.atan2(-p,a),this._z=0)):"ZXY"===b?(this._x=Math.asin(d(q,-1,1)),.99999>Math.abs(q)?(this._y=Math.atan2(-p,e),this._z=Math.atan2(-f,k)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===b?(this._y=Math.asin(-d(p,-1,1)),.99999>Math.abs(p)?(this._x=Math.atan2(q,e),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-f,k))):"YZX"===b?(this._z=Math.asin(d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(-l,k),this._y=Math.atan2(-p,a)):(this._x=0,this._y=Math.atan2(g,e))):"XZY"===b?(this._z=
Math.asin(-d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(q,k),this._y=Math.atan2(g,a)):(this._x=Math.atan2(-l,e),this._y=0)):THREE.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+b);this._order=b;if(!1!==c)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(b,c,d){void 0===a&&(a=new THREE.Matrix4);a.makeRotationFromQuaternion(b);this.setFromRotationMatrix(a,c,d);return this}}(),setFromVector3:function(a,b){return this.set(a.x,a.y,a.z,
b||this._order)},reorder:function(){var a=new THREE.Quaternion;return function(b){a.setFromEuler(this);this.setFromQuaternion(a,b)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();return this},toArray:function(a,b){void 0===a&&(a=[]);void 0===b&&(b=0);a[b]=this._x;a[b+1]=this._y;a[b+2]=this._z;a[b+3]=this._order;return a},toVector3:function(a){return a?
a.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}};THREE.Line3=function(a,b){this.start=void 0!==a?a:new THREE.Vector3;this.end=void 0!==b?b:new THREE.Vector3};
THREE.Line3.prototype={constructor:THREE.Line3,set:function(a,b){this.start.copy(a);this.end.copy(b);return this},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,
b){var c=b||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d){a.subVectors(c,this.start);b.subVectors(this.end,this.start);var e=b.dot(b),e=b.dot(a)/e;d&&(e=THREE.Math.clamp(e,0,1));return e}}(),closestPointToPoint:function(a,b,c){a=this.closestPointToPointParameter(a,b);c=c||new THREE.Vector3;return this.delta(c).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);
this.end.applyMatrix4(a);return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}};THREE.Box2=function(a,b){this.min=void 0!==a?a:new THREE.Vector2(Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector2(-Infinity,-Infinity)};
THREE.Box2.prototype={constructor:THREE.Box2,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new THREE.Vector2;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=
this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);
this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>
this.max.y?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector2;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&
a.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}};THREE.Box3=function(a,b){this.min=void 0!==a?a:new THREE.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==b?b:new THREE.Vector3(-Infinity,-Infinity,-Infinity)};
THREE.Box3.prototype={constructor:THREE.Box3,set:function(a,b){this.min.copy(a);this.max.copy(b);return this},setFromPoints:function(a){this.makeEmpty();for(var b=0,c=a.length;b<c;b++)this.expandByPoint(a[b]);return this},setFromCenterAndSize:function(){var a=new THREE.Vector3;return function(b,c){var d=a.copy(c).multiplyScalar(.5);this.min.copy(b).sub(d);this.max.copy(b).add(d);return this}}(),setFromObject:function(){var a=new THREE.Vector3;return function(b){var c=this;b.updateMatrixWorld(!0);
this.makeEmpty();b.traverse(function(b){var e=b.geometry;if(void 0!==e)if(e instanceof THREE.Geometry)for(var f=e.vertices,e=0,g=f.length;e<g;e++)a.copy(f[e]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a);else if(e instanceof THREE.BufferGeometry&&void 0!==e.attributes.position)for(f=e.attributes.position.array,e=0,g=f.length;e<g;e+=3)a.set(f[e],f[e+1],f[e+2]),a.applyMatrix4(b.matrixWorld),c.expandByPoint(a)});return this}}(),copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},
makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);
this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=this.max.z?!0:!1},getParameter:function(a,b){return(b||new THREE.Vector3).set((a.x-this.min.x)/(this.max.x-
this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},clampPoint:function(a,b){return(b||new THREE.Vector3).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){return a.copy(b).clamp(this.min,this.max).sub(b).length()}}(),getBoundingSphere:function(){var a=
new THREE.Vector3;return function(b){b=b||new THREE.Sphere;b.center=this.center();b.radius=.5*this.size(a).length();return b}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(b){a[0].set(this.min.x,this.min.y,
this.min.z).applyMatrix4(b);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(b);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(b);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(b);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(b);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(b);a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(b);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(b);this.makeEmpty();this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);
this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}};THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&THREE.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};
THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(a,b,c,d,e,f,g,h,k){var l=this.elements;l[0]=a;l[3]=b;l[6]=c;l[1]=d;l[4]=e;l[7]=f;l[2]=g;l[5]=h;l[8]=k;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},multiplyVector3:function(a){THREE.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},
multiplyVector3Array:function(a){THREE.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,c,d){void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],a.applyMatrix3(this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;return b}}(),multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[3]*=a;b[6]*=
a;b[1]*=a;b[4]*=a;b[7]*=a;b[2]*=a;b[5]*=a;b[8]*=a;return this},determinant:function(){var a=this.elements,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],k=a[7],a=a[8];return b*f*a-b*g*k-c*e*a+c*g*h+d*e*k-d*f*h},getInverse:function(a,b){var c=a.elements,d=this.elements;d[0]=c[10]*c[5]-c[6]*c[9];d[1]=-c[10]*c[1]+c[2]*c[9];d[2]=c[6]*c[1]-c[2]*c[5];d[3]=-c[10]*c[4]+c[6]*c[8];d[4]=c[10]*c[0]-c[2]*c[8];d[5]=-c[6]*c[0]+c[2]*c[4];d[6]=c[9]*c[4]-c[5]*c[8];d[7]=-c[9]*c[0]+c[1]*c[8];d[8]=c[5]*c[0]-c[1]*c[4];
c=c[0]*d[0]+c[1]*d[3]+c[2]*d[6];if(0===c){if(b)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");THREE.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/c);return this},transpose:function(){var a,b=this.elements;a=b[1];b[1]=b[3];b[3]=a;a=b[2];b[2]=b[6];b[6]=a;a=b[5];b[5]=b[7];b[7]=a;return this},flattenToArrayOffset:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];
a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];return a},getNormalMatrix:function(a){this.getInverse(a).transpose();return this},transposeIntoArray:function(a){var b=this.elements;a[0]=b[0];a[1]=b[3];a[2]=b[6];a[3]=b[1];a[4]=b[4];a[5]=b[7];a[6]=b[2];a[7]=b[5];a[8]=b[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]]},clone:function(){return(new THREE.Matrix3).fromArray(this.elements)}};
THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&THREE.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};
THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(a,b,c,d,e,f,g,h,k,l,p,q,n,t,r,s){var u=this.elements;u[0]=a;u[4]=b;u[8]=c;u[12]=d;u[1]=e;u[5]=f;u[9]=g;u[13]=h;u[2]=k;u[6]=l;u[10]=p;u[14]=q;u[3]=n;u[7]=t;u[11]=r;u[15]=s;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(a){this.elements.set(a.elements);return this},extractPosition:function(a){THREE.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");return this.copyPosition(a)},
copyPosition:function(a){var b=this.elements;a=a.elements;b[12]=a[12];b[13]=a[13];b[14]=a[14];return this},extractBasis:function(a,b,c){var d=this.elements;a.set(d[0],d[1],d[2]);b.set(d[4],d[5],d[6]);c.set(d[8],d[9],d[10]);return this},makeBasis:function(a,b,c){this.set(a.x,b.x,c.x,0,a.y,b.y,c.y,0,a.z,b.z,c.z,0,0,0,0,1);return this},extractRotation:function(){var a=new THREE.Vector3;return function(b){var c=this.elements;b=b.elements;var d=1/a.set(b[0],b[1],b[2]).length(),e=1/a.set(b[4],b[5],b[6]).length(),
f=1/a.set(b[8],b[9],b[10]).length();c[0]=b[0]*d;c[1]=b[1]*d;c[2]=b[2]*d;c[4]=b[4]*e;c[5]=b[5]*e;c[6]=b[6]*e;c[8]=b[8]*f;c[9]=b[9]*f;c[10]=b[10]*f;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof THREE.Euler&&THREE.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var b=this.elements,c=a.x,d=a.y,e=a.z,f=Math.cos(c),c=Math.sin(c),g=Math.cos(d),d=Math.sin(d),h=Math.cos(e),e=Math.sin(e);if("XYZ"===a.order){a=f*h;var k=f*e,
l=c*h,p=c*e;b[0]=g*h;b[4]=-g*e;b[8]=d;b[1]=k+l*d;b[5]=a-p*d;b[9]=-c*g;b[2]=p-a*d;b[6]=l+k*d;b[10]=f*g}else"YXZ"===a.order?(a=g*h,k=g*e,l=d*h,p=d*e,b[0]=a+p*c,b[4]=l*c-k,b[8]=f*d,b[1]=f*e,b[5]=f*h,b[9]=-c,b[2]=k*c-l,b[6]=p+a*c,b[10]=f*g):"ZXY"===a.order?(a=g*h,k=g*e,l=d*h,p=d*e,b[0]=a-p*c,b[4]=-f*e,b[8]=l+k*c,b[1]=k+l*c,b[5]=f*h,b[9]=p-a*c,b[2]=-f*d,b[6]=c,b[10]=f*g):"ZYX"===a.order?(a=f*h,k=f*e,l=c*h,p=c*e,b[0]=g*h,b[4]=l*d-k,b[8]=a*d+p,b[1]=g*e,b[5]=p*d+a,b[9]=k*d-l,b[2]=-d,b[6]=c*g,b[10]=f*g):"YZX"===
a.order?(a=f*g,k=f*d,l=c*g,p=c*d,b[0]=g*h,b[4]=p-a*e,b[8]=l*e+k,b[1]=e,b[5]=f*h,b[9]=-c*h,b[2]=-d*h,b[6]=k*e+l,b[10]=a-p*e):"XZY"===a.order&&(a=f*g,k=f*d,l=c*g,p=c*d,b[0]=g*h,b[4]=-e,b[8]=d*h,b[1]=a*e+p,b[5]=f*h,b[9]=k*e-l,b[2]=l*e-k,b[6]=c*h,b[10]=p*e+a);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},setRotationFromQuaternion:function(a){THREE.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},
makeRotationFromQuaternion:function(a){var b=this.elements,c=a.x,d=a.y,e=a.z,f=a.w,g=c+c,h=d+d,k=e+e;a=c*g;var l=c*h,c=c*k,p=d*h,d=d*k,e=e*k,g=f*g,h=f*h,f=f*k;b[0]=1-(p+e);b[4]=l-f;b[8]=c+h;b[1]=l+f;b[5]=1-(a+e);b[9]=d-g;b[2]=c-h;b[6]=d+g;b[10]=1-(a+p);b[3]=0;b[7]=0;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return this},lookAt:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f){var g=this.elements;c.subVectors(d,e).normalize();0===c.length()&&(c.z=1);a.crossVectors(f,
c).normalize();0===a.length()&&(c.x+=1E-4,a.crossVectors(f,c).normalize());b.crossVectors(c,a);g[0]=a.x;g[4]=b.x;g[8]=c.x;g[1]=a.y;g[5]=b.y;g[9]=c.y;g[2]=a.z;g[6]=b.z;g[10]=c.z;return this}}(),multiply:function(a,b){return void 0!==b?(THREE.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,b)):this.multiplyMatrices(this,a)},multiplyMatrices:function(a,b){var c=a.elements,d=b.elements,e=this.elements,f=c[0],g=c[4],h=c[8],
k=c[12],l=c[1],p=c[5],q=c[9],n=c[13],t=c[2],r=c[6],s=c[10],u=c[14],v=c[3],x=c[7],D=c[11],c=c[15],w=d[0],y=d[4],A=d[8],E=d[12],G=d[1],F=d[5],z=d[9],I=d[13],U=d[2],M=d[6],H=d[10],L=d[14],P=d[3],N=d[7],R=d[11],d=d[15];e[0]=f*w+g*G+h*U+k*P;e[4]=f*y+g*F+h*M+k*N;e[8]=f*A+g*z+h*H+k*R;e[12]=f*E+g*I+h*L+k*d;e[1]=l*w+p*G+q*U+n*P;e[5]=l*y+p*F+q*M+n*N;e[9]=l*A+p*z+q*H+n*R;e[13]=l*E+p*I+q*L+n*d;e[2]=t*w+r*G+s*U+u*P;e[6]=t*y+r*F+s*M+u*N;e[10]=t*A+r*z+s*H+u*R;e[14]=t*E+r*I+s*L+u*d;e[3]=v*w+x*G+D*U+c*P;e[7]=v*y+
x*F+D*M+c*N;e[11]=v*A+x*z+D*H+c*R;e[15]=v*E+x*I+D*L+c*d;return this},multiplyToArray:function(a,b,c){var d=this.elements;this.multiplyMatrices(a,b);c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return this},multiplyScalar:function(a){var b=this.elements;b[0]*=a;b[4]*=a;b[8]*=a;b[12]*=a;b[1]*=a;b[5]*=a;b[9]*=a;b[13]*=a;b[2]*=a;b[6]*=a;b[10]*=a;b[14]*=a;b[3]*=a;b[7]*=a;b[11]*=
a;b[15]*=a;return this},multiplyVector3:function(a){THREE.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");return a.applyProjection(this)},multiplyVector4:function(a){THREE.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");return a.applyMatrix4(this)},multiplyVector3Array:function(a){THREE.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");
return this.applyToVector3Array(a)},applyToVector3Array:function(){var a=new THREE.Vector3;return function(b,c,d){void 0===c&&(c=0);void 0===d&&(d=b.length);for(var e=0;e<d;e+=3,c+=3)a.x=b[c],a.y=b[c+1],a.z=b[c+2],a.applyMatrix4(this),b[c]=a.x,b[c+1]=a.y,b[c+2]=a.z;return b}}(),rotateAxis:function(a){THREE.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){THREE.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},determinant:function(){var a=this.elements,b=a[0],c=a[4],d=a[8],e=a[12],f=a[1],g=a[5],h=a[9],k=a[13],l=a[2],p=a[6],q=a[10],n=a[14];return a[3]*(+e*h*p-d*k*p-e*g*q+c*k*q+d*g*n-c*h*n)+a[7]*(+b*h*n-b*k*q+e*f*q-d*f*n+d*k*l-e*h*l)+a[11]*(+b*k*p-b*g*n-e*f*p+c*f*n+e*g*l-c*k*l)+a[15]*(-d*g*l-b*h*p+b*g*q+d*f*p-c*f*q+c*h*l)},transpose:function(){var a=this.elements,b;b=a[1];a[1]=a[4];a[4]=b;b=a[2];a[2]=a[8];a[8]=b;b=a[6];a[6]=a[9];a[9]=b;b=a[3];a[3]=a[12];a[12]=b;b=a[7];a[7]=a[13];
a[13]=b;b=a[11];a[11]=a[14];a[14]=b;return this},flattenToArrayOffset:function(a,b){var c=this.elements;a[b]=c[0];a[b+1]=c[1];a[b+2]=c[2];a[b+3]=c[3];a[b+4]=c[4];a[b+5]=c[5];a[b+6]=c[6];a[b+7]=c[7];a[b+8]=c[8];a[b+9]=c[9];a[b+10]=c[10];a[b+11]=c[11];a[b+12]=c[12];a[b+13]=c[13];a[b+14]=c[14];a[b+15]=c[15];return a},getPosition:function(){var a=new THREE.Vector3;return function(){THREE.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var b=
this.elements;return a.set(b[12],b[13],b[14])}}(),setPosition:function(a){var b=this.elements;b[12]=a.x;b[13]=a.y;b[14]=a.z;return this},getInverse:function(a,b){var c=this.elements,d=a.elements,e=d[0],f=d[4],g=d[8],h=d[12],k=d[1],l=d[5],p=d[9],q=d[13],n=d[2],t=d[6],r=d[10],s=d[14],u=d[3],v=d[7],x=d[11],d=d[15];c[0]=p*s*v-q*r*v+q*t*x-l*s*x-p*t*d+l*r*d;c[4]=h*r*v-g*s*v-h*t*x+f*s*x+g*t*d-f*r*d;c[8]=g*q*v-h*p*v+h*l*x-f*q*x-g*l*d+f*p*d;c[12]=h*p*t-g*q*t-h*l*r+f*q*r+g*l*s-f*p*s;c[1]=q*r*u-p*s*u-q*n*x+
k*s*x+p*n*d-k*r*d;c[5]=g*s*u-h*r*u+h*n*x-e*s*x-g*n*d+e*r*d;c[9]=h*p*u-g*q*u-h*k*x+e*q*x+g*k*d-e*p*d;c[13]=g*q*n-h*p*n+h*k*r-e*q*r-g*k*s+e*p*s;c[2]=l*s*u-q*t*u+q*n*v-k*s*v-l*n*d+k*t*d;c[6]=h*t*u-f*s*u-h*n*v+e*s*v+f*n*d-e*t*d;c[10]=f*q*u-h*l*u+h*k*v-e*q*v-f*k*d+e*l*d;c[14]=h*l*n-f*q*n-h*k*t+e*q*t+f*k*s-e*l*s;c[3]=p*t*u-l*r*u-p*n*v+k*r*v+l*n*x-k*t*x;c[7]=f*r*u-g*t*u+g*n*v-e*r*v-f*n*x+e*t*x;c[11]=g*l*u-f*p*u-g*k*v+e*p*v+f*k*x-e*l*x;c[15]=f*p*n-g*l*n+g*k*t-e*p*t-f*k*r+e*l*r;c=e*c[0]+k*c[4]+n*c[8]+u*c[12];
if(0==c){if(b)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");THREE.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");this.identity();return this}this.multiplyScalar(1/c);return this},translate:function(a){THREE.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(a){THREE.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(a){THREE.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(a){THREE.error("THREE.Matrix4: .rotateZ() has been removed.")},
rotateByAxis:function(a,b){THREE.error("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(a){var b=this.elements,c=a.x,d=a.y;a=a.z;b[0]*=c;b[4]*=d;b[8]*=a;b[1]*=c;b[5]*=d;b[9]*=a;b[2]*=c;b[6]*=d;b[10]*=a;b[3]*=c;b[7]*=d;b[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],Math.max(a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10])))},makeTranslation:function(a,b,c){this.set(1,0,0,a,0,1,0,b,0,0,1,
c,0,0,0,1);return this},makeRotationX:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,b,-a,0,0,a,b,0,0,0,0,1);return this},makeRotationY:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,0,a,0,0,1,0,0,-a,0,b,0,0,0,0,1);return this},makeRotationZ:function(a){var b=Math.cos(a);a=Math.sin(a);this.set(b,-a,0,0,a,b,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,b){var c=Math.cos(b),d=Math.sin(b),e=1-c,f=a.x,g=a.y,h=a.z,k=e*f,l=e*g;this.set(k*f+c,k*g-d*h,k*h+d*g,0,k*g+
d*h,l*g+c,l*h-d*f,0,k*h-d*g,l*h+d*f,e*h*h+c,0,0,0,0,1);return this},makeScale:function(a,b,c){this.set(a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1);return this},compose:function(a,b,c){this.makeRotationFromQuaternion(b);this.scale(c);this.setPosition(a);return this},decompose:function(){var a=new THREE.Vector3,b=new THREE.Matrix4;return function(c,d,e){var f=this.elements,g=a.set(f[0],f[1],f[2]).length(),h=a.set(f[4],f[5],f[6]).length(),k=a.set(f[8],f[9],f[10]).length();0>this.determinant()&&(g=-g);c.x=f[12];
c.y=f[13];c.z=f[14];b.elements.set(this.elements);c=1/g;var f=1/h,l=1/k;b.elements[0]*=c;b.elements[1]*=c;b.elements[2]*=c;b.elements[4]*=f;b.elements[5]*=f;b.elements[6]*=f;b.elements[8]*=l;b.elements[9]*=l;b.elements[10]*=l;d.setFromRotationMatrix(b);e.x=g;e.y=h;e.z=k;return this}}(),makeFrustum:function(a,b,c,d,e,f){var g=this.elements;g[0]=2*e/(b-a);g[4]=0;g[8]=(b+a)/(b-a);g[12]=0;g[1]=0;g[5]=2*e/(d-c);g[9]=(d+c)/(d-c);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;
g[11]=-1;g[15]=0;return this},makePerspective:function(a,b,c,d){a=c*Math.tan(THREE.Math.degToRad(.5*a));var e=-a;return this.makeFrustum(e*b,a*b,e,a,c,d)},makeOrthographic:function(a,b,c,d,e,f){var g=this.elements,h=b-a,k=c-d,l=f-e;g[0]=2/h;g[4]=0;g[8]=0;g[12]=-((b+a)/h);g[1]=0;g[5]=2/k;g[9]=0;g[13]=-((c+d)/k);g[2]=0;g[6]=0;g[10]=-2/l;g[14]=-((f+e)/l);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(){var a=this.elements;return[a[0],
a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}};THREE.Ray=function(a,b){this.origin=void 0!==a?a:new THREE.Vector3;this.direction=void 0!==b?b:new THREE.Vector3};
THREE.Ray.prototype={constructor:THREE.Ray,set:function(a,b){this.origin.copy(a);this.direction.copy(b);return this},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,b){return(b||new THREE.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},recast:function(){var a=new THREE.Vector3;return function(b){this.origin.copy(this.at(b,a));return this}}(),closestPointToPoint:function(a,b){var c=b||new THREE.Vector3;c.subVectors(a,this.origin);
var d=c.dot(this.direction);return 0>d?c.copy(this.origin):c.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(){var a=new THREE.Vector3;return function(b){var c=a.subVectors(b,this.origin).dot(this.direction);if(0>c)return this.origin.distanceTo(b);a.copy(this.direction).multiplyScalar(c).add(this.origin);return a.distanceTo(b)}}(),distanceSqToSegment:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g){a.copy(d).add(e).multiplyScalar(.5);
b.copy(e).sub(d).normalize();c.copy(this.origin).sub(a);var h=.5*d.distanceTo(e),k=-this.direction.dot(b),l=c.dot(this.direction),p=-c.dot(b),q=c.lengthSq(),n=Math.abs(1-k*k),t;0<n?(d=k*p-l,e=k*l-p,t=h*n,0<=d?e>=-t?e<=t?(h=1/n,d*=h,e*=h,k=d*(d+k*e+2*l)+e*(k*d+e+2*p)+q):(e=h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q):(e=-h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q):e<=-t?(d=Math.max(0,-(-k*h+l)),e=0<d?-h:Math.min(Math.max(-h,-p),h),k=-d*d+e*(e+2*p)+q):e<=t?(d=0,e=Math.min(Math.max(-h,-p),h),k=e*(e+
2*p)+q):(d=Math.max(0,-(k*h+l)),e=0<d?h:Math.min(Math.max(-h,-p),h),k=-d*d+e*(e+2*p)+q)):(e=0<k?-h:h,d=Math.max(0,-(k*e+l)),k=-d*d+e*(e+2*p)+q);f&&f.copy(this.direction).multiplyScalar(d).add(this.origin);g&&g.copy(b).multiplyScalar(e).add(a);return k}}(),isIntersectionSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},intersectSphere:function(){var a=new THREE.Vector3;return function(b,c){a.subVectors(b.center,this.origin);var d=a.dot(this.direction),e=a.dot(a)-d*d,f=b.radius*b.radius;
if(e>f)return null;f=Math.sqrt(f-e);e=d-f;d+=f;return 0>e&&0>d?null:0>e?this.at(d,c):this.at(e,c)}}(),isIntersectionPlane:function(a){var b=a.distanceToPoint(this.origin);return 0===b||0>a.normal.dot(this.direction)*b?!0:!1},distanceToPlane:function(a){var b=a.normal.dot(this.direction);if(0==b)return 0==a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/b;return 0<=a?a:null},intersectPlane:function(a,b){var c=this.distanceToPlane(a);return null===c?null:this.at(c,b)},
isIntersectionBox:function(){var a=new THREE.Vector3;return function(b){return null!==this.intersectBox(b,a)}}(),intersectBox:function(a,b){var c,d,e,f,g;d=1/this.direction.x;f=1/this.direction.y;g=1/this.direction.z;var h=this.origin;0<=d?(c=(a.min.x-h.x)*d,d*=a.max.x-h.x):(c=(a.max.x-h.x)*d,d*=a.min.x-h.x);0<=f?(e=(a.min.y-h.y)*f,f*=a.max.y-h.y):(e=(a.max.y-h.y)*f,f*=a.min.y-h.y);if(c>f||e>d)return null;if(e>c||c!==c)c=e;if(f<d||d!==d)d=f;0<=g?(e=(a.min.z-h.z)*g,g*=a.max.z-h.z):(e=(a.max.z-h.z)*
g,g*=a.min.z-h.z);if(c>g||e>d)return null;if(e>c||c!==c)c=e;if(g<d||d!==d)d=g;return 0>d?null:this.at(0<=c?c:d,b)},intersectTriangle:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Vector3;return function(e,f,g,h,k){b.subVectors(f,e);c.subVectors(g,e);d.crossVectors(b,c);f=this.direction.dot(d);if(0<f){if(h)return null;h=1}else if(0>f)h=-1,f=-f;else return null;a.subVectors(this.origin,e);e=h*this.direction.dot(c.crossVectors(a,c));if(0>e)return null;g=h*this.direction.dot(b.cross(a));
if(0>g||e+g>f)return null;e=-h*a.dot(d);return 0>e?null:this.at(e/f,k)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}};THREE.Sphere=function(a,b){this.center=void 0!==a?a:new THREE.Vector3;this.radius=void 0!==b?b:0};
THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(a,b){this.center.copy(a);this.radius=b;return this},setFromPoints:function(){var a=new THREE.Box3;return function(b,c){var d=this.center;void 0!==c?d.copy(c):a.setFromPoints(b).center(d);for(var e=0,f=0,g=b.length;f<g;f++)e=Math.max(e,d.distanceToSquared(b[f]));this.radius=Math.sqrt(e);return this}}(),copy:function(a){this.center.copy(a.center);this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=
this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var b=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=b*b},clampPoint:function(a,b){var c=this.center.distanceToSquared(a),d=b||new THREE.Vector3;d.copy(a);c>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d},getBoundingBox:function(a){a=a||new THREE.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);
return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&a.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}};
THREE.Frustum=function(a,b,c,d,e,f){this.planes=[void 0!==a?a:new THREE.Plane,void 0!==b?b:new THREE.Plane,void 0!==c?c:new THREE.Plane,void 0!==d?d:new THREE.Plane,void 0!==e?e:new THREE.Plane,void 0!==f?f:new THREE.Plane]};
THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(a,b,c,d,e,f){var g=this.planes;g[0].copy(a);g[1].copy(b);g[2].copy(c);g[3].copy(d);g[4].copy(e);g[5].copy(f);return this},copy:function(a){for(var b=this.planes,c=0;6>c;c++)b[c].copy(a.planes[c]);return this},setFromMatrix:function(a){var b=this.planes,c=a.elements;a=c[0];var d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],k=c[6],l=c[7],p=c[8],q=c[9],n=c[10],t=c[11],r=c[12],s=c[13],u=c[14],c=c[15];b[0].setComponents(f-a,l-g,t-p,c-r).normalize();b[1].setComponents(f+
a,l+g,t+p,c+r).normalize();b[2].setComponents(f+d,l+h,t+q,c+s).normalize();b[3].setComponents(f-d,l-h,t-q,c-s).normalize();b[4].setComponents(f-e,l-k,t-n,c-u).normalize();b[5].setComponents(f+e,l+k,t+n,c+u).normalize();return this},intersectsObject:function(){var a=new THREE.Sphere;return function(b){var c=b.geometry;null===c.boundingSphere&&c.computeBoundingSphere();a.copy(c.boundingSphere);a.applyMatrix4(b.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var b=this.planes,
c=a.center;a=-a.radius;for(var d=0;6>d;d++)if(b[d].distanceToPoint(c)<a)return!1;return!0},intersectsBox:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){for(var d=this.planes,e=0;6>e;e++){var f=d[e];a.x=0<f.normal.x?c.min.x:c.max.x;b.x=0<f.normal.x?c.max.x:c.min.x;a.y=0<f.normal.y?c.min.y:c.max.y;b.y=0<f.normal.y?c.max.y:c.min.y;a.z=0<f.normal.z?c.min.z:c.max.z;b.z=0<f.normal.z?c.max.z:c.min.z;var g=f.distanceToPoint(a),f=f.distanceToPoint(b);if(0>g&&0>f)return!1}return!0}}(),
containsPoint:function(a){for(var b=this.planes,c=0;6>c;c++)if(0>b[c].distanceToPoint(a))return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}};THREE.Plane=function(a,b){this.normal=void 0!==a?a:new THREE.Vector3(1,0,0);this.constant=void 0!==b?b:0};
THREE.Plane.prototype={constructor:THREE.Plane,set:function(a,b){this.normal.copy(a);this.constant=b;return this},setComponents:function(a,b,c,d){this.normal.set(a,b,c);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,b){this.normal.copy(a);this.constant=-b.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c,d,e){d=a.subVectors(e,d).cross(b.subVectors(c,d)).normalize();this.setFromNormalAndCoplanarPoint(d,
c);return this}}(),copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-a.radius},projectPoint:function(a,b){return this.orthoPoint(a,b).sub(a).negate()},orthoPoint:function(a,
b){var c=this.distanceToPoint(a);return(b||new THREE.Vector3).copy(this.normal).multiplyScalar(c)},isIntersectionLine:function(a){var b=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>b&&0<a||0>a&&0<b},intersectLine:function(){var a=new THREE.Vector3;return function(b,c){var d=c||new THREE.Vector3,e=b.delta(a),f=this.normal.dot(e);if(0==f){if(0==this.distanceToPoint(b.start))return d.copy(b.start)}else return f=-(b.start.dot(this.normal)+this.constant)/f,0>f||1<f?void 0:d.copy(e).multiplyScalar(f).add(b.start)}}(),
coplanarPoint:function(a){return(a||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Matrix3;return function(d,e){var f=e||c.getNormalMatrix(d),f=a.copy(this.normal).applyMatrix3(f),g=this.coplanarPoint(b);g.applyMatrix4(d);this.setFromNormalAndCoplanarPoint(f,g);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&
a.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}};
THREE.Math={generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),b=Array(36),c=0,d;return function(){for(var e=0;36>e;e++)8==e||13==e||18==e||23==e?b[e]="-":14==e?b[e]="4":(2>=c&&(c=33554432+16777216*Math.random()|0),d=c&15,c>>=4,b[e]=a[19==e?d&3|8:d]);return b.join("")}}(),clamp:function(a,b,c){return a<b?b:a>c?c:a},clampBottom:function(a,b){return a<b?b:a},mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},smoothstep:function(a,b,c){if(a<=
b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*(3-2*a)},smootherstep:function(a,b,c){if(a<=b)return 0;if(a>=c)return 1;a=(a-b)/(c-b);return a*a*a*(a*(6*a-15)+10)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(a,b){return Math.floor(this.randFloat(a,b))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(){var a=Math.PI/180;return function(b){return b*a}}(),radToDeg:function(){var a=
180/Math.PI;return function(b){return b*a}}(),isPowerOfTwo:function(a){return 0===(a&a-1)&&0!==a},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};
THREE.Spline=function(a){function b(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}this.points=a;var c=[],d={x:0,y:0,z:0},e,f,g,h,k,l,p,q,n;this.initFromArray=function(a){this.points=[];for(var b=0;b<a.length;b++)this.points[b]={x:a[b][0],y:a[b][1],z:a[b][2]}};this.getPoint=function(a){e=(this.points.length-1)*a;f=Math.floor(e);g=e-f;c[0]=0===f?f:f-1;c[1]=f;c[2]=f>this.points.length-2?this.points.length-1:f+1;c[3]=f>this.points.length-3?this.points.length-1:f+
2;l=this.points[c[0]];p=this.points[c[1]];q=this.points[c[2]];n=this.points[c[3]];h=g*g;k=g*h;d.x=b(l.x,p.x,q.x,n.x,g,h,k);d.y=b(l.y,p.y,q.y,n.y,g,h,k);d.z=b(l.z,p.z,q.z,n.z,g,h,k);return d};this.getControlPointsArray=function(){var a,b,c=this.points.length,d=[];for(a=0;a<c;a++)b=this.points[a],d[a]=[b.x,b.y,b.z];return d};this.getLength=function(a){var b,c,d,e=b=b=0,f=new THREE.Vector3,g=new THREE.Vector3,h=[],k=0;h[0]=0;a||(a=100);c=this.points.length*a;f.copy(this.points[0]);for(a=1;a<c;a++)b=
a/c,d=this.getPoint(b),g.copy(d),k+=g.distanceTo(f),f.copy(d),b*=this.points.length-1,b=Math.floor(b),b!=e&&(h[b]=k,e=b);h[h.length]=k;return{chunks:h,total:k}};this.reparametrizeByArcLength=function(a){var b,c,d,e,f,g,h=[],k=new THREE.Vector3,n=this.getLength();h.push(k.copy(this.points[0]).clone());for(b=1;b<this.points.length;b++){c=n.chunks[b]-n.chunks[b-1];g=Math.ceil(a*c/n.total);e=(b-1)/(this.points.length-1);f=b/(this.points.length-1);for(c=1;c<g-1;c++)d=e+1/g*c*(f-e),d=this.getPoint(d),h.push(k.copy(d).clone());
h.push(k.copy(this.points[b]).clone())}this.points=h}};THREE.Triangle=function(a,b,c){this.a=void 0!==a?a:new THREE.Vector3;this.b=void 0!==b?b:new THREE.Vector3;this.c=void 0!==c?c:new THREE.Vector3};THREE.Triangle.normal=function(){var a=new THREE.Vector3;return function(b,c,d,e){e=e||new THREE.Vector3;e.subVectors(d,c);a.subVectors(b,c);e.cross(a);b=e.lengthSq();return 0<b?e.multiplyScalar(1/Math.sqrt(b)):e.set(0,0,0)}}();
THREE.Triangle.barycoordFromPoint=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(d,e,f,g,h){a.subVectors(g,e);b.subVectors(f,e);c.subVectors(d,e);d=a.dot(a);e=a.dot(b);f=a.dot(c);var k=b.dot(b);g=b.dot(c);var l=d*k-e*e;h=h||new THREE.Vector3;if(0==l)return h.set(-2,-1,-1);l=1/l;k=(k*f-e*g)*l;d=(d*g-e*f)*l;return h.set(1-k-d,d,k)}}();
THREE.Triangle.containsPoint=function(){var a=new THREE.Vector3;return function(b,c,d,e){b=THREE.Triangle.barycoordFromPoint(b,c,d,e,a);return 0<=b.x&&0<=b.y&&1>=b.x+b.y}}();
THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(a,b,c){this.a.copy(a);this.b.copy(b);this.c.copy(c);return this},setFromPointsAndIndices:function(a,b,c,d){this.a.copy(a[b]);this.b.copy(a[c]);this.c.copy(a[d]);return this},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){a.subVectors(this.c,this.b);b.subVectors(this.a,this.b);return.5*a.cross(b).length()}}(),midpoint:function(a){return(a||
new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return THREE.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,b){return THREE.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,b)},containsPoint:function(a){return THREE.Triangle.containsPoint(a,this.a,this.b,this.c)},equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)},
clone:function(){return(new THREE.Triangle).copy(this)}};THREE.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};
THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();this.running=!0},stop:function(){this.getElapsedTime();this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var b=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),
a=.001*(b-this.oldTime);this.oldTime=b;this.elapsedTime+=a}return a}};THREE.EventDispatcher=function(){};
THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(a){a.addEventListener=THREE.EventDispatcher.prototype.addEventListener;a.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener;a.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener;a.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={});var c=this._listeners;void 0===c[a]&&(c[a]=[]);-1===c[a].indexOf(b)&&
c[a].push(b)},hasEventListener:function(a,b){if(void 0===this._listeners)return!1;var c=this._listeners;return void 0!==c[a]&&-1!==c[a].indexOf(b)?!0:!1},removeEventListener:function(a,b){if(void 0!==this._listeners){var c=this._listeners[a];if(void 0!==c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var b=this._listeners[a.type];if(void 0!==b){a.target=this;for(var c=[],d=b.length,e=0;e<d;e++)c[e]=b[e];for(e=0;e<d;e++)c[e].call(this,a)}}}};
(function(a){a.Raycaster=function(b,c,f,g){this.ray=new a.Ray(b,c);this.near=f||0;this.far=g||Infinity;this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var b=function(a,b){return a.distance-b.distance},c=function(a,b,f,g){a.raycast(b,f);if(!0===g){a=a.children;g=0;for(var h=a.length;g<h;g++)c(a[g],b,f,!0)}};a.Raycaster.prototype={constructor:a.Raycaster,precision:1E-4,linePrecision:1,set:function(a,b){this.ray.set(a,b)},setFromCamera:function(b,c){c instanceof a.PerspectiveCamera?
(this.ray.origin.copy(c.position),this.ray.direction.set(b.x,b.y,.5).unproject(c).sub(c.position).normalize()):c instanceof a.OrthographicCamera?(this.ray.origin.set(b.x,b.y,-1).unproject(c),this.ray.direction.set(0,0,-1).transformDirection(c.matrixWorld)):a.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,e){var f=[];c(a,this,f,e);f.sort(b);return f},intersectObjects:function(d,e){var f=[];if(!1===d instanceof Array)return a.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),
f;for(var g=0,h=d.length;g<h;g++)c(d[g],this,f,e);f.sort(b);return f}}})(THREE);
THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Object3D";this.parent=void 0;this.children=[];this.up=THREE.Object3D.DefaultUp.clone();var a=new THREE.Vector3,b=new THREE.Euler,c=new THREE.Quaternion,d=new THREE.Vector3(1,1,1);b.onChange(function(){c.setFromEuler(b,!1)});c.onChange(function(){b.setFromQuaternion(c,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,
value:b},quaternion:{enumerable:!0,value:c},scale:{enumerable:!0,value:d}});this.rotationAutoUpdate=!0;this.matrix=new THREE.Matrix4;this.matrixWorld=new THREE.Matrix4;this.matrixAutoUpdate=!0;this.matrixWorldNeedsUpdate=!1;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0);
THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){THREE.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order.");return this.rotation.order},set eulerOrder(a){THREE.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order.");this.rotation.order=a},get useQuaternion(){THREE.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(a){THREE.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},
applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,b){this.quaternion.setFromAxisAngle(a,b)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new THREE.Quaternion;return function(b,c){a.setFromAxisAngle(b,
c);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.rotateOnAxis(a,b)}}(),rotateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.rotateOnAxis(a,b)}}(),translateOnAxis:function(){var a=new THREE.Vector3;return function(b,c){a.copy(b).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(c));
return this}}(),translate:function(a,b){THREE.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)},translateX:function(){var a=new THREE.Vector3(1,0,0);return function(b){return this.translateOnAxis(a,b)}}(),translateY:function(){var a=new THREE.Vector3(0,1,0);return function(b){return this.translateOnAxis(a,b)}}(),translateZ:function(){var a=new THREE.Vector3(0,0,1);return function(b){return this.translateOnAxis(a,
b)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new THREE.Matrix4;return function(b){return b.applyMatrix4(a.getInverse(this.matrixWorld))}}(),lookAt:function(){var a=new THREE.Matrix4;return function(b){a.lookAt(b,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var b=0;b<arguments.length;b++)this.add(arguments[b]);return this}if(a===this)return THREE.error("THREE.Object3D.add: object can't be added as a child of itself.",
a),this;a instanceof THREE.Object3D?(void 0!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):THREE.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",a);return this},remove:function(a){if(1<arguments.length)for(var b=0;b<arguments.length;b++)this.remove(arguments[b]);b=this.children.indexOf(a);-1!==b&&(a.parent=void 0,a.dispatchEvent({type:"removed"}),this.children.splice(b,1))},getChildByName:function(a){THREE.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");
return this.getObjectByName(a)},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,b){if(this[a]===b)return this;for(var c=0,d=this.children.length;c<d;c++){var e=this.children[c].getObjectByProperty(a,b);if(void 0!==e)return e}},getWorldPosition:function(a){a=a||new THREE.Vector3;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=
new THREE.Vector3,b=new THREE.Vector3;return function(c){c=c||new THREE.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,b);return c}}(),getWorldRotation:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Euler;this.getWorldQuaternion(a);return b.setFromQuaternion(a,this.rotation.order,!1)}}(),getWorldScale:function(){var a=new THREE.Vector3,b=new THREE.Quaternion;return function(c){c=c||new THREE.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,
b,c);return c}}(),getWorldDirection:function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var b=0,c=this.children.length;b<c;b++)this.children[b].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);for(var b=0,c=this.children.length;b<c;b++)this.children[b].traverseVisible(a)}},traverseAncestors:function(a){this.parent&&(a(this.parent),
this.parent.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var b=0,c=this.children.length;b<c;b++)this.children[b].updateMatrixWorld(a)},
toJSON:function(){var a={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},b={},c={},d=function(b){void 0===a.materials&&(a.materials=[]);if(void 0===c[b.uuid]){var d=b.toJSON();delete d.metadata;c[b.uuid]=d;a.materials.push(d)}return b.uuid},e=function(c){var g={};g.uuid=c.uuid;g.type=c.type;""!==c.name&&(g.name=c.name);"{}"!==JSON.stringify(c.userData)&&(g.userData=c.userData);!0!==c.visible&&(g.visible=c.visible);if(c instanceof THREE.PerspectiveCamera)g.fov=c.fov,g.aspect=c.aspect,
g.near=c.near,g.far=c.far;else if(c instanceof THREE.OrthographicCamera)g.left=c.left,g.right=c.right,g.top=c.top,g.bottom=c.bottom,g.near=c.near,g.far=c.far;else if(c instanceof THREE.AmbientLight)g.color=c.color.getHex();else if(c instanceof THREE.DirectionalLight)g.color=c.color.getHex(),g.intensity=c.intensity;else if(c instanceof THREE.PointLight)g.color=c.color.getHex(),g.intensity=c.intensity,g.distance=c.distance,g.decay=c.decay;else if(c instanceof THREE.SpotLight)g.color=c.color.getHex(),
g.intensity=c.intensity,g.distance=c.distance,g.angle=c.angle,g.exponent=c.exponent,g.decay=c.decay;else if(c instanceof THREE.HemisphereLight)g.color=c.color.getHex(),g.groundColor=c.groundColor.getHex();else if(c instanceof THREE.Mesh||c instanceof THREE.Line||c instanceof THREE.PointCloud){var h=c.geometry;void 0===a.geometries&&(a.geometries=[]);if(void 0===b[h.uuid]){var k=h.toJSON();delete k.metadata;b[h.uuid]=k;a.geometries.push(k)}g.geometry=h.uuid;g.material=d(c.material);c instanceof THREE.Line&&
(g.mode=c.mode)}else c instanceof THREE.Sprite&&(g.material=d(c.material));g.matrix=c.matrix.toArray();if(0<c.children.length)for(g.children=[],h=0;h<c.children.length;h++)g.children.push(e(c.children[h]));return g};a.object=e(this);return a},clone:function(a,b){void 0===a&&(a=new THREE.Object3D);void 0===b&&(b=!0);a.name=this.name;a.up.copy(this.up);a.position.copy(this.position);a.quaternion.copy(this.quaternion);a.scale.copy(this.scale);a.rotationAutoUpdate=this.rotationAutoUpdate;a.matrix.copy(this.matrix);
a.matrixWorld.copy(this.matrixWorld);a.matrixAutoUpdate=this.matrixAutoUpdate;a.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate;a.visible=this.visible;a.castShadow=this.castShadow;a.receiveShadow=this.receiveShadow;a.frustumCulled=this.frustumCulled;a.userData=JSON.parse(JSON.stringify(this.userData));if(!0===b)for(var c=0;c<this.children.length;c++)a.add(this.children[c].clone());return a}};THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype);THREE.Object3DIdCount=0;
THREE.Face3=function(a,b,c,d,e,f){this.a=a;this.b=b;this.c=c;this.normal=d instanceof THREE.Vector3?d:new THREE.Vector3;this.vertexNormals=d instanceof Array?d:[];this.color=e instanceof THREE.Color?e:new THREE.Color;this.vertexColors=e instanceof Array?e:[];this.vertexTangents=[];this.materialIndex=void 0!==f?f:0};
THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var a=new THREE.Face3(this.a,this.b,this.c);a.normal.copy(this.normal);a.color.copy(this.color);a.materialIndex=this.materialIndex;for(var b=0,c=this.vertexNormals.length;b<c;b++)a.vertexNormals[b]=this.vertexNormals[b].clone();b=0;for(c=this.vertexColors.length;b<c;b++)a.vertexColors[b]=this.vertexColors[b].clone();b=0;for(c=this.vertexTangents.length;b<c;b++)a.vertexTangents[b]=this.vertexTangents[b].clone();return a}};
THREE.Face4=function(a,b,c,d,e,f,g){THREE.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");return new THREE.Face3(a,b,c,e,f,g)};THREE.BufferAttribute=function(a,b){this.array=a;this.itemSize=b;this.needsUpdate=!1};
THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},copyAt:function(a,b,c){a*=this.itemSize;c*=b.itemSize;for(var d=0,e=this.itemSize;d<e;d++)this.array[a+d]=b.array[c+d];return this},set:function(a,b){void 0===b&&(b=0);this.array.set(a,b);return this},setX:function(a,b){this.array[a*this.itemSize]=b;return this},setY:function(a,b){this.array[a*this.itemSize+1]=b;return this},setZ:function(a,b){this.array[a*this.itemSize+2]=b;return this},setXY:function(a,
b,c){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;return this},setXYZ:function(a,b,c,d){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;this.array[a+2]=d;return this},setXYZW:function(a,b,c,d,e){a*=this.itemSize;this.array[a]=b;this.array[a+1]=c;this.array[a+2]=d;this.array[a+3]=e;return this},clone:function(){return new THREE.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}};
THREE.Int8Attribute=function(a,b){THREE.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};THREE.Uint8Attribute=function(a,b){THREE.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};
THREE.Uint8ClampedAttribute=function(a,b){THREE.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};THREE.Int16Attribute=function(a,b){THREE.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};
THREE.Uint16Attribute=function(a,b){THREE.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};THREE.Int32Attribute=function(a,b){THREE.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};
THREE.Uint32Attribute=function(a,b){THREE.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};THREE.Float32Attribute=function(a,b){THREE.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};
THREE.Float64Attribute=function(a,b){THREE.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead.");return new THREE.BufferAttribute(a,b)};THREE.DynamicBufferAttribute=function(a,b){THREE.BufferAttribute.call(this,a,b);this.updateRange={offset:0,count:-1}};THREE.DynamicBufferAttribute.prototype=Object.create(THREE.BufferAttribute.prototype);THREE.DynamicBufferAttribute.prototype.constructor=THREE.DynamicBufferAttribute;
THREE.DynamicBufferAttribute.prototype.clone=function(){return new THREE.DynamicBufferAttribute(new this.array.constructor(this.array),this.itemSize)};THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="BufferGeometry";this.attributes={};this.attributesKeys=[];this.offsets=this.drawcalls=[];this.boundingSphere=this.boundingBox=null};
THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(a,b,c){!1===b instanceof THREE.BufferAttribute?(THREE.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.attributes[a]={array:b,itemSize:c}):(this.attributes[a]=b,this.attributesKeys=Object.keys(this.attributes))},getAttribute:function(a){return this.attributes[a]},addDrawCall:function(a,b,c){this.drawcalls.push({start:a,count:b,index:void 0!==c?c:0})},applyMatrix:function(a){var b=
this.attributes.position;void 0!==b&&(a.applyToVector3Array(b.array),b.needsUpdate=!0);b=this.attributes.normal;void 0!==b&&((new THREE.Matrix3).getNormalMatrix(a).applyToVector3Array(b.array),b.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere()},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.applyMatrix((new THREE.Matrix4).setPosition(a));return a},fromGeometry:function(a,b){b=b||{vertexColors:THREE.NoColors};
var c=a.vertices,d=a.faces,e=a.faceVertexUvs,f=b.vertexColors,g=0<e[0].length,h=3==d[0].vertexNormals.length,k=new Float32Array(9*d.length);this.addAttribute("position",new THREE.BufferAttribute(k,3));var l=new Float32Array(9*d.length);this.addAttribute("normal",new THREE.BufferAttribute(l,3));if(f!==THREE.NoColors){var p=new Float32Array(9*d.length);this.addAttribute("color",new THREE.BufferAttribute(p,3))}if(!0===g){var q=new Float32Array(6*d.length);this.addAttribute("uv",new THREE.BufferAttribute(q,
2))}for(var n=0,t=0,r=0;n<d.length;n++,t+=6,r+=9){var s=d[n],u=c[s.a],v=c[s.b],x=c[s.c];k[r]=u.x;k[r+1]=u.y;k[r+2]=u.z;k[r+3]=v.x;k[r+4]=v.y;k[r+5]=v.z;k[r+6]=x.x;k[r+7]=x.y;k[r+8]=x.z;!0===h?(u=s.vertexNormals[0],v=s.vertexNormals[1],x=s.vertexNormals[2],l[r]=u.x,l[r+1]=u.y,l[r+2]=u.z,l[r+3]=v.x,l[r+4]=v.y,l[r+5]=v.z,l[r+6]=x.x,l[r+7]=x.y,l[r+8]=x.z):(u=s.normal,l[r]=u.x,l[r+1]=u.y,l[r+2]=u.z,l[r+3]=u.x,l[r+4]=u.y,l[r+5]=u.z,l[r+6]=u.x,l[r+7]=u.y,l[r+8]=u.z);f===THREE.FaceColors?(s=s.color,p[r]=
s.r,p[r+1]=s.g,p[r+2]=s.b,p[r+3]=s.r,p[r+4]=s.g,p[r+5]=s.b,p[r+6]=s.r,p[r+7]=s.g,p[r+8]=s.b):f===THREE.VertexColors&&(u=s.vertexColors[0],v=s.vertexColors[1],s=s.vertexColors[2],p[r]=u.r,p[r+1]=u.g,p[r+2]=u.b,p[r+3]=v.r,p[r+4]=v.g,p[r+5]=v.b,p[r+6]=s.r,p[r+7]=s.g,p[r+8]=s.b);!0===g&&(s=e[0][n][0],u=e[0][n][1],v=e[0][n][2],q[t]=s.x,q[t+1]=s.y,q[t+2]=u.x,q[t+3]=u.y,q[t+4]=v.x,q[t+5]=v.y)}this.computeBoundingSphere();return this},computeBoundingBox:function(){var a=new THREE.Vector3;return function(){null===
this.boundingBox&&(this.boundingBox=new THREE.Box3);var b=this.attributes.position.array;if(b){var c=this.boundingBox;c.makeEmpty();for(var d=0,e=b.length;d<e;d+=3)a.set(b[d],b[d+1],b[d+2]),c.expandByPoint(a)}if(void 0===b||0===b.length)this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0);(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&THREE.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),
computeBoundingSphere:function(){var a=new THREE.Box3,b=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var c=this.attributes.position.array;if(c){a.makeEmpty();for(var d=this.boundingSphere.center,e=0,f=c.length;e<f;e+=3)b.set(c[e],c[e+1],c[e+2]),a.expandByPoint(b);a.center(d);for(var g=0,e=0,f=c.length;e<f;e+=3)b.set(c[e],c[e+1],c[e+2]),g=Math.max(g,d.distanceToSquared(b));this.boundingSphere.radius=Math.sqrt(g);isNaN(this.boundingSphere.radius)&&
THREE.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=this.attributes;if(a.position){var b=a.position.array;if(void 0===a.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(b.length),3));else for(var c=a.normal.array,d=0,e=c.length;d<e;d++)c[d]=0;var c=a.normal.array,f,g,h,k=new THREE.Vector3,l=new THREE.Vector3,
p=new THREE.Vector3,q=new THREE.Vector3,n=new THREE.Vector3;if(a.index)for(var t=a.index.array,r=0<this.offsets.length?this.offsets:[{start:0,count:t.length,index:0}],s=0,u=r.length;s<u;++s){e=r[s].start;f=r[s].count;for(var v=r[s].index,d=e,e=e+f;d<e;d+=3)f=3*(v+t[d]),g=3*(v+t[d+1]),h=3*(v+t[d+2]),k.fromArray(b,f),l.fromArray(b,g),p.fromArray(b,h),q.subVectors(p,l),n.subVectors(k,l),q.cross(n),c[f]+=q.x,c[f+1]+=q.y,c[f+2]+=q.z,c[g]+=q.x,c[g+1]+=q.y,c[g+2]+=q.z,c[h]+=q.x,c[h+1]+=q.y,c[h+2]+=q.z}else for(d=
0,e=b.length;d<e;d+=9)k.fromArray(b,d),l.fromArray(b,d+3),p.fromArray(b,d+6),q.subVectors(p,l),n.subVectors(k,l),q.cross(n),c[d]=q.x,c[d+1]=q.y,c[d+2]=q.z,c[d+3]=q.x,c[d+4]=q.y,c[d+5]=q.z,c[d+6]=q.x,c[d+7]=q.y,c[d+8]=q.z;this.normalizeNormals();a.normal.needsUpdate=!0}},computeTangents:function(){function a(a,b,c){q.fromArray(d,3*a);n.fromArray(d,3*b);t.fromArray(d,3*c);r.fromArray(f,2*a);s.fromArray(f,2*b);u.fromArray(f,2*c);v=n.x-q.x;x=t.x-q.x;D=n.y-q.y;w=t.y-q.y;y=n.z-q.z;A=t.z-q.z;E=s.x-r.x;G=
u.x-r.x;F=s.y-r.y;z=u.y-r.y;I=1/(E*z-G*F);U.set((z*v-F*x)*I,(z*D-F*w)*I,(z*y-F*A)*I);M.set((E*x-G*v)*I,(E*w-G*D)*I,(E*A-G*y)*I);k[a].add(U);k[b].add(U);k[c].add(U);l[a].add(M);l[b].add(M);l[c].add(M)}function b(a){ha.fromArray(e,3*a);O.copy(ha);ba=k[a];oa.copy(ba);oa.sub(ha.multiplyScalar(ha.dot(ba))).normalize();ja.crossVectors(O,ba);qa=ja.dot(l[a]);ca=0>qa?-1:1;h[4*a]=oa.x;h[4*a+1]=oa.y;h[4*a+2]=oa.z;h[4*a+3]=ca}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||
void 0===this.attributes.uv)THREE.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");else{var c=this.attributes.index.array,d=this.attributes.position.array,e=this.attributes.normal.array,f=this.attributes.uv.array,g=d.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*g),4));for(var h=this.attributes.tangent.array,k=[],l=[],p=0;p<g;p++)k[p]=new THREE.Vector3,
l[p]=new THREE.Vector3;var q=new THREE.Vector3,n=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector2,s=new THREE.Vector2,u=new THREE.Vector2,v,x,D,w,y,A,E,G,F,z,I,U=new THREE.Vector3,M=new THREE.Vector3,H,L,P,N,R;0===this.drawcalls.length&&this.addDrawCall(0,c.length,0);var V=this.drawcalls,p=0;for(L=V.length;p<L;++p){H=V[p].start;P=V[p].count;var J=V[p].index,g=H;for(H+=P;g<H;g+=3)P=J+c[g],N=J+c[g+1],R=J+c[g+2],a(P,N,R)}var oa=new THREE.Vector3,ja=new THREE.Vector3,ha=new THREE.Vector3,O=new THREE.Vector3,
ca,ba,qa,p=0;for(L=V.length;p<L;++p)for(H=V[p].start,P=V[p].count,J=V[p].index,g=H,H+=P;g<H;g+=3)P=J+c[g],N=J+c[g+1],R=J+c[g+2],b(P),b(N),b(R)}},computeOffsets:function(a){void 0===a&&(a=65535);for(var b=this.attributes.index.array,c=this.attributes.position.array,d=b.length/3,e=new Uint16Array(b.length),f=0,g=0,h=[{start:0,count:0,index:0}],k=h[0],l=0,p=0,q=new Int32Array(6),n=new Int32Array(c.length),t=new Int32Array(c.length),r=0;r<c.length;r++)n[r]=-1,t[r]=-1;for(c=0;c<d;c++){for(var s=p=0;3>
s;s++)r=b[3*c+s],-1==n[r]?(q[2*s]=r,q[2*s+1]=-1,p++):n[r]<k.index?(q[2*s]=r,q[2*s+1]=-1,l++):(q[2*s]=r,q[2*s+1]=n[r]);if(g+p>k.index+a)for(k={start:f,count:0,index:g},h.push(k),p=0;6>p;p+=2)s=q[p+1],-1<s&&s<k.index&&(q[p+1]=-1);for(p=0;6>p;p+=2)r=q[p],s=q[p+1],-1===s&&(s=g++),n[r]=s,t[s]=r,e[f++]=s-k.index,k.count++}this.reorderBuffers(e,t,g);return this.drawcalls=this.offsets=h},merge:function(a,b){if(!1===a instanceof THREE.BufferGeometry)THREE.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
a);else{void 0===b&&(b=0);var c=this.attributes,d;for(d in c)if(void 0!==a.attributes[d])for(var e=c[d].array,f=a.attributes[d],g=f.array,h=0,f=f.itemSize*b;h<g.length;h++,f++)e[f]=g[h];return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,b,c,d,e=0,f=a.length;e<f;e+=3)b=a[e],c=a[e+1],d=a[e+2],b=1/Math.sqrt(b*b+c*c+d*d),a[e]*=b,a[e+1]*=b,a[e+2]*=b},reorderBuffers:function(a,b,c){var d={},e;for(e in this.attributes)"index"!=e&&(d[e]=new this.attributes[e].array.constructor(this.attributes[e].itemSize*
c));for(var f=0;f<c;f++){var g=b[f];for(e in this.attributes)if("index"!=e)for(var h=this.attributes[e].array,k=this.attributes[e].itemSize,l=d[e],p=0;p<k;p++)l[f*k+p]=h[g*k+p]}this.attributes.index.array=a;for(e in this.attributes)"index"!=e&&(this.attributes[e].array=d[e],this.attributes[e].numItems=this.attributes[e].itemSize*c)},toJSON:function(){var a={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},b=this.attributes,
c=this.offsets,d=this.boundingSphere,e;for(e in b){var f=b[e],g=Array.prototype.slice.call(f.array);a.data.attributes[e]={itemSize:f.itemSize,type:f.array.constructor.name,array:g}}0<c.length&&(a.data.offsets=JSON.parse(JSON.stringify(c)));null!==d&&(a.data.boundingSphere={center:d.center.toArray(),radius:d.radius});return a},clone:function(){var a=new THREE.BufferGeometry,b;for(b in this.attributes)a.addAttribute(b,this.attributes[b].clone());b=0;for(var c=this.offsets.length;b<c;b++){var d=this.offsets[b];
a.offsets.push({start:d.start,index:d.index,count:d.count})}return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype);
THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.hasTangents=!1;this.dynamic=!0;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=
this.tangentsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1};
THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(a){for(var b=(new THREE.Matrix3).getNormalMatrix(a),c=0,d=this.vertices.length;c<d;c++)this.vertices[c].applyMatrix4(a);c=0;for(d=this.faces.length;c<d;c++){a=this.faces[c];a.normal.applyMatrix3(b).normalize();for(var e=0,f=a.vertexNormals.length;e<f;e++)a.vertexNormals[e].applyMatrix3(b).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=
this.verticesNeedUpdate=!0},fromBufferGeometry:function(a){for(var b=this,c=a.attributes,d=c.position.array,e=void 0!==c.index?c.index.array:void 0,f=void 0!==c.normal?c.normal.array:void 0,g=void 0!==c.color?c.color.array:void 0,h=void 0!==c.uv?c.uv.array:void 0,k=[],l=[],p=c=0;c<d.length;c+=3,p+=2)b.vertices.push(new THREE.Vector3(d[c],d[c+1],d[c+2])),void 0!==f&&k.push(new THREE.Vector3(f[c],f[c+1],f[c+2])),void 0!==g&&b.colors.push(new THREE.Color(g[c],g[c+1],g[c+2])),void 0!==h&&l.push(new THREE.Vector2(h[p],
h[p+1]));var q=function(a,c,d){var e=void 0!==f?[k[a].clone(),k[c].clone(),k[d].clone()]:[],n=void 0!==g?[b.colors[a].clone(),b.colors[c].clone(),b.colors[d].clone()]:[];b.faces.push(new THREE.Face3(a,c,d,e,n));void 0!==h&&b.faceVertexUvs[0].push([l[a].clone(),l[c].clone(),l[d].clone()])};if(void 0!==e)if(d=a.drawcalls,0<d.length)for(c=0;c<d.length;c++)for(var p=d[c],n=p.start,t=p.count,r=p.index,p=n,n=n+t;p<n;p+=3)q(r+e[p],r+e[p+1],r+e[p+2]);else for(c=0;c<e.length;c+=3)q(e[c],e[c+1],e[c+2]);else for(c=
0;c<d.length/3;c+=3)q(c,c+1,c+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.applyMatrix((new THREE.Matrix4).setPosition(a));return a},computeFaceNormals:function(){for(var a=new THREE.Vector3,b=new THREE.Vector3,c=0,d=this.faces.length;c<d;c++){var e=this.faces[c],f=this.vertices[e.a],
g=this.vertices[e.b];a.subVectors(this.vertices[e.c],g);b.subVectors(f,g);a.cross(b);a.normalize();e.normal.copy(a)}},computeVertexNormals:function(a){var b,c,d;d=Array(this.vertices.length);b=0;for(c=this.vertices.length;b<c;b++)d[b]=new THREE.Vector3;if(a){var e,f,g,h=new THREE.Vector3,k=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],e=this.vertices[c.a],f=this.vertices[c.b],g=this.vertices[c.c],h.subVectors(g,f),k.subVectors(e,f),h.cross(k),d[c.a].add(h),d[c.b].add(h),d[c.c].add(h)}else for(a=
0,b=this.faces.length;a<b;a++)c=this.faces[a],d[c.a].add(c.normal),d[c.b].add(c.normal),d[c.c].add(c.normal);b=0;for(c=this.vertices.length;b<c;b++)d[b].normalize();a=0;for(b=this.faces.length;a<b;a++)c=this.faces[a],c.vertexNormals[0]=d[c.a].clone(),c.vertexNormals[1]=d[c.b].clone(),c.vertexNormals[2]=d[c.c].clone()},computeMorphNormals:function(){var a,b,c,d,e;c=0;for(d=this.faces.length;c<d;c++)for(e=this.faces[c],e.__originalFaceNormal?e.__originalFaceNormal.copy(e.normal):e.__originalFaceNormal=
e.normal.clone(),e.__originalVertexNormals||(e.__originalVertexNormals=[]),a=0,b=e.vertexNormals.length;a<b;a++)e.__originalVertexNormals[a]?e.__originalVertexNormals[a].copy(e.vertexNormals[a]):e.__originalVertexNormals[a]=e.vertexNormals[a].clone();var f=new THREE.Geometry;f.faces=this.faces;a=0;for(b=this.morphTargets.length;a<b;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=[];e=this.morphNormals[a].faceNormals;var g=
this.morphNormals[a].vertexNormals,h,k;c=0;for(d=this.faces.length;c<d;c++)h=new THREE.Vector3,k={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},e.push(h),g.push(k)}g=this.morphNormals[a];f.vertices=this.morphTargets[a].vertices;f.computeFaceNormals();f.computeVertexNormals();c=0;for(d=this.faces.length;c<d;c++)e=this.faces[c],h=g.faceNormals[c],k=g.vertexNormals[c],h.copy(e.normal),k.a.copy(e.vertexNormals[0]),k.b.copy(e.vertexNormals[1]),k.c.copy(e.vertexNormals[2])}c=0;for(d=this.faces.length;c<
d;c++)e=this.faces[c],e.normal=e.__originalFaceNormal,e.vertexNormals=e.__originalVertexNormals},computeTangents:function(){var a,b,c,d,e,f,g,h,k,l,p,q,n,t,r,s,u,v=[],x=[];c=new THREE.Vector3;var D=new THREE.Vector3,w=new THREE.Vector3,y=new THREE.Vector3,A=new THREE.Vector3;a=0;for(b=this.vertices.length;a<b;a++)v[a]=new THREE.Vector3,x[a]=new THREE.Vector3;a=0;for(b=this.faces.length;a<b;a++)e=this.faces[a],f=this.faceVertexUvs[0][a],d=e.a,u=e.b,e=e.c,g=this.vertices[d],h=this.vertices[u],k=this.vertices[e],
l=f[0],p=f[1],q=f[2],f=h.x-g.x,n=k.x-g.x,t=h.y-g.y,r=k.y-g.y,h=h.z-g.z,g=k.z-g.z,k=p.x-l.x,s=q.x-l.x,p=p.y-l.y,l=q.y-l.y,q=1/(k*l-s*p),c.set((l*f-p*n)*q,(l*t-p*r)*q,(l*h-p*g)*q),D.set((k*n-s*f)*q,(k*r-s*t)*q,(k*g-s*h)*q),v[d].add(c),v[u].add(c),v[e].add(c),x[d].add(D),x[u].add(D),x[e].add(D);D=["a","b","c","d"];a=0;for(b=this.faces.length;a<b;a++)for(e=this.faces[a],c=0;c<Math.min(e.vertexNormals.length,3);c++)A.copy(e.vertexNormals[c]),d=e[D[c]],u=v[d],w.copy(u),w.sub(A.multiplyScalar(A.dot(u))).normalize(),
y.crossVectors(e.vertexNormals[c],u),d=y.dot(x[d]),d=0>d?-1:1,e.vertexTangents[c]=new THREE.Vector4(w.x,w.y,w.z,d);this.hasTangents=!0},computeLineDistances:function(){for(var a=0,b=this.vertices,c=0,d=b.length;c<d;c++)0<c&&(a+=b[c].distanceTo(b[c-1])),this.lineDistances[c]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);
this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,b,c){if(!1===a instanceof THREE.Geometry)THREE.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a);else{var d,e=this.vertices.length,f=this.vertices,g=a.vertices,h=this.faces,k=a.faces,l=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===c&&(c=0);void 0!==b&&(d=(new THREE.Matrix3).getNormalMatrix(b));for(var p=0,q=g.length;p<q;p++){var n=g[p].clone();void 0!==b&&n.applyMatrix4(b);f.push(n)}p=0;for(q=k.length;p<
q;p++){var g=k[p],t,r=g.vertexNormals,s=g.vertexColors,n=new THREE.Face3(g.a+e,g.b+e,g.c+e);n.normal.copy(g.normal);void 0!==d&&n.normal.applyMatrix3(d).normalize();b=0;for(f=r.length;b<f;b++)t=r[b].clone(),void 0!==d&&t.applyMatrix3(d).normalize(),n.vertexNormals.push(t);n.color.copy(g.color);b=0;for(f=s.length;b<f;b++)t=s[b],n.vertexColors.push(t.clone());n.materialIndex=g.materialIndex+c;h.push(n)}p=0;for(q=a.length;p<q;p++)if(c=a[p],d=[],void 0!==c){b=0;for(f=c.length;b<f;b++)d.push(c[b].clone());
l.push(d)}}},mergeMesh:function(a){!1===a instanceof THREE.Mesh?THREE.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a={},b=[],c=[],d,e=Math.pow(10,4),f,g;f=0;for(g=this.vertices.length;f<g;f++)d=this.vertices[f],d=Math.round(d.x*e)+"_"+Math.round(d.y*e)+"_"+Math.round(d.z*e),void 0===a[d]?(a[d]=f,b.push(this.vertices[f]),c[f]=b.length-1):c[f]=c[a[d]];a=[];f=0;for(g=this.faces.length;f<
g;f++)for(e=this.faces[f],e.a=c[e.a],e.b=c[e.b],e.c=c[e.c],e=[e.a,e.b,e.c],d=0;3>d;d++)if(e[d]==e[(d+1)%3]){a.push(f);break}for(f=a.length-1;0<=f;f--)for(e=a[f],this.faces.splice(e,1),c=0,g=this.faceVertexUvs.length;c<g;c++)this.faceVertexUvs[c].splice(e,1);f=this.vertices.length-b.length;this.vertices=b;return f},toJSON:function(){function a(a,b,c){return c?a|1<<b:a&~(1<<b)}function b(a){var b=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==l[b])return l[b];l[b]=k.length/3;k.push(a.x,a.y,
a.z);return l[b]}function c(a){var b=a.r.toString()+a.g.toString()+a.b.toString();if(void 0!==q[b])return q[b];q[b]=p.length;p.push(a.getHex());return q[b]}function d(a){var b=a.x.toString()+a.y.toString();if(void 0!==t[b])return t[b];t[b]=n.length/2;n.push(a.x,a.y);return t[b]}var e={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};""!==this.name&&(e.name=this.name);if(void 0!==this.parameters){var f=this.parameters,g;for(g in f)void 0!==
f[g]&&(e[g]=f[g]);return e}f=[];for(g=0;g<this.vertices.length;g++){var h=this.vertices[g];f.push(h.x,h.y,h.z)}var h=[],k=[],l={},p=[],q={},n=[],t={};for(g=0;g<this.faces.length;g++){var r=this.faces[g],s=void 0!==this.faceVertexUvs[0][g],u=0<r.normal.length(),v=0<r.vertexNormals.length,x=1!==r.color.r||1!==r.color.g||1!==r.color.b,D=0<r.vertexColors.length,w=0,w=a(w,0,0),w=a(w,1,!1),w=a(w,2,!1),w=a(w,3,s),w=a(w,4,u),w=a(w,5,v),w=a(w,6,x),w=a(w,7,D);h.push(w);h.push(r.a,r.b,r.c);s&&(s=this.faceVertexUvs[0][g],
h.push(d(s[0]),d(s[1]),d(s[2])));u&&h.push(b(r.normal));v&&(u=r.vertexNormals,h.push(b(u[0]),b(u[1]),b(u[2])));x&&h.push(c(r.color));D&&(r=r.vertexColors,h.push(c(r[0]),c(r[1]),c(r[2])))}e.data={};e.data.vertices=f;e.data.normals=k;0<p.length&&(e.data.colors=p);0<n.length&&(e.data.uvs=[n]);e.data.faces=h;return e},clone:function(){for(var a=new THREE.Geometry,b=this.vertices,c=0,d=b.length;c<d;c++)a.vertices.push(b[c].clone());b=this.faces;c=0;for(d=b.length;c<d;c++)a.faces.push(b[c].clone());c=0;
for(d=this.faceVertexUvs.length;c<d;c++){b=this.faceVertexUvs[c];void 0===a.faceVertexUvs[c]&&(a.faceVertexUvs[c]=[]);for(var e=0,f=b.length;e<f;e++){for(var g=b[e],h=[],k=0,l=g.length;k<l;k++)h.push(g[k].clone());a.faceVertexUvs[c].push(h)}}return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype);THREE.GeometryIdCount=0;
THREE.Camera=function(){THREE.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new THREE.Matrix4;this.projectionMatrix=new THREE.Matrix4};THREE.Camera.prototype=Object.create(THREE.Object3D.prototype);THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.getWorldDirection=function(){var a=new THREE.Quaternion;return function(b){b=b||new THREE.Vector3;this.getWorldQuaternion(a);return b.set(0,0,-1).applyQuaternion(a)}}();
THREE.Camera.prototype.lookAt=function(){var a=new THREE.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();THREE.Camera.prototype.clone=function(a){void 0===a&&(a=new THREE.Camera);THREE.Object3D.prototype.clone.call(this,a);a.matrixWorldInverse.copy(this.matrixWorldInverse);a.projectionMatrix.copy(this.projectionMatrix);return a};
THREE.CubeCamera=function(a,b,c){THREE.Object3D.call(this);this.type="CubeCamera";var d=new THREE.PerspectiveCamera(90,1,a,b);d.up.set(0,-1,0);d.lookAt(new THREE.Vector3(1,0,0));this.add(d);var e=new THREE.PerspectiveCamera(90,1,a,b);e.up.set(0,-1,0);e.lookAt(new THREE.Vector3(-1,0,0));this.add(e);var f=new THREE.PerspectiveCamera(90,1,a,b);f.up.set(0,0,1);f.lookAt(new THREE.Vector3(0,1,0));this.add(f);var g=new THREE.PerspectiveCamera(90,1,a,b);g.up.set(0,0,-1);g.lookAt(new THREE.Vector3(0,-1,0));
this.add(g);var h=new THREE.PerspectiveCamera(90,1,a,b);h.up.set(0,-1,0);h.lookAt(new THREE.Vector3(0,0,1));this.add(h);var k=new THREE.PerspectiveCamera(90,1,a,b);k.up.set(0,-1,0);k.lookAt(new THREE.Vector3(0,0,-1));this.add(k);this.renderTarget=new THREE.WebGLRenderTargetCube(c,c,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter});this.updateCubeMap=function(a,b){var c=this.renderTarget,n=c.generateMipmaps;c.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=
1;a.render(b,e,c);c.activeCubeFace=2;a.render(b,f,c);c.activeCubeFace=3;a.render(b,g,c);c.activeCubeFace=4;a.render(b,h,c);c.generateMipmaps=n;c.activeCubeFace=5;a.render(b,k,c)}};THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype);THREE.CubeCamera.prototype.constructor=THREE.CubeCamera;
THREE.OrthographicCamera=function(a,b,c,d,e,f){THREE.Camera.call(this);this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=b;this.top=c;this.bottom=d;this.near=void 0!==e?e:.1;this.far=void 0!==f?f:2E3;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype);THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;
THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var a=(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),c=(this.right+this.left)/2,d=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(c-a,c+a,d+b,d-b,this.near,this.far)};
THREE.OrthographicCamera.prototype.clone=function(){var a=new THREE.OrthographicCamera;THREE.Camera.prototype.clone.call(this,a);a.zoom=this.zoom;a.left=this.left;a.right=this.right;a.top=this.top;a.bottom=this.bottom;a.near=this.near;a.far=this.far;a.projectionMatrix.copy(this.projectionMatrix);return a};
THREE.PerspectiveCamera=function(a,b,c,d){THREE.Camera.call(this);this.type="PerspectiveCamera";this.zoom=1;this.fov=void 0!==a?a:50;this.aspect=void 0!==b?b:1;this.near=void 0!==c?c:.1;this.far=void 0!==d?d:2E3;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype);THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;
THREE.PerspectiveCamera.prototype.setLens=function(a,b){void 0===b&&(b=24);this.fov=2*THREE.Math.radToDeg(Math.atan(b/(2*a)));this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(a,b,c,d,e,f){this.fullWidth=a;this.fullHeight=b;this.x=c;this.y=d;this.width=e;this.height=f;this.updateProjectionMatrix()};
THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var a=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var b=this.fullWidth/this.fullHeight,a=Math.tan(THREE.Math.degToRad(.5*a))*this.near,c=-a,d=b*c,b=Math.abs(b*a-d),c=Math.abs(a-c);this.projectionMatrix.makeFrustum(d+this.x*b/this.fullWidth,d+(this.x+this.width)*b/this.fullWidth,a-(this.y+this.height)*c/this.fullHeight,a-this.y*c/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(a,
this.aspect,this.near,this.far)};THREE.PerspectiveCamera.prototype.clone=function(){var a=new THREE.PerspectiveCamera;THREE.Camera.prototype.clone.call(this,a);a.zoom=this.zoom;a.fov=this.fov;a.aspect=this.aspect;a.near=this.near;a.far=this.far;a.projectionMatrix.copy(this.projectionMatrix);return a};THREE.Light=function(a){THREE.Object3D.call(this);this.type="Light";this.color=new THREE.Color(a)};THREE.Light.prototype=Object.create(THREE.Object3D.prototype);THREE.Light.prototype.constructor=THREE.Light;
THREE.Light.prototype.clone=function(a){void 0===a&&(a=new THREE.Light);THREE.Object3D.prototype.clone.call(this,a);a.color.copy(this.color);return a};THREE.AmbientLight=function(a){THREE.Light.call(this,a);this.type="AmbientLight"};THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype);THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.AmbientLight.prototype.clone=function(){var a=new THREE.AmbientLight;THREE.Light.prototype.clone.call(this,a);return a};
THREE.AreaLight=function(a,b){THREE.Light.call(this,a);this.type="AreaLight";this.normal=new THREE.Vector3(0,-1,0);this.right=new THREE.Vector3(1,0,0);this.intensity=void 0!==b?b:1;this.height=this.width=1;this.constantAttenuation=1.5;this.linearAttenuation=.5;this.quadraticAttenuation=.1};THREE.AreaLight.prototype=Object.create(THREE.Light.prototype);THREE.AreaLight.prototype.constructor=THREE.AreaLight;
THREE.DirectionalLight=function(a,b){THREE.Light.call(this,a);this.type="DirectionalLight";this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraLeft=-500;this.shadowCameraTop=this.shadowCameraRight=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=512;this.shadowCascade=!1;
this.shadowCascadeOffset=new THREE.Vector3(0,0,-1E3);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,.99,.998];this.shadowCascadeFarZ=[.99,.998,1];this.shadowCascadeArray=[];this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype);THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;
THREE.DirectionalLight.prototype.clone=function(){var a=new THREE.DirectionalLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraLeft=this.shadowCameraLeft;a.shadowCameraRight=this.shadowCameraRight;a.shadowCameraTop=this.shadowCameraTop;a.shadowCameraBottom=this.shadowCameraBottom;a.shadowCameraVisible=
this.shadowCameraVisible;a.shadowBias=this.shadowBias;a.shadowDarkness=this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;a.shadowCascade=this.shadowCascade;a.shadowCascadeOffset.copy(this.shadowCascadeOffset);a.shadowCascadeCount=this.shadowCascadeCount;a.shadowCascadeBias=this.shadowCascadeBias.slice(0);a.shadowCascadeWidth=this.shadowCascadeWidth.slice(0);a.shadowCascadeHeight=this.shadowCascadeHeight.slice(0);a.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0);
a.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0);return a};THREE.HemisphereLight=function(a,b,c){THREE.Light.call(this,a);this.type="HemisphereLight";this.position.set(0,100,0);this.groundColor=new THREE.Color(b);this.intensity=void 0!==c?c:1};THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype);THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight;
THREE.HemisphereLight.prototype.clone=function(){var a=new THREE.HemisphereLight;THREE.Light.prototype.clone.call(this,a);a.groundColor.copy(this.groundColor);a.intensity=this.intensity;return a};THREE.PointLight=function(a,b,c,d){THREE.Light.call(this,a);this.type="PointLight";this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.decay=void 0!==d?d:1};THREE.PointLight.prototype=Object.create(THREE.Light.prototype);THREE.PointLight.prototype.constructor=THREE.PointLight;
THREE.PointLight.prototype.clone=function(){var a=new THREE.PointLight;THREE.Light.prototype.clone.call(this,a);a.intensity=this.intensity;a.distance=this.distance;a.decay=this.decay;return a};
THREE.SpotLight=function(a,b,c,d,e,f){THREE.Light.call(this,a);this.type="SpotLight";this.position.set(0,1,0);this.target=new THREE.Object3D;this.intensity=void 0!==b?b:1;this.distance=void 0!==c?c:0;this.angle=void 0!==d?d:Math.PI/3;this.exponent=void 0!==e?e:10;this.decay=void 0!==f?f:1;this.onlyShadow=this.castShadow=!1;this.shadowCameraNear=50;this.shadowCameraFar=5E3;this.shadowCameraFov=50;this.shadowCameraVisible=!1;this.shadowBias=0;this.shadowDarkness=.5;this.shadowMapHeight=this.shadowMapWidth=
512;this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null};THREE.SpotLight.prototype=Object.create(THREE.Light.prototype);THREE.SpotLight.prototype.constructor=THREE.SpotLight;
THREE.SpotLight.prototype.clone=function(){var a=new THREE.SpotLight;THREE.Light.prototype.clone.call(this,a);a.target=this.target.clone();a.intensity=this.intensity;a.distance=this.distance;a.angle=this.angle;a.exponent=this.exponent;a.decay=this.decay;a.castShadow=this.castShadow;a.onlyShadow=this.onlyShadow;a.shadowCameraNear=this.shadowCameraNear;a.shadowCameraFar=this.shadowCameraFar;a.shadowCameraFov=this.shadowCameraFov;a.shadowCameraVisible=this.shadowCameraVisible;a.shadowBias=this.shadowBias;
a.shadowDarkness=this.shadowDarkness;a.shadowMapWidth=this.shadowMapWidth;a.shadowMapHeight=this.shadowMapHeight;return a};THREE.Cache={files:{},add:function(a,b){this.files[a]=b},get:function(a){return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};
THREE.Loader=function(a){this.statusDomElement=(this.showStatus=a)?THREE.Loader.prototype.addStatusElement():null;this.imageLoader=new THREE.ImageLoader;this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};
THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var a=document.createElement("div");a.style.position="absolute";a.style.right="0px";a.style.top="0px";a.style.fontSize="0.8em";a.style.textAlign="left";a.style.background="rgba(0,0,0,0.25)";a.style.color="#fff";a.style.width="120px";a.style.padding="0.5em 0.5em 0.5em 0.5em";a.style.zIndex=1E3;a.innerHTML="Loading ...";return a},updateProgress:function(a){var b="Loaded ",b=a.total?b+((100*a.loaded/a.total).toFixed(0)+
"%"):b+((a.loaded/1024).toFixed(2)+" KB");this.statusDomElement.innerHTML=b},extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"},initMaterials:function(a,b){for(var c=[],d=0;d<a.length;++d)c[d]=this.createMaterial(a[d],b);return c},needsTangents:function(a){for(var b=0,c=a.length;b<c;b++)if(a[b]instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(a,b){function c(a){a=Math.log(a)/Math.LN2;return Math.pow(2,Math.round(a))}function d(a,
d,e,g,h,k,s){var u=b+e,v,x=THREE.Loader.Handlers.get(u);null!==x?v=x.load(u):(v=new THREE.Texture,x=f.imageLoader,x.crossOrigin=f.crossOrigin,x.load(u,function(a){if(!1===THREE.Math.isPowerOfTwo(a.width)||!1===THREE.Math.isPowerOfTwo(a.height)){var b=c(a.width),d=c(a.height),e=document.createElement("canvas");e.width=b;e.height=d;e.getContext("2d").drawImage(a,0,0,b,d);v.image=e}else v.image=a;v.needsUpdate=!0}));v.sourceFile=e;g&&(v.repeat.set(g[0],g[1]),1!==g[0]&&(v.wrapS=THREE.RepeatWrapping),
1!==g[1]&&(v.wrapT=THREE.RepeatWrapping));h&&v.offset.set(h[0],h[1]);k&&(e={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==e[k[0]]&&(v.wrapS=e[k[0]]),void 0!==e[k[1]]&&(v.wrapT=e[k[1]]));s&&(v.anisotropy=s);a[d]=v}function e(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]}var f=this,g="MeshLambertMaterial",h={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(a.shading){var k=a.shading.toLowerCase();"phong"===k?g="MeshPhongMaterial":
"basic"===k&&(g="MeshBasicMaterial")}void 0!==a.blending&&void 0!==THREE[a.blending]&&(h.blending=THREE[a.blending]);void 0!==a.transparent&&(h.transparent=a.transparent);void 0!==a.opacity&&1>a.opacity&&(h.transparent=!0);void 0!==a.depthTest&&(h.depthTest=a.depthTest);void 0!==a.depthWrite&&(h.depthWrite=a.depthWrite);void 0!==a.visible&&(h.visible=a.visible);void 0!==a.flipSided&&(h.side=THREE.BackSide);void 0!==a.doubleSided&&(h.side=THREE.DoubleSide);void 0!==a.wireframe&&(h.wireframe=a.wireframe);
void 0!==a.vertexColors&&("face"===a.vertexColors?h.vertexColors=THREE.FaceColors:a.vertexColors&&(h.vertexColors=THREE.VertexColors));a.colorDiffuse?h.color=e(a.colorDiffuse):a.DbgColor&&(h.color=a.DbgColor);a.colorSpecular&&(h.specular=e(a.colorSpecular));a.colorEmissive&&(h.emissive=e(a.colorEmissive));void 0!==a.transparency&&(console.warn("THREE.Loader: transparency has been renamed to opacity"),a.opacity=a.transparency);void 0!==a.opacity&&(h.opacity=a.opacity);a.specularCoef&&(h.shininess=
a.specularCoef);a.mapDiffuse&&b&&d(h,"map",a.mapDiffuse,a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap,a.mapDiffuseAnisotropy);a.mapLight&&b&&d(h,"lightMap",a.mapLight,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap,a.mapLightAnisotropy);a.mapBump&&b&&d(h,"bumpMap",a.mapBump,a.mapBumpRepeat,a.mapBumpOffset,a.mapBumpWrap,a.mapBumpAnisotropy);a.mapNormal&&b&&d(h,"normalMap",a.mapNormal,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap,a.mapNormalAnisotropy);a.mapSpecular&&b&&d(h,"specularMap",
a.mapSpecular,a.mapSpecularRepeat,a.mapSpecularOffset,a.mapSpecularWrap,a.mapSpecularAnisotropy);a.mapAlpha&&b&&d(h,"alphaMap",a.mapAlpha,a.mapAlphaRepeat,a.mapAlphaOffset,a.mapAlphaWrap,a.mapAlphaAnisotropy);a.mapBumpScale&&(h.bumpScale=a.mapBumpScale);a.mapNormalFactor&&(h.normalScale=new THREE.Vector2(a.mapNormalFactor,a.mapNormalFactor));g=new THREE[g](h);void 0!==a.DbgName&&(g.name=a.DbgName);return g}};
THREE.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=0,c=this.handlers.length;b<c;b+=2){var d=this.handlers[b+1];if(this.handlers[b].test(a))return d}return null}};THREE.XHRLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(a,b,c,d){var e=this,f=THREE.Cache.get(a);void 0!==f?b&&b(f):(f=new XMLHttpRequest,f.open("GET",a,!0),f.addEventListener("load",function(c){THREE.Cache.add(a,this.response);b&&b(this.response);e.manager.itemEnd(a)},!1),void 0!==c&&f.addEventListener("progress",function(a){c(a)},!1),void 0!==d&&f.addEventListener("error",function(a){d(a)},!1),void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(f.responseType=
this.responseType),f.send(null),e.manager.itemStart(a))},setResponseType:function(a){this.responseType=a},setCrossOrigin:function(a){this.crossOrigin=a}};THREE.ImageLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(a,b,c,d){var e=this,f=THREE.Cache.get(a);if(void 0!==f)b(f);else return f=document.createElement("img"),f.addEventListener("load",function(c){THREE.Cache.add(a,this);b&&b(this);e.manager.itemEnd(a)},!1),void 0!==c&&f.addEventListener("progress",function(a){c(a)},!1),void 0!==d&&f.addEventListener("error",function(a){d(a)},!1),void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),f.src=a,e.manager.itemStart(a),f},setCrossOrigin:function(a){this.crossOrigin=
a}};THREE.JSONLoader=function(a){THREE.Loader.call(this,a);this.withCredentials=!1};THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype);THREE.JSONLoader.prototype.constructor=THREE.JSONLoader;THREE.JSONLoader.prototype.load=function(a,b,c){c=c&&"string"===typeof c?c:this.extractUrlBase(a);this.onLoadStart();this.loadAjaxJSON(this,a,b,c)};
THREE.JSONLoader.prototype.loadAjaxJSON=function(a,b,c,d,e){var f=new XMLHttpRequest,g=0;f.onreadystatechange=function(){if(f.readyState===f.DONE)if(200===f.status||0===f.status){if(f.responseText){var h=JSON.parse(f.responseText),k=h.metadata;if(void 0!==k){if("object"===k.type){THREE.error("THREE.JSONLoader: "+b+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===k.type){THREE.error("THREE.JSONLoader: "+b+" seems to be a Scene. Use THREE.SceneLoader instead.");return}}h=a.parse(h,
d);c(h.geometry,h.materials)}else THREE.error("THREE.JSONLoader: "+b+" seems to be unreachable or the file is empty.");a.onLoadComplete()}else THREE.error("THREE.JSONLoader: Couldn't load "+b+" ("+f.status+")");else f.readyState===f.LOADING?e&&(0===g&&(g=f.getResponseHeader("Content-Length")),e({total:g,loaded:f.responseText.length})):f.readyState===f.HEADERS_RECEIVED&&void 0!==e&&(g=f.getResponseHeader("Content-Length"))};f.open("GET",b,!0);f.withCredentials=this.withCredentials;f.send(null)};
THREE.JSONLoader.prototype.parse=function(a,b){var c=new THREE.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(b){var d,g,h,k,l,p,q,n,t,r,s,u,v,x=a.faces;p=a.vertices;var D=a.normals,w=a.colors,y=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&y++;for(d=0;d<y;d++)c.faceVertexUvs[d]=[]}k=0;for(l=p.length;k<l;)d=new THREE.Vector3,d.x=p[k++]*b,d.y=p[k++]*b,d.z=p[k++]*b,c.vertices.push(d);k=0;for(l=x.length;k<l;)if(b=x[k++],t=b&1,h=b&2,d=b&8,q=b&16,r=b&32,p=b&64,b&=128,t){t=new THREE.Face3;
t.a=x[k];t.b=x[k+1];t.c=x[k+3];s=new THREE.Face3;s.a=x[k+1];s.b=x[k+2];s.c=x[k+3];k+=4;h&&(h=x[k++],t.materialIndex=h,s.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<y;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],c.faceVertexUvs[d][h+1]=[],g=0;4>g;g++)n=x[k++],v=u[2*n],n=u[2*n+1],v=new THREE.Vector2(v,n),2!==g&&c.faceVertexUvs[d][h].push(v),0!==g&&c.faceVertexUvs[d][h+1].push(v);q&&(q=3*x[k++],t.normal.set(D[q++],D[q++],D[q]),s.normal.copy(t.normal));if(r)for(d=0;4>d;d++)q=3*x[k++],r=new THREE.Vector3(D[q++],
D[q++],D[q]),2!==d&&t.vertexNormals.push(r),0!==d&&s.vertexNormals.push(r);p&&(p=x[k++],p=w[p],t.color.setHex(p),s.color.setHex(p));if(b)for(d=0;4>d;d++)p=x[k++],p=w[p],2!==d&&t.vertexColors.push(new THREE.Color(p)),0!==d&&s.vertexColors.push(new THREE.Color(p));c.faces.push(t);c.faces.push(s)}else{t=new THREE.Face3;t.a=x[k++];t.b=x[k++];t.c=x[k++];h&&(h=x[k++],t.materialIndex=h);h=c.faces.length;if(d)for(d=0;d<y;d++)for(u=a.uvs[d],c.faceVertexUvs[d][h]=[],g=0;3>g;g++)n=x[k++],v=u[2*n],n=u[2*n+1],
v=new THREE.Vector2(v,n),c.faceVertexUvs[d][h].push(v);q&&(q=3*x[k++],t.normal.set(D[q++],D[q++],D[q]));if(r)for(d=0;3>d;d++)q=3*x[k++],r=new THREE.Vector3(D[q++],D[q++],D[q]),t.vertexNormals.push(r);p&&(p=x[k++],t.color.setHex(w[p]));if(b)for(d=0;3>d;d++)p=x[k++],t.vertexColors.push(new THREE.Color(w[p]));c.faces.push(t)}})(d);(function(){var b=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,g=a.skinWeights.length;d<g;d+=b)c.skinWeights.push(new THREE.Vector4(a.skinWeights[d],
1<b?a.skinWeights[d+1]:0,2<b?a.skinWeights[d+2]:0,3<b?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,g=a.skinIndices.length;d<g;d+=b)c.skinIndices.push(new THREE.Vector4(a.skinIndices[d],1<b?a.skinIndices[d+1]:0,2<b?a.skinIndices[d+2]:0,3<b?a.skinIndices[d+3]:0));c.bones=a.bones;c.bones&&0<c.bones.length&&(c.skinWeights.length!==c.skinIndices.length||c.skinIndices.length!==c.vertices.length)&&THREE.warn("THREE.JSONLoader: When skinning, number of vertices ("+c.vertices.length+"), skinIndices ("+
c.skinIndices.length+"), and skinWeights ("+c.skinWeights.length+") should match.");c.animation=a.animation;c.animations=a.animations})();(function(b){if(void 0!==a.morphTargets){var d,g,h,k,l,p;d=0;for(g=a.morphTargets.length;d<g;d++)for(c.morphTargets[d]={},c.morphTargets[d].name=a.morphTargets[d].name,c.morphTargets[d].vertices=[],l=c.morphTargets[d].vertices,p=a.morphTargets[d].vertices,h=0,k=p.length;h<k;h+=3){var q=new THREE.Vector3;q.x=p[h]*b;q.y=p[h+1]*b;q.z=p[h+2]*b;l.push(q)}}if(void 0!==
a.morphColors)for(d=0,g=a.morphColors.length;d<g;d++)for(c.morphColors[d]={},c.morphColors[d].name=a.morphColors[d].name,c.morphColors[d].colors=[],k=c.morphColors[d].colors,l=a.morphColors[d].colors,b=0,h=l.length;b<h;b+=3)p=new THREE.Color(16755200),p.setRGB(l[b],l[b+1],l[b+2]),k.push(p)})(d);c.computeFaceNormals();c.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:c};d=this.initMaterials(a.materials,b);this.needsTangents(d)&&c.computeTangents();return{geometry:c,
materials:d}};THREE.LoadingManager=function(a,b,c){var d=this,e=0,f=0;this.onLoad=a;this.onProgress=b;this.onError=c;this.itemStart=function(a){f++};this.itemEnd=function(a){e++;if(void 0!==d.onProgress)d.onProgress(a,e,f);if(e===f&&void 0!==d.onLoad)d.onLoad()}};THREE.DefaultLoadingManager=new THREE.LoadingManager;THREE.BufferGeometryLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(a,b,c,d){var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE.BufferGeometry,c=a.data.attributes,d;for(d in c){var e=c[d],f=new self[e.type](e.array);b.addAttribute(d,new THREE.BufferAttribute(f,e.itemSize))}c=a.data.offsets;void 0!==c&&(b.offsets=JSON.parse(JSON.stringify(c)));
a=a.data.boundingSphere;void 0!==a&&(c=new THREE.Vector3,void 0!==a.center&&c.fromArray(a.center),b.boundingSphere=new THREE.Sphere(c,a.radius));return b}};THREE.MaterialLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};
THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(a,b,c,d){var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){b(e.parse(JSON.parse(a)))},c,d)},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a){var b=new THREE[a.type];void 0!==a.color&&b.color.setHex(a.color);void 0!==a.emissive&&b.emissive.setHex(a.emissive);void 0!==a.specular&&b.specular.setHex(a.specular);void 0!==a.shininess&&(b.shininess=a.shininess);
void 0!==a.uniforms&&(b.uniforms=a.uniforms);void 0!==a.vertexShader&&(b.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(b.fragmentShader=a.fragmentShader);void 0!==a.vertexColors&&(b.vertexColors=a.vertexColors);void 0!==a.shading&&(b.shading=a.shading);void 0!==a.blending&&(b.blending=a.blending);void 0!==a.side&&(b.side=a.side);void 0!==a.opacity&&(b.opacity=a.opacity);void 0!==a.transparent&&(b.transparent=a.transparent);void 0!==a.wireframe&&(b.wireframe=a.wireframe);void 0!==a.size&&
(b.size=a.size);void 0!==a.sizeAttenuation&&(b.sizeAttenuation=a.sizeAttenuation);if(void 0!==a.materials)for(var c=0,d=a.materials.length;c<d;c++)b.materials.push(this.parse(a.materials[c]));return b}};THREE.ObjectLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager;this.texturePath=""};
THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(a,b,c,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var e=this,f=new THREE.XHRLoader(e.manager);f.setCrossOrigin(this.crossOrigin);f.load(a,function(a){e.parse(JSON.parse(a),b)},c,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var c=this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void 0!==b&&b(e)}),
d=this.parseTextures(a.textures,d),d=this.parseMaterials(a.materials,d),e=this.parseObject(a.object,c,d);void 0!==a.images&&0!==a.images.length||void 0===b||b(e);return e},parseGeometries:function(a){var b={};if(void 0!==a)for(var c=new THREE.JSONLoader,d=new THREE.BufferGeometryLoader,e=0,f=a.length;e<f;e++){var g,h=a[e];switch(h.type){case "PlaneGeometry":case "PlaneBufferGeometry":g=new THREE[h.type](h.width,h.height,h.widthSegments,h.heightSegments);break;case "BoxGeometry":case "CubeGeometry":g=
new THREE.BoxGeometry(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments);break;case "CircleGeometry":g=new THREE.CircleGeometry(h.radius,h.segments);break;case "CylinderGeometry":g=new THREE.CylinderGeometry(h.radiusTop,h.radiusBottom,h.height,h.radialSegments,h.heightSegments,h.openEnded);break;case "SphereGeometry":g=new THREE.SphereGeometry(h.radius,h.widthSegments,h.heightSegments,h.phiStart,h.phiLength,h.thetaStart,h.thetaLength);break;case "IcosahedronGeometry":g=new THREE.IcosahedronGeometry(h.radius,
h.detail);break;case "TorusGeometry":g=new THREE.TorusGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.arc);break;case "TorusKnotGeometry":g=new THREE.TorusKnotGeometry(h.radius,h.tube,h.radialSegments,h.tubularSegments,h.p,h.q,h.heightScale);break;case "BufferGeometry":g=d.parse(h);break;case "Geometry":g=c.parse(h.data).geometry}g.uuid=h.uuid;void 0!==h.name&&(g.name=h.name);b[h.uuid]=g}return b},parseMaterials:function(a,b){var c={};if(void 0!==a)for(var d=function(a){void 0===b[a]&&
THREE.warn("THREE.ObjectLoader: Undefined texture",a);return b[a]},e=new THREE.MaterialLoader,f=0,g=a.length;f<g;f++){var h=a[f],k=e.parse(h);k.uuid=h.uuid;void 0!==h.name&&(k.name=h.name);void 0!==h.map&&(k.map=d(h.map));void 0!==h.bumpMap&&(k.bumpMap=d(h.bumpMap),h.bumpScale&&(k.bumpScale=new THREE.Vector2(h.bumpScale,h.bumpScale)));void 0!==h.alphaMap&&(k.alphaMap=d(h.alphaMap));void 0!==h.envMap&&(k.envMap=d(h.envMap));void 0!==h.normalMap&&(k.normalMap=d(h.normalMap),h.normalScale&&(k.normalScale=
new THREE.Vector2(h.normalScale,h.normalScale)));void 0!==h.lightMap&&(k.lightMap=d(h.lightMap));void 0!==h.specularMap&&(k.specularMap=d(h.specularMap));c[h.uuid]=k}return c},parseImages:function(a,b){var c=this,d={};if(void 0!==a&&0<a.length){var e=new THREE.LoadingManager(b),f=new THREE.ImageLoader(e);f.setCrossOrigin(this.crossOrigin);for(var e=function(a){c.manager.itemStart(a);return f.load(a,function(){c.manager.itemEnd(a)})},g=0,h=a.length;g<h;g++){var k=a[g],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?
k.url:c.texturePath+k.url;d[k.uuid]=e(l)}}return d},parseTextures:function(a,b){var c={};if(void 0!==a)for(var d=0,e=a.length;d<e;d++){var f=a[d];void 0===f.image&&THREE.warn('THREE.ObjectLoader: No "image" speficied for',f.uuid);void 0===b[f.image]&&THREE.warn("THREE.ObjectLoader: Undefined image",f.image);var g=new THREE.Texture(b[f.image]);g.needsUpdate=!0;g.uuid=f.uuid;void 0!==f.name&&(g.name=f.name);void 0!==f.repeat&&(g.repeat=new THREE.Vector2(f.repeat[0],f.repeat[1]));void 0!==f.minFilter&&
(g.minFilter=THREE[f.minFilter]);void 0!==f.magFilter&&(g.magFilter=THREE[f.magFilter]);void 0!==f.anisotropy&&(g.anisotropy=f.anisotropy);f.wrap instanceof Array&&(g.wrapS=THREE[f.wrap[0]],g.wrapT=THREE[f.wrap[1]]);c[f.uuid]=g}return c},parseObject:function(){var a=new THREE.Matrix4;return function(b,c,d){var e;e=function(a){void 0===c[a]&&THREE.warn("THREE.ObjectLoader: Undefined geometry",a);return c[a]};var f=function(a){void 0===d[a]&&THREE.warn("THREE.ObjectLoader: Undefined material",a);return d[a]};
switch(b.type){case "Scene":e=new THREE.Scene;break;case "PerspectiveCamera":e=new THREE.PerspectiveCamera(b.fov,b.aspect,b.near,b.far);break;case "OrthographicCamera":e=new THREE.OrthographicCamera(b.left,b.right,b.top,b.bottom,b.near,b.far);break;case "AmbientLight":e=new THREE.AmbientLight(b.color);break;case "DirectionalLight":e=new THREE.DirectionalLight(b.color,b.intensity);break;case "PointLight":e=new THREE.PointLight(b.color,b.intensity,b.distance,b.decay);break;case "SpotLight":e=new THREE.SpotLight(b.color,
b.intensity,b.distance,b.angle,b.exponent,b.decay);break;case "HemisphereLight":e=new THREE.HemisphereLight(b.color,b.groundColor,b.intensity);break;case "Mesh":e=new THREE.Mesh(e(b.geometry),f(b.material));break;case "Line":e=new THREE.Line(e(b.geometry),f(b.material),b.mode);break;case "PointCloud":e=new THREE.PointCloud(e(b.geometry),f(b.material));break;case "Sprite":e=new THREE.Sprite(f(b.material));break;case "Group":e=new THREE.Group;break;default:e=new THREE.Object3D}e.uuid=b.uuid;void 0!==
b.name&&(e.name=b.name);void 0!==b.matrix?(a.fromArray(b.matrix),a.decompose(e.position,e.quaternion,e.scale)):(void 0!==b.position&&e.position.fromArray(b.position),void 0!==b.rotation&&e.rotation.fromArray(b.rotation),void 0!==b.scale&&e.scale.fromArray(b.scale));void 0!==b.visible&&(e.visible=b.visible);void 0!==b.userData&&(e.userData=b.userData);if(void 0!==b.children)for(var g in b.children)e.add(this.parseObject(b.children[g],c,d));return e}}()};
THREE.TextureLoader=function(a){this.manager=void 0!==a?a:THREE.DefaultLoadingManager};THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(a,b,c,d){var e=new THREE.ImageLoader(this.manager);e.setCrossOrigin(this.crossOrigin);e.load(a,function(a){a=new THREE.Texture(a);a.needsUpdate=!0;void 0!==b&&b(a)},c,d)},setCrossOrigin:function(a){this.crossOrigin=a}};THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(){this._parser=null};
THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(a,b,c,d){var e=this,f=new THREE.DataTexture,g=new THREE.XHRLoader;g.setResponseType("arraybuffer");g.load(a,function(a){if(a=e._parser(a))void 0!==a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:THREE.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:THREE.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:
THREE.LinearFilter,f.minFilter=void 0!==a.minFilter?a.minFilter:THREE.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=a.mipmaps),1===a.mipmapCount&&(f.minFilter=THREE.LinearFilter),f.needsUpdate=!0,b&&b(f,a)},c,d);return f}};THREE.CompressedTextureLoader=function(){this._parser=null};
THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(a,b,c){var d=this,e=[],f=new THREE.CompressedTexture;f.image=e;var g=new THREE.XHRLoader;g.setResponseType("arraybuffer");if(a instanceof Array){var h=0;c=function(c){g.load(a[c],function(a){a=d._parser(a,!0);e[c]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};h+=1;6===h&&(1==a.mipmapCount&&(f.minFilter=THREE.LinearFilter),f.format=a.format,f.needsUpdate=!0,b&&b(f))})};for(var k=0,l=
a.length;k<l;++k)c(k)}else g.load(a,function(a){a=d._parser(a,!0);if(a.isCubemap)for(var c=a.mipmaps.length/a.mipmapCount,g=0;g<c;g++){e[g]={mipmaps:[]};for(var h=0;h<a.mipmapCount;h++)e[g].mipmaps.push(a.mipmaps[g*a.mipmapCount+h]),e[g].format=a.format,e[g].width=a.width,e[g].height=a.height}else f.image.width=a.width,f.image.height=a.height,f.mipmaps=a.mipmaps;1===a.mipmapCount&&(f.minFilter=THREE.LinearFilter);f.format=a.format;f.needsUpdate=!0;b&&b(f)});return f}};
THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++});this.uuid=THREE.Math.generateUUID();this.name="";this.type="Material";this.side=THREE.FrontSide;this.opacity=1;this.transparent=!1;this.blending=THREE.NormalBlending;this.blendSrc=THREE.SrcAlphaFactor;this.blendDst=THREE.OneMinusSrcAlphaFactor;this.blendEquation=THREE.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.colorWrite=this.depthWrite=this.depthTest=!0;this.polygonOffset=
!1;this.overdraw=this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this._needsUpdate=this.visible=!0};
THREE.Material.prototype={constructor:THREE.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},setValues:function(a){if(void 0!==a)for(var b in a){var c=a[b];if(void 0===c)THREE.warn("THREE.Material: '"+b+"' parameter is undefined.");else if(b in this){var d=this[b];d instanceof THREE.Color?d.set(c):d instanceof THREE.Vector3&&c instanceof THREE.Vector3?d.copy(c):this[b]="overdraw"==b?Number(c):c}}},toJSON:function(){var a={metadata:{version:4.2,
type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};""!==this.name&&(a.name=this.name);this instanceof THREE.MeshBasicMaterial?(a.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshLambertMaterial?(a.color=this.color.getHex(),a.emissive=this.emissive.getHex(),this.vertexColors!==THREE.NoColors&&
(a.vertexColors=this.vertexColors),this.shading!==THREE.SmoothShading&&(a.shading=this.shading),this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshPhongMaterial?(a.color=this.color.getHex(),a.emissive=this.emissive.getHex(),a.specular=this.specular.getHex(),a.shininess=this.shininess,this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.shading!==THREE.SmoothShading&&(a.shading=this.shading),
this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshNormalMaterial?(this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.MeshDepthMaterial?(this.blending!==THREE.NormalBlending&&(a.blending=this.blending),this.side!==THREE.FrontSide&&(a.side=this.side)):this instanceof THREE.PointCloudMaterial?(a.size=this.size,a.sizeAttenuation=
this.sizeAttenuation,a.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(a.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(a.blending=this.blending)):this instanceof THREE.ShaderMaterial?(a.uniforms=this.uniforms,a.vertexShader=this.vertexShader,a.fragmentShader=this.fragmentShader):this instanceof THREE.SpriteMaterial&&(a.color=this.color.getHex());1>this.opacity&&(a.opacity=this.opacity);!1!==this.transparent&&(a.transparent=this.transparent);!1!==this.wireframe&&
(a.wireframe=this.wireframe);return a},clone:function(a){void 0===a&&(a=new THREE.Material);a.name=this.name;a.side=this.side;a.opacity=this.opacity;a.transparent=this.transparent;a.blending=this.blending;a.blendSrc=this.blendSrc;a.blendDst=this.blendDst;a.blendEquation=this.blendEquation;a.blendSrcAlpha=this.blendSrcAlpha;a.blendDstAlpha=this.blendDstAlpha;a.blendEquationAlpha=this.blendEquationAlpha;a.depthTest=this.depthTest;a.depthWrite=this.depthWrite;a.polygonOffset=this.polygonOffset;a.polygonOffsetFactor=
this.polygonOffsetFactor;a.polygonOffsetUnits=this.polygonOffsetUnits;a.alphaTest=this.alphaTest;a.overdraw=this.overdraw;a.visible=this.visible;return a},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Material.prototype);THREE.MaterialIdCount=0;
THREE.LineBasicMaterial=function(a){THREE.Material.call(this);this.type="LineBasicMaterial";this.color=new THREE.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;
THREE.LineBasicMaterial.prototype.clone=function(){var a=new THREE.LineBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.linecap=this.linecap;a.linejoin=this.linejoin;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};
THREE.LineDashedMaterial=function(a){THREE.Material.call(this);this.type="LineDashedMaterial";this.color=new THREE.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.vertexColors=!1;this.fog=!0;this.setValues(a)};THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype);THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial;
THREE.LineDashedMaterial.prototype.clone=function(){var a=new THREE.LineDashedMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.linewidth=this.linewidth;a.scale=this.scale;a.dashSize=this.dashSize;a.gapSize=this.gapSize;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};
THREE.MeshBasicMaterial=function(a){THREE.Material.call(this);this.type="MeshBasicMaterial";this.color=new THREE.Color(16777215);this.envMap=this.alphaMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphTargets=this.skinning=!1;this.setValues(a)};
THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;
THREE.MeshBasicMaterial.prototype.clone=function(){var a=new THREE.MeshBasicMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;
a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;return a};
THREE.MeshLambertMaterial=function(a){THREE.Material.call(this);this.type="MeshLambertMaterial";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.wrapAround=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.envMap=this.alphaMap=this.specularMap=this.lightMap=this.map=null;this.combine=THREE.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;
THREE.MeshLambertMaterial.prototype.clone=function(){var a=new THREE.MeshLambertMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.emissive.copy(this.emissive);a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.specularMap=this.specularMap;a.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=
this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
THREE.MeshPhongMaterial=function(a){THREE.Material.call(this);this.type="MeshPhongMaterial";this.color=new THREE.Color(16777215);this.emissive=new THREE.Color(0);this.specular=new THREE.Color(1118481);this.shininess=30;this.wrapAround=this.metal=!1;this.wrapRGB=new THREE.Vector3(1,1,1);this.bumpMap=this.lightMap=this.map=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new THREE.Vector2(1,1);this.envMap=this.alphaMap=this.specularMap=null;this.combine=THREE.MultiplyOperation;this.reflectivity=
1;this.refractionRatio=.98;this.fog=!0;this.shading=THREE.SmoothShading;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.vertexColors=THREE.NoColors;this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;
THREE.MeshPhongMaterial.prototype.clone=function(){var a=new THREE.MeshPhongMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.emissive.copy(this.emissive);a.specular.copy(this.specular);a.shininess=this.shininess;a.metal=this.metal;a.wrapAround=this.wrapAround;a.wrapRGB.copy(this.wrapRGB);a.map=this.map;a.lightMap=this.lightMap;a.bumpMap=this.bumpMap;a.bumpScale=this.bumpScale;a.normalMap=this.normalMap;a.normalScale.copy(this.normalScale);a.specularMap=this.specularMap;
a.alphaMap=this.alphaMap;a.envMap=this.envMap;a.combine=this.combine;a.reflectivity=this.reflectivity;a.refractionRatio=this.refractionRatio;a.fog=this.fog;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.wireframeLinecap=this.wireframeLinecap;a.wireframeLinejoin=this.wireframeLinejoin;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=this.morphTargets;a.morphNormals=this.morphNormals;return a};
THREE.MeshDepthMaterial=function(a){THREE.Material.call(this);this.type="MeshDepthMaterial";this.wireframe=this.morphTargets=!1;this.wireframeLinewidth=1;this.setValues(a)};THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype);THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;
THREE.MeshDepthMaterial.prototype.clone=function(){var a=new THREE.MeshDepthMaterial;THREE.Material.prototype.clone.call(this,a);a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};THREE.MeshNormalMaterial=function(a){THREE.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=!1;this.setValues(a)};THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype);
THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshNormalMaterial.prototype.clone=function(){var a=new THREE.MeshNormalMaterial;THREE.Material.prototype.clone.call(this,a);a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;return a};THREE.MeshFaceMaterial=function(a){this.uuid=THREE.Math.generateUUID();this.type="MeshFaceMaterial";this.materials=a instanceof Array?a:[]};
THREE.MeshFaceMaterial.prototype={constructor:THREE.MeshFaceMaterial,toJSON:function(){for(var a={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},b=0,c=this.materials.length;b<c;b++)a.materials.push(this.materials[b].toJSON());return a},clone:function(){for(var a=new THREE.MeshFaceMaterial,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());return a}};
THREE.PointCloudMaterial=function(a){THREE.Material.call(this);this.type="PointCloudMaterial";this.color=new THREE.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.vertexColors=THREE.NoColors;this.fog=!0;this.setValues(a)};THREE.PointCloudMaterial.prototype=Object.create(THREE.Material.prototype);THREE.PointCloudMaterial.prototype.constructor=THREE.PointCloudMaterial;
THREE.PointCloudMaterial.prototype.clone=function(){var a=new THREE.PointCloudMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.size=this.size;a.sizeAttenuation=this.sizeAttenuation;a.vertexColors=this.vertexColors;a.fog=this.fog;return a};THREE.ParticleBasicMaterial=function(a){THREE.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial.");return new THREE.PointCloudMaterial(a)};
THREE.ParticleSystemMaterial=function(a){THREE.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial.");return new THREE.PointCloudMaterial(a)};
THREE.ShaderMaterial=function(a){THREE.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.attributes=null;this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.shading=THREE.SmoothShading;this.linewidth=1;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.vertexColors=THREE.NoColors;this.morphNormals=
this.morphTargets=this.skinning=!1;this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;this.setValues(a)};THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype);THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;
THREE.ShaderMaterial.prototype.clone=function(){var a=new THREE.ShaderMaterial;THREE.Material.prototype.clone.call(this,a);a.fragmentShader=this.fragmentShader;a.vertexShader=this.vertexShader;a.uniforms=THREE.UniformsUtils.clone(this.uniforms);a.attributes=this.attributes;a.defines=this.defines;a.shading=this.shading;a.wireframe=this.wireframe;a.wireframeLinewidth=this.wireframeLinewidth;a.fog=this.fog;a.lights=this.lights;a.vertexColors=this.vertexColors;a.skinning=this.skinning;a.morphTargets=
this.morphTargets;a.morphNormals=this.morphNormals;return a};THREE.RawShaderMaterial=function(a){THREE.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype);THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial;THREE.RawShaderMaterial.prototype.clone=function(){var a=new THREE.RawShaderMaterial;THREE.ShaderMaterial.prototype.clone.call(this,a);return a};
THREE.SpriteMaterial=function(a){THREE.Material.call(this);this.type="SpriteMaterial";this.color=new THREE.Color(16777215);this.map=null;this.rotation=0;this.fog=!1;this.setValues(a)};THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype);THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial;
THREE.SpriteMaterial.prototype.clone=function(){var a=new THREE.SpriteMaterial;THREE.Material.prototype.clone.call(this,a);a.color.copy(this.color);a.map=this.map;a.rotation=this.rotation;a.fog=this.fog;return a};
THREE.Texture=function(a,b,c,d,e,f,g,h,k){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++});this.uuid=THREE.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:THREE.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==b?b:THREE.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==c?c:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==e?e:THREE.LinearFilter;this.minFilter=void 0!==f?f:THREE.LinearMipMapLinearFilter;
this.anisotropy=void 0!==k?k:1;this.format=void 0!==g?g:THREE.RGBAFormat;this.type=void 0!==h?h:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this._needsUpdate=!1;this.onUpdate=null};THREE.Texture.DEFAULT_IMAGE=void 0;THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping;
THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},clone:function(a){void 0===a&&(a=new THREE.Texture);a.image=this.image;a.mipmaps=this.mipmaps.slice(0);a.mapping=this.mapping;a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.format=this.format;a.type=this.type;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.generateMipmaps=
this.generateMipmaps;a.premultiplyAlpha=this.premultiplyAlpha;a.flipY=this.flipY;a.unpackAlignment=this.unpackAlignment;return a},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype);THREE.TextureIdCount=0;THREE.CubeTexture=function(a,b,c,d,e,f,g,h,k){b=void 0!==b?b:THREE.CubeReflectionMapping;THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.images=a};
THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype);THREE.CubeTexture.prototype.constructor=THREE.CubeTexture;THREE.CubeTexture.clone=function(a){void 0===a&&(a=new THREE.CubeTexture);THREE.Texture.prototype.clone.call(this,a);a.images=this.images;return a};THREE.CompressedTexture=function(a,b,c,d,e,f,g,h,k,l,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,p);this.image={width:b,height:c};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype);
THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture;THREE.CompressedTexture.prototype.clone=function(){var a=new THREE.CompressedTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.DataTexture=function(a,b,c,d,e,f,g,h,k,l,p){THREE.Texture.call(this,null,f,g,h,k,l,d,e,p);this.image={data:a,width:b,height:c}};THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype);THREE.DataTexture.prototype.constructor=THREE.DataTexture;
THREE.DataTexture.prototype.clone=function(){var a=new THREE.DataTexture;THREE.Texture.prototype.clone.call(this,a);return a};THREE.VideoTexture=function(a,b,c,d,e,f,g,h,k){THREE.Texture.call(this,a,b,c,d,e,f,g,h,k);this.generateMipmaps=!1;var l=this,p=function(){requestAnimationFrame(p);a.readyState===a.HAVE_ENOUGH_DATA&&(l.needsUpdate=!0)};p()};THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype);THREE.VideoTexture.prototype.constructor=THREE.VideoTexture;
THREE.Group=function(){THREE.Object3D.call(this);this.type="Group"};THREE.Group.prototype=Object.create(THREE.Object3D.prototype);THREE.Group.prototype.constructor=THREE.Group;THREE.PointCloud=function(a,b){THREE.Object3D.call(this);this.type="PointCloud";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.PointCloudMaterial({color:16777215*Math.random()})};THREE.PointCloud.prototype=Object.create(THREE.Object3D.prototype);THREE.PointCloud.prototype.constructor=THREE.PointCloud;
THREE.PointCloud.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray;return function(c,d){var e=this,f=e.geometry,g=c.params.PointCloud.threshold;a.getInverse(this.matrixWorld);b.copy(c.ray).applyMatrix4(a);if(null===f.boundingBox||!1!==b.isIntersectionBox(f.boundingBox)){var h=g/((this.scale.x+this.scale.y+this.scale.z)/3),k=new THREE.Vector3,g=function(a,f){var g=b.distanceToPoint(a);if(g<h){var k=b.closestPointToPoint(a);k.applyMatrix4(e.matrixWorld);var n=c.ray.origin.distanceTo(k);
d.push({distance:n,distanceToRay:g,point:k.clone(),index:f,face:null,object:e})}};if(f instanceof THREE.BufferGeometry){var l=f.attributes,p=l.position.array;if(void 0!==l.index){var l=l.index.array,q=f.offsets;0===q.length&&(q=[{start:0,count:l.length,index:0}]);for(var n=0,t=q.length;n<t;++n)for(var r=q[n].start,s=q[n].index,f=r,r=r+q[n].count;f<r;f++){var u=s+l[f];k.fromArray(p,3*u);g(k,u)}}else for(l=p.length/3,f=0;f<l;f++)k.set(p[3*f],p[3*f+1],p[3*f+2]),g(k,f)}else for(k=this.geometry.vertices,
f=0;f<k.length;f++)g(k[f],f)}}}();THREE.PointCloud.prototype.clone=function(a){void 0===a&&(a=new THREE.PointCloud(this.geometry,this.material));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.ParticleSystem=function(a,b){THREE.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud.");return new THREE.PointCloud(a,b)};
THREE.Line=function(a,b,c){THREE.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.LineBasicMaterial({color:16777215*Math.random()});this.mode=void 0!==c?c:THREE.LineStrip};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=Object.create(THREE.Object3D.prototype);THREE.Line.prototype.constructor=THREE.Line;
THREE.Line.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere;return function(d,e){var f=d.linePrecision,f=f*f,g=this.geometry;null===g.boundingSphere&&g.computeBoundingSphere();c.copy(g.boundingSphere);c.applyMatrix4(this.matrixWorld);if(!1!==d.ray.isIntersectionSphere(c)){a.getInverse(this.matrixWorld);b.copy(d.ray).applyMatrix4(a);var h=new THREE.Vector3,k=new THREE.Vector3,l=new THREE.Vector3,p=new THREE.Vector3,q=this.mode===THREE.LineStrip?1:2;if(g instanceof
THREE.BufferGeometry){var n=g.attributes;if(void 0!==n.index){var t=n.index.array,n=n.position.array,r=g.offsets;0===r.length&&(r=[{start:0,count:t.length,index:0}]);for(var s=0;s<r.length;s++)for(var u=r[s].start,v=r[s].count,x=r[s].index,g=u;g<u+v-1;g+=q){var D=x+t[g+1];h.fromArray(n,3*(x+t[g]));k.fromArray(n,3*D);D=b.distanceSqToSegment(h,k,p,l);D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),index:g,offsetIndex:s,face:null,faceIndex:null,
object:this}))}}else for(n=n.position.array,g=0;g<n.length/3-1;g+=q)h.fromArray(n,3*g),k.fromArray(n,3*g+3),D=b.distanceSqToSegment(h,k,p,l),D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}))}else if(g instanceof THREE.Geometry)for(h=g.vertices,k=h.length,g=0;g<k-1;g+=q)D=b.distanceSqToSegment(h[g],h[g+1],p,l),D>f||(D=b.origin.distanceTo(p),D<d.near||D>d.far||e.push({distance:D,point:l.clone().applyMatrix4(this.matrixWorld),
index:g,face:null,faceIndex:null,object:this}))}}}();THREE.Line.prototype.clone=function(a){void 0===a&&(a=new THREE.Line(this.geometry,this.material,this.mode));THREE.Object3D.prototype.clone.call(this,a);return a};THREE.Mesh=function(a,b){THREE.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new THREE.Geometry;this.material=void 0!==b?b:new THREE.MeshBasicMaterial({color:16777215*Math.random()});this.updateMorphTargets()};THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype);
THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}};
THREE.Mesh.prototype.getMorphTargetIndexByName=function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];THREE.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0};
THREE.Mesh.prototype.raycast=function(){var a=new THREE.Matrix4,b=new THREE.Ray,c=new THREE.Sphere,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Vector3;return function(g,h){var k=this.geometry;null===k.boundingSphere&&k.computeBoundingSphere();c.copy(k.boundingSphere);c.applyMatrix4(this.matrixWorld);if(!1!==g.ray.isIntersectionSphere(c)&&(a.getInverse(this.matrixWorld),b.copy(g.ray).applyMatrix4(a),null===k.boundingBox||!1!==b.isIntersectionBox(k.boundingBox)))if(k instanceof THREE.BufferGeometry){var l=
this.material;if(void 0!==l){var p=k.attributes,q,n,t=g.precision;if(void 0!==p.index){var r=p.index.array,s=p.position.array,u=k.offsets;0===u.length&&(u=[{start:0,count:r.length,index:0}]);for(var v=0,x=u.length;v<x;++v)for(var p=u[v].start,D=u[v].index,k=p,w=p+u[v].count;k<w;k+=3){p=D+r[k];q=D+r[k+1];n=D+r[k+2];d.fromArray(s,3*p);e.fromArray(s,3*q);f.fromArray(s,3*n);var y=l.side===THREE.BackSide?b.intersectTriangle(f,e,d,!0):b.intersectTriangle(d,e,f,l.side!==THREE.DoubleSide);if(null!==y){y.applyMatrix4(this.matrixWorld);
var A=g.ray.origin.distanceTo(y);A<t||A<g.near||A>g.far||h.push({distance:A,point:y,face:new THREE.Face3(p,q,n,THREE.Triangle.normal(d,e,f)),faceIndex:null,object:this})}}}else for(s=p.position.array,r=k=0,w=s.length;k<w;k+=3,r+=9)p=k,q=k+1,n=k+2,d.fromArray(s,r),e.fromArray(s,r+3),f.fromArray(s,r+6),y=l.side===THREE.BackSide?b.intersectTriangle(f,e,d,!0):b.intersectTriangle(d,e,f,l.side!==THREE.DoubleSide),null!==y&&(y.applyMatrix4(this.matrixWorld),A=g.ray.origin.distanceTo(y),A<t||A<g.near||A>
g.far||h.push({distance:A,point:y,face:new THREE.Face3(p,q,n,THREE.Triangle.normal(d,e,f)),faceIndex:null,object:this}))}}else if(k instanceof THREE.Geometry)for(r=this.material instanceof THREE.MeshFaceMaterial,s=!0===r?this.material.materials:null,t=g.precision,u=k.vertices,v=0,x=k.faces.length;v<x;v++)if(D=k.faces[v],l=!0===r?s[D.materialIndex]:this.material,void 0!==l){p=u[D.a];q=u[D.b];n=u[D.c];if(!0===l.morphTargets){y=k.morphTargets;A=this.morphTargetInfluences;d.set(0,0,0);e.set(0,0,0);f.set(0,
0,0);for(var w=0,E=y.length;w<E;w++){var G=A[w];if(0!==G){var F=y[w].vertices;d.x+=(F[D.a].x-p.x)*G;d.y+=(F[D.a].y-p.y)*G;d.z+=(F[D.a].z-p.z)*G;e.x+=(F[D.b].x-q.x)*G;e.y+=(F[D.b].y-q.y)*G;e.z+=(F[D.b].z-q.z)*G;f.x+=(F[D.c].x-n.x)*G;f.y+=(F[D.c].y-n.y)*G;f.z+=(F[D.c].z-n.z)*G}}d.add(p);e.add(q);f.add(n);p=d;q=e;n=f}y=l.side===THREE.BackSide?b.intersectTriangle(n,q,p,!0):b.intersectTriangle(p,q,n,l.side!==THREE.DoubleSide);null!==y&&(y.applyMatrix4(this.matrixWorld),A=g.ray.origin.distanceTo(y),A<t||
A<g.near||A>g.far||h.push({distance:A,point:y,face:D,faceIndex:v,object:this}))}}}();THREE.Mesh.prototype.clone=function(a,b){void 0===a&&(a=new THREE.Mesh(this.geometry,this.material));THREE.Object3D.prototype.clone.call(this,a,b);return a};THREE.Bone=function(a){THREE.Object3D.call(this);this.type="Bone";this.skin=a};THREE.Bone.prototype=Object.create(THREE.Object3D.prototype);THREE.Bone.prototype.constructor=THREE.Bone;
THREE.Skeleton=function(a,b,c){this.useVertexTexture=void 0!==c?c:!0;this.identityMatrix=new THREE.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(this.boneTextureHeight=this.boneTextureWidth=a=256<this.bones.length?64:64<this.bones.length?32:16<this.bones.length?16:8,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),
this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1):this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===b)this.calculateInverses();else if(this.bones.length===b.length)this.boneInverses=b.slice(0);else for(THREE.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],b=0,a=this.bones.length;b<a;b++)this.boneInverses.push(new THREE.Matrix4)};
THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var a=0,b=this.bones.length;a<b;a++){var c=new THREE.Matrix4;this.bones[a]&&c.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(c)}};
THREE.Skeleton.prototype.pose=function(){for(var a,b=0,c=this.bones.length;b<c;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(c=this.bones.length;b<c;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale)};
THREE.Skeleton.prototype.update=function(){var a=new THREE.Matrix4;return function(){for(var b=0,c=this.bones.length;b<c;b++)a.multiplyMatrices(this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.flattenToArrayOffset(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}();
THREE.SkinnedMesh=function(a,b,c){THREE.Mesh.call(this,a,b);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new THREE.Matrix4;this.bindMatrixInverse=new THREE.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,e,f,g,h=0,k=this.geometry.bones.length;h<k;++h)d=this.geometry.bones[h],e=d.pos,f=d.rotq,g=d.scl,b=new THREE.Bone(this),a.push(b),b.name=d.name,b.position.set(e[0],e[1],e[2]),b.quaternion.set(f[0],f[1],f[2],f[3]),void 0!==g?b.scale.set(g[0],g[1],g[2]):b.scale.set(1,
1,1);h=0;for(k=this.geometry.bones.length;h<k;++h)d=this.geometry.bones[h],-1!==d.parent?a[d.parent].add(a[h]):this.add(a[h])}this.normalizeSkinWeights();this.updateMatrixWorld(!0);this.bind(new THREE.Skeleton(a,void 0,c))};THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh;THREE.SkinnedMesh.prototype.bind=function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)};
THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()};THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var a=0;a<this.geometry.skinIndices.length;a++){var b=this.geometry.skinWeights[a],c=1/b.lengthManhattan();Infinity!==c?b.multiplyScalar(c):b.set(1)}};
THREE.SkinnedMesh.prototype.updateMatrixWorld=function(a){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):THREE.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)};
THREE.SkinnedMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture));THREE.Mesh.prototype.clone.call(this,a);return a};THREE.MorphAnimMesh=function(a,b){THREE.Mesh.call(this,a,b);this.type="MorphAnimMesh";this.duration=1E3;this.mirroredLoop=!1;this.currentKeyframe=this.lastKeyframe=this.time=0;this.direction=1;this.directionBackwards=!1;this.setFrameRange(0,this.geometry.morphTargets.length-1)};THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype);
THREE.MorphAnimMesh.prototype.constructor=THREE.MorphAnimMesh;THREE.MorphAnimMesh.prototype.setFrameRange=function(a,b){this.startKeyframe=a;this.endKeyframe=b;this.length=this.endKeyframe-this.startKeyframe+1};THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1;this.directionBackwards=!1};THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1;this.directionBackwards=!0};
THREE.MorphAnimMesh.prototype.parseAnimations=function(){var a=this.geometry;a.animations||(a.animations={});for(var b,c=a.animations,d=/([a-z]+)_?(\d+)/,e=0,f=a.morphTargets.length;e<f;e++){var g=a.morphTargets[e].name.match(d);if(g&&1<g.length){g=g[1];c[g]||(c[g]={start:Infinity,end:-Infinity});var h=c[g];e<h.start&&(h.start=e);e>h.end&&(h.end=e);b||(b=g)}}a.firstAnimation=b};
THREE.MorphAnimMesh.prototype.setAnimationLabel=function(a,b,c){this.geometry.animations||(this.geometry.animations={});this.geometry.animations[a]={start:b,end:c}};THREE.MorphAnimMesh.prototype.playAnimation=function(a,b){var c=this.geometry.animations[a];c?(this.setFrameRange(c.start,c.end),this.duration=(c.end-c.start)/b*1E3,this.time=0):THREE.warn("THREE.MorphAnimMesh: animation["+a+"] undefined in .playAnimation()")};
THREE.MorphAnimMesh.prototype.updateAnimation=function(a){var b=this.duration/this.length;this.time+=this.direction*a;if(this.mirroredLoop){if(this.time>this.duration||0>this.time)this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)}else this.time%=this.duration,0>this.time&&(this.time+=this.duration);a=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/b),0,this.length-1);a!==this.currentKeyframe&&
(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[a]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=a);b=this.time%b/b;this.directionBackwards&&(b=1-b);this.morphTargetInfluences[this.currentKeyframe]=b;this.morphTargetInfluences[this.lastKeyframe]=1-b};
THREE.MorphAnimMesh.prototype.interpolateTargets=function(a,b,c){for(var d=this.morphTargetInfluences,e=0,f=d.length;e<f;e++)d[e]=0;-1<a&&(d[a]=1-c);-1<b&&(d[b]=c)};
THREE.MorphAnimMesh.prototype.clone=function(a){void 0===a&&(a=new THREE.MorphAnimMesh(this.geometry,this.material));a.duration=this.duration;a.mirroredLoop=this.mirroredLoop;a.time=this.time;a.lastKeyframe=this.lastKeyframe;a.currentKeyframe=this.currentKeyframe;a.direction=this.direction;a.directionBackwards=this.directionBackwards;THREE.Mesh.prototype.clone.call(this,a);return a};THREE.LOD=function(){THREE.Object3D.call(this);this.objects=[]};THREE.LOD.prototype=Object.create(THREE.Object3D.prototype);
THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.addLevel=function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var c=0;c<this.objects.length&&!(b<this.objects[c].distance);c++);this.objects.splice(c,0,{distance:b,object:a});this.add(a)};THREE.LOD.prototype.getObjectForDistance=function(a){for(var b=1,c=this.objects.length;b<c&&!(a<this.objects[b].distance);b++);return this.objects[b-1].object};
THREE.LOD.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,c)}}();
THREE.LOD.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(c){if(1<this.objects.length){a.setFromMatrixPosition(c.matrixWorld);b.setFromMatrixPosition(this.matrixWorld);c=a.distanceTo(b);this.objects[0].object.visible=!0;for(var d=1,e=this.objects.length;d<e;d++)if(c>=this.objects[d].distance)this.objects[d-1].object.visible=!1,this.objects[d].object.visible=!0;else break;for(;d<e;d++)this.objects[d].object.visible=!1}}}();
THREE.LOD.prototype.clone=function(a){void 0===a&&(a=new THREE.LOD);THREE.Object3D.prototype.clone.call(this,a);for(var b=0,c=this.objects.length;b<c;b++){var d=this.objects[b].object.clone();d.visible=0===b;a.addLevel(d,this.objects[b].distance)}return a};
THREE.Sprite=function(){var a=new Uint16Array([0,1,2,0,2,3]),b=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),c=new Float32Array([0,0,1,0,1,1,0,1]),d=new THREE.BufferGeometry;d.addAttribute("index",new THREE.BufferAttribute(a,1));d.addAttribute("position",new THREE.BufferAttribute(b,3));d.addAttribute("uv",new THREE.BufferAttribute(c,2));return function(a){THREE.Object3D.call(this);this.type="Sprite";this.geometry=d;this.material=void 0!==a?a:new THREE.SpriteMaterial}}();
THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype);THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.raycast=function(){var a=new THREE.Vector3;return function(b,c){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.distanceToPoint(a);d>this.scale.x||c.push({distance:d,point:this.position,face:null,object:this})}}();THREE.Sprite.prototype.clone=function(a){void 0===a&&(a=new THREE.Sprite(this.material));THREE.Object3D.prototype.clone.call(this,a);return a};
THREE.Particle=THREE.Sprite;THREE.LensFlare=function(a,b,c,d,e){THREE.Object3D.call(this);this.lensFlares=[];this.positionScreen=new THREE.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,b,c,d,e)};THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype);THREE.LensFlare.prototype.constructor=THREE.LensFlare;
THREE.LensFlare.prototype.add=function(a,b,c,d,e,f){void 0===b&&(b=-1);void 0===c&&(c=0);void 0===f&&(f=1);void 0===e&&(e=new THREE.Color(16777215));void 0===d&&(d=THREE.NormalBlending);c=Math.min(c,Math.max(0,c));this.lensFlares.push({texture:a,size:b,distance:c,x:0,y:0,z:0,scale:1,rotation:1,opacity:f,color:e,blending:d})};
THREE.LensFlare.prototype.updateLensFlares=function(){var a,b=this.lensFlares.length,c,d=2*-this.positionScreen.x,e=2*-this.positionScreen.y;for(a=0;a<b;a++)c=this.lensFlares[a],c.x=this.positionScreen.x+d*c.distance,c.y=this.positionScreen.y+e*c.distance,c.wantedRotation=c.x*Math.PI*.25,c.rotation+=.25*(c.wantedRotation-c.rotation)};THREE.Scene=function(){THREE.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};THREE.Scene.prototype=Object.create(THREE.Object3D.prototype);
THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.clone=function(a){void 0===a&&(a=new THREE.Scene);THREE.Object3D.prototype.clone.call(this,a);null!==this.fog&&(a.fog=this.fog.clone());null!==this.overrideMaterial&&(a.overrideMaterial=this.overrideMaterial.clone());a.autoUpdate=this.autoUpdate;a.matrixAutoUpdate=this.matrixAutoUpdate;return a};THREE.Fog=function(a,b,c){this.name="";this.color=new THREE.Color(a);this.near=void 0!==b?b:1;this.far=void 0!==c?c:1E3};
THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)};THREE.FogExp2=function(a,b){this.name="";this.color=new THREE.Color(a);this.density=void 0!==b?b:2.5E-4};THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)};THREE.ShaderChunk={};THREE.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n\nfloat square( in float a ) { return a*a; }\nvec2  square( in vec2 a )  { return vec2( a.x*a.x, a.y*a.y ); }\nvec3  square( in vec3 a )  { return vec3( a.x*a.x, a.y*a.y, a.z*a.z ); }\nvec4  square( in vec4 a )  { return vec4( a.x*a.x, a.y*a.y, a.z*a.z, a.w*a.w ); }\nfloat saturate( in float a ) { return clamp( a, 0.0, 1.0 ); }\nvec2  saturate( in vec2 a )  { return clamp( a, 0.0, 1.0 ); }\nvec3  saturate( in vec3 a )  { return clamp( a, 0.0, 1.0 ); }\nvec4  saturate( in vec4 a )  { return clamp( a, 0.0, 1.0 ); }\nfloat average( in float a ) { return a; }\nfloat average( in vec2 a )  { return ( a.x + a.y) * 0.5; }\nfloat average( in vec3 a )  { return ( a.x + a.y + a.z) / 3.0; }\nfloat average( in vec4 a )  { return ( a.x + a.y + a.z + a.w) * 0.25; }\nfloat whiteCompliment( in float a ) { return saturate( 1.0 - a ); }\nvec2  whiteCompliment( in vec2 a )  { return saturate( vec2(1.0) - a ); }\nvec3  whiteCompliment( in vec3 a )  { return saturate( vec3(1.0) - a ); }\nvec4  whiteCompliment( in vec4 a )  { return saturate( vec4(1.0) - a ); }\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\n}\n// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal) {\n\tfloat distance = dot( planeNormal, point-pointOnPlane );\n\treturn point - distance * planeNormal;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn pointOnLine + lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) );\n}\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\n\tif ( decayExponent > 0.0 ) {\n\t  return pow( saturate( 1.0 - lightDistance / cutoffDistance ), decayExponent );\n\t}\n\treturn 1.0;\n}\n\nvec3 inputToLinear( in vec3 a ) {\n#ifdef GAMMA_INPUT\n\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\nvec3 linearToOutput( in vec3 a ) {\n#ifdef GAMMA_OUTPUT\n\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\n#else\n\treturn a;\n#endif\n}\n";
THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n";THREE.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\tfloat dotProduct = dot( transformedNormal, dirVector );\n\tvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t#endif\n\n\t#endif\n\n\t#ifdef WRAP_AROUND\n\n\t\tvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\tdirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tdirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n\t\t#endif\n\n\t#endif\n\n\tvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n\t#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\tpointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tpointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t\tvLightFront += pointLightColor[ i ] * pointLightWeighting * attenuation;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += pointLightColor[ i ] * pointLightWeightingBack * attenuation;\n\n\t\t#endif\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\t\tlVector = normalize( lVector );\n\n\t\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\t\t\tvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n\t\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\t\tvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n\t\t\t\tspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n\t\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\t\tspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvLightFront += spotLightColor[ i ] * spotLightWeighting * attenuation * spotEffect;\n\n\t\t\t#ifdef DOUBLE_SIDED\n\n\t\t\t\tvLightBack += spotLightColor[ i ] * spotLightWeightingBack * attenuation * spotEffect;\n\n\t\t\t#endif\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\tfloat dotProduct = dot( transformedNormal, lVector );\n\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\t\tfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n\t\t#endif\n\n\t}\n\n#endif\n\nvLightFront += ambientLightColor;\n\n#ifdef DOUBLE_SIDED\n\n\tvLightBack += ambientLightColor;\n\n#endif\n";
THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n\n#endif\n";THREE.ShaderChunk.default_vertex="#ifdef USE_SKINNING\n\n\tvec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n\tvec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n";
THREE.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif";THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\t#ifdef USE_MORPHNORMALS\n\n\tvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n\t#else\n\n\tvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n\t#endif\n\n#endif\n";
THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n\tuniform float logDepthBufFC;\n\n#endif";THREE.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\n#endif";THREE.ShaderChunk.lights_phong_fragment="#ifndef FLAT_SHADED\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n\t#endif\n\n#else\n\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#endif\n\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef USE_NORMALMAP\n\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\nvec3 totalDiffuseLight = vec3( 0.0 );\nvec3 totalSpecularLight = vec3( 0.0 );\n\n#if MAX_POINT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += pointLightColor[ i ] * pointDiffuseWeight * attenuation;\n\n\t\t\t\t// specular\n\n\t\tvec3 pointHalfVector = normalize( lVector + viewPosition );\n\t\tfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n\t\tfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * attenuation * specularNormalization;\n\n\t}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n\t\tvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n\t\tvec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\n\n\t\tlVector = normalize( lVector );\n\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\n\n\t\t\tspotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n\t\t\t// diffuse\n\n\t\t\tfloat dotProduct = dot( normal, lVector );\n\n\t\t\t#ifdef WRAP_AROUND\n\n\t\t\t\tfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\t\tfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\t\tvec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n\t\t\t#else\n\n\t\t\t\tfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t\t#endif\n\n\t\t\ttotalDiffuseLight += spotLightColor[ i ] * spotDiffuseWeight * attenuation * spotEffect;\n\n\t\t\t// specular\n\n\t\t\tvec3 spotHalfVector = normalize( lVector + viewPosition );\n\t\t\tfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n\t\t\tfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n\t\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n\t\t\ttotalSpecularLight += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * attenuation * specularNormalization * spotEffect;\n\n\t\t}\n\n\t}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n\t\tvec3 dirVector = transformDirection( directionalLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, dirVector );\n\n\t\t#ifdef WRAP_AROUND\n\n\t\t\tfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\n\t\t\tfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n\t\t\tvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n\t\t#else\n\n\t\t\tfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n\n\t\t#endif\n\n\t\ttotalDiffuseLight += directionalLightColor[ i ] * dirDiffuseWeight;\n\n\t\t// specular\n\n\t\tvec3 dirHalfVector = normalize( dirVector + viewPosition );\n\t\tfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n\t\tfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n\t\t/*\n\t\t// fresnel term from skin shader\n\t\tconst float F0 = 0.128;\n\n\t\tfloat base = 1.0 - dot( viewPosition, dirHalfVector );\n\t\tfloat exponential = pow( base, 5.0 );\n\n\t\tfloat fresnel = exponential + F0 * ( 1.0 - exponential );\n\t\t*/\n\n\t\t/*\n\t\t// fresnel term from fresnel shader\n\t\tconst float mFresnelBias = 0.08;\n\t\tconst float mFresnelScale = 0.3;\n\t\tconst float mFresnelPower = 5.0;\n\n\t\tfloat fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n\t\t*/\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\t// \t\tdirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n\t\tvec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n\t}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n\t\tvec3 lVector = transformDirection( hemisphereLightDirection[ i ], viewMatrix );\n\n\t\t// diffuse\n\n\t\tfloat dotProduct = dot( normal, lVector );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n\t\tvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n\t\ttotalDiffuseLight += hemiColor;\n\n\t\t// specular (sky light)\n\n\t\tvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n\t\tfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n\t\tfloat hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n\t\t// specular (ground light)\n\n\t\tvec3 lVectorGround = -lVector;\n\n\t\tvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n\t\tfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n\t\tfloat hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n\t\tfloat dotProductGround = dot( normal, lVectorGround );\n\n\t\tfloat specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n\t\tvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n\t\tvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n\t\ttotalSpecularLight += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n\t}\n\n#endif\n\n#ifdef METAL\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) * specular + totalSpecularLight + emissive;\n\n#else\n\n\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + ambientLightColor ) + totalSpecularLight + emissive;\n\n#endif\n";
THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n\n#endif";THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n\tvec3 morphedNormal = vec3( 0.0 );\n\n\tmorphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tmorphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tmorphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tmorphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n\tmorphedNormal += normal;\n\n#endif";
THREE.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tuniform float refractionRatio;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif";
THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n\t// Per-Pixel Tangent Space Normal Mapping\n\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\n\t}\n\n#endif\n";
THREE.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n";THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n\tvarying vec2 vUv2;\n\tuniform sampler2D lightMap;\n\n#endif";THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n\t}\n\n#endif";
THREE.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvWorldPosition = worldPosition.xyz;\n\n#endif";THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\n\n\tdiffuseColor *= texelColor;\n\n#endif";THREE.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n\tvUv2 = uv2;\n\n#endif";THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\n#endif\n";
THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif\n";THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n\tvColor.xyz = inputToLinear( color.xyz );\n\n#endif";THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n\t#ifdef USE_MORPHTARGETS\n\n\tvec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\tvec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n\n#endif\n";
THREE.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvarying vec3 vReflect;\n\n\tuniform float refractionRatio;\n\n#endif\n";THREE.ShaderChunk.linear_to_gamma_fragment="\n\toutgoingLight = linearToOutput( outgoingLight );\n";THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#endif";THREE.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n";
THREE.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n\n#endif\n";THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\n\tenvColor.xyz = inputToLinear( envColor.xyz );\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n";
THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif";THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n\t#endif\n\n#endif";THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n\t#ifndef USE_MORPHNORMALS\n\n\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif";
THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif";THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n\t#else\n\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\n\t#endif\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = exp2( - square( fogDensity ) * square( depth ) * LOG2 );\n\t\tfogFactor = whiteCompliment( fogFactor );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\n\t#endif\n\t\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\n\n#endif";
THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n\t// http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n";
THREE.ShaderChunk.defaultnormal_vertex="#ifdef USE_SKINNING\n\n\tvec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n\tvec3 objectNormal = morphedNormal;\n\n#else\n\n\tvec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n\tobjectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n";THREE.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n\tvarying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n\tuniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n";
THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif";THREE.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif";
THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n\toutgoingLight *= diffuseColor.xyz * texture2D( lightMap, vUv2 ).xyz;\n\n#endif";THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif";THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif";THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n\tvec3 morphed = vec3( 0.0 );\n\tmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\tmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\tmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\tmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\tmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\tmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\tmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\tmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n\tmorphed += position;\n\n#endif";
THREE.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n\tvec3 worldNormal = transformDirection( objectNormal, modelMatrix );\n\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t#else\n\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t#endif\n\n#endif\n";
THREE.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n\t#ifdef SHADOWMAP_DEBUG\n\n\t\tvec3 frustumColors[3];\n\t\tfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n\t\tfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n\t\tfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n\t#endif\n\n\t#ifdef SHADOWMAP_CASCADE\n\n\t\tint inFrustumCount = 0;\n\n\t#endif\n\n\tfloat fDepth;\n\tvec3 shadowColor = vec3( 1.0 );\n\n\tfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n\t\t\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\t\t\t// don't shadow pixels outside of light frustum\n\t\t\t\t// use just first frustum (for cascades)\n\t\t\t\t// don't shadow pixels behind far plane of light frustum\n\n\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\tinFrustumCount += int( inFrustum );\n\t\t\tbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n\t\t#else\n\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\t#endif\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t\tshadowCoord.z += shadowBias[ i ];\n\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t/*\n\t\t\t\t\t\t// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n\t\t\t\t\t\t// must enroll loop manually\n\n\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\n\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n\t\t\t\t\t\t\t\t// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n\t\t\t\t\t\t\t\t//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\n\t\t\t\t\t\t\tshadow += 1.0;\n\n\t\t\t\t}\n\n\t\t\t\tshadow /= 9.0;\n\n\t\t*/\n\n\t\t\t\tconst float shadowDelta = 1.0 / 9.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.25 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.25 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\t\t\t\t// Percentage-close filtering\n\t\t\t\t\t\t// (9 pixel kernel)\n\t\t\t\t\t\t// http://fabiensanglard.net/shadowmappingPCF/\n\n\t\t\t\tfloat shadow = 0.0;\n\n\t\t\t\tfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n\t\t\t\tfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n\t\t\t\tfloat dx0 = -1.0 * xPixelOffset;\n\t\t\t\tfloat dy0 = -1.0 * yPixelOffset;\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\n\n\t\t\t\tmat3 shadowKernel;\n\t\t\t\tmat3 depthKernel;\n\n\t\t\t\tdepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n\t\t\t\tdepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n\t\t\t\tdepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n\t\t\t\tdepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n\t\t\t\tdepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n\t\t\t\tdepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n\t\t\t\tdepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n\t\t\t\tdepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n\t\t\t\tdepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\n\t\t\t\tshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n\t\t\t\tshadowKernel[0] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n\t\t\t\tshadowKernel[1] *= vec3(0.25);\n\n\t\t\t\tshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n\t\t\t\tshadowKernel[2] *= vec3(0.25);\n\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n\t\t\t\tshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n\t\t\t\tshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n\t\t\t\tvec4 shadowValues;\n\t\t\t\tshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n\t\t\t\tshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n\t\t\t\tshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n\t\t\t\tshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) );\n\n\t\t\t\tshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n\t\t\t#else\n\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\n\n\t\t\t\tif ( fDepth < shadowCoord.z )\n\n\t\t// spot with multiple shadows is darker\n\n\t\t\t\t\tshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n\t\t// spot with multiple shadows has the same color as single shadow spot\n\n\t\t// \t\t\t\t\tshadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n\t\t\t#endif\n\n\t\t}\n\n\n\t\t#ifdef SHADOWMAP_DEBUG\n\n\t\t\t#ifdef SHADOWMAP_CASCADE\n\n\t\t\t\tif ( inFrustum && inFrustumCount == 1 ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#else\n\n\t\t\t\tif ( inFrustum ) outgoingLight *= frustumColors[ i ];\n\n\t\t\t#endif\n\n\t\t#endif\n\n\t}\n\n\t// NOTE: I am unsure if this is correct in linear space.  -bhouston, Dec 29, 2014\n\tshadowColor = inputToLinear( shadowColor );\n\n\toutgoingLight = outgoingLight * shadowColor;\n\n#endif\n";
THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n\t#ifdef USE_SKINNING\n\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\n\t#elif defined( USE_MORPHTARGETS )\n\n\t\tvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n\t#else\n\n\t\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n\t#endif\n\n#endif\n";THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\n\tuniform float shadowBias[ MAX_SHADOWS ];\n\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\tfloat depth = dot( rgba_depth, bit_shift );\n\t\treturn depth;\n\n\t}\n\n#endif";
THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n";
THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n\tuniform float logDepthBufFC;\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\t#extension GL_EXT_frag_depth : enable\n\t\tvarying float vFragDepth;\n\n\t#endif\n\n#endif";THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n";THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n";
THREE.UniformsUtils={merge:function(a){for(var b={},c=0;c<a.length;c++){var d=this.clone(a[c]),e;for(e in d)b[e]=d[e]}return b},clone:function(a){var b={},c;for(c in a){b[c]={};for(var d in a[c]){var e=a[c][d];b[c][d]=e instanceof THREE.Color||e instanceof THREE.Vector2||e instanceof THREE.Vector3||e instanceof THREE.Vector4||e instanceof THREE.Matrix4||e instanceof THREE.Texture?e.clone():e instanceof Array?e.slice():e}}return b}};
THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",
value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",
value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},pointLightDecay:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]},spotLightDecay:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",
value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},fogDensity:{type:"f",value:2.5E-4},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2E3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}};
THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",
THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"\t#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"\t#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,
"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",
THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"\toutgoingLight = diffuseColor.rgb;",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},
lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.common,THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,
THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,
THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,
THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,
THREE.ShaderChunk.specularmap_fragment,"\t#ifdef DOUBLE_SIDED\n\t\tif ( gl_FrontFacing )\n\t\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\n\t\telse\n\t\t\toutgoingLight += diffuseColor.rgb * vLightBack + emissive;\n\t#else\n\t\toutgoingLight += diffuseColor.rgb * vLightFront + emissive;\n\t#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},
phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif",THREE.ShaderChunk.common,
THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,
THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"\tvViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;",
THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,
"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,
THREE.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\tgl_Position = projectionMatrix * mvPosition;",
THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( psColor, opacity );",
THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.alphatest_fragment,"\toutgoingLight = diffuseColor.rgb;",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),
vertexShader:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",
THREE.ShaderChunk.common,THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,"\toutgoingLight = diffuseColor.rgb;",THREE.ShaderChunk.fog_fragment,"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n}"].join("\n")},
depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2E3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;\nuniform float mFar;\nuniform float opacity;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,
"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\n\tgl_FragColor = vec4( vec3( color ), opacity );\n}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,
"void main() {\n\tvNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vNormal;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\n\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},
tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,
"void main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",
THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;",THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {\nvec3 direction = normalize( vWorldPosition );\nvec2 sampleUV;\nsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\nsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\ngl_FragColor = texture2D( tEquirect, sampleUV );",THREE.ShaderChunk.logdepthbuf_fragment,
"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.common,THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main() {",
THREE.ShaderChunk.logdepthbuf_fragment,"\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n\t#else\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n\t#endif\n}"].join("\n")}};
THREE.WebGLRenderer=function(a){function b(a){var b=a.geometry;a=a.material;var c=b.vertices.length;if(a.attributes){void 0===b.__webglCustomAttributesList&&(b.__webglCustomAttributesList=[]);for(var d in a.attributes){var e=a.attributes[d];if(!e.__webglInitialized||e.createUniqueBuffers){e.__webglInitialized=!0;var f=1;"v2"===e.type?f=2:"v3"===e.type?f=3:"v4"===e.type?f=4:"c"===e.type&&(f=3);e.size=f;e.array=new Float32Array(c*f);e.buffer=m.createBuffer();e.buffer.belongsToAttribute=d;e.needsUpdate=
!0}b.__webglCustomAttributesList.push(e)}}}function c(a,b){return a.material instanceof THREE.MeshFaceMaterial?a.material.materials[b.materialIndex]:a.material}function d(a,b,c,d){c=c.attributes;var e=b.attributes;b=b.attributesKeys;for(var f=0,g=b.length;f<g;f++){var h=b[f],k=e[h];if(0<=k){var n=c[h];void 0!==n?(h=n.itemSize,m.bindBuffer(m.ARRAY_BUFFER,n.buffer),W.enableAttribute(k),m.vertexAttribPointer(k,h,m.FLOAT,!1,0,d*h*4)):void 0!==a.defaultAttributeValues&&(2===a.defaultAttributeValues[h].length?
m.vertexAttrib2fv(k,a.defaultAttributeValues[h]):3===a.defaultAttributeValues[h].length&&m.vertexAttrib3fv(k,a.defaultAttributeValues[h]))}}W.disableUnusedAttributes()}function e(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function f(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function g(a,
b){return b[0]-a[0]}function h(a){if(!1!==a.visible){if(!(a instanceof THREE.Scene||a instanceof THREE.Group)){void 0===a.__webglInit&&(a.__webglInit=!0,a._modelViewMatrix=new THREE.Matrix4,a._normalMatrix=new THREE.Matrix3,a.addEventListener("removed",wb));var c=a.geometry;if(void 0!==c&&void 0===c.__webglInit)if(c.__webglInit=!0,c.addEventListener("dispose",jb),c instanceof THREE.BufferGeometry)B.info.memory.geometries++;else if(a instanceof THREE.Mesh)q(a,c);else if(a instanceof THREE.Line){if(void 0===
c.__webglVertexBuffer){c.__webglVertexBuffer=m.createBuffer();c.__webglColorBuffer=m.createBuffer();c.__webglLineDistanceBuffer=m.createBuffer();B.info.memory.geometries++;var d=c.vertices.length;c.__vertexArray=new Float32Array(3*d);c.__colorArray=new Float32Array(3*d);c.__lineDistanceArray=new Float32Array(1*d);c.__webglLineCount=d;b(a);c.verticesNeedUpdate=!0;c.colorsNeedUpdate=!0;c.lineDistancesNeedUpdate=!0}}else a instanceof THREE.PointCloud&&void 0===c.__webglVertexBuffer&&(c.__webglVertexBuffer=
m.createBuffer(),c.__webglColorBuffer=m.createBuffer(),B.info.memory.geometries++,d=c.vertices.length,c.__vertexArray=new Float32Array(3*d),c.__colorArray=new Float32Array(3*d),c.__webglParticleCount=d,b(a),c.verticesNeedUpdate=!0,c.colorsNeedUpdate=!0);if(void 0===a.__webglActive)if(a.__webglActive=!0,a instanceof THREE.Mesh)if(c instanceof THREE.BufferGeometry)n(ba,c,a);else{if(c instanceof THREE.Geometry)for(var c=Ua[c.id],d=0,e=c.length;d<e;d++)n(ba,c[d],a)}else a instanceof THREE.Line||a instanceof
THREE.PointCloud?n(ba,c,a):(a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback)&&qa.push({id:null,object:a,opaque:null,transparent:null,z:0});if(a instanceof THREE.Light)ca.push(a);else if(a instanceof THREE.Sprite)Xa.push(a);else if(a instanceof THREE.LensFlare)Ya.push(a);else if((c=ba[a.id])&&(!1===a.frustumCulled||!0===cb.intersectsObject(a)))for(d=0,e=c.length;d<e;d++){var f=c[d],g=f,k=g.object,l=g.buffer,p=k.geometry,k=k.material;k instanceof THREE.MeshFaceMaterial?(k=k.materials[p instanceof
THREE.BufferGeometry?0:l.materialIndex],g.material=k,k.transparent?Qa.push(g):Ka.push(g)):k&&(g.material=k,k.transparent?Qa.push(g):Ka.push(g));f.render=!0;!0===B.sortObjects&&(wa.setFromMatrixPosition(a.matrixWorld),wa.applyProjection(db),f.z=wa.z)}}d=0;for(e=a.children.length;d<e;d++)h(a.children[d])}}function k(a,b,c,d,e){for(var f,g=0,h=a.length;g<h;g++){f=a[g];var k=f.object,m=f.buffer;w(k,b);if(e)f=e;else{f=f.material;if(!f)continue;u(f)}B.setMaterialFaces(f);m instanceof THREE.BufferGeometry?
B.renderBufferDirect(b,c,d,f,m,k):B.renderBuffer(b,c,d,f,m,k)}}function l(a,b,c,d,e,f){for(var g,h=0,k=a.length;h<k;h++){g=a[h];var m=g.object;if(m.visible){if(f)g=f;else{g=g[b];if(!g)continue;u(g)}B.renderImmediateObject(c,d,e,g,m)}}}function p(a){var b=a.object.material;b.transparent?(a.transparent=b,a.opaque=null):(a.opaque=b,a.transparent=null)}function q(a,b){var d=a.material,e=!1;if(void 0===Ua[b.id]||!0===b.groupsNeedUpdate){delete ba[a.id];for(var f=Ua,g=b.id,d=d instanceof THREE.MeshFaceMaterial,
h=da.get("OES_element_index_uint")?4294967296:65535,k,e={},l=b.morphTargets.length,p=b.morphNormals.length,q,s={},t=[],r=0,w=b.faces.length;r<w;r++){k=b.faces[r];var u=d?k.materialIndex:0;u in e||(e[u]={hash:u,counter:0});k=e[u].hash+"_"+e[u].counter;k in s||(q={id:Qb++,faces3:[],materialIndex:u,vertices:0,numMorphTargets:l,numMorphNormals:p},s[k]=q,t.push(q));s[k].vertices+3>h&&(e[u].counter+=1,k=e[u].hash+"_"+e[u].counter,k in s||(q={id:Qb++,faces3:[],materialIndex:u,vertices:0,numMorphTargets:l,
numMorphNormals:p},s[k]=q,t.push(q)));s[k].faces3.push(r);s[k].vertices+=3}f[g]=t;b.groupsNeedUpdate=!1}f=Ua[b.id];g=0;for(d=f.length;g<d;g++){h=f[g];if(void 0===h.__webglVertexBuffer){e=h;e.__webglVertexBuffer=m.createBuffer();e.__webglNormalBuffer=m.createBuffer();e.__webglTangentBuffer=m.createBuffer();e.__webglColorBuffer=m.createBuffer();e.__webglUVBuffer=m.createBuffer();e.__webglUV2Buffer=m.createBuffer();e.__webglSkinIndicesBuffer=m.createBuffer();e.__webglSkinWeightsBuffer=m.createBuffer();
e.__webglFaceBuffer=m.createBuffer();e.__webglLineBuffer=m.createBuffer();if(p=e.numMorphTargets)for(e.__webglMorphTargetsBuffers=[],l=0;l<p;l++)e.__webglMorphTargetsBuffers.push(m.createBuffer());if(p=e.numMorphNormals)for(e.__webglMorphNormalsBuffers=[],l=0;l<p;l++)e.__webglMorphNormalsBuffers.push(m.createBuffer());B.info.memory.geometries++;e=h;r=a;w=r.geometry;p=e.faces3;l=3*p.length;s=1*p.length;t=3*p.length;p=c(r,e);e.__vertexArray=new Float32Array(3*l);e.__normalArray=new Float32Array(3*l);
e.__colorArray=new Float32Array(3*l);e.__uvArray=new Float32Array(2*l);1<w.faceVertexUvs.length&&(e.__uv2Array=new Float32Array(2*l));w.hasTangents&&(e.__tangentArray=new Float32Array(4*l));r.geometry.skinWeights.length&&r.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*l),e.__skinWeightArray=new Float32Array(4*l));r=null!==da.get("OES_element_index_uint")&&21845<s?Uint32Array:Uint16Array;e.__typeArray=r;e.__faceArray=new r(3*s);e.__lineArray=new r(2*t);if(w=e.numMorphTargets)for(e.__morphTargetsArrays=
[],r=0;r<w;r++)e.__morphTargetsArrays.push(new Float32Array(3*l));if(w=e.numMorphNormals)for(e.__morphNormalsArrays=[],r=0;r<w;r++)e.__morphNormalsArrays.push(new Float32Array(3*l));e.__webglFaceCount=3*s;e.__webglLineCount=2*t;if(p.attributes)for(s in void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]),s=void 0,p.attributes){var t=p.attributes[s],r={},v;for(v in t)r[v]=t[v];if(!r.__webglInitialized||r.createUniqueBuffers)r.__webglInitialized=!0,w=1,"v2"===r.type?w=2:"v3"===
r.type?w=3:"v4"===r.type?w=4:"c"===r.type&&(w=3),r.size=w,r.array=new Float32Array(l*w),r.buffer=m.createBuffer(),r.buffer.belongsToAttribute=s,t.needsUpdate=!0,r.__original=t;e.__webglCustomAttributesList.push(r)}e.__inittedArrays=!0;b.verticesNeedUpdate=!0;b.morphTargetsNeedUpdate=!0;b.elementsNeedUpdate=!0;b.uvsNeedUpdate=!0;b.normalsNeedUpdate=!0;b.tangentsNeedUpdate=!0;e=b.colorsNeedUpdate=!0}else e=!1;(e||void 0===a.__webglActive)&&n(ba,h,a)}a.__webglActive=!0}function n(a,b,c){var d=c.id;a[d]=
a[d]||[];a[d].push({id:d,buffer:b,object:c,material:null,z:0})}function t(a){var b=a.geometry;if(b instanceof THREE.BufferGeometry)for(var d=b.attributes,e=b.attributesKeys,f=0,g=e.length;f<g;f++){var h=e[f],k=d[h],n="index"===h?m.ELEMENT_ARRAY_BUFFER:m.ARRAY_BUFFER;void 0===k.buffer?(k.buffer=m.createBuffer(),m.bindBuffer(n,k.buffer),m.bufferData(n,k.array,k instanceof THREE.DynamicBufferAttribute?m.DYNAMIC_DRAW:m.STATIC_DRAW),k.needsUpdate=!1):!0===k.needsUpdate&&(m.bindBuffer(n,k.buffer),void 0===
k.updateRange||-1===k.updateRange.count?m.bufferSubData(n,0,k.array):0===k.updateRange.count?console.error("THREE.WebGLRenderer.updateObject: using updateRange for THREE.DynamicBufferAttribute and marked as needsUpdate but count is 0, ensure you are using set methods or updating manually."):(m.bufferSubData(n,k.updateRange.offset*k.array.BYTES_PER_ELEMENT,k.array.subarray(k.updateRange.offset,k.updateRange.offset+k.updateRange.count)),k.updateRange.count=0),k.needsUpdate=!1)}else if(a instanceof THREE.Mesh){!0===
b.groupsNeedUpdate&&q(a,b);for(var l=Ua[b.id],f=0,p=l.length;f<p;f++){var t=l[f],w=c(a,t),u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.morphTargetsNeedUpdate||b.elementsNeedUpdate||b.uvsNeedUpdate||b.normalsNeedUpdate||b.colorsNeedUpdate||b.tangentsNeedUpdate||u){var v=t,x=a,D=m.DYNAMIC_DRAW,A=!b.dynamic,E=w;if(v.__inittedArrays){var G=!1===E instanceof THREE.MeshPhongMaterial&&E.shading===THREE.FlatShading,y=void 0,z=void 0,F=void 0,B=void 0,I=void 0,H=void 0,M=void 0,R=void 0,P=void 0,U=void 0,
O=void 0,J=void 0,L=void 0,N=void 0,Ka=void 0,V=void 0,W=void 0,Qa=void 0,Ya=void 0,Xa=void 0,da=void 0,ba=void 0,ja=void 0,Pa=void 0,ka=void 0,Q=void 0,ha=void 0,ia=void 0,ob=void 0,Y=void 0,ub=void 0,pa=void 0,ab=void 0,oa=void 0,ca=void 0,qa=void 0,Ca=void 0,ta=void 0,na=void 0,wa=void 0,La=0,Ma=0,kb=0,yb=0,zb=0,Ra=0,Aa=0,eb=0,Ha=0,la=0,ra=0,K=0,za=void 0,Sa=v.__vertexArray,Ab=v.__uvArray,lb=v.__uv2Array,Na=v.__normalArray,sa=v.__tangentArray,Da=v.__colorArray,Ea=v.__skinIndexArray,Fa=v.__skinWeightArray,
Gb=v.__morphTargetsArrays,Bb=v.__morphNormalsArrays,mb=v.__webglCustomAttributesList,C=void 0,Va=v.__faceArray,Ta=v.__lineArray,ea=x.geometry,fb=ea.elementsNeedUpdate,vb=ea.uvsNeedUpdate,Mb=ea.normalsNeedUpdate,Ob=ea.tangentsNeedUpdate,ib=ea.colorsNeedUpdate,sb=ea.morphTargetsNeedUpdate,Cb=ea.vertices,$=v.faces3,xa=ea.faces,Hb=ea.faceVertexUvs[0],Oa=ea.faceVertexUvs[1],$a=ea.skinIndices,Ga=ea.skinWeights,nb=ea.morphTargets,bb=ea.morphNormals;if(ea.verticesNeedUpdate){y=0;for(z=$.length;y<z;y++)B=
xa[$[y]],J=Cb[B.a],L=Cb[B.b],N=Cb[B.c],Sa[Ma]=J.x,Sa[Ma+1]=J.y,Sa[Ma+2]=J.z,Sa[Ma+3]=L.x,Sa[Ma+4]=L.y,Sa[Ma+5]=L.z,Sa[Ma+6]=N.x,Sa[Ma+7]=N.y,Sa[Ma+8]=N.z,Ma+=9;m.bindBuffer(m.ARRAY_BUFFER,v.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,Sa,D)}if(sb)for(ca=0,qa=nb.length;ca<qa;ca++){y=ra=0;for(z=$.length;y<z;y++)na=$[y],B=xa[na],J=nb[ca].vertices[B.a],L=nb[ca].vertices[B.b],N=nb[ca].vertices[B.c],Ca=Gb[ca],Ca[ra]=J.x,Ca[ra+1]=J.y,Ca[ra+2]=J.z,Ca[ra+3]=L.x,Ca[ra+4]=L.y,Ca[ra+5]=L.z,Ca[ra+6]=N.x,Ca[ra+
7]=N.y,Ca[ra+8]=N.z,E.morphNormals&&(G?Xa=Ya=Qa=bb[ca].faceNormals[na]:(wa=bb[ca].vertexNormals[na],Qa=wa.a,Ya=wa.b,Xa=wa.c),ta=Bb[ca],ta[ra]=Qa.x,ta[ra+1]=Qa.y,ta[ra+2]=Qa.z,ta[ra+3]=Ya.x,ta[ra+4]=Ya.y,ta[ra+5]=Ya.z,ta[ra+6]=Xa.x,ta[ra+7]=Xa.y,ta[ra+8]=Xa.z),ra+=9;m.bindBuffer(m.ARRAY_BUFFER,v.__webglMorphTargetsBuffers[ca]);m.bufferData(m.ARRAY_BUFFER,Gb[ca],D);E.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglMorphNormalsBuffers[ca]),m.bufferData(m.ARRAY_BUFFER,Bb[ca],D))}if(Ga.length){y=0;
for(z=$.length;y<z;y++)B=xa[$[y]],Pa=Ga[B.a],ka=Ga[B.b],Q=Ga[B.c],Fa[la]=Pa.x,Fa[la+1]=Pa.y,Fa[la+2]=Pa.z,Fa[la+3]=Pa.w,Fa[la+4]=ka.x,Fa[la+5]=ka.y,Fa[la+6]=ka.z,Fa[la+7]=ka.w,Fa[la+8]=Q.x,Fa[la+9]=Q.y,Fa[la+10]=Q.z,Fa[la+11]=Q.w,ha=$a[B.a],ia=$a[B.b],ob=$a[B.c],Ea[la]=ha.x,Ea[la+1]=ha.y,Ea[la+2]=ha.z,Ea[la+3]=ha.w,Ea[la+4]=ia.x,Ea[la+5]=ia.y,Ea[la+6]=ia.z,Ea[la+7]=ia.w,Ea[la+8]=ob.x,Ea[la+9]=ob.y,Ea[la+10]=ob.z,Ea[la+11]=ob.w,la+=12;0<la&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglSkinIndicesBuffer),
m.bufferData(m.ARRAY_BUFFER,Ea,D),m.bindBuffer(m.ARRAY_BUFFER,v.__webglSkinWeightsBuffer),m.bufferData(m.ARRAY_BUFFER,Fa,D))}if(ib){y=0;for(z=$.length;y<z;y++)B=xa[$[y]],M=B.vertexColors,R=B.color,3===M.length&&E.vertexColors===THREE.VertexColors?(da=M[0],ba=M[1],ja=M[2]):ja=ba=da=R,Da[Ha]=da.r,Da[Ha+1]=da.g,Da[Ha+2]=da.b,Da[Ha+3]=ba.r,Da[Ha+4]=ba.g,Da[Ha+5]=ba.b,Da[Ha+6]=ja.r,Da[Ha+7]=ja.g,Da[Ha+8]=ja.b,Ha+=9;0<Ha&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglColorBuffer),m.bufferData(m.ARRAY_BUFFER,Da,
D))}if(Ob&&ea.hasTangents){y=0;for(z=$.length;y<z;y++)B=xa[$[y]],P=B.vertexTangents,Ka=P[0],V=P[1],W=P[2],sa[Aa]=Ka.x,sa[Aa+1]=Ka.y,sa[Aa+2]=Ka.z,sa[Aa+3]=Ka.w,sa[Aa+4]=V.x,sa[Aa+5]=V.y,sa[Aa+6]=V.z,sa[Aa+7]=V.w,sa[Aa+8]=W.x,sa[Aa+9]=W.y,sa[Aa+10]=W.z,sa[Aa+11]=W.w,Aa+=12;m.bindBuffer(m.ARRAY_BUFFER,v.__webglTangentBuffer);m.bufferData(m.ARRAY_BUFFER,sa,D)}if(Mb){y=0;for(z=$.length;y<z;y++)if(B=xa[$[y]],I=B.vertexNormals,H=B.normal,3===I.length&&!1===G)for(Y=0;3>Y;Y++)pa=I[Y],Na[Ra]=pa.x,Na[Ra+1]=
pa.y,Na[Ra+2]=pa.z,Ra+=3;else for(Y=0;3>Y;Y++)Na[Ra]=H.x,Na[Ra+1]=H.y,Na[Ra+2]=H.z,Ra+=3;m.bindBuffer(m.ARRAY_BUFFER,v.__webglNormalBuffer);m.bufferData(m.ARRAY_BUFFER,Na,D)}if(vb&&Hb){y=0;for(z=$.length;y<z;y++)if(F=$[y],U=Hb[F],void 0!==U)for(Y=0;3>Y;Y++)ab=U[Y],Ab[kb]=ab.x,Ab[kb+1]=ab.y,kb+=2;0<kb&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglUVBuffer),m.bufferData(m.ARRAY_BUFFER,Ab,D))}if(vb&&Oa){y=0;for(z=$.length;y<z;y++)if(F=$[y],O=Oa[F],void 0!==O)for(Y=0;3>Y;Y++)oa=O[Y],lb[yb]=oa.x,lb[yb+1]=oa.y,
yb+=2;0<yb&&(m.bindBuffer(m.ARRAY_BUFFER,v.__webglUV2Buffer),m.bufferData(m.ARRAY_BUFFER,lb,D))}if(fb){y=0;for(z=$.length;y<z;y++)Va[zb]=La,Va[zb+1]=La+1,Va[zb+2]=La+2,zb+=3,Ta[eb]=La,Ta[eb+1]=La+1,Ta[eb+2]=La,Ta[eb+3]=La+2,Ta[eb+4]=La+1,Ta[eb+5]=La+2,eb+=6,La+=3;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,v.__webglFaceBuffer);m.bufferData(m.ELEMENT_ARRAY_BUFFER,Va,D);m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,v.__webglLineBuffer);m.bufferData(m.ELEMENT_ARRAY_BUFFER,Ta,D)}if(mb)for(Y=0,ub=mb.length;Y<ub;Y++)if(C=
mb[Y],C.__original.needsUpdate){K=0;if(1===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],C.array[K]=C.value[B.a],C.array[K+1]=C.value[B.b],C.array[K+2]=C.value[B.c],K+=3;else{if("faces"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],C.array[K]=za,C.array[K+1]=za,C.array[K+2]=za,K+=3}else if(2===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J.x,
C.array[K+1]=J.y,C.array[K+2]=L.x,C.array[K+3]=L.y,C.array[K+4]=N.x,C.array[K+5]=N.y,K+=6;else{if("faces"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=L.x,C.array[K+3]=L.y,C.array[K+4]=N.x,C.array[K+5]=N.y,K+=6}else if(3===C.size){var T;T="c"===C.type?["r","g","b"]:["x","y","z"];if(void 0===C.boundTo||"vertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J[T[0]],C.array[K+1]=
J[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9;else if("faces"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J[T[0]],C.array[K+1]=J[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9;else if("faceVertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],
J=za[0],L=za[1],N=za[2],C.array[K]=J[T[0]],C.array[K+1]=J[T[1]],C.array[K+2]=J[T[2]],C.array[K+3]=L[T[0]],C.array[K+4]=L[T[1]],C.array[K+5]=L[T[2]],C.array[K+6]=N[T[0]],C.array[K+7]=N[T[1]],C.array[K+8]=N[T[2]],K+=9}else if(4===C.size)if(void 0===C.boundTo||"vertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)B=xa[$[y]],J=C.value[B.a],L=C.value[B.b],N=C.value[B.c],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=J.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+
8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;else if("faces"===C.boundTo)for(y=0,z=$.length;y<z;y++)N=L=J=za=C.value[$[y]],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=J.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;else if("faceVertices"===C.boundTo)for(y=0,z=$.length;y<z;y++)za=C.value[$[y]],J=za[0],L=za[1],N=za[2],C.array[K]=J.x,C.array[K+1]=J.y,C.array[K+2]=
J.z,C.array[K+3]=J.w,C.array[K+4]=L.x,C.array[K+5]=L.y,C.array[K+6]=L.z,C.array[K+7]=L.w,C.array[K+8]=N.x,C.array[K+9]=N.y,C.array[K+10]=N.z,C.array[K+11]=N.w,K+=12;m.bindBuffer(m.ARRAY_BUFFER,C.buffer);m.bufferData(m.ARRAY_BUFFER,C.array,D)}A&&(delete v.__inittedArrays,delete v.__colorArray,delete v.__normalArray,delete v.__tangentArray,delete v.__uvArray,delete v.__uv2Array,delete v.__faceArray,delete v.__vertexArray,delete v.__lineArray,delete v.__skinIndexArray,delete v.__skinWeightArray)}}}b.verticesNeedUpdate=
!1;b.morphTargetsNeedUpdate=!1;b.elementsNeedUpdate=!1;b.uvsNeedUpdate=!1;b.normalsNeedUpdate=!1;b.colorsNeedUpdate=!1;b.tangentsNeedUpdate=!1;w.attributes&&s(w)}else if(a instanceof THREE.Line){w=c(a,b);u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.colorsNeedUpdate||b.lineDistancesNeedUpdate||u){var Db=m.DYNAMIC_DRAW,S,aa,Z,Ba,X,Eb,Rb=b.vertices,Ib=b.colors,gb=b.lineDistances,ya=Rb.length,pb=Ib.length,qb=gb.length,Wa=b.__vertexArray,tb=b.__colorArray,hb=b.__lineDistanceArray,$b=b.colorsNeedUpdate,
Fb=b.lineDistancesNeedUpdate,Sb=b.__webglCustomAttributesList,Jb,cb,ua,Kb,Ia,fa;if(b.verticesNeedUpdate){for(S=0;S<ya;S++)Ba=Rb[S],X=3*S,Wa[X]=Ba.x,Wa[X+1]=Ba.y,Wa[X+2]=Ba.z;m.bindBuffer(m.ARRAY_BUFFER,b.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,Wa,Db)}if($b){for(aa=0;aa<pb;aa++)Eb=Ib[aa],X=3*aa,tb[X]=Eb.r,tb[X+1]=Eb.g,tb[X+2]=Eb.b;m.bindBuffer(m.ARRAY_BUFFER,b.__webglColorBuffer);m.bufferData(m.ARRAY_BUFFER,tb,Db)}if(Fb){for(Z=0;Z<qb;Z++)hb[Z]=gb[Z];m.bindBuffer(m.ARRAY_BUFFER,b.__webglLineDistanceBuffer);
m.bufferData(m.ARRAY_BUFFER,hb,Db)}if(Sb)for(Jb=0,cb=Sb.length;Jb<cb;Jb++)if(fa=Sb[Jb],fa.needsUpdate&&(void 0===fa.boundTo||"vertices"===fa.boundTo)){X=0;Kb=fa.value.length;if(1===fa.size)for(ua=0;ua<Kb;ua++)fa.array[ua]=fa.value[ua];else if(2===fa.size)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.x,fa.array[X+1]=Ia.y,X+=2;else if(3===fa.size)if("c"===fa.type)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.r,fa.array[X+1]=Ia.g,fa.array[X+2]=Ia.b,X+=3;else for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],
fa.array[X]=Ia.x,fa.array[X+1]=Ia.y,fa.array[X+2]=Ia.z,X+=3;else if(4===fa.size)for(ua=0;ua<Kb;ua++)Ia=fa.value[ua],fa.array[X]=Ia.x,fa.array[X+1]=Ia.y,fa.array[X+2]=Ia.z,fa.array[X+3]=Ia.w,X+=4;m.bindBuffer(m.ARRAY_BUFFER,fa.buffer);m.bufferData(m.ARRAY_BUFFER,fa.array,Db);fa.needsUpdate=!1}}b.verticesNeedUpdate=!1;b.colorsNeedUpdate=!1;b.lineDistancesNeedUpdate=!1;w.attributes&&s(w)}else if(a instanceof THREE.PointCloud){w=c(a,b);u=w.attributes&&r(w);if(b.verticesNeedUpdate||b.colorsNeedUpdate||
u){var db=m.DYNAMIC_DRAW,Tb,Ub,ac,ma,bc,Nb=b.vertices,Vb=Nb.length,Pb=b.colors,rb=Pb.length,cc=b.__vertexArray,dc=b.__colorArray,wb=b.colorsNeedUpdate,gc=b.__webglCustomAttributesList,ec,jb,va,Lb,Ja,ga;if(b.verticesNeedUpdate){for(Tb=0;Tb<Vb;Tb++)ac=Nb[Tb],ma=3*Tb,cc[ma]=ac.x,cc[ma+1]=ac.y,cc[ma+2]=ac.z;m.bindBuffer(m.ARRAY_BUFFER,b.__webglVertexBuffer);m.bufferData(m.ARRAY_BUFFER,cc,db)}if(wb){for(Ub=0;Ub<rb;Ub++)bc=Pb[Ub],ma=3*Ub,dc[ma]=bc.r,dc[ma+1]=bc.g,dc[ma+2]=bc.b;m.bindBuffer(m.ARRAY_BUFFER,
b.__webglColorBuffer);m.bufferData(m.ARRAY_BUFFER,dc,db)}if(gc)for(ec=0,jb=gc.length;ec<jb;ec++){ga=gc[ec];if(ga.needsUpdate&&(void 0===ga.boundTo||"vertices"===ga.boundTo))if(Lb=ga.value.length,ma=0,1===ga.size)for(va=0;va<Lb;va++)ga.array[va]=ga.value[va];else if(2===ga.size)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ma+=2;else if(3===ga.size)if("c"===ga.type)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.r,ga.array[ma+1]=Ja.g,ga.array[ma+2]=Ja.b,ma+=3;else for(va=
0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ga.array[ma+2]=Ja.z,ma+=3;else if(4===ga.size)for(va=0;va<Lb;va++)Ja=ga.value[va],ga.array[ma]=Ja.x,ga.array[ma+1]=Ja.y,ga.array[ma+2]=Ja.z,ga.array[ma+3]=Ja.w,ma+=4;m.bindBuffer(m.ARRAY_BUFFER,ga.buffer);m.bufferData(m.ARRAY_BUFFER,ga.array,db);ga.needsUpdate=!1}}b.verticesNeedUpdate=!1;b.colorsNeedUpdate=!1;w.attributes&&s(w)}}function r(a){for(var b in a.attributes)if(a.attributes[b].needsUpdate)return!0;return!1}function s(a){for(var b in a.attributes)a.attributes[b].needsUpdate=
!1}function u(a){!0===a.transparent?W.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha):W.setBlending(THREE.NoBlending);W.setDepthTest(a.depthTest);W.setDepthWrite(a.depthWrite);W.setColorWrite(a.colorWrite);W.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}function v(a,b,c,d,e){var f,g,h,k;Mb=0;if(d.needsUpdate){d.program&&hc(d);d.addEventListener("dispose",ic);var n=pc[d.type];if(n){var l=THREE.ShaderLib[n];
d.__webglShader={uniforms:THREE.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else d.__webglShader={uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader};for(var p=0,q=0,r=0,s=0,t=0,w=b.length;t<w;t++){var v=b[t];v.onlyShadow||!1===v.visible||(v instanceof THREE.DirectionalLight&&p++,v instanceof THREE.PointLight&&q++,v instanceof THREE.SpotLight&&r++,v instanceof THREE.HemisphereLight&&s++)}f=p;g=q;h=r;k=s;for(var u,z=0,G=
0,F=b.length;G<F;G++){var J=b[G];J.castShadow&&(J instanceof THREE.SpotLight&&z++,J instanceof THREE.DirectionalLight&&!J.shadowCascade&&z++)}u=z;var H;if(Nb&&e&&e.skeleton&&e.skeleton.useVertexTexture)H=1024;else{var N=m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS),M=Math.floor((N-20)/4);void 0!==e&&e instanceof THREE.SkinnedMesh&&(M=Math.min(e.skeleton.bones.length,M),M<e.skeleton.bones.length&&THREE.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+M+" (try OpenGL instead of ANGLE)"));
H=M}var P={precision:L,supportsVertexTextures:Vb,map:!!d.map,envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,lightMap:!!d.lightMap,bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:c,useFog:d.fog,fogExp:c instanceof THREE.FogExp2,flatShading:d.shading===THREE.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:ja,skinning:d.skinning,maxBones:H,useVertexTexture:Nb&&e&&e.skeleton&&
e.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:B.maxMorphTargets,maxMorphNormals:B.maxMorphNormals,maxDirLights:f,maxPointLights:g,maxSpotLights:h,maxHemiLights:k,maxShadows:u,shadowMapEnabled:B.shadowMapEnabled&&e.receiveShadow&&0<u,shadowMapType:B.shadowMapType,shadowMapDebug:B.shadowMapDebug,shadowMapCascade:B.shadowMapCascade,alphaTest:d.alphaTest,metal:d.metal,wrapAround:d.wrapAround,doubleSided:d.side===THREE.DoubleSide,flipSided:d.side===
THREE.BackSide},R=[];n?R.push(n):(R.push(d.fragmentShader),R.push(d.vertexShader));if(void 0!==d.defines)for(var O in d.defines)R.push(O),R.push(d.defines[O]);for(O in P)R.push(O),R.push(P[O]);for(var Ka=R.join(),V,W=0,Qa=Pa.length;W<Qa;W++){var Ya=Pa[W];if(Ya.code===Ka){V=Ya;V.usedTimes++;break}}void 0===V&&(V=new THREE.WebGLProgram(B,Ka,d,P),Pa.push(V),B.info.memory.programs=Pa.length);d.program=V;var Xa=V.attributes;if(d.morphTargets){d.numSupportedMorphTargets=0;for(var ca,da="morphTarget",ba=
0;ba<B.maxMorphTargets;ba++)ca=da+ba,0<=Xa[ca]&&d.numSupportedMorphTargets++}if(d.morphNormals)for(d.numSupportedMorphNormals=0,da="morphNormal",ba=0;ba<B.maxMorphNormals;ba++)ca=da+ba,0<=Xa[ca]&&d.numSupportedMorphNormals++;d.uniformsList=[];for(var ha in d.__webglShader.uniforms){var ta=d.program.uniforms[ha];ta&&d.uniformsList.push([d.__webglShader.uniforms[ha],ta])}d.needsUpdate=!1}d.morphTargets&&!e.__webglMorphTargetInfluences&&(e.__webglMorphTargetInfluences=new Float32Array(B.maxMorphTargets));
var ab=!1,oa=!1,qa=!1,Ua=d.program,ka=Ua.uniforms,Q=d.__webglShader.uniforms;Ua.id!==ob&&(m.useProgram(Ua.program),ob=Ua.id,qa=oa=ab=!0);d.id!==ub&&(-1===ub&&(qa=!0),ub=d.id,oa=!0);if(ab||a!==vb)m.uniformMatrix4fv(ka.projectionMatrix,!1,a.projectionMatrix.elements),ja&&m.uniform1f(ka.logDepthBufFC,2/(Math.log(a.far+1)/Math.LN2)),a!==vb&&(vb=a),(d instanceof THREE.ShaderMaterial||d instanceof THREE.MeshPhongMaterial||d.envMap)&&null!==ka.cameraPosition&&(wa.setFromMatrixPosition(a.matrixWorld),m.uniform3f(ka.cameraPosition,
wa.x,wa.y,wa.z)),(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshBasicMaterial||d instanceof THREE.ShaderMaterial||d.skinning)&&null!==ka.viewMatrix&&m.uniformMatrix4fv(ka.viewMatrix,!1,a.matrixWorldInverse.elements);if(d.skinning)if(e.bindMatrix&&null!==ka.bindMatrix&&m.uniformMatrix4fv(ka.bindMatrix,!1,e.bindMatrix.elements),e.bindMatrixInverse&&null!==ka.bindMatrixInverse&&m.uniformMatrix4fv(ka.bindMatrixInverse,!1,e.bindMatrixInverse.elements),
Nb&&e.skeleton&&e.skeleton.useVertexTexture){if(null!==ka.boneTexture){var db=D();m.uniform1i(ka.boneTexture,db);B.setTexture(e.skeleton.boneTexture,db)}null!==ka.boneTextureWidth&&m.uniform1i(ka.boneTextureWidth,e.skeleton.boneTextureWidth);null!==ka.boneTextureHeight&&m.uniform1i(ka.boneTextureHeight,e.skeleton.boneTextureHeight)}else e.skeleton&&e.skeleton.boneMatrices&&null!==ka.boneGlobalMatrices&&m.uniformMatrix4fv(ka.boneGlobalMatrices,!1,e.skeleton.boneMatrices);if(oa){c&&d.fog&&(Q.fogColor.value=
c.color,c instanceof THREE.Fog?(Q.fogNear.value=c.near,Q.fogFar.value=c.far):c instanceof THREE.FogExp2&&(Q.fogDensity.value=c.density));if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d.lights){if(Ob){var qa=!0,ia,Za,Y,bb=0,cb=0,ib=0,xb,pb,qb,Ca,jb,na=jc,rb=na.directional.colors,La=na.directional.positions,Ma=na.point.colors,kb=na.point.positions,yb=na.point.distances,zb=na.point.decays,Ra=na.spot.colors,Aa=na.spot.positions,eb=na.spot.distances,Ha=na.spot.directions,
la=na.spot.anglesCos,ra=na.spot.exponents,K=na.spot.decays,za=na.hemi.skyColors,Sa=na.hemi.groundColors,Ab=na.hemi.positions,lb=0,Na=0,sa=0,Da=0,Ea=0,Fa=0,Gb=0,Bb=0,mb=0,C=0,Va=0,Ta=0;ia=0;for(Za=b.length;ia<Za;ia++)Y=b[ia],Y.onlyShadow||(xb=Y.color,Ca=Y.intensity,jb=Y.distance,Y instanceof THREE.AmbientLight?Y.visible&&(bb+=xb.r,cb+=xb.g,ib+=xb.b):Y instanceof THREE.DirectionalLight?(Ea+=1,Y.visible&&(pa.setFromMatrixPosition(Y.matrixWorld),wa.setFromMatrixPosition(Y.target.matrixWorld),pa.sub(wa),
pa.normalize(),mb=3*lb,La[mb]=pa.x,La[mb+1]=pa.y,La[mb+2]=pa.z,y(rb,mb,xb,Ca),lb+=1)):Y instanceof THREE.PointLight?(Fa+=1,Y.visible&&(C=3*Na,y(Ma,C,xb,Ca),wa.setFromMatrixPosition(Y.matrixWorld),kb[C]=wa.x,kb[C+1]=wa.y,kb[C+2]=wa.z,yb[Na]=jb,zb[Na]=0===Y.distance?0:Y.decay,Na+=1)):Y instanceof THREE.SpotLight?(Gb+=1,Y.visible&&(Va=3*sa,y(Ra,Va,xb,Ca),pa.setFromMatrixPosition(Y.matrixWorld),Aa[Va]=pa.x,Aa[Va+1]=pa.y,Aa[Va+2]=pa.z,eb[sa]=jb,wa.setFromMatrixPosition(Y.target.matrixWorld),pa.sub(wa),
pa.normalize(),Ha[Va]=pa.x,Ha[Va+1]=pa.y,Ha[Va+2]=pa.z,la[sa]=Math.cos(Y.angle),ra[sa]=Y.exponent,K[sa]=0===Y.distance?0:Y.decay,sa+=1)):Y instanceof THREE.HemisphereLight&&(Bb+=1,Y.visible&&(pa.setFromMatrixPosition(Y.matrixWorld),pa.normalize(),Ta=3*Da,Ab[Ta]=pa.x,Ab[Ta+1]=pa.y,Ab[Ta+2]=pa.z,pb=Y.color,qb=Y.groundColor,y(za,Ta,pb,Ca),y(Sa,Ta,qb,Ca),Da+=1)));ia=3*lb;for(Za=Math.max(rb.length,3*Ea);ia<Za;ia++)rb[ia]=0;ia=3*Na;for(Za=Math.max(Ma.length,3*Fa);ia<Za;ia++)Ma[ia]=0;ia=3*sa;for(Za=Math.max(Ra.length,
3*Gb);ia<Za;ia++)Ra[ia]=0;ia=3*Da;for(Za=Math.max(za.length,3*Bb);ia<Za;ia++)za[ia]=0;ia=3*Da;for(Za=Math.max(Sa.length,3*Bb);ia<Za;ia++)Sa[ia]=0;na.directional.length=lb;na.point.length=Na;na.spot.length=sa;na.hemi.length=Da;na.ambient[0]=bb;na.ambient[1]=cb;na.ambient[2]=ib;Ob=!1}if(qa){var ea=jc;Q.ambientLightColor.value=ea.ambient;Q.directionalLightColor.value=ea.directional.colors;Q.directionalLightDirection.value=ea.directional.positions;Q.pointLightColor.value=ea.point.colors;Q.pointLightPosition.value=
ea.point.positions;Q.pointLightDistance.value=ea.point.distances;Q.pointLightDecay.value=ea.point.decays;Q.spotLightColor.value=ea.spot.colors;Q.spotLightPosition.value=ea.spot.positions;Q.spotLightDistance.value=ea.spot.distances;Q.spotLightDirection.value=ea.spot.directions;Q.spotLightAngleCos.value=ea.spot.anglesCos;Q.spotLightExponent.value=ea.spot.exponents;Q.spotLightDecay.value=ea.spot.decays;Q.hemisphereLightSkyColor.value=ea.hemi.skyColors;Q.hemisphereLightGroundColor.value=ea.hemi.groundColors;
Q.hemisphereLightDirection.value=ea.hemi.positions;x(Q,!0)}else x(Q,!1)}if(d instanceof THREE.MeshBasicMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshPhongMaterial){Q.opacity.value=d.opacity;Q.diffuse.value=d.color;Q.map.value=d.map;Q.lightMap.value=d.lightMap;Q.specularMap.value=d.specularMap;Q.alphaMap.value=d.alphaMap;d.bumpMap&&(Q.bumpMap.value=d.bumpMap,Q.bumpScale.value=d.bumpScale);d.normalMap&&(Q.normalMap.value=d.normalMap,Q.normalScale.value.copy(d.normalScale));
var fb;d.map?fb=d.map:d.specularMap?fb=d.specularMap:d.normalMap?fb=d.normalMap:d.bumpMap?fb=d.bumpMap:d.alphaMap&&(fb=d.alphaMap);if(void 0!==fb){var wb=fb.offset,Qb=fb.repeat;Q.offsetRepeat.value.set(wb.x,wb.y,Qb.x,Qb.y)}Q.envMap.value=d.envMap;Q.flipEnvMap.value=d.envMap instanceof THREE.WebGLRenderTargetCube?1:-1;Q.reflectivity.value=d.reflectivity;Q.refractionRatio.value=d.refractionRatio}if(d instanceof THREE.LineBasicMaterial)Q.diffuse.value=d.color,Q.opacity.value=d.opacity;else if(d instanceof
THREE.LineDashedMaterial)Q.diffuse.value=d.color,Q.opacity.value=d.opacity,Q.dashSize.value=d.dashSize,Q.totalSize.value=d.dashSize+d.gapSize,Q.scale.value=d.scale;else if(d instanceof THREE.PointCloudMaterial){if(Q.psColor.value=d.color,Q.opacity.value=d.opacity,Q.size.value=d.size,Q.scale.value=U.height/2,Q.map.value=d.map,null!==d.map){var Wb=d.map.offset,Xb=d.map.repeat;Q.offsetRepeat.value.set(Wb.x,Wb.y,Xb.x,Xb.y)}}else d instanceof THREE.MeshPhongMaterial?(Q.shininess.value=d.shininess,Q.emissive.value=
d.emissive,Q.specular.value=d.specular,d.wrapAround&&Q.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshLambertMaterial?(Q.emissive.value=d.emissive,d.wrapAround&&Q.wrapRGB.value.copy(d.wrapRGB)):d instanceof THREE.MeshDepthMaterial?(Q.mNear.value=a.near,Q.mFar.value=a.far,Q.opacity.value=d.opacity):d instanceof THREE.MeshNormalMaterial&&(Q.opacity.value=d.opacity);if(e.receiveShadow&&!d._shadowPass&&Q.shadowMatrix)for(var sb=0,Cb=0,$=b.length;Cb<$;Cb++){var xa=b[Cb];xa.castShadow&&(xa instanceof
THREE.SpotLight||xa instanceof THREE.DirectionalLight&&!xa.shadowCascade)&&(Q.shadowMap.value[sb]=xa.shadowMap,Q.shadowMapSize.value[sb]=xa.shadowMapSize,Q.shadowMatrix.value[sb]=xa.shadowMatrix,Q.shadowDarkness.value[sb]=xa.shadowDarkness,Q.shadowBias.value[sb]=xa.shadowBias,sb++)}for(var Hb=d.uniformsList,Oa,$a,Ga,nb=0,fc=Hb.length;nb<fc;nb++){var T=Hb[nb][0];if(!1!==T.needsUpdate){var Db=T.type,S=T.value,aa=Hb[nb][1];switch(Db){case "1i":m.uniform1i(aa,S);break;case "1f":m.uniform1f(aa,S);break;
case "2f":m.uniform2f(aa,S[0],S[1]);break;case "3f":m.uniform3f(aa,S[0],S[1],S[2]);break;case "4f":m.uniform4f(aa,S[0],S[1],S[2],S[3]);break;case "1iv":m.uniform1iv(aa,S);break;case "3iv":m.uniform3iv(aa,S);break;case "1fv":m.uniform1fv(aa,S);break;case "2fv":m.uniform2fv(aa,S);break;case "3fv":m.uniform3fv(aa,S);break;case "4fv":m.uniform4fv(aa,S);break;case "Matrix3fv":m.uniformMatrix3fv(aa,!1,S);break;case "Matrix4fv":m.uniformMatrix4fv(aa,!1,S);break;case "i":m.uniform1i(aa,S);break;case "f":m.uniform1f(aa,
S);break;case "v2":m.uniform2f(aa,S.x,S.y);break;case "v3":m.uniform3f(aa,S.x,S.y,S.z);break;case "v4":m.uniform4f(aa,S.x,S.y,S.z,S.w);break;case "c":m.uniform3f(aa,S.r,S.g,S.b);break;case "iv1":m.uniform1iv(aa,S);break;case "iv":m.uniform3iv(aa,S);break;case "fv1":m.uniform1fv(aa,S);break;case "fv":m.uniform3fv(aa,S);break;case "v2v":void 0===T._array&&(T._array=new Float32Array(2*S.length));for(var Z=0,Ba=S.length;Z<Ba;Z++)Ga=2*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y;m.uniform2fv(aa,T._array);
break;case "v3v":void 0===T._array&&(T._array=new Float32Array(3*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)Ga=3*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y,T._array[Ga+2]=S[Z].z;m.uniform3fv(aa,T._array);break;case "v4v":void 0===T._array&&(T._array=new Float32Array(4*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)Ga=4*Z,T._array[Ga]=S[Z].x,T._array[Ga+1]=S[Z].y,T._array[Ga+2]=S[Z].z,T._array[Ga+3]=S[Z].w;m.uniform4fv(aa,T._array);break;case "m3":m.uniformMatrix3fv(aa,!1,S.elements);break;case "m3v":void 0===
T._array&&(T._array=new Float32Array(9*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)S[Z].flattenToArrayOffset(T._array,9*Z);m.uniformMatrix3fv(aa,!1,T._array);break;case "m4":m.uniformMatrix4fv(aa,!1,S.elements);break;case "m4v":void 0===T._array&&(T._array=new Float32Array(16*S.length));Z=0;for(Ba=S.length;Z<Ba;Z++)S[Z].flattenToArrayOffset(T._array,16*Z);m.uniformMatrix4fv(aa,!1,T._array);break;case "t":Oa=S;$a=D();m.uniform1i(aa,$a);if(!Oa)continue;if(Oa instanceof THREE.CubeTexture||Oa.image instanceof
Array&&6===Oa.image.length){var X=Oa,Eb=$a;if(6===X.image.length)if(X.needsUpdate){X.image.__webglTextureCube||(X.addEventListener("dispose",Pb),X.image.__webglTextureCube=m.createTexture(),B.info.memory.textures++);m.activeTexture(m.TEXTURE0+Eb);m.bindTexture(m.TEXTURE_CUBE_MAP,X.image.__webglTextureCube);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,X.flipY);for(var Rb=X instanceof THREE.CompressedTexture,Ib=X.image[0]instanceof THREE.DataTexture,gb=[],ya=0;6>ya;ya++)gb[ya]=!B.autoScaleCubemaps||Rb||Ib?Ib?
X.image[ya].image:X.image[ya]:E(X.image[ya],qc);var Yb=gb[0],Zb=THREE.Math.isPowerOfTwo(Yb.width)&&THREE.Math.isPowerOfTwo(Yb.height),Wa=I(X.format),tb=I(X.type);A(m.TEXTURE_CUBE_MAP,X,Zb);for(ya=0;6>ya;ya++)if(Rb)for(var hb,$b=gb[ya].mipmaps,Fb=0,Sb=$b.length;Fb<Sb;Fb++)hb=$b[Fb],X.format!==THREE.RGBAFormat&&X.format!==THREE.RGBFormat?-1<kc().indexOf(Wa)?m.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,Fb,Wa,hb.width,hb.height,0,hb.data):THREE.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()"):
m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,Fb,Wa,hb.width,hb.height,0,Wa,tb,hb.data);else Ib?m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,0,Wa,gb[ya].width,gb[ya].height,0,Wa,tb,gb[ya].data):m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+ya,0,Wa,Wa,tb,gb[ya]);X.generateMipmaps&&Zb&&m.generateMipmap(m.TEXTURE_CUBE_MAP);X.needsUpdate=!1;if(X.onUpdate)X.onUpdate()}else m.activeTexture(m.TEXTURE0+Eb),m.bindTexture(m.TEXTURE_CUBE_MAP,X.image.__webglTextureCube)}else if(Oa instanceof THREE.WebGLRenderTargetCube){var Jb=
Oa;m.activeTexture(m.TEXTURE0+$a);m.bindTexture(m.TEXTURE_CUBE_MAP,Jb.__webglTexture)}else B.setTexture(Oa,$a);break;case "tv":void 0===T._array&&(T._array=[]);Z=0;for(Ba=T.value.length;Z<Ba;Z++)T._array[Z]=D();m.uniform1iv(aa,T._array);Z=0;for(Ba=T.value.length;Z<Ba;Z++)Oa=T.value[Z],$a=T._array[Z],Oa&&B.setTexture(Oa,$a);break;default:THREE.warn("THREE.WebGLRenderer: Unknown uniform type: "+Db)}}}}m.uniformMatrix4fv(ka.modelViewMatrix,!1,e._modelViewMatrix.elements);ka.normalMatrix&&m.uniformMatrix3fv(ka.normalMatrix,
!1,e._normalMatrix.elements);null!==ka.modelMatrix&&m.uniformMatrix4fv(ka.modelMatrix,!1,e.matrixWorld.elements);return Ua}function x(a,b){a.ambientLightColor.needsUpdate=b;a.directionalLightColor.needsUpdate=b;a.directionalLightDirection.needsUpdate=b;a.pointLightColor.needsUpdate=b;a.pointLightPosition.needsUpdate=b;a.pointLightDistance.needsUpdate=b;a.pointLightDecay.needsUpdate=b;a.spotLightColor.needsUpdate=b;a.spotLightPosition.needsUpdate=b;a.spotLightDistance.needsUpdate=b;a.spotLightDirection.needsUpdate=
b;a.spotLightAngleCos.needsUpdate=b;a.spotLightExponent.needsUpdate=b;a.spotLightDecay.needsUpdate=b;a.hemisphereLightSkyColor.needsUpdate=b;a.hemisphereLightGroundColor.needsUpdate=b;a.hemisphereLightDirection.needsUpdate=b}function D(){var a=Mb;a>=Wb&&THREE.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+Wb);Mb+=1;return a}function w(a,b){a._modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,a.matrixWorld);a._normalMatrix.getNormalMatrix(a._modelViewMatrix)}
function y(a,b,c,d){a[b]=c.r*d;a[b+1]=c.g*d;a[b+2]=c.b*d}function A(a,b,c){c?(m.texParameteri(a,m.TEXTURE_WRAP_S,I(b.wrapS)),m.texParameteri(a,m.TEXTURE_WRAP_T,I(b.wrapT)),m.texParameteri(a,m.TEXTURE_MAG_FILTER,I(b.magFilter)),m.texParameteri(a,m.TEXTURE_MIN_FILTER,I(b.minFilter))):(m.texParameteri(a,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(a,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),b.wrapS===THREE.ClampToEdgeWrapping&&b.wrapT===THREE.ClampToEdgeWrapping||THREE.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping. ( "+
b.sourceFile+" )"),m.texParameteri(a,m.TEXTURE_MAG_FILTER,z(b.magFilter)),m.texParameteri(a,m.TEXTURE_MIN_FILTER,z(b.minFilter)),b.minFilter!==THREE.NearestFilter&&b.minFilter!==THREE.LinearFilter&&THREE.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter. ( "+b.sourceFile+" )"));(c=da.get("EXT_texture_filter_anisotropic"))&&b.type!==THREE.FloatType&&b.type!==THREE.HalfFloatType&&(1<b.anisotropy||b.__currentAnisotropy)&&
(m.texParameterf(a,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(b.anisotropy,B.getMaxAnisotropy())),b.__currentAnisotropy=b.anisotropy)}function E(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElement("canvas");d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);THREE.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+a.height+"). Resized to "+d.width+"x"+d.height,a);return d}return a}
function G(a,b){m.bindRenderbuffer(m.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_COMPONENT16,b.width,b.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,b.width,b.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,a)):m.renderbufferStorage(m.RENDERBUFFER,m.RGBA4,b.width,b.height)}function F(a){a instanceof
THREE.WebGLRenderTargetCube?(m.bindTexture(m.TEXTURE_CUBE_MAP,a.__webglTexture),m.generateMipmap(m.TEXTURE_CUBE_MAP),m.bindTexture(m.TEXTURE_CUBE_MAP,null)):(m.bindTexture(m.TEXTURE_2D,a.__webglTexture),m.generateMipmap(m.TEXTURE_2D),m.bindTexture(m.TEXTURE_2D,null))}function z(a){return a===THREE.NearestFilter||a===THREE.NearestMipMapNearestFilter||a===THREE.NearestMipMapLinearFilter?m.NEAREST:m.LINEAR}function I(a){var b;if(a===THREE.RepeatWrapping)return m.REPEAT;if(a===THREE.ClampToEdgeWrapping)return m.CLAMP_TO_EDGE;
if(a===THREE.MirroredRepeatWrapping)return m.MIRRORED_REPEAT;if(a===THREE.NearestFilter)return m.NEAREST;if(a===THREE.NearestMipMapNearestFilter)return m.NEAREST_MIPMAP_NEAREST;if(a===THREE.NearestMipMapLinearFilter)return m.NEAREST_MIPMAP_LINEAR;if(a===THREE.LinearFilter)return m.LINEAR;if(a===THREE.LinearMipMapNearestFilter)return m.LINEAR_MIPMAP_NEAREST;if(a===THREE.LinearMipMapLinearFilter)return m.LINEAR_MIPMAP_LINEAR;if(a===THREE.UnsignedByteType)return m.UNSIGNED_BYTE;if(a===THREE.UnsignedShort4444Type)return m.UNSIGNED_SHORT_4_4_4_4;
if(a===THREE.UnsignedShort5551Type)return m.UNSIGNED_SHORT_5_5_5_1;if(a===THREE.UnsignedShort565Type)return m.UNSIGNED_SHORT_5_6_5;if(a===THREE.ByteType)return m.BYTE;if(a===THREE.ShortType)return m.SHORT;if(a===THREE.UnsignedShortType)return m.UNSIGNED_SHORT;if(a===THREE.IntType)return m.INT;if(a===THREE.UnsignedIntType)return m.UNSIGNED_INT;if(a===THREE.FloatType)return m.FLOAT;b=da.get("OES_texture_half_float");if(null!==b&&a===THREE.HalfFloatType)return b.HALF_FLOAT_OES;if(a===THREE.AlphaFormat)return m.ALPHA;
if(a===THREE.RGBFormat)return m.RGB;if(a===THREE.RGBAFormat)return m.RGBA;if(a===THREE.LuminanceFormat)return m.LUMINANCE;if(a===THREE.LuminanceAlphaFormat)return m.LUMINANCE_ALPHA;if(a===THREE.AddEquation)return m.FUNC_ADD;if(a===THREE.SubtractEquation)return m.FUNC_SUBTRACT;if(a===THREE.ReverseSubtractEquation)return m.FUNC_REVERSE_SUBTRACT;if(a===THREE.ZeroFactor)return m.ZERO;if(a===THREE.OneFactor)return m.ONE;if(a===THREE.SrcColorFactor)return m.SRC_COLOR;if(a===THREE.OneMinusSrcColorFactor)return m.ONE_MINUS_SRC_COLOR;
if(a===THREE.SrcAlphaFactor)return m.SRC_ALPHA;if(a===THREE.OneMinusSrcAlphaFactor)return m.ONE_MINUS_SRC_ALPHA;if(a===THREE.DstAlphaFactor)return m.DST_ALPHA;if(a===THREE.OneMinusDstAlphaFactor)return m.ONE_MINUS_DST_ALPHA;if(a===THREE.DstColorFactor)return m.DST_COLOR;if(a===THREE.OneMinusDstColorFactor)return m.ONE_MINUS_DST_COLOR;if(a===THREE.SrcAlphaSaturateFactor)return m.SRC_ALPHA_SATURATE;b=da.get("WEBGL_compressed_texture_s3tc");if(null!==b){if(a===THREE.RGB_S3TC_DXT1_Format)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;
if(a===THREE.RGBA_S3TC_DXT1_Format)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===THREE.RGBA_S3TC_DXT3_Format)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===THREE.RGBA_S3TC_DXT5_Format)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}b=da.get("WEBGL_compressed_texture_pvrtc");if(null!==b){if(a===THREE.RGB_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===THREE.RGB_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===THREE.RGBA_PVRTC_4BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
if(a===THREE.RGBA_PVRTC_2BPPV1_Format)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}b=da.get("EXT_blend_minmax");if(null!==b){if(a===THREE.MinEquation)return b.MIN_EXT;if(a===THREE.MaxEquation)return b.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION);a=a||{};var U=void 0!==a.canvas?a.canvas:document.createElement("canvas"),M=void 0!==a.context?a.context:null,H=1,L=void 0!==a.precision?a.precision:"highp",P=void 0!==a.alpha?a.alpha:!1,N=void 0!==a.depth?a.depth:!0,R=void 0!==a.stencil?
a.stencil:!0,V=void 0!==a.antialias?a.antialias:!1,J=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,oa=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,ja=void 0!==a.logarithmicDepthBuffer?a.logarithmicDepthBuffer:!1,ha=new THREE.Color(0),O=0,ca=[],ba={},qa=[],Ka=[],Qa=[],Xa=[],Ya=[];this.domElement=U;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.gammaFactor=2;this.shadowMapEnabled=this.gammaOutput=this.gammaInput=
!1;this.shadowMapType=THREE.PCFShadowMap;this.shadowMapCullFace=THREE.CullFaceFront;this.shadowMapCascade=this.shadowMapDebug=!1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var B=this,Pa=[],ob=null,ab=null,ub=-1,ta="",vb=null,Mb=0,ib=0,bb=0,pb=U.width,qb=U.height,Xb=0,fc=0,cb=new THREE.Frustum,db=new THREE.Matrix4,wa=new THREE.Vector3,pa=new THREE.Vector3,Ob=!0,jc={ambient:[0,
0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[],decays:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[],decays:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},m;try{var Yb={alpha:P,depth:N,stencil:R,antialias:V,premultipliedAlpha:J,preserveDrawingBuffer:oa};m=M||U.getContext("webgl",Yb)||U.getContext("experimental-webgl",Yb);if(null===m){if(null!==U.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";
throw"Error creating WebGL context.";}U.addEventListener("webglcontextlost",function(a){a.preventDefault();Zb();lc();ba={}},!1)}catch(rc){THREE.error("THREE.WebGLRenderer: "+rc)}var W=new THREE.WebGLState(m,I);void 0===m.getShaderPrecisionFormat&&(m.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var da=new THREE.WebGLExtensions(m);da.get("OES_texture_float");da.get("OES_texture_float_linear");da.get("OES_texture_half_float");da.get("OES_texture_half_float_linear");
da.get("OES_standard_derivatives");ja&&da.get("EXT_frag_depth");var rb=function(a,b,c,d){!0===J&&(a*=d,b*=d,c*=d);m.clearColor(a,b,c,d)},lc=function(){m.clearColor(0,0,0,1);m.clearDepth(1);m.clearStencil(0);m.enable(m.DEPTH_TEST);m.depthFunc(m.LEQUAL);m.frontFace(m.CCW);m.cullFace(m.BACK);m.enable(m.CULL_FACE);m.enable(m.BLEND);m.blendEquation(m.FUNC_ADD);m.blendFunc(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA);m.viewport(ib,bb,pb,qb);rb(ha.r,ha.g,ha.b,O)},Zb=function(){vb=ob=null;ta="";ub=-1;Ob=!0;W.reset()};
lc();this.context=m;this.state=W;var Wb=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),sc=m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS),tc=m.getParameter(m.MAX_TEXTURE_SIZE),qc=m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE),Vb=0<sc,Nb=Vb&&da.get("OES_texture_float"),uc=m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.HIGH_FLOAT),vc=m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.MEDIUM_FLOAT),wc=m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.HIGH_FLOAT),xc=m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.MEDIUM_FLOAT),
kc=function(){var a;return function(){if(void 0!==a)return a;a=[];if(da.get("WEBGL_compressed_texture_pvrtc")||da.get("WEBGL_compressed_texture_s3tc"))for(var b=m.getParameter(m.COMPRESSED_TEXTURE_FORMATS),c=0;c<b.length;c++)a.push(b[c]);return a}}(),yc=0<uc.precision&&0<wc.precision,mc=0<vc.precision&&0<xc.precision;"highp"!==L||yc||(mc?(L="mediump",THREE.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(L="lowp",THREE.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp.")));
"mediump"!==L||mc||(L="lowp",THREE.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var zc=new THREE.ShadowMapPlugin(this,ca,ba,qa),Ac=new THREE.SpritePlugin(this,Xa),Bc=new THREE.LensFlarePlugin(this,Ya);this.getContext=function(){return m};this.forceContextLoss=function(){da.get("WEBGL_lose_context").loseContext()};this.supportsVertexTextures=function(){return Vb};this.supportsFloatTextures=function(){return da.get("OES_texture_float")};this.supportsHalfFloatTextures=function(){return da.get("OES_texture_half_float")};
this.supportsStandardDerivatives=function(){return da.get("OES_standard_derivatives")};this.supportsCompressedTextureS3TC=function(){return da.get("WEBGL_compressed_texture_s3tc")};this.supportsCompressedTexturePVRTC=function(){return da.get("WEBGL_compressed_texture_pvrtc")};this.supportsBlendMinMax=function(){return da.get("EXT_blend_minmax")};this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=da.get("EXT_texture_filter_anisotropic");return a=null!==b?m.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):
0}}();this.getPrecision=function(){return L};this.getPixelRatio=function(){return H};this.setPixelRatio=function(a){H=a};this.setSize=function(a,b,c){U.width=a*H;U.height=b*H;!1!==c&&(U.style.width=a+"px",U.style.height=b+"px");this.setViewport(0,0,a,b)};this.setViewport=function(a,b,c,d){ib=a*H;bb=b*H;pb=c*H;qb=d*H;m.viewport(ib,bb,pb,qb)};this.setScissor=function(a,b,c,d){m.scissor(a*H,b*H,c*H,d*H)};this.enableScissorTest=function(a){a?m.enable(m.SCISSOR_TEST):m.disable(m.SCISSOR_TEST)};this.getClearColor=
function(){return ha};this.setClearColor=function(a,b){ha.set(a);O=void 0!==b?b:1;rb(ha.r,ha.g,ha.b,O)};this.getClearAlpha=function(){return O};this.setClearAlpha=function(a){O=a;rb(ha.r,ha.g,ha.b,O)};this.clear=function(a,b,c){var d=0;if(void 0===a||a)d|=m.COLOR_BUFFER_BIT;if(void 0===b||b)d|=m.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=m.STENCIL_BUFFER_BIT;m.clear(d)};this.clearColor=function(){m.clear(m.COLOR_BUFFER_BIT)};this.clearDepth=function(){m.clear(m.DEPTH_BUFFER_BIT)};this.clearStencil=function(){m.clear(m.STENCIL_BUFFER_BIT)};
this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=Zb;var wb=function(a){a.target.traverse(function(a){a.removeEventListener("remove",wb);if(a instanceof THREE.Mesh||a instanceof THREE.PointCloud||a instanceof THREE.Line)delete ba[a.id];else if(a instanceof THREE.ImmediateRenderObject||a.immediateRenderCallback)for(var b=qa,c=b.length-1;0<=c;c--)b[c].object===a&&b.splice(c,1);delete a.__webglInit;delete a._modelViewMatrix;delete a._normalMatrix;delete a.__webglActive})},
jb=function(a){a=a.target;a.removeEventListener("dispose",jb);delete a.__webglInit;if(a instanceof THREE.BufferGeometry){for(var b in a.attributes){var c=a.attributes[b];void 0!==c.buffer&&(m.deleteBuffer(c.buffer),delete c.buffer)}B.info.memory.geometries--}else if(b=Ua[a.id],void 0!==b){for(var c=0,d=b.length;c<d;c++){var e=b[c];if(void 0!==e.numMorphTargets){for(var f=0,g=e.numMorphTargets;f<g;f++)m.deleteBuffer(e.__webglMorphTargetsBuffers[f]);delete e.__webglMorphTargetsBuffers}if(void 0!==e.numMorphNormals){f=
0;for(g=e.numMorphNormals;f<g;f++)m.deleteBuffer(e.__webglMorphNormalsBuffers[f]);delete e.__webglMorphNormalsBuffers}nc(e)}delete Ua[a.id]}else nc(a);ta=""},Pb=function(a){a=a.target;a.removeEventListener("dispose",Pb);a.image&&a.image.__webglTextureCube?(m.deleteTexture(a.image.__webglTextureCube),delete a.image.__webglTextureCube):void 0!==a.__webglInit&&(m.deleteTexture(a.__webglTexture),delete a.__webglTexture,delete a.__webglInit);B.info.memory.textures--},oc=function(a){a=a.target;a.removeEventListener("dispose",
oc);if(a&&void 0!==a.__webglTexture){m.deleteTexture(a.__webglTexture);delete a.__webglTexture;if(a instanceof THREE.WebGLRenderTargetCube)for(var b=0;6>b;b++)m.deleteFramebuffer(a.__webglFramebuffer[b]),m.deleteRenderbuffer(a.__webglRenderbuffer[b]);else m.deleteFramebuffer(a.__webglFramebuffer),m.deleteRenderbuffer(a.__webglRenderbuffer);delete a.__webglFramebuffer;delete a.__webglRenderbuffer}B.info.memory.textures--},ic=function(a){a=a.target;a.removeEventListener("dispose",ic);hc(a)},nc=function(a){for(var b=
"__webglVertexBuffer __webglNormalBuffer __webglTangentBuffer __webglColorBuffer __webglUVBuffer __webglUV2Buffer __webglSkinIndicesBuffer __webglSkinWeightsBuffer __webglFaceBuffer __webglLineBuffer __webglLineDistanceBuffer".split(" "),c=0,d=b.length;c<d;c++){var e=b[c];void 0!==a[e]&&(m.deleteBuffer(a[e]),delete a[e])}if(void 0!==a.__webglCustomAttributesList){for(e in a.__webglCustomAttributesList)m.deleteBuffer(a.__webglCustomAttributesList[e].buffer);delete a.__webglCustomAttributesList}B.info.memory.geometries--},
hc=function(a){var b=a.program.program;if(void 0!==b){a.program=void 0;var c,d,e=!1;a=0;for(c=Pa.length;a<c;a++)if(d=Pa[a],d.program===b){d.usedTimes--;0===d.usedTimes&&(e=!0);break}if(!0===e){e=[];a=0;for(c=Pa.length;a<c;a++)d=Pa[a],d.program!==b&&e.push(d);Pa=e;m.deleteProgram(b);B.info.memory.programs--}}};this.renderBufferImmediate=function(a,b,c){W.initAttributes();a.hasPositions&&!a.__webglVertexBuffer&&(a.__webglVertexBuffer=m.createBuffer());a.hasNormals&&!a.__webglNormalBuffer&&(a.__webglNormalBuffer=
m.createBuffer());a.hasUvs&&!a.__webglUvBuffer&&(a.__webglUvBuffer=m.createBuffer());a.hasColors&&!a.__webglColorBuffer&&(a.__webglColorBuffer=m.createBuffer());a.hasPositions&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglVertexBuffer),m.bufferData(m.ARRAY_BUFFER,a.positionArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.position),m.vertexAttribPointer(b.attributes.position,3,m.FLOAT,!1,0,0));if(a.hasNormals){m.bindBuffer(m.ARRAY_BUFFER,a.__webglNormalBuffer);if(!1===c instanceof THREE.MeshPhongMaterial&&
c.shading===THREE.FlatShading){var d,e,f,g,h,k,n,l,p,q,r,s=3*a.count;for(r=0;r<s;r+=9)q=a.normalArray,d=q[r],e=q[r+1],f=q[r+2],g=q[r+3],k=q[r+4],l=q[r+5],h=q[r+6],n=q[r+7],p=q[r+8],d=(d+g+h)/3,e=(e+k+n)/3,f=(f+l+p)/3,q[r]=d,q[r+1]=e,q[r+2]=f,q[r+3]=d,q[r+4]=e,q[r+5]=f,q[r+6]=d,q[r+7]=e,q[r+8]=f}m.bufferData(m.ARRAY_BUFFER,a.normalArray,m.DYNAMIC_DRAW);W.enableAttribute(b.attributes.normal);m.vertexAttribPointer(b.attributes.normal,3,m.FLOAT,!1,0,0)}a.hasUvs&&c.map&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglUvBuffer),
m.bufferData(m.ARRAY_BUFFER,a.uvArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.uv),m.vertexAttribPointer(b.attributes.uv,2,m.FLOAT,!1,0,0));a.hasColors&&c.vertexColors!==THREE.NoColors&&(m.bindBuffer(m.ARRAY_BUFFER,a.__webglColorBuffer),m.bufferData(m.ARRAY_BUFFER,a.colorArray,m.DYNAMIC_DRAW),W.enableAttribute(b.attributes.color),m.vertexAttribPointer(b.attributes.color,3,m.FLOAT,!1,0,0));W.disableUnusedAttributes();m.drawArrays(m.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,
b,c,e,f,g){if(!1!==e.visible)if(t(g),a=v(a,b,c,e,g),b=!1,c="direct_"+f.id+"_"+a.id+"_"+(e.wireframe?1:0),c!==ta&&(ta=c,b=!0),b&&W.initAttributes(),g instanceof THREE.Mesh){g=!0===e.wireframe?m.LINES:m.TRIANGLES;var h=f.attributes.index;if(h){var k,n;h.array instanceof Uint32Array&&da.get("OES_element_index_uint")?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2);c=f.offsets;if(0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,
B.info.render.vertices+=h.array.length,B.info.render.faces+=h.array.length/3;else{b=!0;for(var l=0,p=c.length;l<p;l++){var q=c[l].index;b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer));m.drawElements(g,c[l].count,k,c[l].start*n);B.info.render.calls++;B.info.render.vertices+=c[l].count;B.info.render.faces+=c[l].count/3}}}else b&&d(e,a,f,0),e=f.attributes.position,m.drawArrays(g,0,e.array.length/e.itemSize),B.info.render.calls++,B.info.render.vertices+=e.array.length/e.itemSize,B.info.render.faces+=
e.array.length/(3*e.itemSize)}else if(g instanceof THREE.PointCloud)if(g=m.POINTS,h=f.attributes.index)if(h.array instanceof Uint32Array&&da.get("OES_element_index_uint")?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2),c=f.offsets,0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,B.info.render.points+=h.array.length;else for(1<c.length&&(b=!0),l=0,p=c.length;l<p;l++)q=c[l].index,b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,
h.buffer)),m.drawElements(g,c[l].count,k,c[l].start*n),B.info.render.calls++,B.info.render.points+=c[l].count;else if(b&&d(e,a,f,0),e=f.attributes.position,c=f.offsets,0===c.length)m.drawArrays(g,0,e.array.length/3),B.info.render.calls++,B.info.render.points+=e.array.length/3;else for(l=0,p=c.length;l<p;l++)m.drawArrays(g,c[l].index,c[l].count),B.info.render.calls++,B.info.render.points+=c[l].count;else if(g instanceof THREE.Line)if(g=g.mode===THREE.LineStrip?m.LINE_STRIP:m.LINES,W.setLineWidth(e.linewidth*
H),h=f.attributes.index)if(h.array instanceof Uint32Array?(k=m.UNSIGNED_INT,n=4):(k=m.UNSIGNED_SHORT,n=2),c=f.offsets,0===c.length)b&&(d(e,a,f,0),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,h.array.length,k,0),B.info.render.calls++,B.info.render.vertices+=h.array.length;else for(1<c.length&&(b=!0),l=0,p=c.length;l<p;l++)q=c[l].index,b&&(d(e,a,f,q),m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,h.buffer)),m.drawElements(g,c[l].count,k,c[l].start*n),B.info.render.calls++,B.info.render.vertices+=
c[l].count;else if(b&&d(e,a,f,0),e=f.attributes.position,c=f.offsets,0===c.length)m.drawArrays(g,0,e.array.length/3),B.info.render.calls++,B.info.render.vertices+=e.array.length/3;else for(l=0,p=c.length;l<p;l++)m.drawArrays(g,c[l].index,c[l].count),B.info.render.calls++,B.info.render.vertices+=c[l].count};this.renderBuffer=function(a,b,c,d,e,f){if(!1!==d.visible){t(f);c=v(a,b,c,d,f);b=c.attributes;a=!1;c=e.id+"_"+c.id+"_"+(d.wireframe?1:0);c!==ta&&(ta=c,a=!0);a&&W.initAttributes();if(!d.morphTargets&&
0<=b.position)a&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),W.enableAttribute(b.position),m.vertexAttribPointer(b.position,3,m.FLOAT,!1,0,0));else if(f.morphTargetBase){c=d.program.attributes;-1!==f.morphTargetBase&&0<=c.position?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[f.morphTargetBase]),W.enableAttribute(c.position),m.vertexAttribPointer(c.position,3,m.FLOAT,!1,0,0)):0<=c.position&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglVertexBuffer),W.enableAttribute(c.position),m.vertexAttribPointer(c.position,
3,m.FLOAT,!1,0,0));if(f.morphTargetForcedOrder.length)for(var h=0,k=f.morphTargetForcedOrder,n=f.morphTargetInfluences,l;h<d.numSupportedMorphTargets&&h<k.length;)l=c["morphTarget"+h],0<=l&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[k[h]]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0)),l=c["morphNormal"+h],0<=l&&d.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[k[h]]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0)),f.__webglMorphTargetInfluences[h]=
n[k[h]],h++;else{k=[];n=f.morphTargetInfluences;h=f.geometry.morphTargets;n.length>h.length&&(console.warn("THREE.WebGLRenderer: Influences array is bigger than morphTargets array."),n.length=h.length);h=0;for(l=n.length;h<l;h++)k.push([n[h],h]);k.length>d.numSupportedMorphTargets?(k.sort(g),k.length=d.numSupportedMorphTargets):k.length>d.numSupportedMorphNormals?k.sort(g):0===k.length&&k.push([0,0]);for(var h=0,p=d.numSupportedMorphTargets;h<p;h++)if(k[h]){var q=k[h][1];l=c["morphTarget"+h];0<=l&&
(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[q]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0));l=c["morphNormal"+h];0<=l&&d.morphNormals&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[q]),W.enableAttribute(l),m.vertexAttribPointer(l,3,m.FLOAT,!1,0,0));f.__webglMorphTargetInfluences[h]=n[q]}else f.__webglMorphTargetInfluences[h]=0}null!==d.program.uniforms.morphTargetInfluences&&m.uniform1fv(d.program.uniforms.morphTargetInfluences,f.__webglMorphTargetInfluences)}if(a){if(e.__webglCustomAttributesList)for(c=
0,n=e.__webglCustomAttributesList.length;c<n;c++)k=e.__webglCustomAttributesList[c],0<=b[k.buffer.belongsToAttribute]&&(m.bindBuffer(m.ARRAY_BUFFER,k.buffer),W.enableAttribute(b[k.buffer.belongsToAttribute]),m.vertexAttribPointer(b[k.buffer.belongsToAttribute],k.size,m.FLOAT,!1,0,0));0<=b.color&&(0<f.geometry.colors.length||0<f.geometry.faces.length?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglColorBuffer),W.enableAttribute(b.color),m.vertexAttribPointer(b.color,3,m.FLOAT,!1,0,0)):void 0!==d.defaultAttributeValues&&
m.vertexAttrib3fv(b.color,d.defaultAttributeValues.color));0<=b.normal&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglNormalBuffer),W.enableAttribute(b.normal),m.vertexAttribPointer(b.normal,3,m.FLOAT,!1,0,0));0<=b.tangent&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglTangentBuffer),W.enableAttribute(b.tangent),m.vertexAttribPointer(b.tangent,4,m.FLOAT,!1,0,0));0<=b.uv&&(f.geometry.faceVertexUvs[0]?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglUVBuffer),W.enableAttribute(b.uv),m.vertexAttribPointer(b.uv,2,m.FLOAT,!1,0,
0)):void 0!==d.defaultAttributeValues&&m.vertexAttrib2fv(b.uv,d.defaultAttributeValues.uv));0<=b.uv2&&(f.geometry.faceVertexUvs[1]?(m.bindBuffer(m.ARRAY_BUFFER,e.__webglUV2Buffer),W.enableAttribute(b.uv2),m.vertexAttribPointer(b.uv2,2,m.FLOAT,!1,0,0)):void 0!==d.defaultAttributeValues&&m.vertexAttrib2fv(b.uv2,d.defaultAttributeValues.uv2));d.skinning&&0<=b.skinIndex&&0<=b.skinWeight&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),W.enableAttribute(b.skinIndex),m.vertexAttribPointer(b.skinIndex,
4,m.FLOAT,!1,0,0),m.bindBuffer(m.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),W.enableAttribute(b.skinWeight),m.vertexAttribPointer(b.skinWeight,4,m.FLOAT,!1,0,0));0<=b.lineDistance&&(m.bindBuffer(m.ARRAY_BUFFER,e.__webglLineDistanceBuffer),W.enableAttribute(b.lineDistance),m.vertexAttribPointer(b.lineDistance,1,m.FLOAT,!1,0,0))}W.disableUnusedAttributes();f instanceof THREE.Mesh?(f=e.__typeArray===Uint32Array?m.UNSIGNED_INT:m.UNSIGNED_SHORT,d.wireframe?(W.setLineWidth(d.wireframeLinewidth*H),a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,
e.__webglLineBuffer),m.drawElements(m.LINES,e.__webglLineCount,f,0)):(a&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),m.drawElements(m.TRIANGLES,e.__webglFaceCount,f,0)),B.info.render.calls++,B.info.render.vertices+=e.__webglFaceCount,B.info.render.faces+=e.__webglFaceCount/3):f instanceof THREE.Line?(f=f.mode===THREE.LineStrip?m.LINE_STRIP:m.LINES,W.setLineWidth(d.linewidth*H),m.drawArrays(f,0,e.__webglLineCount),B.info.render.calls++):f instanceof THREE.PointCloud&&(m.drawArrays(m.POINTS,
0,e.__webglParticleCount),B.info.render.calls++,B.info.render.points+=e.__webglParticleCount)}};this.render=function(a,b,c,d){if(!1===b instanceof THREE.Camera)THREE.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var g=a.fog;ta="";ub=-1;vb=null;Ob=!0;!0===a.autoUpdate&&a.updateMatrixWorld();void 0===b.parent&&b.updateMatrixWorld();a.traverse(function(a){a instanceof THREE.SkinnedMesh&&a.skeleton.update()});b.matrixWorldInverse.getInverse(b.matrixWorld);db.multiplyMatrices(b.projectionMatrix,
b.matrixWorldInverse);cb.setFromMatrix(db);ca.length=0;Ka.length=0;Qa.length=0;Xa.length=0;Ya.length=0;h(a);!0===B.sortObjects&&(Ka.sort(e),Qa.sort(f));zc.render(a,b);B.info.render.calls=0;B.info.render.vertices=0;B.info.render.faces=0;B.info.render.points=0;this.setRenderTarget(c);(this.autoClear||d)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);d=0;for(var n=qa.length;d<n;d++){var m=qa[d],q=m.object;q.visible&&(w(q,b),p(m))}a.overrideMaterial?(d=a.overrideMaterial,u(d),
k(Ka,b,ca,g,d),k(Qa,b,ca,g,d),l(qa,"",b,ca,g,d)):(W.setBlending(THREE.NoBlending),k(Ka,b,ca,g,null),l(qa,"opaque",b,ca,g,null),k(Qa,b,ca,g,null),l(qa,"transparent",b,ca,g,null));Ac.render(a,b);Bc.render(a,b,Xb,fc);c&&c.generateMipmaps&&c.minFilter!==THREE.NearestFilter&&c.minFilter!==THREE.LinearFilter&&F(c);W.setDepthTest(!0);W.setDepthWrite(!0);W.setColorWrite(!0)}};this.renderImmediateObject=function(a,b,c,d,e){var f=v(a,b,c,d,e);ta="";B.setMaterialFaces(d);e.immediateRenderCallback?e.immediateRenderCallback(f,
m,cb):e.render(function(a){B.renderBufferImmediate(a,f,d)})};var Ua={},Qb=0,pc={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointCloudMaterial:"particle_basic"};this.setFaceCulling=function(a,b){a===THREE.CullFaceNone?m.disable(m.CULL_FACE):(b===THREE.FrontFaceDirectionCW?m.frontFace(m.CW):m.frontFace(m.CCW),a===THREE.CullFaceBack?m.cullFace(m.BACK):a===
THREE.CullFaceFront?m.cullFace(m.FRONT):m.cullFace(m.FRONT_AND_BACK),m.enable(m.CULL_FACE))};this.setMaterialFaces=function(a){W.setDoubleSided(a.side===THREE.DoubleSide);W.setFlipSided(a.side===THREE.BackSide)};this.uploadTexture=function(a){void 0===a.__webglInit&&(a.__webglInit=!0,a.addEventListener("dispose",Pb),a.__webglTexture=m.createTexture(),B.info.memory.textures++);m.bindTexture(m.TEXTURE_2D,a.__webglTexture);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,a.flipY);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
a.premultiplyAlpha);m.pixelStorei(m.UNPACK_ALIGNMENT,a.unpackAlignment);a.image=E(a.image,tc);var b=a.image,c=THREE.Math.isPowerOfTwo(b.width)&&THREE.Math.isPowerOfTwo(b.height),d=I(a.format),e=I(a.type);A(m.TEXTURE_2D,a,c);var f=a.mipmaps;if(a instanceof THREE.DataTexture)if(0<f.length&&c){for(var g=0,h=f.length;g<h;g++)b=f[g],m.texImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,d,e,b.data);a.generateMipmaps=!1}else m.texImage2D(m.TEXTURE_2D,0,d,b.width,b.height,0,d,e,b.data);else if(a instanceof THREE.CompressedTexture)for(g=
0,h=f.length;g<h;g++)b=f[g],a.format!==THREE.RGBAFormat&&a.format!==THREE.RGBFormat?-1<kc().indexOf(d)?m.compressedTexImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,b.data):THREE.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):m.texImage2D(m.TEXTURE_2D,g,d,b.width,b.height,0,d,e,b.data);else if(0<f.length&&c){g=0;for(h=f.length;g<h;g++)b=f[g],m.texImage2D(m.TEXTURE_2D,g,d,d,e,b);a.generateMipmaps=!1}else m.texImage2D(m.TEXTURE_2D,0,d,d,e,a.image);
a.generateMipmaps&&c&&m.generateMipmap(m.TEXTURE_2D);a.needsUpdate=!1;if(a.onUpdate)a.onUpdate()};this.setTexture=function(a,b){m.activeTexture(m.TEXTURE0+b);a.needsUpdate?B.uploadTexture(a):m.bindTexture(m.TEXTURE_2D,a.__webglTexture)};this.setRenderTarget=function(a){var b=a instanceof THREE.WebGLRenderTargetCube;if(a&&void 0===a.__webglFramebuffer){void 0===a.depthBuffer&&(a.depthBuffer=!0);void 0===a.stencilBuffer&&(a.stencilBuffer=!0);a.addEventListener("dispose",oc);a.__webglTexture=m.createTexture();
B.info.memory.textures++;var c=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),d=I(a.format),e=I(a.type);if(b){a.__webglFramebuffer=[];a.__webglRenderbuffer=[];m.bindTexture(m.TEXTURE_CUBE_MAP,a.__webglTexture);A(m.TEXTURE_CUBE_MAP,a,c);for(var f=0;6>f;f++){a.__webglFramebuffer[f]=m.createFramebuffer();a.__webglRenderbuffer[f]=m.createRenderbuffer();m.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+f,0,d,a.width,a.height,0,d,e,null);var g=a,h=m.TEXTURE_CUBE_MAP_POSITIVE_X+f;m.bindFramebuffer(m.FRAMEBUFFER,
a.__webglFramebuffer[f]);m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,h,g.__webglTexture,0);G(a.__webglRenderbuffer[f],a)}c&&m.generateMipmap(m.TEXTURE_CUBE_MAP)}else a.__webglFramebuffer=m.createFramebuffer(),a.__webglRenderbuffer=a.shareDepthFrom?a.shareDepthFrom.__webglRenderbuffer:m.createRenderbuffer(),m.bindTexture(m.TEXTURE_2D,a.__webglTexture),A(m.TEXTURE_2D,a,c),m.texImage2D(m.TEXTURE_2D,0,d,a.width,a.height,0,d,e,null),d=m.TEXTURE_2D,m.bindFramebuffer(m.FRAMEBUFFER,a.__webglFramebuffer),
m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,d,a.__webglTexture,0),a.shareDepthFrom?a.depthBuffer&&!a.stencilBuffer?m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,a.__webglRenderbuffer):a.depthBuffer&&a.stencilBuffer&&m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,a.__webglRenderbuffer):G(a.__webglRenderbuffer,a),c&&m.generateMipmap(m.TEXTURE_2D);b?m.bindTexture(m.TEXTURE_CUBE_MAP,null):m.bindTexture(m.TEXTURE_2D,null);m.bindRenderbuffer(m.RENDERBUFFER,
null);m.bindFramebuffer(m.FRAMEBUFFER,null)}a?(b=b?a.__webglFramebuffer[a.activeCubeFace]:a.__webglFramebuffer,c=a.width,a=a.height,e=d=0):(b=null,c=pb,a=qb,d=ib,e=bb);b!==ab&&(m.bindFramebuffer(m.FRAMEBUFFER,b),m.viewport(d,e,c,a),ab=b);Xb=c;fc=a};this.readRenderTargetPixels=function(a,b,c,d,e,f){if(!(a instanceof THREE.WebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else if(a.__webglFramebuffer)if(a.format!==THREE.RGBAFormat)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA format. readPixels can read only RGBA format.");
else{var g=!1;a.__webglFramebuffer!==ab&&(m.bindFramebuffer(m.FRAMEBUFFER,a.__webglFramebuffer),g=!0);m.checkFramebufferStatus(m.FRAMEBUFFER)===m.FRAMEBUFFER_COMPLETE?m.readPixels(b,c,d,e,m.RGBA,m.UNSIGNED_BYTE,f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.");g&&m.bindFramebuffer(m.FRAMEBUFFER,ab)}};this.initMaterial=function(){THREE.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};this.addPrePlugin=function(){THREE.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};
this.addPostPlugin=function(){THREE.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};this.updateShadowMap=function(){THREE.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}};
THREE.WebGLRenderTarget=function(a,b,c){this.width=a;this.height=b;c=c||{};this.wrapS=void 0!==c.wrapS?c.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=void 0!==c.wrapT?c.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=void 0!==c.magFilter?c.magFilter:THREE.LinearFilter;this.minFilter=void 0!==c.minFilter?c.minFilter:THREE.LinearMipMapLinearFilter;this.anisotropy=void 0!==c.anisotropy?c.anisotropy:1;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=void 0!==c.format?c.format:
THREE.RGBAFormat;this.type=void 0!==c.type?c.type:THREE.UnsignedByteType;this.depthBuffer=void 0!==c.depthBuffer?c.depthBuffer:!0;this.stencilBuffer=void 0!==c.stencilBuffer?c.stencilBuffer:!0;this.generateMipmaps=!0;this.shareDepthFrom=void 0!==c.shareDepthFrom?c.shareDepthFrom:null};
THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(a,b){this.width=a;this.height=b},clone:function(){var a=new THREE.WebGLRenderTarget(this.width,this.height);a.wrapS=this.wrapS;a.wrapT=this.wrapT;a.magFilter=this.magFilter;a.minFilter=this.minFilter;a.anisotropy=this.anisotropy;a.offset.copy(this.offset);a.repeat.copy(this.repeat);a.format=this.format;a.type=this.type;a.depthBuffer=this.depthBuffer;a.stencilBuffer=this.stencilBuffer;a.generateMipmaps=this.generateMipmaps;
a.shareDepthFrom=this.shareDepthFrom;return a},dispose:function(){this.dispatchEvent({type:"dispose"})}};THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube=function(a,b,c){THREE.WebGLRenderTarget.call(this,a,b,c);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype);THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;
THREE.WebGLExtensions=function(a){var b={};this.get=function(c){if(void 0!==b[c])return b[c];var d;switch(c){case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}null===d&&THREE.warn("THREE.WebGLRenderer: "+c+" extension not supported.");return b[c]=d}};
THREE.WebGLProgram=function(){var a=0;return function(b,c,d,e){var f=b.context,g=d.defines,h=d.__webglShader.uniforms,k=d.attributes,l=d.__webglShader.vertexShader,p=d.__webglShader.fragmentShader,q=d.index0AttributeName;void 0===q&&!0===e.morphTargets&&(q="position");var n="SHADOWMAP_TYPE_BASIC";e.shadowMapType===THREE.PCFShadowMap?n="SHADOWMAP_TYPE_PCF":e.shadowMapType===THREE.PCFSoftShadowMap&&(n="SHADOWMAP_TYPE_PCF_SOFT");var t="ENVMAP_TYPE_CUBE",r="ENVMAP_MODE_REFLECTION",s="ENVMAP_BLENDING_MULTIPLY";
if(e.envMap){switch(d.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:t="ENVMAP_TYPE_CUBE";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:t="ENVMAP_TYPE_EQUIREC";break;case THREE.SphericalReflectionMapping:t="ENVMAP_TYPE_SPHERE"}switch(d.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:r="ENVMAP_MODE_REFRACTION"}switch(d.combine){case THREE.MultiplyOperation:s="ENVMAP_BLENDING_MULTIPLY";
break;case THREE.MixOperation:s="ENVMAP_BLENDING_MIX";break;case THREE.AddOperation:s="ENVMAP_BLENDING_ADD"}}var u=0<b.gammaFactor?b.gammaFactor:1,v,x;v=[];for(var D in g)x=g[D],!1!==x&&(x="#define "+D+" "+x,v.push(x));v=v.join("\n");g=f.createProgram();d instanceof THREE.RawShaderMaterial?b=d="":(d=["precision "+e.precision+" float;","precision "+e.precision+" int;",v,e.supportsVertexTextures?"#define VERTEX_TEXTURES":"",b.gammaInput?"#define GAMMA_INPUT":"",b.gammaOutput?"#define GAMMA_OUTPUT":
"","#define GAMMA_FACTOR "+u,"#define MAX_DIR_LIGHTS "+e.maxDirLights,"#define MAX_POINT_LIGHTS "+e.maxPointLights,"#define MAX_SPOT_LIGHTS "+e.maxSpotLights,"#define MAX_HEMI_LIGHTS "+e.maxHemiLights,"#define MAX_SHADOWS "+e.maxShadows,"#define MAX_BONES "+e.maxBones,e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+r:"",e.lightMap?"#define USE_LIGHTMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":
"",e.alphaMap?"#define USE_ALPHAMAP":"",e.vertexColors?"#define USE_COLOR":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals?"#define USE_MORPHNORMALS":"",e.wrapAround?"#define WRAP_AROUND":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+n:"",e.shadowMapDebug?
"#define SHADOWMAP_DEBUG":"",e.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\n\tattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\n\tattribute vec3 morphTarget0;\n\tattribute vec3 morphTarget1;\n\tattribute vec3 morphTarget2;\n\tattribute vec3 morphTarget3;\n\t#ifdef USE_MORPHNORMALS\n\t\tattribute vec3 morphNormal0;\n\t\tattribute vec3 morphNormal1;\n\t\tattribute vec3 morphNormal2;\n\t\tattribute vec3 morphNormal3;\n\t#else\n\t\tattribute vec3 morphTarget4;\n\t\tattribute vec3 morphTarget5;\n\t\tattribute vec3 morphTarget6;\n\t\tattribute vec3 morphTarget7;\n\t#endif\n#endif\n#ifdef USE_SKINNING\n\tattribute vec4 skinIndex;\n\tattribute vec4 skinWeight;\n#endif\n"].join("\n"),
b=["precision "+e.precision+" float;","precision "+e.precision+" int;",e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",v,"#define MAX_DIR_LIGHTS "+e.maxDirLights,"#define MAX_POINT_LIGHTS "+e.maxPointLights,"#define MAX_SPOT_LIGHTS "+e.maxSpotLights,"#define MAX_HEMI_LIGHTS "+e.maxHemiLights,"#define MAX_SHADOWS "+e.maxShadows,e.alphaTest?"#define ALPHATEST "+e.alphaTest:"",b.gammaInput?"#define GAMMA_INPUT":"",b.gammaOutput?"#define GAMMA_OUTPUT":"","#define GAMMA_FACTOR "+
u,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+t:"",e.envMap?"#define "+r:"",e.envMap?"#define "+s:"",e.lightMap?"#define USE_LIGHTMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.vertexColors?"#define USE_COLOR":"",e.flatShading?"#define FLAT_SHADED":"",e.metal?"#define METAL":
"",e.wrapAround?"#define WRAP_AROUND":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+n:"",e.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",e.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n"));l=new THREE.WebGLShader(f,f.VERTEX_SHADER,d+l);p=new THREE.WebGLShader(f,f.FRAGMENT_SHADER,
b+p);f.attachShader(g,l);f.attachShader(g,p);void 0!==q&&f.bindAttribLocation(g,0,q);f.linkProgram(g);q=f.getProgramInfoLog(g);!1===f.getProgramParameter(g,f.LINK_STATUS)&&THREE.error("THREE.WebGLProgram: shader error: "+f.getError(),"gl.VALIDATE_STATUS",f.getProgramParameter(g,f.VALIDATE_STATUS),"gl.getPRogramInfoLog",q);""!==q&&THREE.warn("THREE.WebGLProgram: gl.getProgramInfoLog()"+q);f.deleteShader(l);f.deleteShader(p);q="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences bindMatrix bindMatrixInverse".split(" ");
e.useVertexTexture?(q.push("boneTexture"),q.push("boneTextureWidth"),q.push("boneTextureHeight")):q.push("boneGlobalMatrices");e.logarithmicDepthBuffer&&q.push("logDepthBufFC");for(var w in h)q.push(w);h=q;w={};q=0;for(b=h.length;q<b;q++)n=h[q],w[n]=f.getUniformLocation(g,n);this.uniforms=w;q="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" ");for(h=0;h<e.maxMorphTargets;h++)q.push("morphTarget"+h);for(h=0;h<e.maxMorphNormals;h++)q.push("morphNormal"+h);for(var y in k)q.push(y);
e=q;k={};y=0;for(h=e.length;y<h;y++)w=e[y],k[w]=f.getAttribLocation(g,w);this.attributes=k;this.attributesKeys=Object.keys(this.attributes);this.id=a++;this.code=c;this.usedTimes=1;this.program=g;this.vertexShader=l;this.fragmentShader=p;return this}}();
THREE.WebGLShader=function(){var a=function(a){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=c+1+": "+a[c];return a.join("\n")};return function(b,c,d){c=b.createShader(c);b.shaderSource(c,d);b.compileShader(c);!1===b.getShaderParameter(c,b.COMPILE_STATUS)&&THREE.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(c)&&THREE.warn("THREE.WebGLShader: gl.getShaderInfoLog()",b.getShaderInfoLog(c),a(d));return c}}();
THREE.WebGLState=function(a,b){var c=new Uint8Array(16),d=new Uint8Array(16),e=null,f=null,g=null,h=null,k=null,l=null,p=null,q=null,n=null,t=null,r=null,s=null,u=null,v=null,x=null,D=null;this.initAttributes=function(){for(var a=0,b=c.length;a<b;a++)c[a]=0};this.enableAttribute=function(b){c[b]=1;0===d[b]&&(a.enableVertexAttribArray(b),d[b]=1)};this.disableUnusedAttributes=function(){for(var b=0,e=d.length;b<e;b++)d[b]!==c[b]&&(a.disableVertexAttribArray(b),d[b]=0)};this.setBlending=function(c,d,
n,q,r,s,t){c!==e&&(c===THREE.NoBlending?a.disable(a.BLEND):c===THREE.AdditiveBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):c===THREE.SubtractiveBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):c===THREE.MultiplyBlending?(a.enable(a.BLEND),a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.SRC_COLOR)):c===THREE.CustomBlending?a.enable(a.BLEND):(a.enable(a.BLEND),a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),
a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),e=c);if(c===THREE.CustomBlending){r=r||d;s=s||n;t=t||q;if(d!==f||r!==k)a.blendEquationSeparate(b(d),b(r)),f=d,k=r;if(n!==g||q!==h||s!==l||t!==p)a.blendFuncSeparate(b(n),b(q),b(s),b(t)),g=n,h=q,l=s,p=t}else p=l=k=h=g=f=null};this.setDepthTest=function(b){q!==b&&(b?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST),q=b)};this.setDepthWrite=function(b){n!==b&&(a.depthMask(b),n=b)};this.setColorWrite=function(b){t!==b&&(a.colorMask(b,
b,b,b),t=b)};this.setDoubleSided=function(b){r!==b&&(b?a.disable(a.CULL_FACE):a.enable(a.CULL_FACE),r=b)};this.setFlipSided=function(b){s!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),s=b)};this.setLineWidth=function(b){b!==u&&(a.lineWidth(b),u=b)};this.setPolygonOffset=function(b,c,d){v!==b&&(b?a.enable(a.POLYGON_OFFSET_FILL):a.disable(a.POLYGON_OFFSET_FILL),v=b);!b||x===c&&D===d||(a.polygonOffset(c,d),x=c,D=d)};this.reset=function(){for(var a=0;a<d.length;a++)d[a]=0;s=r=t=n=q=e=null}};
THREE.LensFlarePlugin=function(a,b){var c,d,e,f,g,h,k,l,p,q,n=a.context,t,r,s,u,v,x;this.render=function(D,w,y,A){if(0!==b.length){D=new THREE.Vector3;var E=A/y,G=.5*y,F=.5*A,z=16/A,I=new THREE.Vector2(z*E,z),U=new THREE.Vector3(1,1,0),M=new THREE.Vector2(1,1);if(void 0===s){var z=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),H=new Uint16Array([0,1,2,0,2,3]);t=n.createBuffer();r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,t);n.bufferData(n.ARRAY_BUFFER,z,n.STATIC_DRAW);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,
r);n.bufferData(n.ELEMENT_ARRAY_BUFFER,H,n.STATIC_DRAW);v=n.createTexture();x=n.createTexture();n.bindTexture(n.TEXTURE_2D,v);n.texImage2D(n.TEXTURE_2D,0,n.RGB,16,16,0,n.RGB,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.bindTexture(n.TEXTURE_2D,x);n.texImage2D(n.TEXTURE_2D,0,
n.RGBA,16,16,0,n.RGBA,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);var z=(u=0<n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS))?{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},
H=n.createProgram(),L=n.createShader(n.FRAGMENT_SHADER),P=n.createShader(n.VERTEX_SHADER),N="precision "+a.getPrecision()+" float;\n";n.shaderSource(L,N+z.fragmentShader);n.shaderSource(P,N+z.vertexShader);n.compileShader(L);n.compileShader(P);n.attachShader(H,L);n.attachShader(H,P);n.linkProgram(H);s=H;p=n.getAttribLocation(s,"position");q=n.getAttribLocation(s,"uv");c=n.getUniformLocation(s,"renderType");d=n.getUniformLocation(s,"map");e=n.getUniformLocation(s,"occlusionMap");f=n.getUniformLocation(s,
"opacity");g=n.getUniformLocation(s,"color");h=n.getUniformLocation(s,"scale");k=n.getUniformLocation(s,"rotation");l=n.getUniformLocation(s,"screenPosition")}n.useProgram(s);n.enableVertexAttribArray(p);n.enableVertexAttribArray(q);n.uniform1i(e,0);n.uniform1i(d,1);n.bindBuffer(n.ARRAY_BUFFER,t);n.vertexAttribPointer(p,2,n.FLOAT,!1,16,0);n.vertexAttribPointer(q,2,n.FLOAT,!1,16,8);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r);n.disable(n.CULL_FACE);n.depthMask(!1);H=0;for(L=b.length;H<L;H++)if(z=16/A,I.set(z*
E,z),P=b[H],D.set(P.matrixWorld.elements[12],P.matrixWorld.elements[13],P.matrixWorld.elements[14]),D.applyMatrix4(w.matrixWorldInverse),D.applyProjection(w.projectionMatrix),U.copy(D),M.x=U.x*G+G,M.y=U.y*F+F,u||0<M.x&&M.x<y&&0<M.y&&M.y<A){n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,v);n.copyTexImage2D(n.TEXTURE_2D,0,n.RGB,M.x-8,M.y-8,16,16,0);n.uniform1i(c,0);n.uniform2f(h,I.x,I.y);n.uniform3f(l,U.x,U.y,U.z);n.disable(n.BLEND);n.enable(n.DEPTH_TEST);n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,
0);n.activeTexture(n.TEXTURE0);n.bindTexture(n.TEXTURE_2D,x);n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,M.x-8,M.y-8,16,16,0);n.uniform1i(c,1);n.disable(n.DEPTH_TEST);n.activeTexture(n.TEXTURE1);n.bindTexture(n.TEXTURE_2D,v);n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0);P.positionScreen.copy(U);P.customUpdateCallback?P.customUpdateCallback(P):P.updateLensFlares();n.uniform1i(c,2);n.enable(n.BLEND);for(var N=0,R=P.lensFlares.length;N<R;N++){var V=P.lensFlares[N];.001<V.opacity&&.001<V.scale&&(U.x=V.x,
U.y=V.y,U.z=V.z,z=V.size*V.scale/A,I.x=z*E,I.y=z,n.uniform3f(l,U.x,U.y,U.z),n.uniform2f(h,I.x,I.y),n.uniform1f(k,V.rotation),n.uniform1f(f,V.opacity),n.uniform3f(g,V.color.r,V.color.g,V.color.b),a.state.setBlending(V.blending,V.blendEquation,V.blendSrc,V.blendDst),a.setTexture(V.texture,1),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0))}}n.enable(n.CULL_FACE);n.enable(n.DEPTH_TEST);n.depthMask(!0);a.resetGLState()}}};
THREE.ShadowMapPlugin=function(a,b,c,d){function e(a,b,d){if(b.visible){var f=c[b.id];if(f&&b.castShadow&&(!1===b.frustumCulled||!0===p.intersectsObject(b)))for(var g=0,h=f.length;g<h;g++){var k=f[g];b._modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,b.matrixWorld);s.push(k)}g=0;for(h=b.children.length;g<h;g++)e(a,b.children[g],d)}}var f=a.context,g,h,k,l,p=new THREE.Frustum,q=new THREE.Matrix4,n=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,s=[],u=THREE.ShaderLib.depthRGBA,v=THREE.UniformsUtils.clone(u.uniforms);
g=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader});h=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,morphTargets:!0});k=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,skinning:!0});l=new THREE.ShaderMaterial({uniforms:v,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,morphTargets:!0,skinning:!0});g._shadowPass=!0;h._shadowPass=!0;k._shadowPass=
!0;l._shadowPass=!0;this.render=function(c,v){if(!1!==a.shadowMapEnabled){var u,y,A,E,G,F,z,I,U=[];E=0;f.clearColor(1,1,1,1);f.disable(f.BLEND);f.enable(f.CULL_FACE);f.frontFace(f.CCW);a.shadowMapCullFace===THREE.CullFaceFront?f.cullFace(f.FRONT):f.cullFace(f.BACK);a.state.setDepthTest(!0);u=0;for(y=b.length;u<y;u++)if(A=b[u],A.castShadow)if(A instanceof THREE.DirectionalLight&&A.shadowCascade)for(G=0;G<A.shadowCascadeCount;G++){var M;if(A.shadowCascadeArray[G])M=A.shadowCascadeArray[G];else{z=A;
var H=G;M=new THREE.DirectionalLight;M.isVirtual=!0;M.onlyShadow=!0;M.castShadow=!0;M.shadowCameraNear=z.shadowCameraNear;M.shadowCameraFar=z.shadowCameraFar;M.shadowCameraLeft=z.shadowCameraLeft;M.shadowCameraRight=z.shadowCameraRight;M.shadowCameraBottom=z.shadowCameraBottom;M.shadowCameraTop=z.shadowCameraTop;M.shadowCameraVisible=z.shadowCameraVisible;M.shadowDarkness=z.shadowDarkness;M.shadowBias=z.shadowCascadeBias[H];M.shadowMapWidth=z.shadowCascadeWidth[H];M.shadowMapHeight=z.shadowCascadeHeight[H];
M.pointsWorld=[];M.pointsFrustum=[];I=M.pointsWorld;F=M.pointsFrustum;for(var L=0;8>L;L++)I[L]=new THREE.Vector3,F[L]=new THREE.Vector3;I=z.shadowCascadeNearZ[H];z=z.shadowCascadeFarZ[H];F[0].set(-1,-1,I);F[1].set(1,-1,I);F[2].set(-1,1,I);F[3].set(1,1,I);F[4].set(-1,-1,z);F[5].set(1,-1,z);F[6].set(-1,1,z);F[7].set(1,1,z);M.originalCamera=v;F=new THREE.Gyroscope;F.position.copy(A.shadowCascadeOffset);F.add(M);F.add(M.target);v.add(F);A.shadowCascadeArray[G]=M}H=A;I=G;z=H.shadowCascadeArray[I];z.position.copy(H.position);
z.target.position.copy(H.target.position);z.lookAt(z.target);z.shadowCameraVisible=H.shadowCameraVisible;z.shadowDarkness=H.shadowDarkness;z.shadowBias=H.shadowCascadeBias[I];F=H.shadowCascadeNearZ[I];H=H.shadowCascadeFarZ[I];z=z.pointsFrustum;z[0].z=F;z[1].z=F;z[2].z=F;z[3].z=F;z[4].z=H;z[5].z=H;z[6].z=H;z[7].z=H;U[E]=M;E++}else U[E]=A,E++;u=0;for(y=U.length;u<y;u++){A=U[u];A.shadowMap||(G=THREE.LinearFilter,a.shadowMapType===THREE.PCFSoftShadowMap&&(G=THREE.NearestFilter),A.shadowMap=new THREE.WebGLRenderTarget(A.shadowMapWidth,
A.shadowMapHeight,{minFilter:G,magFilter:G,format:THREE.RGBAFormat}),A.shadowMapSize=new THREE.Vector2(A.shadowMapWidth,A.shadowMapHeight),A.shadowMatrix=new THREE.Matrix4);if(!A.shadowCamera){if(A instanceof THREE.SpotLight)A.shadowCamera=new THREE.PerspectiveCamera(A.shadowCameraFov,A.shadowMapWidth/A.shadowMapHeight,A.shadowCameraNear,A.shadowCameraFar);else if(A instanceof THREE.DirectionalLight)A.shadowCamera=new THREE.OrthographicCamera(A.shadowCameraLeft,A.shadowCameraRight,A.shadowCameraTop,
A.shadowCameraBottom,A.shadowCameraNear,A.shadowCameraFar);else{THREE.error("THREE.ShadowMapPlugin: Unsupported light type for shadow",A);continue}c.add(A.shadowCamera);!0===c.autoUpdate&&c.updateMatrixWorld()}A.shadowCameraVisible&&!A.cameraHelper&&(A.cameraHelper=new THREE.CameraHelper(A.shadowCamera),c.add(A.cameraHelper));if(A.isVirtual&&M.originalCamera==v){G=v;E=A.shadowCamera;F=A.pointsFrustum;z=A.pointsWorld;n.set(Infinity,Infinity,Infinity);t.set(-Infinity,-Infinity,-Infinity);for(H=0;8>
H;H++)I=z[H],I.copy(F[H]),I.unproject(G),I.applyMatrix4(E.matrixWorldInverse),I.x<n.x&&(n.x=I.x),I.x>t.x&&(t.x=I.x),I.y<n.y&&(n.y=I.y),I.y>t.y&&(t.y=I.y),I.z<n.z&&(n.z=I.z),I.z>t.z&&(t.z=I.z);E.left=n.x;E.right=t.x;E.top=t.y;E.bottom=n.y;E.updateProjectionMatrix()}E=A.shadowMap;F=A.shadowMatrix;G=A.shadowCamera;G.position.setFromMatrixPosition(A.matrixWorld);r.setFromMatrixPosition(A.target.matrixWorld);G.lookAt(r);G.updateMatrixWorld();G.matrixWorldInverse.getInverse(G.matrixWorld);A.cameraHelper&&
(A.cameraHelper.visible=A.shadowCameraVisible);A.shadowCameraVisible&&A.cameraHelper.update();F.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);F.multiply(G.projectionMatrix);F.multiply(G.matrixWorldInverse);q.multiplyMatrices(G.projectionMatrix,G.matrixWorldInverse);p.setFromMatrix(q);a.setRenderTarget(E);a.clear();s.length=0;e(c,c,G);A=0;for(E=s.length;A<E;A++)z=s[A],F=z.object,z=z.buffer,H=F.material instanceof THREE.MeshFaceMaterial?F.material.materials[0]:F.material,I=void 0!==F.geometry.morphTargets&&
0<F.geometry.morphTargets.length&&H.morphTargets,L=F instanceof THREE.SkinnedMesh&&H.skinning,I=F.customDepthMaterial?F.customDepthMaterial:L?I?l:k:I?h:g,a.setMaterialFaces(H),z instanceof THREE.BufferGeometry?a.renderBufferDirect(G,b,null,I,z,F):a.renderBuffer(G,b,null,I,z,F);A=0;for(E=d.length;A<E;A++)z=d[A],F=z.object,F.visible&&F.castShadow&&(F._modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,F.matrixWorld),a.renderImmediateObject(G,b,null,g,F))}u=a.getClearColor();y=a.getClearAlpha();f.clearColor(u.r,
u.g,u.b,y);f.enable(f.BLEND);a.shadowMapCullFace===THREE.CullFaceFront&&f.cullFace(f.BACK);a.resetGLState()}}};
THREE.SpritePlugin=function(a,b){var c,d,e,f,g,h,k,l,p,q,n,t,r,s,u,v,x;function D(a,b){return a.z!==b.z?b.z-a.z:b.id-a.id}var w=a.context,y,A,E,G,F=new THREE.Vector3,z=new THREE.Quaternion,I=new THREE.Vector3;this.render=function(U,M){if(0!==b.length){if(void 0===E){var H=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),L=new Uint16Array([0,1,2,0,2,3]);y=w.createBuffer();A=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,y);w.bufferData(w.ARRAY_BUFFER,H,w.STATIC_DRAW);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
A);w.bufferData(w.ELEMENT_ARRAY_BUFFER,L,w.STATIC_DRAW);var H=w.createProgram(),L=w.createShader(w.VERTEX_SHADER),P=w.createShader(w.FRAGMENT_SHADER);w.shaderSource(L,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
w.shaderSource(P,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
w.compileShader(L);w.compileShader(P);w.attachShader(H,L);w.attachShader(H,P);w.linkProgram(H);E=H;v=w.getAttribLocation(E,"position");x=w.getAttribLocation(E,"uv");c=w.getUniformLocation(E,"uvOffset");d=w.getUniformLocation(E,"uvScale");e=w.getUniformLocation(E,"rotation");f=w.getUniformLocation(E,"scale");g=w.getUniformLocation(E,"color");h=w.getUniformLocation(E,"map");k=w.getUniformLocation(E,"opacity");l=w.getUniformLocation(E,"modelViewMatrix");p=w.getUniformLocation(E,"projectionMatrix");q=
w.getUniformLocation(E,"fogType");n=w.getUniformLocation(E,"fogDensity");t=w.getUniformLocation(E,"fogNear");r=w.getUniformLocation(E,"fogFar");s=w.getUniformLocation(E,"fogColor");u=w.getUniformLocation(E,"alphaTest");H=document.createElement("canvas");H.width=8;H.height=8;L=H.getContext("2d");L.fillStyle="white";L.fillRect(0,0,8,8);G=new THREE.Texture(H);G.needsUpdate=!0}w.useProgram(E);w.enableVertexAttribArray(v);w.enableVertexAttribArray(x);w.disable(w.CULL_FACE);w.enable(w.BLEND);w.bindBuffer(w.ARRAY_BUFFER,
y);w.vertexAttribPointer(v,2,w.FLOAT,!1,16,0);w.vertexAttribPointer(x,2,w.FLOAT,!1,16,8);w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,A);w.uniformMatrix4fv(p,!1,M.projectionMatrix.elements);w.activeTexture(w.TEXTURE0);w.uniform1i(h,0);L=H=0;(P=U.fog)?(w.uniform3f(s,P.color.r,P.color.g,P.color.b),P instanceof THREE.Fog?(w.uniform1f(t,P.near),w.uniform1f(r,P.far),w.uniform1i(q,1),L=H=1):P instanceof THREE.FogExp2&&(w.uniform1f(n,P.density),w.uniform1i(q,2),L=H=2)):(w.uniform1i(q,0),L=H=0);for(var P=0,N=b.length;P<
N;P++){var R=b[P];R._modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,R.matrixWorld);R.z=-R._modelViewMatrix.elements[14]}b.sort(D);for(var V=[],P=0,N=b.length;P<N;P++){var R=b[P],J=R.material;w.uniform1f(u,J.alphaTest);w.uniformMatrix4fv(l,!1,R._modelViewMatrix.elements);R.matrixWorld.decompose(F,z,I);V[0]=I.x;V[1]=I.y;R=0;U.fog&&J.fog&&(R=L);H!==R&&(w.uniform1i(q,R),H=R);null!==J.map?(w.uniform2f(c,J.map.offset.x,J.map.offset.y),w.uniform2f(d,J.map.repeat.x,J.map.repeat.y)):(w.uniform2f(c,
0,0),w.uniform2f(d,1,1));w.uniform1f(k,J.opacity);w.uniform3f(g,J.color.r,J.color.g,J.color.b);w.uniform1f(e,J.rotation);w.uniform2fv(f,V);a.state.setBlending(J.blending,J.blendEquation,J.blendSrc,J.blendDst);a.state.setDepthTest(J.depthTest);a.state.setDepthWrite(J.depthWrite);J.map&&J.map.image&&J.map.image.width?a.setTexture(J.map,0):a.setTexture(G,0);w.drawElements(w.TRIANGLES,6,w.UNSIGNED_SHORT,0)}w.enable(w.CULL_FACE);a.resetGLState()}}};
THREE.GeometryUtils={merge:function(a,b,c){THREE.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var d;b instanceof THREE.Mesh&&(b.matrixAutoUpdate&&b.updateMatrix(),d=b.matrix,b=b.geometry);a.merge(b,d,c)},center:function(a){THREE.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};
THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(a,b,c,d){var e=new THREE.ImageLoader;e.crossOrigin=this.crossOrigin;var f=new THREE.Texture(void 0,b);e.load(a,function(a){f.image=a;f.needsUpdate=!0;c&&c(f)},void 0,function(a){d&&d(a)});f.sourceFile=a;return f},loadTextureCube:function(a,b,c,d){var e=new THREE.ImageLoader;e.crossOrigin=this.crossOrigin;var f=new THREE.CubeTexture([],b);f.flipY=!1;var g=0;b=function(b){e.load(a[b],function(a){f.images[b]=a;g+=1;6===g&&(f.needsUpdate=!0,c&&
c(f))},void 0,d)};for(var h=0,k=a.length;h<k;++h)b(h);return f},loadCompressedTexture:function(){THREE.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){THREE.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(a,b){var c=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return[a[0]/b,a[1]/b,a[2]/b]};b|=1;var d=a.width,e=a.height,f=document.createElement("canvas");
f.width=d;f.height=e;var g=f.getContext("2d");g.drawImage(a,0,0);for(var h=g.getImageData(0,0,d,e).data,k=g.createImageData(d,e),l=k.data,p=0;p<d;p++)for(var q=0;q<e;q++){var n=0>q-1?0:q-1,t=q+1>e-1?e-1:q+1,r=0>p-1?0:p-1,s=p+1>d-1?d-1:p+1,u=[],v=[0,0,h[4*(q*d+p)]/255*b];u.push([-1,0,h[4*(q*d+r)]/255*b]);u.push([-1,-1,h[4*(n*d+r)]/255*b]);u.push([0,-1,h[4*(n*d+p)]/255*b]);u.push([1,-1,h[4*(n*d+s)]/255*b]);u.push([1,0,h[4*(q*d+s)]/255*b]);u.push([1,1,h[4*(t*d+s)]/255*b]);u.push([0,1,h[4*(t*d+p)]/255*
b]);u.push([-1,1,h[4*(t*d+r)]/255*b]);n=[];r=u.length;for(t=0;t<r;t++){var s=u[t],x=u[(t+1)%r],s=[s[0]-v[0],s[1]-v[1],s[2]-v[2]],x=[x[0]-v[0],x[1]-v[1],x[2]-v[2]];n.push(c([s[1]*x[2]-s[2]*x[1],s[2]*x[0]-s[0]*x[2],s[0]*x[1]-s[1]*x[0]]))}u=[0,0,0];for(t=0;t<n.length;t++)u[0]+=n[t][0],u[1]+=n[t][1],u[2]+=n[t][2];u[0]/=n.length;u[1]/=n.length;u[2]/=n.length;v=4*(q*d+p);l[v]=(u[0]+1)/2*255|0;l[v+1]=(u[1]+1)/2*255|0;l[v+2]=255*u[2]|0;l[v+3]=255}g.putImageData(k,0,0);return f},generateDataTexture:function(a,
b,c){var d=a*b,e=new Uint8Array(3*d),f=Math.floor(255*c.r),g=Math.floor(255*c.g);c=Math.floor(255*c.b);for(var h=0;h<d;h++)e[3*h]=f,e[3*h+1]=g,e[3*h+2]=c;a=new THREE.DataTexture(e,a,b,THREE.RGBFormat);a.needsUpdate=!0;return a}};
THREE.SceneUtils={createMultiMaterialObject:function(a,b){for(var c=new THREE.Object3D,d=0,e=b.length;d<e;d++)c.add(new THREE.Mesh(a,b[d]));return c},detach:function(a,b,c){a.applyMatrix(b.matrixWorld);b.remove(a);c.add(a)},attach:function(a,b,c){var d=new THREE.Matrix4;d.getInverse(c.matrixWorld);a.applyMatrix(d);b.remove(a);c.add(a)}};
THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(a){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing.";}},loadFace:function(a){var b=a.familyName.toLowerCase();this.faces[b]=this.faces[b]||{};this.faces[b][a.cssFontWeight]=this.faces[b][a.cssFontWeight]||{};this.faces[b][a.cssFontWeight][a.cssFontStyle]=a;return this.faces[b][a.cssFontWeight][a.cssFontStyle]=
a},drawText:function(a){var b=this.getFace(),c=this.size/b.resolution,d=0,e=String(a).split(""),f=e.length,g=[];for(a=0;a<f;a++){var h=new THREE.Path,h=this.extractGlyphPoints(e[a],b,c,d,h),d=d+h.offset;g.push(h.path)}return{paths:g,offset:d/2}},extractGlyphPoints:function(a,b,c,d,e){var f=[],g,h,k,l,p,q,n,t,r,s,u,v=b.glyphs[a]||b.glyphs["?"];if(v){if(v.o)for(b=v._cachedOutline||(v._cachedOutline=v.o.split(" ")),l=b.length,a=0;a<l;)switch(k=b[a++],k){case "m":k=b[a++]*c+d;p=b[a++]*c;e.moveTo(k,p);
break;case "l":k=b[a++]*c+d;p=b[a++]*c;e.lineTo(k,p);break;case "q":k=b[a++]*c+d;p=b[a++]*c;t=b[a++]*c+d;r=b[a++]*c;e.quadraticCurveTo(t,r,k,p);if(g=f[f.length-1])for(q=g.x,n=g.y,g=1,h=this.divisions;g<=h;g++){var x=g/h;THREE.Shape.Utils.b2(x,q,t,k);THREE.Shape.Utils.b2(x,n,r,p)}break;case "b":if(k=b[a++]*c+d,p=b[a++]*c,t=b[a++]*c+d,r=b[a++]*c,s=b[a++]*c+d,u=b[a++]*c,e.bezierCurveTo(t,r,s,u,k,p),g=f[f.length-1])for(q=g.x,n=g.y,g=1,h=this.divisions;g<=h;g++)x=g/h,THREE.Shape.Utils.b3(x,q,t,s,k),THREE.Shape.Utils.b3(x,
n,r,u,p)}return{offset:v.ha*c,path:e}}}};
THREE.FontUtils.generateShapes=function(a,b){b=b||{};var c=void 0!==b.curveSegments?b.curveSegments:4,d=void 0!==b.font?b.font:"helvetiker",e=void 0!==b.weight?b.weight:"normal",f=void 0!==b.style?b.style:"normal";THREE.FontUtils.size=void 0!==b.size?b.size:100;THREE.FontUtils.divisions=c;THREE.FontUtils.face=d;THREE.FontUtils.weight=e;THREE.FontUtils.style=f;c=THREE.FontUtils.drawText(a).paths;d=[];e=0;for(f=c.length;e<f;e++)Array.prototype.push.apply(d,c[e].toShapes());return d};
(function(a){var b=function(a){for(var b=a.length,e=0,f=b-1,g=0;g<b;f=g++)e+=a[f].x*a[g].y-a[g].x*a[f].y;return.5*e};a.Triangulate=function(a,d){var e=a.length;if(3>e)return null;var f=[],g=[],h=[],k,l,p;if(0<b(a))for(l=0;l<e;l++)g[l]=l;else for(l=0;l<e;l++)g[l]=e-1-l;var q=2*e;for(l=e-1;2<e;){if(0>=q--){THREE.warn("THREE.FontUtils: Warning, unable to triangulate polygon! in Triangulate.process()");break}k=l;e<=k&&(k=0);l=k+1;e<=l&&(l=0);p=l+1;e<=p&&(p=0);var n;a:{var t=n=void 0,r=void 0,s=void 0,
u=void 0,v=void 0,x=void 0,D=void 0,w=void 0,t=a[g[k]].x,r=a[g[k]].y,s=a[g[l]].x,u=a[g[l]].y,v=a[g[p]].x,x=a[g[p]].y;if(1E-10>(s-t)*(x-r)-(u-r)*(v-t))n=!1;else{var y=void 0,A=void 0,E=void 0,G=void 0,F=void 0,z=void 0,I=void 0,U=void 0,M=void 0,H=void 0,M=U=I=w=D=void 0,y=v-s,A=x-u,E=t-v,G=r-x,F=s-t,z=u-r;for(n=0;n<e;n++)if(D=a[g[n]].x,w=a[g[n]].y,!(D===t&&w===r||D===s&&w===u||D===v&&w===x)&&(I=D-t,U=w-r,M=D-s,H=w-u,D-=v,w-=x,M=y*H-A*M,I=F*U-z*I,U=E*w-G*D,-1E-10<=M&&-1E-10<=U&&-1E-10<=I)){n=!1;break a}n=
!0}}if(n){f.push([a[g[k]],a[g[l]],a[g[p]]]);h.push([g[k],g[l],g[p]]);k=l;for(p=l+1;p<e;k++,p++)g[k]=g[p];e--;q=2*e}}return d?h:f};a.Triangulate.area=b;return a})(THREE.FontUtils);self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace};THREE.typeface_js=self._typeface_js;
THREE.Audio=function(a){THREE.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.panner=this.context.createPanner();this.panner.connect(this.gain);this.autoplay=!1;this.startTime=0;this.isPlaying=!1};THREE.Audio.prototype=Object.create(THREE.Object3D.prototype);THREE.Audio.prototype.constructor=THREE.Audio;
THREE.Audio.prototype.load=function(a){var b=this,c=new XMLHttpRequest;c.open("GET",a,!0);c.responseType="arraybuffer";c.onload=function(a){b.context.decodeAudioData(this.response,function(a){b.source.buffer=a;b.autoplay&&b.play()})};c.send();return this};
THREE.Audio.prototype.play=function(){if(!0===this.isPlaying)THREE.warn("THREE.Audio: Audio is already playing.");else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.connect(this.panner);a.start(0,this.startTime);this.isPlaying=!0;this.source=a}};THREE.Audio.prototype.pause=function(){this.source.stop();this.startTime=this.context.currentTime};THREE.Audio.prototype.stop=function(){this.source.stop();this.startTime=0};
THREE.Audio.prototype.onEnded=function(){this.isPlaying=!1};THREE.Audio.prototype.setLoop=function(a){this.source.loop=a};THREE.Audio.prototype.setRefDistance=function(a){this.panner.refDistance=a};THREE.Audio.prototype.setRolloffFactor=function(a){this.panner.rolloffFactor=a};THREE.Audio.prototype.setVolume=function(a){this.gain.gain.value=a};
THREE.Audio.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3;return function(b){THREE.Object3D.prototype.updateMatrixWorld.call(this,b);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}();THREE.AudioListener=function(){THREE.Object3D.call(this);this.type="AudioListener";this.context=new (window.AudioContext||window.webkitAudioContext)};THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype);THREE.AudioListener.prototype.constructor=THREE.AudioListener;
THREE.AudioListener.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3,b=new THREE.Quaternion,c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Vector3,f=new THREE.Vector3;return function(g){THREE.Object3D.prototype.updateMatrixWorld.call(this,g);g=this.context.listener;var h=this.up;this.matrixWorld.decompose(a,b,c);d.set(0,0,-1).applyQuaternion(b);e.subVectors(a,f);g.setPosition(a.x,a.y,a.z);g.setOrientation(d.x,d.y,d.z,h.x,h.y,h.z);g.setVelocity(e.x,e.y,e.z);f.copy(a)}}();
THREE.Curve=function(){};THREE.Curve.prototype.getPoint=function(a){THREE.warn("THREE.Curve: Warning, getPoint() not implemented!");return null};THREE.Curve.prototype.getPointAt=function(a){a=this.getUtoTmapping(a);return this.getPoint(a)};THREE.Curve.prototype.getPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPoint(b/a));return c};THREE.Curve.prototype.getSpacedPoints=function(a){a||(a=5);var b,c=[];for(b=0;b<=a;b++)c.push(this.getPointAt(b/a));return c};
THREE.Curve.prototype.getLength=function(){var a=this.getLengths();return a[a.length-1]};THREE.Curve.prototype.getLengths=function(a){a||(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length==a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var b=[],c,d=this.getPoint(0),e,f=0;b.push(0);for(e=1;e<=a;e++)c=this.getPoint(e/a),f+=c.distanceTo(d),b.push(f),d=c;return this.cacheArcLengths=b};
THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0;this.getLengths()};THREE.Curve.prototype.getUtoTmapping=function(a,b){var c=this.getLengths(),d=0,e=c.length,f;f=b?b:a*c[e-1];for(var g=0,h=e-1,k;g<=h;)if(d=Math.floor(g+(h-g)/2),k=c[d]-f,0>k)g=d+1;else if(0<k)h=d-1;else{h=d;break}d=h;if(c[d]==f)return d/(e-1);g=c[d];return c=(d+(f-g)/(c[d+1]-g))/(e-1)};THREE.Curve.prototype.getTangent=function(a){var b=a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()};
THREE.Curve.prototype.getTangentAt=function(a){a=this.getUtoTmapping(a);return this.getTangent(a)};
THREE.Curve.Utils={tangentQuadraticBezier:function(a,b,c,d){return 2*(1-a)*(c-b)+2*a*(d-c)},tangentCubicBezier:function(a,b,c,d,e){return-3*b*(1-a)*(1-a)+3*c*(1-a)*(1-a)-6*a*c*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*e},tangentSpline:function(a,b,c,d,e){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,c,d,e){a=.5*(c-a);d=.5*(d-b);var f=e*e;return(2*b-2*c+a+d)*e*f+(-3*b+3*c-2*a-d)*f+a*e+b}};
THREE.Curve.create=function(a,b){a.prototype=Object.create(THREE.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=b;return a};THREE.CurvePath=function(){this.curves=[];this.bends=[];this.autoClose=!1};THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype);THREE.CurvePath.prototype.constructor=THREE.CurvePath;THREE.CurvePath.prototype.add=function(a){this.curves.push(a)};THREE.CurvePath.prototype.checkConnection=function(){};
THREE.CurvePath.prototype.closePath=function(){var a=this.curves[0].getPoint(0),b=this.curves[this.curves.length-1].getPoint(1);a.equals(b)||this.curves.push(new THREE.LineCurve(b,a))};THREE.CurvePath.prototype.getPoint=function(a){var b=a*this.getLength(),c=this.getCurveLengths();for(a=0;a<c.length;){if(c[a]>=b)return b=c[a]-b,a=this.curves[a],b=1-b/a.getLength(),a.getPointAt(b);a++}return null};THREE.CurvePath.prototype.getLength=function(){var a=this.getCurveLengths();return a[a.length-1]};
THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var a=[],b=0,c,d=this.curves.length;for(c=0;c<d;c++)b+=this.curves[c].getLength(),a.push(b);return this.cacheLengths=a};
THREE.CurvePath.prototype.getBoundingBox=function(){var a=this.getPoints(),b,c,d,e,f,g;b=c=Number.NEGATIVE_INFINITY;e=f=Number.POSITIVE_INFINITY;var h,k,l,p,q=a[0]instanceof THREE.Vector3;p=q?new THREE.Vector3:new THREE.Vector2;k=0;for(l=a.length;k<l;k++)h=a[k],h.x>b?b=h.x:h.x<e&&(e=h.x),h.y>c?c=h.y:h.y<f&&(f=h.y),q&&(h.z>d?d=h.z:h.z<g&&(g=h.z)),p.add(h);a={minX:e,minY:f,maxX:b,maxY:c};q&&(a.maxZ=d,a.minZ=g);return a};
THREE.CurvePath.prototype.createPointsGeometry=function(a){a=this.getPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createSpacedPointsGeometry=function(a){a=this.getSpacedPoints(a,!0);return this.createGeometry(a)};THREE.CurvePath.prototype.createGeometry=function(a){for(var b=new THREE.Geometry,c=0;c<a.length;c++)b.vertices.push(new THREE.Vector3(a[c].x,a[c].y,a[c].z||0));return b};THREE.CurvePath.prototype.addWrapPath=function(a){this.bends.push(a)};
THREE.CurvePath.prototype.getTransformedPoints=function(a,b){var c=this.getPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};THREE.CurvePath.prototype.getTransformedSpacedPoints=function(a,b){var c=this.getSpacedPoints(a),d,e;b||(b=this.bends);d=0;for(e=b.length;d<e;d++)c=this.getWrapPoints(c,b[d]);return c};
THREE.CurvePath.prototype.getWrapPoints=function(a,b){var c=this.getBoundingBox(),d,e,f,g,h,k;d=0;for(e=a.length;d<e;d++)f=a[d],g=f.x,h=f.y,k=g/c.maxX,k=b.getUtoTmapping(k,g),g=b.getPoint(k),k=b.getTangent(k),k.set(-k.y,k.x).multiplyScalar(h),f.x=g.x+k.x,f.y=g.y+k.y;return a};THREE.Gyroscope=function(){THREE.Object3D.call(this)};THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype);THREE.Gyroscope.prototype.constructor=THREE.Gyroscope;
THREE.Gyroscope.prototype.updateMatrixWorld=function(){var a=new THREE.Vector3,b=new THREE.Quaternion,c=new THREE.Vector3,d=new THREE.Vector3,e=new THREE.Quaternion,f=new THREE.Vector3;return function(g){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||g)this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(d,e,f),this.matrix.decompose(a,b,c),this.matrixWorld.compose(d,b,f)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=
!1,g=!0;for(var h=0,k=this.children.length;h<k;h++)this.children[h].updateMatrixWorld(g)}}();THREE.Path=function(a){THREE.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};THREE.Path.prototype=Object.create(THREE.CurvePath.prototype);THREE.Path.prototype.constructor=THREE.Path;THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"};
THREE.Path.prototype.fromPoints=function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,c=a.length;b<c;b++)this.lineTo(a[b].x,a[b].y)};THREE.Path.prototype.moveTo=function(a,b){var c=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:c})};
THREE.Path.prototype.lineTo=function(a,b){var c=Array.prototype.slice.call(arguments),d=this.actions[this.actions.length-1].args,d=new THREE.LineCurve(new THREE.Vector2(d[d.length-2],d[d.length-1]),new THREE.Vector2(a,b));this.curves.push(d);this.actions.push({action:THREE.PathActions.LINE_TO,args:c})};
THREE.Path.prototype.quadraticCurveTo=function(a,b,c,d){var e=Array.prototype.slice.call(arguments),f=this.actions[this.actions.length-1].args,f=new THREE.QuadraticBezierCurve(new THREE.Vector2(f[f.length-2],f[f.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d));this.curves.push(f);this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:e})};
THREE.Path.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=Array.prototype.slice.call(arguments),h=this.actions[this.actions.length-1].args,h=new THREE.CubicBezierCurve(new THREE.Vector2(h[h.length-2],h[h.length-1]),new THREE.Vector2(a,b),new THREE.Vector2(c,d),new THREE.Vector2(e,f));this.curves.push(h);this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:g})};
THREE.Path.prototype.splineThru=function(a){var b=Array.prototype.slice.call(arguments),c=this.actions[this.actions.length-1].args,c=[new THREE.Vector2(c[c.length-2],c[c.length-1])];Array.prototype.push.apply(c,a);c=new THREE.SplineCurve(c);this.curves.push(c);this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:b})};THREE.Path.prototype.arc=function(a,b,c,d,e,f){var g=this.actions[this.actions.length-1].args;this.absarc(a+g[g.length-2],b+g[g.length-1],c,d,e,f)};
THREE.Path.prototype.absarc=function(a,b,c,d,e,f){this.absellipse(a,b,c,c,d,e,f)};THREE.Path.prototype.ellipse=function(a,b,c,d,e,f,g){var h=this.actions[this.actions.length-1].args;this.absellipse(a+h[h.length-2],b+h[h.length-1],c,d,e,f,g)};THREE.Path.prototype.absellipse=function(a,b,c,d,e,f,g){var h=Array.prototype.slice.call(arguments),k=new THREE.EllipseCurve(a,b,c,d,e,f,g);this.curves.push(k);k=k.getPoint(1);h.push(k.x);h.push(k.y);this.actions.push({action:THREE.PathActions.ELLIPSE,args:h})};
THREE.Path.prototype.getSpacedPoints=function(a,b){a||(a=40);for(var c=[],d=0;d<a;d++)c.push(this.getPoint(d/a));return c};
THREE.Path.prototype.getPoints=function(a,b){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(a,b);a=a||12;var c=[],d,e,f,g,h,k,l,p,q,n,t,r,s;d=0;for(e=this.actions.length;d<e;d++)switch(f=this.actions[d],g=f.action,f=f.args,g){case THREE.PathActions.MOVE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.LINE_TO:c.push(new THREE.Vector2(f[0],f[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:h=f[2];k=f[3];q=f[0];n=f[1];0<c.length?(g=c[c.length-1],t=g.x,
r=g.y):(g=this.actions[d-1].args,t=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)s=f/a,g=THREE.Shape.Utils.b2(s,t,q,h),s=THREE.Shape.Utils.b2(s,r,n,k),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.BEZIER_CURVE_TO:h=f[4];k=f[5];q=f[0];n=f[1];l=f[2];p=f[3];0<c.length?(g=c[c.length-1],t=g.x,r=g.y):(g=this.actions[d-1].args,t=g[g.length-2],r=g[g.length-1]);for(f=1;f<=a;f++)s=f/a,g=THREE.Shape.Utils.b3(s,t,q,l,h),s=THREE.Shape.Utils.b3(s,r,n,p,k),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.CSPLINE_THRU:g=
this.actions[d-1].args;s=[new THREE.Vector2(g[g.length-2],g[g.length-1])];g=a*f[0].length;s=s.concat(f[0]);s=new THREE.SplineCurve(s);for(f=1;f<=g;f++)c.push(s.getPointAt(f/g));break;case THREE.PathActions.ARC:h=f[0];k=f[1];n=f[2];l=f[3];g=f[4];q=!!f[5];t=g-l;r=2*a;for(f=1;f<=r;f++)s=f/r,q||(s=1-s),s=l+s*t,g=h+n*Math.cos(s),s=k+n*Math.sin(s),c.push(new THREE.Vector2(g,s));break;case THREE.PathActions.ELLIPSE:for(h=f[0],k=f[1],n=f[2],p=f[3],l=f[4],g=f[5],q=!!f[6],t=g-l,r=2*a,f=1;f<=r;f++)s=f/r,q||
(s=1-s),s=l+s*t,g=h+n*Math.cos(s),s=k+p*Math.sin(s),c.push(new THREE.Vector2(g,s))}d=c[c.length-1];1E-10>Math.abs(d.x-c[0].x)&&1E-10>Math.abs(d.y-c[0].y)&&c.splice(c.length-1,1);b&&c.push(c[0]);return c};
THREE.Path.prototype.toShapes=function(a,b){function c(a){for(var b=[],c=0,d=a.length;c<d;c++){var e=a[c],f=new THREE.Shape;f.actions=e.actions;f.curves=e.curves;b.push(f)}return b}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],k=h.x-g.x,n=h.y-g.y;if(1E-10<Math.abs(n)){if(0>n&&(g=b[f],k=-k,h=b[e],n=-n),!(a.y<g.y||a.y>h.y))if(a.y==g.y){if(a.x==g.x)return!0}else{e=n*(a.x-g.x)-k*(a.y-g.y);if(0==e)return!0;0>e||(d=!d)}}else if(a.y==g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=
h.x))return!0}return d}var e=function(a){var b,c,d,e,f=[],g=new THREE.Path;b=0;for(c=a.length;b<c;b++)d=a[b],e=d.args,d=d.action,d==THREE.PathActions.MOVE_TO&&0!=g.actions.length&&(f.push(g),g=new THREE.Path),g[d].apply(g,e);0!=g.actions.length&&f.push(g);return f}(this.actions);if(0==e.length)return[];if(!0===b)return c(e);var f,g,h,k=[];if(1==e.length)return g=e[0],h=new THREE.Shape,h.actions=g.actions,h.curves=g.curves,k.push(h),k;var l=!THREE.Shape.Utils.isClockWise(e[0].getPoints()),l=a?!l:l;
h=[];var p=[],q=[],n=0,t;p[n]=void 0;q[n]=[];var r,s;r=0;for(s=e.length;r<s;r++)g=e[r],t=g.getPoints(),f=THREE.Shape.Utils.isClockWise(t),(f=a?!f:f)?(!l&&p[n]&&n++,p[n]={s:new THREE.Shape,p:t},p[n].s.actions=g.actions,p[n].s.curves=g.curves,l&&n++,q[n]=[]):q[n].push({h:g,p:t[0]});if(!p[0])return c(e);if(1<p.length){r=!1;s=[];g=0;for(e=p.length;g<e;g++)h[g]=[];g=0;for(e=p.length;g<e;g++)for(f=q[g],l=0;l<f.length;l++){n=f[l];t=!0;for(var u=0;u<p.length;u++)d(n.p,p[u].p)&&(g!=u&&s.push({froms:g,tos:u,
hole:l}),t?(t=!1,h[u].push(n)):r=!0);t&&h[g].push(n)}0<s.length&&(r||(q=h))}r=0;for(s=p.length;r<s;r++)for(h=p[r].s,k.push(h),g=q[r],e=0,f=g.length;e<f;e++)h.holes.push(g[e].h);return k};THREE.Shape=function(){THREE.Path.apply(this,arguments);this.holes=[]};THREE.Shape.prototype=Object.create(THREE.Path.prototype);THREE.Shape.prototype.constructor=THREE.Shape;THREE.Shape.prototype.extrude=function(a){return new THREE.ExtrudeGeometry(this,a)};
THREE.Shape.prototype.makeGeometry=function(a){return new THREE.ShapeGeometry(this,a)};THREE.Shape.prototype.getPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedPoints(a,this.bends);return d};THREE.Shape.prototype.getSpacedPointsHoles=function(a){var b,c=this.holes.length,d=[];for(b=0;b<c;b++)d[b]=this.holes[b].getTransformedSpacedPoints(a,this.bends);return d};
THREE.Shape.prototype.extractAllPoints=function(a){return{shape:this.getTransformedPoints(a),holes:this.getPointsHoles(a)}};THREE.Shape.prototype.extractPoints=function(a){return this.useSpacedPoints?this.extractAllSpacedPoints(a):this.extractAllPoints(a)};THREE.Shape.prototype.extractAllSpacedPoints=function(a){return{shape:this.getTransformedSpacedPoints(a),holes:this.getSpacedPointsHoles(a)}};
THREE.Shape.Utils={triangulateShape:function(a,b){function c(a,b,c){return a.x!=b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,d,e,f){var g=b.x-a.x,h=b.y-a.y,k=e.x-d.x,l=e.y-d.y,p=a.x-d.x,q=a.y-d.y,E=h*k-g*l,G=h*p-g*q;if(1E-10<Math.abs(E)){if(0<E){if(0>G||G>E)return[];k=l*p-k*q;if(0>k||k>E)return[]}else{if(0<G||G<E)return[];k=l*p-k*q;if(0<k||k<E)return[]}if(0==k)return!f||0!=G&&G!=E?[a]:[];if(k==E)return!f||0!=G&&G!=E?[b]:[];if(0==G)return[d];
if(G==E)return[e];f=k/E;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!=G||l*p!=k*q)return[];h=0==g&&0==h;k=0==k&&0==l;if(h&&k)return a.x!=d.x||a.y!=d.y?[]:[a];if(h)return c(d,e,a)?[a]:[];if(k)return c(a,b,d)?[d]:[];0!=g?(a.x<b.x?(g=a,k=a.x,h=b,a=b.x):(g=b,k=b.x,h=a,a=a.x),d.x<e.x?(b=d,E=d.x,l=e,d=e.x):(b=e,E=e.x,l=d,d=d.x)):(a.y<b.y?(g=a,k=a.y,h=b,a=b.y):(g=b,k=b.y,h=a,a=a.y),d.y<e.y?(b=d,E=d.y,l=e,d=e.y):(b=e,E=e.y,l=d,d=d.y));return k<=E?a<E?[]:a==E?f?[]:[b]:a<=d?[b,h]:[b,l]:k>d?[]:k==d?f?[]:[g]:a<=d?[g,h]:
[g,l]}function e(a,b,c,d){var e=b.x-a.x,f=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var g=d.x-a.x;d=d.y-a.y;a=e*c-f*b;e=e*d-f*g;return 1E-10<Math.abs(a)?(b=g*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var f,g,h,k,l,p={};h=a.concat();f=0;for(g=b.length;f<g;f++)Array.prototype.push.apply(h,b[f]);f=0;for(g=h.length;f<g;f++)l=h[f].x+":"+h[f].y,void 0!==p[l]&&THREE.warn("THREE.Shape: Duplicate point",l),p[l]=f;f=function(a,b){function c(a,b){var d=h.length-1,f=a-1;0>f&&(f=d);var g=a+1;g>d&&(g=0);d=e(h[a],h[f],h[g],k[b]);
if(!d)return!1;d=k.length-1;f=b-1;0>f&&(f=d);g=b+1;g>d&&(g=0);return(d=e(k[b],k[f],k[g],h[a]))?!0:!1}function f(a,b){var c,e;for(c=0;c<h.length;c++)if(e=c+1,e%=h.length,e=d(a,b,h[c],h[e],!0),0<e.length)return!0;return!1}function g(a,c){var e,f,h,k;for(e=0;e<l.length;e++)for(f=b[l[e]],h=0;h<f.length;h++)if(k=h+1,k%=f.length,k=d(a,c,f[h],f[k],!0),0<k.length)return!0;return!1}var h=a.concat(),k,l=[],p,q,A,E,G,F=[],z,I,U,M=0;for(p=b.length;M<p;M++)l.push(M);z=0;for(var H=2*l.length;0<l.length;){H--;if(0>
H){console.log("Infinite Loop! Holes left:"+l.length+", Probably Hole outside Shape!");break}for(q=z;q<h.length;q++){A=h[q];p=-1;for(M=0;M<l.length;M++)if(E=l[M],G=A.x+":"+A.y+":"+E,void 0===F[G]){k=b[E];for(I=0;I<k.length;I++)if(E=k[I],c(q,I)&&!f(A,E)&&!g(A,E)){p=I;l.splice(M,1);z=h.slice(0,q+1);E=h.slice(q);I=k.slice(p);U=k.slice(0,p+1);h=z.concat(I).concat(U).concat(E);z=q;break}if(0<=p)break;F[G]=!0}if(0<=p)break}}return h}(a,b);var q=THREE.FontUtils.Triangulate(f,!1);f=0;for(g=q.length;f<g;f++)for(k=
q[f],h=0;3>h;h++)l=k[h].x+":"+k[h].y,l=p[l],void 0!==l&&(k[h]=l);return q.concat()},isClockWise:function(a){return 0>THREE.FontUtils.Triangulate.area(a)},b2p0:function(a,b){var c=1-a;return c*c*b},b2p1:function(a,b){return 2*(1-a)*a*b},b2p2:function(a,b){return a*a*b},b2:function(a,b,c,d){return this.b2p0(a,b)+this.b2p1(a,c)+this.b2p2(a,d)},b3p0:function(a,b){var c=1-a;return c*c*c*b},b3p1:function(a,b){var c=1-a;return 3*c*c*a*b},b3p2:function(a,b){return 3*(1-a)*a*a*b},b3p3:function(a,b){return a*
a*a*b},b3:function(a,b,c,d,e){return this.b3p0(a,b)+this.b3p1(a,c)+this.b3p2(a,d)+this.b3p3(a,e)}};THREE.LineCurve=function(a,b){this.v1=a;this.v2=b};THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.LineCurve.prototype.constructor=THREE.LineCurve;THREE.LineCurve.prototype.getPoint=function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};THREE.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};
THREE.LineCurve.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};THREE.QuadraticBezierCurve=function(a,b,c){this.v0=a;this.v1=b;this.v2=c};THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve;
THREE.QuadraticBezierCurve.prototype.getPoint=function(a){var b=new THREE.Vector2;b.x=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);return b};THREE.QuadraticBezierCurve.prototype.getTangent=function(a){var b=new THREE.Vector2;b.x=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Curve.Utils.tangentQuadraticBezier(a,this.v0.y,this.v1.y,this.v2.y);return b.normalize()};
THREE.CubicBezierCurve=function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d};THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype);THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve;THREE.CubicBezierCurve.prototype.getPoint=function(a){var b;b=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new THREE.Vector2(b,a)};
THREE.CubicBezierCurve.prototype.getTangent=function(a){var b;b=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);a=THREE.Curve.Utils.tangentCubicBezier(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b=new THREE.Vector2(b,a);b.normalize();return b};THREE.SplineCurve=function(a){this.points=void 0==a?[]:a};THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype);THREE.SplineCurve.prototype.constructor=THREE.SplineCurve;
THREE.SplineCurve.prototype.getPoint=function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new THREE.Vector2;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);return c};THREE.EllipseCurve=function(a,b,c,d,e,f,g){this.aX=a;this.aY=b;this.xRadius=c;this.yRadius=d;this.aStartAngle=e;this.aEndAngle=f;this.aClockwise=g};
THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype);THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve;THREE.EllipseCurve.prototype.getPoint=function(a){var b=this.aEndAngle-this.aStartAngle;0>b&&(b+=2*Math.PI);b>2*Math.PI&&(b-=2*Math.PI);a=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-b):this.aStartAngle+a*b;b=new THREE.Vector2;b.x=this.aX+this.xRadius*Math.cos(a);b.y=this.aY+this.yRadius*Math.sin(a);return b};
THREE.ArcCurve=function(a,b,c,d,e,f){THREE.EllipseCurve.call(this,a,b,c,c,d,e,f)};THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype);THREE.ArcCurve.prototype.constructor=THREE.ArcCurve;THREE.LineCurve3=THREE.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var b=new THREE.Vector3;b.subVectors(this.v2,this.v1);b.multiplyScalar(a);b.add(this.v1);return b});
THREE.QuadraticBezierCurve3=THREE.Curve.create(function(a,b,c){this.v0=a;this.v1=b;this.v2=c},function(a){var b=new THREE.Vector3;b.x=THREE.Shape.Utils.b2(a,this.v0.x,this.v1.x,this.v2.x);b.y=THREE.Shape.Utils.b2(a,this.v0.y,this.v1.y,this.v2.y);b.z=THREE.Shape.Utils.b2(a,this.v0.z,this.v1.z,this.v2.z);return b});
THREE.CubicBezierCurve3=THREE.Curve.create(function(a,b,c,d){this.v0=a;this.v1=b;this.v2=c;this.v3=d},function(a){var b=new THREE.Vector3;b.x=THREE.Shape.Utils.b3(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x);b.y=THREE.Shape.Utils.b3(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y);b.z=THREE.Shape.Utils.b3(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return b});
THREE.SplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-1;var c=Math.floor(a);a-=c;var d=b[0==c?c:c-1],e=b[c],f=b[c>b.length-2?b.length-1:c+1],b=b[c>b.length-3?b.length-1:c+2],c=new THREE.Vector3;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);c.z=THREE.Curve.Utils.interpolate(d.z,e.z,f.z,b.z,a);return c});
THREE.ClosedSplineCurve3=THREE.Curve.create(function(a){this.points=void 0==a?[]:a},function(a){var b=this.points;a*=b.length-0;var c=Math.floor(a);a-=c;var c=c+(0<c?0:(Math.floor(Math.abs(c)/b.length)+1)*b.length),d=b[(c-1)%b.length],e=b[c%b.length],f=b[(c+1)%b.length],b=b[(c+2)%b.length],c=new THREE.Vector3;c.x=THREE.Curve.Utils.interpolate(d.x,e.x,f.x,b.x,a);c.y=THREE.Curve.Utils.interpolate(d.y,e.y,f.y,b.y,a);c.z=THREE.Curve.Utils.interpolate(d.z,e.z,f.z,b.z,a);return c});
THREE.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){THREE.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){THREE.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){THREE.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(a){if(!0===a.initialized)return a;for(var b=0;b<a.hierarchy.length;b++){for(var c=0;c<a.hierarchy[b].keys.length;c++)if(0>a.hierarchy[b].keys[c].time&&(a.hierarchy[b].keys[c].time=
0),void 0!==a.hierarchy[b].keys[c].rot&&!(a.hierarchy[b].keys[c].rot instanceof THREE.Quaternion)){var d=a.hierarchy[b].keys[c].rot;a.hierarchy[b].keys[c].rot=(new THREE.Quaternion).fromArray(d)}if(a.hierarchy[b].keys.length&&void 0!==a.hierarchy[b].keys[0].morphTargets){d={};for(c=0;c<a.hierarchy[b].keys.length;c++)for(var e=0;e<a.hierarchy[b].keys[c].morphTargets.length;e++){var f=a.hierarchy[b].keys[c].morphTargets[e];d[f]=-1}a.hierarchy[b].usedMorphTargets=d;for(c=0;c<a.hierarchy[b].keys.length;c++){var g=
{};for(f in d){for(e=0;e<a.hierarchy[b].keys[c].morphTargets.length;e++)if(a.hierarchy[b].keys[c].morphTargets[e]===f){g[f]=a.hierarchy[b].keys[c].morphTargetsInfluences[e];break}e===a.hierarchy[b].keys[c].morphTargets.length&&(g[f]=0)}a.hierarchy[b].keys[c].morphTargetsInfluences=g}}for(c=1;c<a.hierarchy[b].keys.length;c++)a.hierarchy[b].keys[c].time===a.hierarchy[b].keys[c-1].time&&(a.hierarchy[b].keys.splice(c,1),c--);for(c=0;c<a.hierarchy[b].keys.length;c++)a.hierarchy[b].keys[c].index=c}a.initialized=
!0;return a},parse:function(a){var b=function(a,c){c.push(a);for(var d=0;d<a.children.length;d++)b(a.children[d],c)},c=[];if(a instanceof THREE.SkinnedMesh)for(var d=0;d<a.skeleton.bones.length;d++)c.push(a.skeleton.bones[d]);else b(a,c);return c},play:function(a){-1===this.animations.indexOf(a)&&this.animations.push(a)},stop:function(a){a=this.animations.indexOf(a);-1!==a&&this.animations.splice(a,1)},update:function(a){for(var b=0;b<this.animations.length;b++)this.animations[b].resetBlendWeights();
for(b=0;b<this.animations.length;b++)this.animations[b].update(a)}};THREE.Animation=function(a,b){this.root=a;this.data=THREE.AnimationHandler.init(b);this.hierarchy=THREE.AnimationHandler.parse(a);this.currentTime=0;this.timeScale=1;this.isPlaying=!1;this.loop=!0;this.weight=0;this.interpolationType=THREE.AnimationHandler.LINEAR};
THREE.Animation.prototype={constructor:THREE.Animation,keyTypes:["pos","rot","scl"],play:function(a,b){this.currentTime=void 0!==a?a:0;this.weight=void 0!==b?b:1;this.isPlaying=!0;this.reset();THREE.AnimationHandler.play(this)},stop:function(){this.isPlaying=!1;THREE.AnimationHandler.stop(this)},reset:function(){for(var a=0,b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a];void 0===c.animationCache&&(c.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}});
var d=this.data.name,e=c.animationCache.animations,f=e[d];void 0===f&&(f={prevKey:{pos:0,rot:0,scl:0},nextKey:{pos:0,rot:0,scl:0},originalMatrix:c.matrix},e[d]=f);for(c=0;3>c;c++){for(var d=this.keyTypes[c],e=this.data.hierarchy[a].keys[0],g=this.getNextKeyWith(d,a,1);g.time<this.currentTime&&g.index>e.index;)e=g,g=this.getNextKeyWith(d,a,g.index+1);f.prevKey[d]=e;f.nextKey[d]=g}}},resetBlendWeights:function(){for(var a=0,b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a].animationCache;void 0!==
c&&(c=c.blending,c.positionWeight=0,c.quaternionWeight=0,c.scaleWeight=0)}},update:function(){var a=[],b=new THREE.Vector3,c=new THREE.Vector3,d=new THREE.Quaternion,e=function(a,b){var c=[],d=[],e,q,n,t,r,s;e=(a.length-1)*b;q=Math.floor(e);e-=q;c[0]=0===q?q:q-1;c[1]=q;c[2]=q>a.length-2?q:q+1;c[3]=q>a.length-3?q:q+2;q=a[c[0]];t=a[c[1]];r=a[c[2]];s=a[c[3]];c=e*e;n=e*c;d[0]=f(q[0],t[0],r[0],s[0],e,c,n);d[1]=f(q[1],t[1],r[1],s[1],e,c,n);d[2]=f(q[2],t[2],r[2],s[2],e,c,n);return d},f=function(a,b,c,d,
e,f,n){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*n+(-3*(b-c)-2*a-d)*f+a*e+b};return function(f){if(!1!==this.isPlaying&&(this.currentTime+=f*this.timeScale,0!==this.weight)){f=this.data.length;if(this.currentTime>f||0>this.currentTime)this.loop?(this.currentTime%=f,0>this.currentTime&&(this.currentTime+=f),this.reset()):this.stop();f=0;for(var h=this.hierarchy.length;f<h;f++)for(var k=this.hierarchy[f],l=k.animationCache.animations[this.data.name],p=k.animationCache.blending,q=0;3>q;q++){var n=this.keyTypes[q],
t=l.prevKey[n],r=l.nextKey[n];if(0<this.timeScale&&r.time<=this.currentTime||0>this.timeScale&&t.time>=this.currentTime){t=this.data.hierarchy[f].keys[0];for(r=this.getNextKeyWith(n,f,1);r.time<this.currentTime&&r.index>t.index;)t=r,r=this.getNextKeyWith(n,f,r.index+1);l.prevKey[n]=t;l.nextKey[n]=r}var s=(this.currentTime-t.time)/(r.time-t.time),u=t[n],v=r[n];0>s&&(s=0);1<s&&(s=1);if("pos"===n)if(this.interpolationType===THREE.AnimationHandler.LINEAR)c.x=u[0]+(v[0]-u[0])*s,c.y=u[1]+(v[1]-u[1])*s,
c.z=u[2]+(v[2]-u[2])*s,t=this.weight/(this.weight+p.positionWeight),k.position.lerp(c,t),p.positionWeight+=this.weight;else{if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)a[0]=this.getPrevKeyWith("pos",f,t.index-1).pos,a[1]=u,a[2]=v,a[3]=this.getNextKeyWith("pos",f,r.index+1).pos,s=.33*s+.33,r=e(a,s),t=this.weight/(this.weight+p.positionWeight),p.positionWeight+=this.weight,n=k.position,n.x+=(r[0]-n.x)*t,n.y+=(r[1]-
n.y)*t,n.z+=(r[2]-n.z)*t,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(s=e(a,1.01*s),b.set(s[0],s[1],s[2]),b.sub(n),b.y=0,b.normalize(),s=Math.atan2(b.x,b.z),k.rotation.set(0,s,0))}else"rot"===n?(THREE.Quaternion.slerp(u,v,d,s),0===p.quaternionWeight?(k.quaternion.copy(d),p.quaternionWeight=this.weight):(t=this.weight/(this.weight+p.quaternionWeight),THREE.Quaternion.slerp(k.quaternion,d,k.quaternion,t),p.quaternionWeight+=this.weight)):"scl"===n&&(c.x=u[0]+(v[0]-u[0])*s,c.y=
u[1]+(v[1]-u[1])*s,c.z=u[2]+(v[2]-u[2])*s,t=this.weight/(this.weight+p.scaleWeight),k.scale.lerp(c,t),p.scaleWeight+=this.weight)}return!0}}}(),getNextKeyWith:function(a,b,c){var d=this.data.hierarchy[b].keys;for(c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?c<d.length-1?c:d.length-1:c%d.length;c<d.length;c++)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[0]},getPrevKeyWith:function(a,b,c){var d=
this.data.hierarchy[b].keys;for(c=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<c?c:0:0<=c?c:c+d.length;0<=c;c--)if(void 0!==d[c][a])return d[c];return this.data.hierarchy[b].keys[d.length-1]}};
THREE.KeyFrameAnimation=function(a){this.root=a.node;this.data=THREE.AnimationHandler.init(a);this.hierarchy=THREE.AnimationHandler.parse(this.root);this.currentTime=0;this.timeScale=.001;this.isPlaying=!1;this.loop=this.isPaused=!0;a=0;for(var b=this.hierarchy.length;a<b;a++){var c=this.data.hierarchy[a].sids,d=this.hierarchy[a];if(this.data.hierarchy[a].keys.length&&c){for(var e=0;e<c.length;e++){var f=c[e],g=this.getNextKeyWith(f,a,0);g&&g.apply(f)}d.matrixAutoUpdate=!1;this.data.hierarchy[a].node.updateMatrix();
d.matrixWorldNeedsUpdate=!0}}};
THREE.KeyFrameAnimation.prototype={constructor:THREE.KeyFrameAnimation,play:function(a){this.currentTime=void 0!==a?a:0;if(!1===this.isPlaying){this.isPlaying=!0;var b=this.hierarchy.length,c,d;for(a=0;a<b;a++)c=this.hierarchy[a],d=this.data.hierarchy[a],void 0===d.animationCache&&(d.animationCache={},d.animationCache.prevKey=null,d.animationCache.nextKey=null,d.animationCache.originalMatrix=c.matrix),c=this.data.hierarchy[a].keys,c.length&&(d.animationCache.prevKey=c[0],d.animationCache.nextKey=
c[1],this.startTime=Math.min(c[0].time,this.startTime),this.endTime=Math.max(c[c.length-1].time,this.endTime));this.update(0)}this.isPaused=!1;THREE.AnimationHandler.play(this)},stop:function(){this.isPaused=this.isPlaying=!1;THREE.AnimationHandler.stop(this);for(var a=0;a<this.data.hierarchy.length;a++){var b=this.hierarchy[a],c=this.data.hierarchy[a];if(void 0!==c.animationCache){var d=c.animationCache.originalMatrix;d.copy(b.matrix);b.matrix=d;delete c.animationCache}}},update:function(a){if(!1!==
this.isPlaying){this.currentTime+=a*this.timeScale;a=this.data.length;!0===this.loop&&this.currentTime>a&&(this.currentTime%=a);this.currentTime=Math.min(this.currentTime,a);a=0;for(var b=this.hierarchy.length;a<b;a++){var c=this.hierarchy[a],d=this.data.hierarchy[a],e=d.keys,d=d.animationCache;if(e.length){var f=d.prevKey,g=d.nextKey;if(g.time<=this.currentTime){for(;g.time<this.currentTime&&g.index>f.index;)f=g,g=e[f.index+1];d.prevKey=f;d.nextKey=g}g.time>=this.currentTime?f.interpolate(g,this.currentTime):
f.interpolate(g,g.time);this.data.hierarchy[a].node.updateMatrix();c.matrixWorldNeedsUpdate=!0}}}},getNextKeyWith:function(a,b,c){b=this.data.hierarchy[b].keys;for(c%=b.length;c<b.length;c++)if(b[c].hasTarget(a))return b[c];return b[0]},getPrevKeyWith:function(a,b,c){b=this.data.hierarchy[b].keys;for(c=0<=c?c:c+b.length;0<=c;c--)if(b[c].hasTarget(a))return b[c];return b[b.length-1]}};
THREE.MorphAnimation=function(a){this.mesh=a;this.frames=a.morphTargetInfluences.length;this.currentTime=0;this.duration=1E3;this.loop=!0;this.currentFrame=this.lastFrame=0;this.isPlaying=!1};
THREE.MorphAnimation.prototype={constructor:THREE.MorphAnimation,play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(a){if(!1!==this.isPlaying){this.currentTime+=a;!0===this.loop&&this.currentTime>this.duration&&(this.currentTime%=this.duration);this.currentTime=Math.min(this.currentTime,this.duration);a=this.duration/this.frames;var b=Math.floor(this.currentTime/a),c=this.mesh.morphTargetInfluences;b!=this.currentFrame&&(c[this.lastFrame]=0,c[this.currentFrame]=
1,c[b]=0,this.lastFrame=this.currentFrame,this.currentFrame=b);c[b]=this.currentTime%a/a;c[this.lastFrame]=1-c[b]}}};
THREE.BoxGeometry=function(a,b,c,d,e,f){function g(a,b,c,d,e,f,g,s){var u,v=h.widthSegments,x=h.heightSegments,D=e/2,w=f/2,y=h.vertices.length;if("x"===a&&"y"===b||"y"===a&&"x"===b)u="z";else if("x"===a&&"z"===b||"z"===a&&"x"===b)u="y",x=h.depthSegments;else if("z"===a&&"y"===b||"y"===a&&"z"===b)u="x",v=h.depthSegments;var A=v+1,E=x+1,G=e/v,F=f/x,z=new THREE.Vector3;z[u]=0<g?1:-1;for(e=0;e<E;e++)for(f=0;f<A;f++){var I=new THREE.Vector3;I[a]=(f*G-D)*c;I[b]=(e*F-w)*d;I[u]=g;h.vertices.push(I)}for(e=
0;e<x;e++)for(f=0;f<v;f++)w=f+A*e,a=f+A*(e+1),b=f+1+A*(e+1),c=f+1+A*e,d=new THREE.Vector2(f/v,1-e/x),g=new THREE.Vector2(f/v,1-(e+1)/x),u=new THREE.Vector2((f+1)/v,1-(e+1)/x),D=new THREE.Vector2((f+1)/v,1-e/x),w=new THREE.Face3(w+y,a+y,c+y),w.normal.copy(z),w.vertexNormals.push(z.clone(),z.clone(),z.clone()),w.materialIndex=s,h.faces.push(w),h.faceVertexUvs[0].push([d,g,D]),w=new THREE.Face3(a+y,b+y,c+y),w.normal.copy(z),w.vertexNormals.push(z.clone(),z.clone(),z.clone()),w.materialIndex=s,h.faces.push(w),
h.faceVertexUvs[0].push([g.clone(),u,D.clone()])}THREE.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:b,depth:c,widthSegments:d,heightSegments:e,depthSegments:f};this.widthSegments=d||1;this.heightSegments=e||1;this.depthSegments=f||1;var h=this;d=a/2;e=b/2;f=c/2;g("z","y",-1,-1,c,b,d,0);g("z","y",1,-1,c,b,-d,1);g("x","z",1,1,a,c,e,2);g("x","z",1,-1,a,c,-e,3);g("x","y",1,-1,a,b,f,4);g("x","y",-1,-1,a,b,-f,5);this.mergeVertices()};THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry;
THREE.CircleGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:b,thetaStart:c,thetaLength:d};a=a||50;b=void 0!==b?Math.max(3,b):8;c=void 0!==c?c:0;d=void 0!==d?d:2*Math.PI;var e,f=[];e=new THREE.Vector3;var g=new THREE.Vector2(.5,.5);this.vertices.push(e);f.push(g);for(e=0;e<=b;e++){var h=new THREE.Vector3,k=c+e/b*d;h.x=a*Math.cos(k);h.y=a*Math.sin(k);this.vertices.push(h);f.push(new THREE.Vector2((h.x/a+1)/2,(h.y/a+1)/2))}c=new THREE.Vector3(0,
0,1);for(e=1;e<=b;e++)this.faces.push(new THREE.Face3(e,e+1,0,[c.clone(),c.clone(),c.clone()])),this.faceVertexUvs[0].push([f[e].clone(),f[e+1].clone(),g.clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,a)};THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry;
THREE.CubeGeometry=function(a,b,c,d,e,f){THREE.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry.");return new THREE.BoxGeometry(a,b,c,d,e,f)};
THREE.CylinderGeometry=function(a,b,c,d,e,f,g,h){THREE.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:b,height:c,radialSegments:d,heightSegments:e,openEnded:f,thetaStart:g,thetaLength:h};a=void 0!==a?a:20;b=void 0!==b?b:20;c=void 0!==c?c:100;d=d||8;e=e||1;f=void 0!==f?f:!1;g=void 0!==g?g:0;h=void 0!==h?h:2*Math.PI;var k=c/2,l,p,q=[],n=[];for(p=0;p<=e;p++){var t=[],r=[],s=p/e,u=s*(b-a)+a;for(l=0;l<=d;l++){var v=l/d,x=new THREE.Vector3;x.x=u*Math.sin(v*h+
g);x.y=-s*c+k;x.z=u*Math.cos(v*h+g);this.vertices.push(x);t.push(this.vertices.length-1);r.push(new THREE.Vector2(v,1-s))}q.push(t);n.push(r)}c=(b-a)/c;for(l=0;l<d;l++)for(0!==a?(g=this.vertices[q[0][l]].clone(),h=this.vertices[q[0][l+1]].clone()):(g=this.vertices[q[1][l]].clone(),h=this.vertices[q[1][l+1]].clone()),g.setY(Math.sqrt(g.x*g.x+g.z*g.z)*c).normalize(),h.setY(Math.sqrt(h.x*h.x+h.z*h.z)*c).normalize(),p=0;p<e;p++){var t=q[p][l],r=q[p+1][l],s=q[p+1][l+1],u=q[p][l+1],v=g.clone(),x=g.clone(),
D=h.clone(),w=h.clone(),y=n[p][l].clone(),A=n[p+1][l].clone(),E=n[p+1][l+1].clone(),G=n[p][l+1].clone();this.faces.push(new THREE.Face3(t,r,u,[v,x,w]));this.faceVertexUvs[0].push([y,A,G]);this.faces.push(new THREE.Face3(r,s,u,[x.clone(),D,w.clone()]));this.faceVertexUvs[0].push([A.clone(),E,G.clone()])}if(!1===f&&0<a)for(this.vertices.push(new THREE.Vector3(0,k,0)),l=0;l<d;l++)t=q[0][l],r=q[0][l+1],s=this.vertices.length-1,v=new THREE.Vector3(0,1,0),x=new THREE.Vector3(0,1,0),D=new THREE.Vector3(0,
1,0),y=n[0][l].clone(),A=n[0][l+1].clone(),E=new THREE.Vector2(A.x,0),this.faces.push(new THREE.Face3(t,r,s,[v,x,D])),this.faceVertexUvs[0].push([y,A,E]);if(!1===f&&0<b)for(this.vertices.push(new THREE.Vector3(0,-k,0)),l=0;l<d;l++)t=q[e][l+1],r=q[e][l],s=this.vertices.length-1,v=new THREE.Vector3(0,-1,0),x=new THREE.Vector3(0,-1,0),D=new THREE.Vector3(0,-1,0),y=n[e][l+1].clone(),A=n[e][l].clone(),E=new THREE.Vector2(A.x,1),this.faces.push(new THREE.Face3(t,r,s,[v,x,D])),this.faceVertexUvs[0].push([y,
A,E]);this.computeFaceNormals()};THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.ExtrudeGeometry=function(a,b){"undefined"!==typeof a&&(THREE.Geometry.call(this),this.type="ExtrudeGeometry",a=a instanceof Array?a:[a],this.addShapeList(a,b),this.computeFaceNormals())};THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry;
THREE.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var c=a.length,d=0;d<c;d++)this.addShape(a[d],b)};
THREE.ExtrudeGeometry.prototype.addShape=function(a,b){function c(a,b,c){b||THREE.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,b,c){var d=1,d=a.x-b.x,e=a.y-b.y,f=c.x-a.x,g=c.y-a.y,h=d*d+e*e;if(1E-10<Math.abs(d*g-e*f)){var k=Math.sqrt(h),l=Math.sqrt(f*f+g*g),h=b.x-e/k;b=b.y+d/k;f=((c.x-g/l-h)*g-(c.y+f/l-b)*f)/(d*g-e*f);c=h+d*f-a.x;a=b+e*f-a.y;d=c*c+a*a;if(2>=d)return new THREE.Vector2(c,a);d=Math.sqrt(d/2)}else a=!1,1E-10<d?1E-10<f&&(a=!0):
-1E-10>d?-1E-10>f&&(a=!0):Math.sign(e)==Math.sign(g)&&(a=!0),a?(c=-e,a=d,d=Math.sqrt(h)):(c=d,a=e,d=Math.sqrt(h/2));return new THREE.Vector2(c/d,a/d)}function e(a,b){var c,d;for(O=a.length;0<=--O;){c=O;d=O-1;0>d&&(d=a.length-1);for(var e=0,f=t+2*p,e=0;e<f;e++){var g=oa*e,h=oa*(e+1),k=b+c+g,g=b+d+g,l=b+d+h,h=b+c+h,k=k+U,g=g+U,l=l+U,h=h+U;I.faces.push(new THREE.Face3(k,g,h,null,null,x));I.faces.push(new THREE.Face3(g,l,h,null,null,x));k=D.generateSideWallUV(I,k,g,l,h);I.faceVertexUvs[0].push([k[0],
k[1],k[3]]);I.faceVertexUvs[0].push([k[1],k[2],k[3]])}}}function f(a,b,c){I.vertices.push(new THREE.Vector3(a,b,c))}function g(a,b,c){a+=U;b+=U;c+=U;I.faces.push(new THREE.Face3(a,b,c,null,null,v));a=D.generateTopUV(I,a,b,c);I.faceVertexUvs[0].push(a)}var h=void 0!==b.amount?b.amount:100,k=void 0!==b.bevelThickness?b.bevelThickness:6,l=void 0!==b.bevelSize?b.bevelSize:k-2,p=void 0!==b.bevelSegments?b.bevelSegments:3,q=void 0!==b.bevelEnabled?b.bevelEnabled:!0,n=void 0!==b.curveSegments?b.curveSegments:
12,t=void 0!==b.steps?b.steps:1,r=b.extrudePath,s,u=!1,v=b.material,x=b.extrudeMaterial,D=void 0!==b.UVGenerator?b.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,w,y,A,E;r&&(s=r.getSpacedPoints(t),u=!0,q=!1,w=void 0!==b.frames?b.frames:new THREE.TubeGeometry.FrenetFrames(r,t,!1),y=new THREE.Vector3,A=new THREE.Vector3,E=new THREE.Vector3);q||(l=k=p=0);var G,F,z,I=this,U=this.vertices.length,r=a.extractPoints(n),n=r.shape,M=r.holes;if(r=!THREE.Shape.Utils.isClockWise(n)){n=n.reverse();F=0;for(z=
M.length;F<z;F++)G=M[F],THREE.Shape.Utils.isClockWise(G)&&(M[F]=G.reverse());r=!1}var H=THREE.Shape.Utils.triangulateShape(n,M),L=n;F=0;for(z=M.length;F<z;F++)G=M[F],n=n.concat(G);var P,N,R,V,J,oa=n.length,ja,ha=H.length,r=[],O=0;R=L.length;P=R-1;for(N=O+1;O<R;O++,P++,N++)P===R&&(P=0),N===R&&(N=0),r[O]=d(L[O],L[P],L[N]);var ca=[],ba,qa=r.concat();F=0;for(z=M.length;F<z;F++){G=M[F];ba=[];O=0;R=G.length;P=R-1;for(N=O+1;O<R;O++,P++,N++)P===R&&(P=0),N===R&&(N=0),ba[O]=d(G[O],G[P],G[N]);ca.push(ba);qa=
qa.concat(ba)}for(P=0;P<p;P++){R=P/p;V=k*(1-R);N=l*Math.sin(R*Math.PI/2);O=0;for(R=L.length;O<R;O++)J=c(L[O],r[O],N),f(J.x,J.y,-V);F=0;for(z=M.length;F<z;F++)for(G=M[F],ba=ca[F],O=0,R=G.length;O<R;O++)J=c(G[O],ba[O],N),f(J.x,J.y,-V)}N=l;for(O=0;O<oa;O++)J=q?c(n[O],qa[O],N):n[O],u?(A.copy(w.normals[0]).multiplyScalar(J.x),y.copy(w.binormals[0]).multiplyScalar(J.y),E.copy(s[0]).add(A).add(y),f(E.x,E.y,E.z)):f(J.x,J.y,0);for(R=1;R<=t;R++)for(O=0;O<oa;O++)J=q?c(n[O],qa[O],N):n[O],u?(A.copy(w.normals[R]).multiplyScalar(J.x),
y.copy(w.binormals[R]).multiplyScalar(J.y),E.copy(s[R]).add(A).add(y),f(E.x,E.y,E.z)):f(J.x,J.y,h/t*R);for(P=p-1;0<=P;P--){R=P/p;V=k*(1-R);N=l*Math.sin(R*Math.PI/2);O=0;for(R=L.length;O<R;O++)J=c(L[O],r[O],N),f(J.x,J.y,h+V);F=0;for(z=M.length;F<z;F++)for(G=M[F],ba=ca[F],O=0,R=G.length;O<R;O++)J=c(G[O],ba[O],N),u?f(J.x,J.y+s[t-1].y,s[t-1].x+V):f(J.x,J.y,h+V)}(function(){if(q){var a;a=0*oa;for(O=0;O<ha;O++)ja=H[O],g(ja[2]+a,ja[1]+a,ja[0]+a);a=t+2*p;a*=oa;for(O=0;O<ha;O++)ja=H[O],g(ja[0]+a,ja[1]+a,ja[2]+
a)}else{for(O=0;O<ha;O++)ja=H[O],g(ja[2],ja[1],ja[0]);for(O=0;O<ha;O++)ja=H[O],g(ja[0]+oa*t,ja[1]+oa*t,ja[2]+oa*t)}})();(function(){var a=0;e(L,a);a+=L.length;F=0;for(z=M.length;F<z;F++)G=M[F],e(G,a),a+=G.length})()};
THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,b,c,d){a=a.vertices;b=a[b];c=a[c];d=a[d];return[new THREE.Vector2(b.x,b.y),new THREE.Vector2(c.x,c.y),new THREE.Vector2(d.x,d.y)]},generateSideWallUV:function(a,b,c,d,e){a=a.vertices;b=a[b];c=a[c];d=a[d];e=a[e];return.01>Math.abs(b.y-c.y)?[new THREE.Vector2(b.x,1-b.z),new THREE.Vector2(c.x,1-c.z),new THREE.Vector2(d.x,1-d.z),new THREE.Vector2(e.x,1-e.z)]:[new THREE.Vector2(b.y,1-b.z),new THREE.Vector2(c.y,1-c.z),new THREE.Vector2(d.y,
1-d.z),new THREE.Vector2(e.y,1-e.z)]}};THREE.ShapeGeometry=function(a,b){THREE.Geometry.call(this);this.type="ShapeGeometry";!1===a instanceof Array&&(a=[a]);this.addShapeList(a,b);this.computeFaceNormals()};THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry;THREE.ShapeGeometry.prototype.addShapeList=function(a,b){for(var c=0,d=a.length;c<d;c++)this.addShape(a[c],b);return this};
THREE.ShapeGeometry.prototype.addShape=function(a,b){void 0===b&&(b={});var c=b.material,d=void 0===b.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:b.UVGenerator,e,f,g,h=this.vertices.length;e=a.extractPoints(void 0!==b.curveSegments?b.curveSegments:12);var k=e.shape,l=e.holes;if(!THREE.Shape.Utils.isClockWise(k))for(k=k.reverse(),e=0,f=l.length;e<f;e++)g=l[e],THREE.Shape.Utils.isClockWise(g)&&(l[e]=g.reverse());var p=THREE.Shape.Utils.triangulateShape(k,l);e=0;for(f=l.length;e<f;e++)g=l[e],
k=k.concat(g);l=k.length;f=p.length;for(e=0;e<l;e++)g=k[e],this.vertices.push(new THREE.Vector3(g.x,g.y,0));for(e=0;e<f;e++)l=p[e],k=l[0]+h,g=l[1]+h,l=l[2]+h,this.faces.push(new THREE.Face3(k,g,l,null,null,c)),this.faceVertexUvs[0].push(d.generateTopUV(this,k,g,l))};
THREE.LatheGeometry=function(a,b,c,d){THREE.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:b,phiStart:c,phiLength:d};b=b||12;c=c||0;d=d||2*Math.PI;for(var e=1/(a.length-1),f=1/b,g=0,h=b;g<=h;g++)for(var k=c+g*f*d,l=Math.cos(k),p=Math.sin(k),k=0,q=a.length;k<q;k++){var n=a[k],t=new THREE.Vector3;t.x=l*n.x-p*n.y;t.y=p*n.x+l*n.y;t.z=n.z;this.vertices.push(t)}c=a.length;g=0;for(h=b;g<h;g++)for(k=0,q=a.length-1;k<q;k++){b=p=k+c*g;d=p+c;var l=p+1+c,p=p+1,n=g*f,t=k*e,r=
n+f,s=t+e;this.faces.push(new THREE.Face3(b,d,p));this.faceVertexUvs[0].push([new THREE.Vector2(n,t),new THREE.Vector2(r,t),new THREE.Vector2(n,s)]);this.faces.push(new THREE.Face3(d,l,p));this.faceVertexUvs[0].push([new THREE.Vector2(r,t),new THREE.Vector2(r,s),new THREE.Vector2(n,s)])}this.mergeVertices();this.computeFaceNormals();this.computeVertexNormals()};THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry;
THREE.PlaneGeometry=function(a,b,c,d){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint.");THREE.Geometry.call(this);this.type="PlaneGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};this.fromBufferGeometry(new THREE.PlaneBufferGeometry(a,b,c,d))};THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;
THREE.PlaneBufferGeometry=function(a,b,c,d){THREE.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:b,widthSegments:c,heightSegments:d};var e=a/2,f=b/2;c=c||1;d=d||1;var g=c+1,h=d+1,k=a/c,l=b/d;b=new Float32Array(g*h*3);a=new Float32Array(g*h*3);for(var p=new Float32Array(g*h*2),q=0,n=0,t=0;t<h;t++)for(var r=t*l-f,s=0;s<g;s++)b[q]=s*k-e,b[q+1]=-r,a[q+2]=1,p[n]=s/c,p[n+1]=1-t/d,q+=3,n+=2;q=0;e=new (65535<b.length/3?Uint32Array:Uint16Array)(c*d*6);for(t=0;t<d;t++)for(s=
0;s<c;s++)f=s+g*(t+1),h=s+1+g*(t+1),k=s+1+g*t,e[q]=s+g*t,e[q+1]=f,e[q+2]=k,e[q+3]=f,e[q+4]=h,e[q+5]=k,q+=6;this.addAttribute("index",new THREE.BufferAttribute(e,1));this.addAttribute("position",new THREE.BufferAttribute(b,3));this.addAttribute("normal",new THREE.BufferAttribute(a,3));this.addAttribute("uv",new THREE.BufferAttribute(p,2))};THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype);THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry;
THREE.RingGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type="RingGeometry";this.parameters={innerRadius:a,outerRadius:b,thetaSegments:c,phiSegments:d,thetaStart:e,thetaLength:f};a=a||0;b=b||50;e=void 0!==e?e:0;f=void 0!==f?f:2*Math.PI;c=void 0!==c?Math.max(3,c):8;d=void 0!==d?Math.max(1,d):8;var g,h=[],k=a,l=(b-a)/d;for(a=0;a<d+1;a++){for(g=0;g<c+1;g++){var p=new THREE.Vector3,q=e+g/c*f;p.x=k*Math.cos(q);p.y=k*Math.sin(q);this.vertices.push(p);h.push(new THREE.Vector2((p.x/b+1)/2,
(p.y/b+1)/2))}k+=l}b=new THREE.Vector3(0,0,1);for(a=0;a<d;a++)for(e=a*(c+1),g=0;g<c;g++)f=q=g+e,l=q+c+1,p=q+c+2,this.faces.push(new THREE.Face3(f,l,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([h[f].clone(),h[l].clone(),h[p].clone()]),f=q,l=q+c+2,p=q+1,this.faces.push(new THREE.Face3(f,l,p,[b.clone(),b.clone(),b.clone()])),this.faceVertexUvs[0].push([h[f].clone(),h[l].clone(),h[p].clone()]);this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,k)};
THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.RingGeometry.prototype.constructor=THREE.RingGeometry;
THREE.SphereGeometry=function(a,b,c,d,e,f,g){THREE.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:b,heightSegments:c,phiStart:d,phiLength:e,thetaStart:f,thetaLength:g};a=a||50;b=Math.max(3,Math.floor(b)||8);c=Math.max(2,Math.floor(c)||6);d=void 0!==d?d:0;e=void 0!==e?e:2*Math.PI;f=void 0!==f?f:0;g=void 0!==g?g:Math.PI;var h,k,l=[],p=[];for(k=0;k<=c;k++){var q=[],n=[];for(h=0;h<=b;h++){var t=h/b,r=k/c,s=new THREE.Vector3;s.x=-a*Math.cos(d+t*e)*Math.sin(f+r*g);
s.y=a*Math.cos(f+r*g);s.z=a*Math.sin(d+t*e)*Math.sin(f+r*g);this.vertices.push(s);q.push(this.vertices.length-1);n.push(new THREE.Vector2(t,1-r))}l.push(q);p.push(n)}for(k=0;k<c;k++)for(h=0;h<b;h++){d=l[k][h+1];e=l[k][h];f=l[k+1][h];g=l[k+1][h+1];var q=this.vertices[d].clone().normalize(),n=this.vertices[e].clone().normalize(),t=this.vertices[f].clone().normalize(),r=this.vertices[g].clone().normalize(),s=p[k][h+1].clone(),u=p[k][h].clone(),v=p[k+1][h].clone(),x=p[k+1][h+1].clone();Math.abs(this.vertices[d].y)===
a?(s.x=(s.x+u.x)/2,this.faces.push(new THREE.Face3(d,f,g,[q,t,r])),this.faceVertexUvs[0].push([s,v,x])):Math.abs(this.vertices[f].y)===a?(v.x=(v.x+x.x)/2,this.faces.push(new THREE.Face3(d,e,f,[q,n,t])),this.faceVertexUvs[0].push([s,u,v])):(this.faces.push(new THREE.Face3(d,e,g,[q,n,r])),this.faceVertexUvs[0].push([s,u,x]),this.faces.push(new THREE.Face3(e,f,g,[n.clone(),t,r.clone()])),this.faceVertexUvs[0].push([u.clone(),v,x.clone()]))}this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,
a)};THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.TextGeometry=function(a,b){b=b||{};var c=THREE.FontUtils.generateShapes(a,b);b.amount=void 0!==b.height?b.height:50;void 0===b.bevelThickness&&(b.bevelThickness=10);void 0===b.bevelSize&&(b.bevelSize=8);void 0===b.bevelEnabled&&(b.bevelEnabled=!1);THREE.ExtrudeGeometry.call(this,c,b);this.type="TextGeometry"};THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype);
THREE.TextGeometry.prototype.constructor=THREE.TextGeometry;
THREE.TorusGeometry=function(a,b,c,d,e){THREE.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,arc:e};a=a||100;b=b||40;c=c||8;d=d||6;e=e||2*Math.PI;for(var f=new THREE.Vector3,g=[],h=[],k=0;k<=c;k++)for(var l=0;l<=d;l++){var p=l/d*e,q=k/c*Math.PI*2;f.x=a*Math.cos(p);f.y=a*Math.sin(p);var n=new THREE.Vector3;n.x=(a+b*Math.cos(q))*Math.cos(p);n.y=(a+b*Math.cos(q))*Math.sin(p);n.z=b*Math.sin(q);this.vertices.push(n);g.push(new THREE.Vector2(l/
d,k/c));h.push(n.clone().sub(f).normalize())}for(k=1;k<=c;k++)for(l=1;l<=d;l++)a=(d+1)*k+l-1,b=(d+1)*(k-1)+l-1,e=(d+1)*(k-1)+l,f=(d+1)*k+l,p=new THREE.Face3(a,b,f,[h[a].clone(),h[b].clone(),h[f].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[a].clone(),g[b].clone(),g[f].clone()]),p=new THREE.Face3(b,e,f,[h[b].clone(),h[e].clone(),h[f].clone()]),this.faces.push(p),this.faceVertexUvs[0].push([g[b].clone(),g[e].clone(),g[f].clone()]);this.computeFaceNormals()};
THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry;
THREE.TorusKnotGeometry=function(a,b,c,d,e,f,g){function h(a,b,c,d,e){var f=Math.cos(a),g=Math.sin(a);a*=b/c;b=Math.cos(a);f*=d*(2+b)*.5;g=d*(2+b)*g*.5;d=e*d*Math.sin(a)*.5;return new THREE.Vector3(f,g,d)}THREE.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:b,radialSegments:c,tubularSegments:d,p:e,q:f,heightScale:g};a=a||100;b=b||40;c=c||64;d=d||8;e=e||2;f=f||3;g=g||1;for(var k=Array(c),l=new THREE.Vector3,p=new THREE.Vector3,q=new THREE.Vector3,n=0;n<c;++n){k[n]=
Array(d);var t=n/c*2*e*Math.PI,r=h(t,f,e,a,g),t=h(t+.01,f,e,a,g);l.subVectors(t,r);p.addVectors(t,r);q.crossVectors(l,p);p.crossVectors(q,l);q.normalize();p.normalize();for(t=0;t<d;++t){var s=t/d*2*Math.PI,u=-b*Math.cos(s),s=b*Math.sin(s),v=new THREE.Vector3;v.x=r.x+u*p.x+s*q.x;v.y=r.y+u*p.y+s*q.y;v.z=r.z+u*p.z+s*q.z;k[n][t]=this.vertices.push(v)-1}}for(n=0;n<c;++n)for(t=0;t<d;++t)e=(n+1)%c,f=(t+1)%d,a=k[n][t],b=k[e][t],e=k[e][f],f=k[n][f],g=new THREE.Vector2(n/c,t/d),l=new THREE.Vector2((n+1)/c,
t/d),p=new THREE.Vector2((n+1)/c,(t+1)/d),q=new THREE.Vector2(n/c,(t+1)/d),this.faces.push(new THREE.Face3(a,b,f)),this.faceVertexUvs[0].push([g,l,q]),this.faces.push(new THREE.Face3(b,e,f)),this.faceVertexUvs[0].push([l.clone(),p,q.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry;
THREE.TubeGeometry=function(a,b,c,d,e,f){THREE.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:b,radius:c,radialSegments:d,closed:e};b=b||64;c=c||1;d=d||8;e=e||!1;f=f||THREE.TubeGeometry.NoTaper;var g=[],h,k,l=b+1,p,q,n,t,r,s=new THREE.Vector3,u,v,x;u=new THREE.TubeGeometry.FrenetFrames(a,b,e);v=u.normals;x=u.binormals;this.tangents=u.tangents;this.normals=v;this.binormals=x;for(u=0;u<l;u++)for(g[u]=[],p=u/(l-1),r=a.getPointAt(p),h=v[u],k=x[u],n=c*f(p),p=0;p<d;p++)q=
p/d*2*Math.PI,t=-n*Math.cos(q),q=n*Math.sin(q),s.copy(r),s.x+=t*h.x+q*k.x,s.y+=t*h.y+q*k.y,s.z+=t*h.z+q*k.z,g[u][p]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1;for(u=0;u<b;u++)for(p=0;p<d;p++)f=e?(u+1)%b:u+1,l=(p+1)%d,a=g[u][p],c=g[f][p],f=g[f][l],l=g[u][l],s=new THREE.Vector2(u/b,p/d),v=new THREE.Vector2((u+1)/b,p/d),x=new THREE.Vector2((u+1)/b,(p+1)/d),h=new THREE.Vector2(u/b,(p+1)/d),this.faces.push(new THREE.Face3(a,c,l)),this.faceVertexUvs[0].push([s,v,h]),this.faces.push(new THREE.Face3(c,
f,l)),this.faceVertexUvs[0].push([v.clone(),x,h.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry;THREE.TubeGeometry.NoTaper=function(a){return 1};THREE.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};
THREE.TubeGeometry.FrenetFrames=function(a,b,c){var d=new THREE.Vector3,e=[],f=[],g=[],h=new THREE.Vector3,k=new THREE.Matrix4;b+=1;var l,p,q;this.tangents=e;this.normals=f;this.binormals=g;for(l=0;l<b;l++)p=l/(b-1),e[l]=a.getTangentAt(p),e[l].normalize();f[0]=new THREE.Vector3;g[0]=new THREE.Vector3;a=Number.MAX_VALUE;l=Math.abs(e[0].x);p=Math.abs(e[0].y);q=Math.abs(e[0].z);l<=a&&(a=l,d.set(1,0,0));p<=a&&(a=p,d.set(0,1,0));q<=a&&d.set(0,0,1);h.crossVectors(e[0],d).normalize();f[0].crossVectors(e[0],
h);g[0].crossVectors(e[0],f[0]);for(l=1;l<b;l++)f[l]=f[l-1].clone(),g[l]=g[l-1].clone(),h.crossVectors(e[l-1],e[l]),1E-4<h.length()&&(h.normalize(),d=Math.acos(THREE.Math.clamp(e[l-1].dot(e[l]),-1,1)),f[l].applyMatrix4(k.makeRotationAxis(h,d))),g[l].crossVectors(e[l],f[l]);if(c)for(d=Math.acos(THREE.Math.clamp(f[0].dot(f[b-1]),-1,1)),d/=b-1,0<e[0].dot(h.crossVectors(f[0],f[b-1]))&&(d=-d),l=1;l<b;l++)f[l].applyMatrix4(k.makeRotationAxis(e[l],d*l)),g[l].crossVectors(e[l],f[l])};
THREE.PolyhedronGeometry=function(a,b,c,d){function e(a){var b=a.normalize().clone();b.index=k.vertices.push(b)-1;var c=Math.atan2(a.z,-a.x)/2/Math.PI+.5;a=Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5;b.uv=new THREE.Vector2(c,1-a);return b}function f(a,b,c){var d=new THREE.Face3(a.index,b.index,c.index,[a.clone(),b.clone(),c.clone()]);k.faces.push(d);u.copy(a).add(b).add(c).divideScalar(3);d=Math.atan2(u.z,-u.x);k.faceVertexUvs[0].push([h(a.uv,a,d),h(b.uv,b,d),h(c.uv,c,d)])}function g(a,
b){for(var c=Math.pow(2,b),d=e(k.vertices[a.a]),g=e(k.vertices[a.b]),h=e(k.vertices[a.c]),l=[],n=0;n<=c;n++){l[n]=[];for(var p=e(d.clone().lerp(h,n/c)),q=e(g.clone().lerp(h,n/c)),s=c-n,r=0;r<=s;r++)l[n][r]=0==r&&n==c?p:e(p.clone().lerp(q,r/s))}for(n=0;n<c;n++)for(r=0;r<2*(c-n)-1;r++)d=Math.floor(r/2),0==r%2?f(l[n][d+1],l[n+1][d],l[n][d]):f(l[n][d+1],l[n+1][d+1],l[n+1][d])}function h(a,b,c){0>c&&1===a.x&&(a=new THREE.Vector2(a.x-1,a.y));0===b.x&&0===b.z&&(a=new THREE.Vector2(c/2/Math.PI+.5,a.y));return a.clone()}
THREE.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,indices:b,radius:c,detail:d};c=c||1;d=d||0;for(var k=this,l=0,p=a.length;l<p;l+=3)e(new THREE.Vector3(a[l],a[l+1],a[l+2]));a=this.vertices;for(var q=[],n=l=0,p=b.length;l<p;l+=3,n++){var t=a[b[l]],r=a[b[l+1]],s=a[b[l+2]];q[n]=new THREE.Face3(t.index,r.index,s.index,[t.clone(),r.clone(),s.clone()])}for(var u=new THREE.Vector3,l=0,p=q.length;l<p;l++)g(q[l],d);l=0;for(p=this.faceVertexUvs[0].length;l<p;l++)b=this.faceVertexUvs[0][l],
d=b[0].x,a=b[1].x,q=b[2].x,n=Math.max(d,Math.max(a,q)),t=Math.min(d,Math.min(a,q)),.9<n&&.1>t&&(.2>d&&(b[0].x+=1),.2>a&&(b[1].x+=1),.2>q&&(b[2].x+=1));l=0;for(p=this.vertices.length;l<p;l++)this.vertices[l].multiplyScalar(c);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)};THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;
THREE.DodecahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};var c=(1+Math.sqrt(5))/2,d=1/c;THREE.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-d,-c,0,-d,c,0,d,-c,0,d,c,-d,-c,0,-d,c,0,d,-c,0,d,c,0,-c,0,-d,c,0,-d,-c,0,d,c,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,
11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,b)};THREE.DodecahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry;
THREE.IcosahedronGeometry=function(a,b){var c=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[-1,c,0,1,c,0,-1,-c,0,1,-c,0,0,-1,c,0,1,c,0,-1,-c,0,1,-c,c,0,-1,c,0,1,-c,0,-1,-c,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,b);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:b}};THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);
THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;THREE.OctahedronGeometry=function(a,b){this.parameters={radius:a,detail:b};THREE.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,b);this.type="OctahedronGeometry";this.parameters={radius:a,detail:b}};THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry;
THREE.TetrahedronGeometry=function(a,b){THREE.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,b);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:b}};THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry;
THREE.ParametricGeometry=function(a,b,c){THREE.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:b,stacks:c};var d=this.vertices,e=this.faces,f=this.faceVertexUvs[0],g,h,k,l,p=b+1;for(g=0;g<=c;g++)for(l=g/c,h=0;h<=b;h++)k=h/b,k=a(k,l),d.push(k);var q,n,t,r;for(g=0;g<c;g++)for(h=0;h<b;h++)a=g*p+h,d=g*p+h+1,l=(g+1)*p+h+1,k=(g+1)*p+h,q=new THREE.Vector2(h/b,g/c),n=new THREE.Vector2((h+1)/b,g/c),t=new THREE.Vector2((h+1)/b,(g+1)/c),r=new THREE.Vector2(h/b,(g+1)/c),e.push(new THREE.Face3(a,
d,k)),f.push([q,n,r]),e.push(new THREE.Face3(d,l,k)),f.push([n.clone(),t,r.clone()]);this.computeFaceNormals();this.computeVertexNormals()};THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype);THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry;
THREE.AxisHelper=function(a){a=a||1;var b=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),c=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new THREE.BufferGeometry;a.addAttribute("position",new THREE.BufferAttribute(b,3));a.addAttribute("color",new THREE.BufferAttribute(c,3));b=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,a,b,THREE.LinePieces)};THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype);
THREE.AxisHelper.prototype.constructor=THREE.AxisHelper;
THREE.ArrowHelper=function(){var a=new THREE.Geometry;a.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var b=new THREE.CylinderGeometry(0,.5,1,5,1);b.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));return function(c,d,e,f,g,h){THREE.Object3D.call(this);void 0===f&&(f=16776960);void 0===e&&(e=1);void 0===g&&(g=.2*e);void 0===h&&(h=.2*g);this.position.copy(d);this.line=new THREE.Line(a,new THREE.LineBasicMaterial({color:f}));this.line.matrixAutoUpdate=!1;this.add(this.line);
this.cone=new THREE.Mesh(b,new THREE.MeshBasicMaterial({color:f}));this.cone.matrixAutoUpdate=!1;this.add(this.cone);this.setDirection(c);this.setLength(e,g,h)}}();THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper;
THREE.ArrowHelper.prototype.setDirection=function(){var a=new THREE.Vector3,b;return function(c){.99999<c.y?this.quaternion.set(0,0,0,1):-.99999>c.y?this.quaternion.set(1,0,0,0):(a.set(c.z,0,-c.x).normalize(),b=Math.acos(c.y),this.quaternion.setFromAxisAngle(a,b))}}();THREE.ArrowHelper.prototype.setLength=function(a,b,c){void 0===b&&(b=.2*a);void 0===c&&(c=.2*b);this.line.scale.set(1,a-b,1);this.line.updateMatrix();this.cone.scale.set(c,b,c);this.cone.position.y=a;this.cone.updateMatrix()};
THREE.ArrowHelper.prototype.setColor=function(a){this.line.material.color.set(a);this.cone.material.color.set(a)};THREE.BoxHelper=function(a){var b=new THREE.BufferGeometry;b.addAttribute("position",new THREE.BufferAttribute(new Float32Array(72),3));THREE.Line.call(this,b,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces);void 0!==a&&this.update(a)};THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype);THREE.BoxHelper.prototype.constructor=THREE.BoxHelper;
THREE.BoxHelper.prototype.update=function(a){var b=a.geometry;null===b.boundingBox&&b.computeBoundingBox();var c=b.boundingBox.min,b=b.boundingBox.max,d=this.geometry.attributes.position.array;d[0]=b.x;d[1]=b.y;d[2]=b.z;d[3]=c.x;d[4]=b.y;d[5]=b.z;d[6]=c.x;d[7]=b.y;d[8]=b.z;d[9]=c.x;d[10]=c.y;d[11]=b.z;d[12]=c.x;d[13]=c.y;d[14]=b.z;d[15]=b.x;d[16]=c.y;d[17]=b.z;d[18]=b.x;d[19]=c.y;d[20]=b.z;d[21]=b.x;d[22]=b.y;d[23]=b.z;d[24]=b.x;d[25]=b.y;d[26]=c.z;d[27]=c.x;d[28]=b.y;d[29]=c.z;d[30]=c.x;d[31]=b.y;
d[32]=c.z;d[33]=c.x;d[34]=c.y;d[35]=c.z;d[36]=c.x;d[37]=c.y;d[38]=c.z;d[39]=b.x;d[40]=c.y;d[41]=c.z;d[42]=b.x;d[43]=c.y;d[44]=c.z;d[45]=b.x;d[46]=b.y;d[47]=c.z;d[48]=b.x;d[49]=b.y;d[50]=b.z;d[51]=b.x;d[52]=b.y;d[53]=c.z;d[54]=c.x;d[55]=b.y;d[56]=b.z;d[57]=c.x;d[58]=b.y;d[59]=c.z;d[60]=c.x;d[61]=c.y;d[62]=b.z;d[63]=c.x;d[64]=c.y;d[65]=c.z;d[66]=b.x;d[67]=c.y;d[68]=b.z;d[69]=b.x;d[70]=c.y;d[71]=c.z;this.geometry.attributes.position.needsUpdate=!0;this.geometry.computeBoundingSphere();this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1};THREE.BoundingBoxHelper=function(a,b){var c=void 0!==b?b:8947848;this.object=a;this.box=new THREE.Box3;THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:c,wireframe:!0}))};THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper;THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};
THREE.CameraHelper=function(a){function b(a,b,d){c(a,d);c(b,d)}function c(a,b){d.vertices.push(new THREE.Vector3);d.colors.push(new THREE.Color(b));void 0===f[a]&&(f[a]=[]);f[a].push(d.vertices.length-1)}var d=new THREE.Geometry,e=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),f={};b("n1","n2",16755200);b("n2","n4",16755200);b("n4","n3",16755200);b("n3","n1",16755200);b("f1","f2",16755200);b("f2","f4",16755200);b("f4","f3",16755200);b("f3","f1",16755200);b("n1","f1",16755200);
b("n2","f2",16755200);b("n3","f3",16755200);b("n4","f4",16755200);b("p","n1",16711680);b("p","n2",16711680);b("p","n3",16711680);b("p","n4",16711680);b("u1","u2",43775);b("u2","u3",43775);b("u3","u1",43775);b("c","t",16777215);b("p","c",3355443);b("cn1","cn2",3355443);b("cn3","cn4",3355443);b("cf1","cf2",3355443);b("cf3","cf4",3355443);THREE.Line.call(this,d,e,THREE.LinePieces);this.camera=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=f;this.update()};
THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype);THREE.CameraHelper.prototype.constructor=THREE.CameraHelper;
THREE.CameraHelper.prototype.update=function(){var a,b,c=new THREE.Vector3,d=new THREE.Camera,e=function(e,g,h,k){c.set(g,h,k).unproject(d);e=b[e];if(void 0!==e)for(g=0,h=e.length;g<h;g++)a.vertices[e[g]].copy(c)};return function(){a=this.geometry;b=this.pointMap;d.projectionMatrix.copy(this.camera.projectionMatrix);e("c",0,0,-1);e("t",0,0,1);e("n1",-1,-1,-1);e("n2",1,-1,-1);e("n3",-1,1,-1);e("n4",1,1,-1);e("f1",-1,-1,1);e("f2",1,-1,1);e("f3",-1,1,1);e("f4",1,1,1);e("u1",.7,1.1,-1);e("u2",-.7,1.1,
-1);e("u3",0,2,-1);e("cf1",-1,0,1);e("cf2",1,0,1);e("cf3",0,-1,1);e("cf4",0,1,1);e("cn1",-1,0,-1);e("cn2",1,0,-1);e("cn3",0,-1,-1);e("cn4",0,1,-1);a.verticesNeedUpdate=!0}}();
THREE.DirectionalLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;b=b||1;var c=new THREE.Geometry;c.vertices.push(new THREE.Vector3(-b,b,0),new THREE.Vector3(b,b,0),new THREE.Vector3(b,-b,0),new THREE.Vector3(-b,-b,0),new THREE.Vector3(-b,b,0));var d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.lightPlane=new THREE.Line(c,d);this.add(this.lightPlane);
c=new THREE.Geometry;c.vertices.push(new THREE.Vector3,new THREE.Vector3);d=new THREE.LineBasicMaterial({fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine=new THREE.Line(c,d);this.add(this.targetLine);this.update()};THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper;
THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose();this.lightPlane.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};
THREE.DirectionalLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3,c=new THREE.Vector3;return function(){a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);c.subVectors(b,a);this.lightPlane.lookAt(c);this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.geometry.vertices[1].copy(c);this.targetLine.geometry.verticesNeedUpdate=!0;this.targetLine.material.color.copy(this.lightPlane.material.color)}}();
THREE.EdgesHelper=function(a,b,c){b=void 0!==b?b:16777215;c=Math.cos(THREE.Math.degToRad(void 0!==c?c:1));var d=[0,0],e={},f=function(a,b){return a-b},g=["a","b","c"],h=new THREE.BufferGeometry,k;a.geometry instanceof THREE.BufferGeometry?(k=new THREE.Geometry,k.fromBufferGeometry(a.geometry)):k=a.geometry.clone();k.mergeVertices();k.computeFaceNormals();var l=k.vertices;k=k.faces;for(var p=0,q=0,n=k.length;q<n;q++)for(var t=k[q],r=0;3>r;r++){d[0]=t[g[r]];d[1]=t[g[(r+1)%3]];d.sort(f);var s=d.toString();
void 0===e[s]?(e[s]={vert1:d[0],vert2:d[1],face1:q,face2:void 0},p++):e[s].face2=q}d=new Float32Array(6*p);f=0;for(s in e)if(g=e[s],void 0===g.face2||k[g.face1].normal.dot(k[g.face2].normal)<=c)p=l[g.vert1],d[f++]=p.x,d[f++]=p.y,d[f++]=p.z,p=l[g.vert2],d[f++]=p.x,d[f++]=p.y,d[f++]=p.z;h.addAttribute("position",new THREE.BufferAttribute(d,3));THREE.Line.call(this,h,new THREE.LineBasicMaterial({color:b}),THREE.LinePieces);this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};
THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype);THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper;
THREE.FaceNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;a=void 0!==c?c:16776960;d=void 0!==d?d:1;b=new THREE.Geometry;c=0;for(var e=this.object.geometry.faces.length;c<e;c++)b.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,b,new THREE.LineBasicMaterial({color:a,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper;
THREE.FaceNormalsHelper.prototype.update=function(){var a=this.geometry.vertices,b=this.object,c=b.geometry.vertices,d=b.geometry.faces,e=b.matrixWorld;b.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(e);for(var f=b=0,g=d.length;b<g;b++,f+=2){var h=d[b];a[f].copy(c[h.a]).add(c[h.b]).add(c[h.c]).divideScalar(3).applyMatrix4(e);a[f+1].copy(h.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(a[f])}this.geometry.verticesNeedUpdate=!0;return this};
THREE.GridHelper=function(a,b){var c=new THREE.Geometry,d=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924);this.color2=new THREE.Color(8947848);for(var e=-a;e<=a;e+=b){c.vertices.push(new THREE.Vector3(-a,0,e),new THREE.Vector3(a,0,e),new THREE.Vector3(e,0,-a),new THREE.Vector3(e,0,a));var f=0===e?this.color1:this.color2;c.colors.push(f,f,f,f)}THREE.Line.call(this,c,d,THREE.LinePieces)};THREE.GridHelper.prototype=Object.create(THREE.Line.prototype);
THREE.GridHelper.prototype.constructor=THREE.GridHelper;THREE.GridHelper.prototype.setColors=function(a,b){this.color1.set(a);this.color2.set(b);this.geometry.colorsNeedUpdate=!0};
THREE.HemisphereLightHelper=function(a,b){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new THREE.Color,new THREE.Color];var c=new THREE.SphereGeometry(b,4,2);c.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var d=0;8>d;d++)c.faces[d].color=this.colors[4>d?0:1];d=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(c,d);this.add(this.lightSphere);
this.update()};THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype);THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper;THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};
THREE.HemisphereLightHelper.prototype.update=function(){var a=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();
THREE.PointLightHelper=function(a,b){this.light=a;this.light.updateMatrixWorld();var c=new THREE.SphereGeometry(b,4,2),d=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});d.color.copy(this.light.color).multiplyScalar(this.light.intensity);THREE.Mesh.call(this,c,d);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype);THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper;
THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};
THREE.SkeletonHelper=function(a){this.bones=this.getBoneList(a);for(var b=new THREE.Geometry,c=0;c<this.bones.length;c++)this.bones[c].parent instanceof THREE.Bone&&(b.vertices.push(new THREE.Vector3),b.vertices.push(new THREE.Vector3),b.colors.push(new THREE.Color(0,0,1)),b.colors.push(new THREE.Color(0,1,0)));c=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,b,c,THREE.LinePieces);this.root=a;this.matrix=a.matrixWorld;
this.matrixAutoUpdate=!1;this.update()};THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype);THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper;THREE.SkeletonHelper.prototype.getBoneList=function(a){var b=[];a instanceof THREE.Bone&&b.push(a);for(var c=0;c<a.children.length;c++)b.push.apply(b,this.getBoneList(a.children[c]));return b};
THREE.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,b=(new THREE.Matrix4).getInverse(this.root.matrixWorld),c=new THREE.Matrix4,d=0,e=0;e<this.bones.length;e++){var f=this.bones[e];f.parent instanceof THREE.Bone&&(c.multiplyMatrices(b,f.matrixWorld),a.vertices[d].setFromMatrixPosition(c),c.multiplyMatrices(b,f.parent.matrixWorld),a.vertices[d+1].setFromMatrixPosition(c),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};
THREE.SpotLightHelper=function(a){THREE.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new THREE.CylinderGeometry(0,1,1,8,1,!0);a.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0));a.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var b=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(a,b);this.add(this.cone);this.update()};THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype);
THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper;THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};
THREE.SpotLightHelper.prototype.update=function(){var a=new THREE.Vector3,b=new THREE.Vector3;return function(){var c=this.light.distance?this.light.distance:1E4,d=c*Math.tan(this.light.angle);this.cone.scale.set(d,d,c);a.setFromMatrixPosition(this.light.matrixWorld);b.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(b.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();
THREE.VertexNormalsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:16711680;d=void 0!==d?d:1;c=new THREE.Geometry;a=a.geometry.faces;for(var e=0,f=a.length;e<f;e++)for(var g=0,h=a[e].vertexNormals.length;g<h;g++)c.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,c,new THREE.LineBasicMaterial({color:b,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.normalMatrix=new THREE.Matrix3;this.update()};THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper;
THREE.VertexNormalsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=["a","b","c","d"];this.object.updateMatrixWorld(!0);this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var d=this.geometry.vertices,e=this.object.geometry.vertices,f=this.object.geometry.faces,g=this.object.matrixWorld,h=0,k=0,l=f.length;k<l;k++)for(var p=f[k],q=0,n=p.vertexNormals.length;q<n;q++){var t=p.vertexNormals[q];d[h].copy(e[p[a[q]]]).applyMatrix4(g);b.copy(t).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size);
b.add(d[h]);h+=1;d[h].copy(b);h+=1}this.geometry.verticesNeedUpdate=!0;return this}}();
THREE.VertexTangentsHelper=function(a,b,c,d){this.object=a;this.size=void 0!==b?b:1;b=void 0!==c?c:255;d=void 0!==d?d:1;c=new THREE.Geometry;a=a.geometry.faces;for(var e=0,f=a.length;e<f;e++)for(var g=0,h=a[e].vertexTangents.length;g<h;g++)c.vertices.push(new THREE.Vector3),c.vertices.push(new THREE.Vector3);THREE.Line.call(this,c,new THREE.LineBasicMaterial({color:b,linewidth:d}),THREE.LinePieces);this.matrixAutoUpdate=!1;this.update()};THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype);
THREE.VertexTangentsHelper.prototype.constructor=THREE.VertexTangentsHelper;
THREE.VertexTangentsHelper.prototype.update=function(a){var b=new THREE.Vector3;return function(a){a=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var d=this.geometry.vertices,e=this.object.geometry.vertices,f=this.object.geometry.faces,g=this.object.matrixWorld,h=0,k=0,l=f.length;k<l;k++)for(var p=f[k],q=0,n=p.vertexTangents.length;q<n;q++){var t=p.vertexTangents[q];d[h].copy(e[p[a[q]]]).applyMatrix4(g);b.copy(t).transformDirection(g).multiplyScalar(this.size);b.add(d[h]);h+=1;d[h].copy(b);
h+=1}this.geometry.verticesNeedUpdate=!0;return this}}();
THREE.WireframeHelper=function(a,b){var c=void 0!==b?b:16777215,d=[0,0],e={},f=function(a,b){return a-b},g=["a","b","c"],h=new THREE.BufferGeometry;if(a.geometry instanceof THREE.Geometry){for(var k=a.geometry.vertices,l=a.geometry.faces,p=0,q=new Uint32Array(6*l.length),n=0,t=l.length;n<t;n++)for(var r=l[n],s=0;3>s;s++){d[0]=r[g[s]];d[1]=r[g[(s+1)%3]];d.sort(f);var u=d.toString();void 0===e[u]&&(q[2*p]=d[0],q[2*p+1]=d[1],e[u]=!0,p++)}d=new Float32Array(6*p);n=0;for(t=p;n<t;n++)for(s=0;2>s;s++)p=
k[q[2*n+s]],g=6*n+3*s,d[g+0]=p.x,d[g+1]=p.y,d[g+2]=p.z;h.addAttribute("position",new THREE.BufferAttribute(d,3))}else if(a.geometry instanceof THREE.BufferGeometry){if(void 0!==a.geometry.attributes.index){k=a.geometry.attributes.position.array;t=a.geometry.attributes.index.array;l=a.geometry.drawcalls;p=0;0===l.length&&(l=[{count:t.length,index:0,start:0}]);for(var q=new Uint32Array(2*t.length),r=0,v=l.length;r<v;++r)for(var s=l[r].start,u=l[r].count,g=l[r].index,n=s,x=s+u;n<x;n+=3)for(s=0;3>s;s++)d[0]=
g+t[n+s],d[1]=g+t[n+(s+1)%3],d.sort(f),u=d.toString(),void 0===e[u]&&(q[2*p]=d[0],q[2*p+1]=d[1],e[u]=!0,p++);d=new Float32Array(6*p);n=0;for(t=p;n<t;n++)for(s=0;2>s;s++)g=6*n+3*s,p=3*q[2*n+s],d[g+0]=k[p],d[g+1]=k[p+1],d[g+2]=k[p+2]}else for(k=a.geometry.attributes.position.array,p=k.length/3,q=p/3,d=new Float32Array(6*p),n=0,t=q;n<t;n++)for(s=0;3>s;s++)g=18*n+6*s,q=9*n+3*s,d[g+0]=k[q],d[g+1]=k[q+1],d[g+2]=k[q+2],p=9*n+(s+1)%3*3,d[g+3]=k[p],d[g+4]=k[p+1],d[g+5]=k[p+2];h.addAttribute("position",new THREE.BufferAttribute(d,
3))}THREE.Line.call(this,h,new THREE.LineBasicMaterial({color:c}),THREE.LinePieces);this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype);THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper;THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this);this.render=function(a){}};THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype);THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject;
THREE.MorphBlendMesh=function(a,b){THREE.Mesh.call(this,a,b);this.animationsMap={};this.animationsList=[];var c=this.geometry.morphTargets.length;this.createAnimation("__default",0,c-1,c/1);this.setAnimationWeight("__default",1)};THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype);THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh;
THREE.MorphBlendMesh.prototype.createAnimation=function(a,b,c,d){b={startFrame:b,endFrame:c,length:c-b+1,fps:d,duration:(c-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[a]=b;this.animationsList.push(b)};
THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/,c,d={},e=this.geometry,f=0,g=e.morphTargets.length;f<g;f++){var h=e.morphTargets[f].name.match(b);if(h&&1<h.length){var k=h[1];d[k]||(d[k]={start:Infinity,end:-Infinity});h=d[k];f<h.start&&(h.start=f);f>h.end&&(h.end=f);c||(c=k)}}for(k in d)h=d[k],this.createAnimation(k,h.start,h.end,a);this.firstAnimation=c};
THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};THREE.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var c=this.animationsMap[a];c&&(c.fps=b,c.duration=(c.end-c.start)/c.fps)};
THREE.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var c=this.animationsMap[a];c&&(c.duration=b,c.fps=(c.end-c.start)/c.duration)};THREE.MorphBlendMesh.prototype.setAnimationWeight=function(a,b){var c=this.animationsMap[a];c&&(c.weight=b)};THREE.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var c=this.animationsMap[a];c&&(c.time=b)};THREE.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};
THREE.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};THREE.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):THREE.warn("THREE.MorphBlendMesh: animation["+a+"] undefined in .playAnimation()")};THREE.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};
THREE.MorphBlendMesh.prototype.update=function(a){for(var b=0,c=this.animationsList.length;b<c;b++){var d=this.animationsList[b];if(d.active){var e=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=d.duration,0>d.time&&(d.time+=d.duration);var f=d.startFrame+THREE.Math.clamp(Math.floor(d.time/e),0,d.length-1),g=d.weight;
f!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*g,this.morphTargetInfluences[f]=0,d.lastFrame=d.currentFrame,d.currentFrame=f);e=d.time%e/e;d.directionBackwards&&(e=1-e);this.morphTargetInfluences[d.currentFrame]=e*g;this.morphTargetInfluences[d.lastFrame]=(1-e)*g}}};

},{}],2:[function(require,module,exports){
/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.
/// Copyright 2014-2015 Red Hat, Inc. and/or its affiliates
/// and other contributors as indicated by the @author tags.
///
/// Licensed under the Apache License, Version 2.0 (the "License");
/// you may not use this file except in compliance with the License.
/// You may obtain a copy of the License at
///
///   http://www.apache.org/licenses/LICENSE-2.0
///
/// Unless required by applicable law or agreed to in writing, software
/// distributed under the License is distributed on an "AS IS" BASIS,
/// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
/// See the License for the specific language governing permissions and
/// limitations under the License.
/// <reference path="../libs/hawtio-utilities/defs.d.ts"/>
/// <reference path="../libs/hawtio-kubernetes/defs.d.ts"/>

/// <reference path="../../includes.ts"/>
var Kube3d;
(function (Kube3d) {
    Kube3d.W = 1;
    Kube3d.S = 0;
    Kube3d.WALL = Kube3d.W;
    Kube3d.SPACE = Kube3d.S;
    Kube3d.CELL_SIZE = 100;
    Kube3d.FLOOR_LEVEL = -Kube3d.CELL_SIZE;
    ;
})(Kube3d || (Kube3d = {}));

/// <reference path="../../includes.ts"/>
/// <reference path="kube3dInterfaces.ts"/>
var THREE = require('threejs-build');
var Kube3d;
(function (Kube3d) {
    Kube3d.pluginName = 'Kube3d';
    Kube3d.log = Logger.get(Kube3d.pluginName);
    Kube3d.templatePath = 'plugins/kube3d/html';
    Kube3d.havePointerLock = 'pointerLockElement' in document || 'mozPointerLockElement' in document || 'webkitPointerLockElement' in document;
    Kube3d.HalfPI = Math.PI / 2;
    function rgbToHex(r, g, b) {
        return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
    }
    Kube3d.rgbToHex = rgbToHex;
    function randomGrey() {
        var rgbVal = Math.random() * 128 + 128;
        return rgbToHex(rgbVal, rgbVal, rgbVal);
    }
    Kube3d.randomGrey = randomGrey;
    function webglAvailable() {
        try {
            var canvas = document.createElement('canvas');
            return !!(window.WebGLRenderingContext && (canvas.getContext('webgl') ||
                canvas.getContext('experimental-webgl')));
        }
        catch (e) {
            return false;
        }
    }
    Kube3d.webglAvailable = webglAvailable;
    function placeObject(cellX, cellY, isFloor) {
        if (isFloor === void 0) { isFloor = false; }
        var x = cellX * Kube3d.CELL_SIZE;
        var z = cellY * Kube3d.CELL_SIZE;
        var y = isFloor ? Kube3d.FLOOR_LEVEL : 0;
        return [x, y, z];
    }
    Kube3d.placeObject = placeObject;
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dHelpers.ts"/>
var Kube3d;
(function (Kube3d) {
    Kube3d._module = angular.module(Kube3d.pluginName, []);
    Kube3d.controller = PluginHelpers.createControllerFunction(Kube3d._module, Kube3d.pluginName);
    var tab = undefined;
    Kube3d._module.config(['$routeProvider', "HawtioNavBuilderProvider", function ($routeProvider, builder) {
            tab = builder.create()
                .id(Kube3d.pluginName)
                .title(function () { return '3D View'; })
                .href(function () { return '/kubernetes/3d'; })
                .page(function () { return builder.join(Kube3d.templatePath, 'view.html'); })
                .build();
            builder.configureRouting($routeProvider, tab);
        }]);
    Kube3d._module.run(['HawtioNav', function (nav) {
            nav.on(HawtioMainNav.Actions.ADD, Kube3d.pluginName, function (item) {
                if (item.id !== 'kubernetes') {
                    return;
                }
                if (!_.any(item.tabs, function (tab) { return tab.id === Kube3d.pluginName; })) {
                    item.tabs.push(tab);
                }
            });
        }]);
    hawtioPluginLoader.addModule(Kube3d.pluginName);
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dPlugin.ts"/>
var Kube3d;
(function (Kube3d) {
    Kube3d._module.directive('requestLock', ['$document', function ($document) {
            return {
                restrict: 'A',
                scope: {
                    'onLock': '&requestLock'
                },
                link: function (scope, element, attr) {
                    var el = element[0] || element;
                    if (Kube3d.havePointerLock) {
                        Kube3d.log.debug("here!");
                        var doc = $document[0];
                        var body = doc.body;
                        var pointerlockchange = function (event) {
                            if (doc.pointerLockElement === body ||
                                doc.mozPointerLockElement === body ||
                                doc.webkitPointerLockElement === body) {
                                el.style.display = 'none';
                                scope.onLock({ lock: true });
                            }
                            else {
                                el.style.display = '';
                                scope.onLock({ lock: false });
                            }
                            Core.$apply(scope);
                        };
                        var pointerlockerror = function (event) {
                            el.style.display = '';
                        };
                        doc.addEventListener('pointerlockchange', pointerlockchange, false);
                        doc.addEventListener('mozpointerlockchange', pointerlockchange, false);
                        doc.addEventListener('webkitpointerlockchange', pointerlockchange, false);
                        doc.addEventListener('pointerlockerror', pointerlockerror, false);
                        doc.addEventListener('mozpointerlockerror', pointerlockerror, false);
                        doc.addEventListener('webkitpointerlockerror', pointerlockerror, false);
                        el.addEventListener('click', function (event) {
                            el.style.display = 'none';
                            body.requestPointerLock = body.requestPointerLock || body.mozRequestPointerLock || body.webkitRequestPointerLock;
                            body.requestPointerLock();
                        });
                    }
                    else {
                        el.style.display = 'none';
                    }
                }
            };
        }]);
})(Kube3d || (Kube3d = {}));

var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
/// <reference path="kube3dInterfaces.ts"/>
var Kube3d;
(function (Kube3d) {
    var log = Logger.get('Kube3d');
    var SceneObjectBase = (function () {
        function SceneObjectBase(scene, geometry) {
            this.scene = scene;
            this.geometry = geometry;
            this.boundingBox = null;
            this.scene.add(geometry);
            this.boundingBox = new THREE.BoundingBoxHelper(this.geometry, 0x00ff00);
            this.scene.add(this.boundingBox);
        }
        SceneObjectBase.prototype.destroy = function () {
            this.scene.remove(this.geometry);
            this.geometry.dispose();
            delete this.geometry;
        };
        SceneObjectBase.prototype.debug = function (enable) {
            this.boundingBox.visible = enable;
        };
        SceneObjectBase.prototype.move = function (x, y, z) {
            this.geometry.position.x += x;
            this.geometry.position.y += y;
            this.geometry.position.z += z;
            this.boundingBox.position.x += x;
            this.boundingBox.position.y += y;
            this.boundingBox.position.z += z;
        };
        SceneObjectBase.prototype.rotate = function (rx, ry, rz) {
            this.geometry.rotation.x += rx;
            this.geometry.rotation.y += ry;
            this.geometry.rotation.z += rz;
            this.boundingBox.rotation.x += rx;
            this.boundingBox.rotation.y += ry;
            this.boundingBox.rotation.z += rz;
        };
        SceneObjectBase.prototype.getPosition = function () {
            this.boundingBox.update();
            return this.boundingBox.object.position;
        };
        SceneObjectBase.prototype.setPosition = function (x, y, z) {
            this.geometry.position.x = x;
            this.geometry.position.y = y;
            this.geometry.position.z = z;
            this.boundingBox.position.x = x;
            this.boundingBox.position.y = y;
            this.boundingBox.position.z = z;
        };
        SceneObjectBase.prototype.setRotation = function (rx, ry, rz) {
            this.geometry.rotation.x = rx;
            this.geometry.rotation.y = ry;
            this.geometry.rotation.z = rz;
            this.geometry.rotation.x = rx;
            this.geometry.rotation.y = ry;
            this.geometry.rotation.z = rz;
        };
        SceneObjectBase.prototype.render = function () {
            this.boundingBox.update();
        };
        return SceneObjectBase;
    })();
    Kube3d.SceneObjectBase = SceneObjectBase;
    var PodObject = (function (_super) {
        __extends(PodObject, _super);
        function PodObject(scene, hostObject, id, obj) {
            _super.call(this, scene, new THREE.Object3D());
            this.scene = scene;
            this.hostObject = hostObject;
            this.id = id;
            this.obj = obj;
            this.angle = undefined;
            this.circle = undefined;
            this.rotation = {
                x: Math.random() * Math.PI / 1000,
                y: Math.random() * Math.PI / 100,
                z: Math.random() * Math.PI / 1000
            };
            var texture = THREE.ImageUtils.loadTexture(obj.$iconUrl);
            texture.minFilter = THREE.NearestFilter;
            this.geometry.add(new THREE.Mesh(new THREE.BoxGeometry(50, 50, 50), new THREE.MeshPhongMaterial({
                color: 0xffffff,
                map: texture,
                bumpMap: texture,
                castShadow: true,
                receiveShadow: true,
                shading: THREE.SmoothShading
            })));
            log.debug("Created pod object ", id);
        }
        PodObject.prototype.update = function (model, pod) {
            this.obj = pod;
        };
        PodObject.prototype.destroy = function () {
            _super.prototype.destroy.call(this);
            this.hostObject.geometry.remove(this.circle);
            log.debug("Destroyed pod object ", this.id);
        };
        PodObject.prototype.distance = function () {
            var hostPosition = this.hostObject.getPosition();
            var myPosition = this.getPosition();
            var distX = Math.abs(hostPosition.x - myPosition.x);
            var distY = Math.abs(hostPosition.y - myPosition.y);
            return Math.sqrt(distX * distX + distY * distY);
        };
        PodObject.prototype.angleOfVelocity = function () {
            if (!this.angle) {
                var dist = this.distance();
                log.debug("pod id: ", this.id, " distance: ", dist);
                this.angle = (1 / dist) * 10;
                log.debug("pod id: ", this.id, " angle: ", this.angle);
                var materialArray = [];
                var face = new THREE.MeshPhongMaterial({
                    color: 0x555555,
                    castShadow: true,
                    receiveShadow: true,
                    wireframe: true
                });
                materialArray.push(face.clone());
                materialArray.push(face.clone());
                this.circle = new THREE.Mesh(new THREE.RingGeometry(dist - 1, dist + 1, 128), new THREE.MeshFaceMaterial(materialArray));
                this.hostObject.geometry.add(this.circle);
            }
            return this.angle;
        };
        PodObject.prototype.render = function () {
            var myPosition = this.getPosition();
            var hostPosition = this.hostObject.getPosition();
            var x = myPosition.x;
            var y = myPosition.y;
            var centerX = hostPosition.x;
            var centerY = hostPosition.y;
            var offsetX = x - centerX;
            var offsetY = y - centerY;
            var angle = this.angleOfVelocity();
            var newX = centerX + offsetX * Math.cos(angle) - offsetY * Math.sin(angle);
            var newY = centerY + offsetX * Math.sin(angle) + offsetY * Math.cos(angle);
            this.setPosition(newX, newY, 0);
            this.rotate(this.rotation.x, this.rotation.y, this.rotation.z);
            _super.prototype.render.call(this);
        };
        return PodObject;
    })(SceneObjectBase);
    Kube3d.PodObject = PodObject;
    var HostObject = (function (_super) {
        __extends(HostObject, _super);
        function HostObject(scene, id, obj) {
            _super.call(this, scene, new THREE.Object3D());
            this.id = id;
            this.obj = obj;
            this.offsetX = 200;
            this.offsetY = 200;
            this.pods = {};
            this.rotation = {
                x: 0,
                y: 0,
                z: Math.random() * Math.PI / 1000
            };
            this.step = 0;
            var texture = THREE.ImageUtils.loadTexture('img/sun-texture.jpg');
            texture.minFilter = THREE.NearestFilter;
            this.geometry.add(new THREE.PointLight(0xffd700, 1, 5000), new THREE.Mesh(new THREE.SphereGeometry(100, 32, 16), new THREE.MeshPhongMaterial({
                color: 0xffd700,
                map: texture,
                bumpMap: texture,
                specular: 0x00ff00,
                shading: THREE.SmoothShading
            })));
            log.debug("Created host object ", id);
        }
        HostObject.prototype.update = function (model, host) {
            var _this = this;
            this.obj = host;
            var podsToRemove = [];
            _.forIn(this.pods, function (pod, key) {
                if (!(key in model.podsByKey)) {
                    podsToRemove.push(key);
                }
            });
            _.forEach(podsToRemove, function (id) { return _this.removePod(id); });
            _.forEach(this.obj.pods, function (pod) {
                var name = pod._key;
                if (!_this.hasPod(name)) {
                    _this.addPod(name, pod);
                }
                else {
                    var podObj = _this.pods[name];
                    podObj.update(model, pod);
                }
            });
        };
        HostObject.prototype.debug = function (enable) {
            var _this = this;
            var ids = _.keys(this.pods);
            _.forEach(ids, function (id) { return _this.pods[id].debug(enable); });
            _super.prototype.debug.call(this, enable);
        };
        HostObject.prototype.destroy = function () {
            var _this = this;
            if (this.pods) {
                var podIds = _.keys(this.pods);
                _.forEach(podIds, function (id) { return _this.removePod(id); });
            }
            _super.prototype.destroy.call(this);
            log.debug("Destroying host object ", this.id);
        };
        HostObject.prototype.removePod = function (id) {
            var pod = this.pods[id];
            if (pod) {
                pod.destroy();
                delete this.pods[id];
            }
        };
        HostObject.prototype.addPod = function (key, p) {
            if (this.hasPod(key)) {
                return;
            }
            var myPosition = this.getPosition();
            var podOffsetX = this.offsetX - myPosition.x;
            var podOffsetY = myPosition.y;
            var pod = new PodObject(this.scene, this, key, p);
            pod.setPosition(myPosition.x, myPosition.y, myPosition.z);
            pod.move(this.offsetX, 0, 0);
            this.offsetX = this.offsetX + Math.random() * 50 + 100;
            this.offsetY = this.offsetY + Math.random() * 50 + 100;
            this.pods[key] = pod;
        };
        HostObject.prototype.hasPod = function (id) {
            return (id in this.pods);
        };
        HostObject.prototype.render = function () {
            this.rotate(this.rotation.x, this.rotation.y, this.rotation.z);
            _.forIn(this.pods, function (podObject, id) {
                podObject.render();
            });
            this.step = this.step + 1;
            _super.prototype.render.call(this);
        };
        return HostObject;
    })(SceneObjectBase);
    Kube3d.HostObject = HostObject;
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dHelpers.ts"/>
var Kube3d;
(function (Kube3d) {
    var levelData = [
        [Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.S, Kube3d.W],
        [Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W, Kube3d.W]
    ];
    var levelWidth = levelData[0].length;
    var levelHeight = levelData.length;
    var wallTexture = THREE.ImageUtils.loadTexture('img/IMGP1450.jpg');
    wallTexture.minFilter = THREE.NearestFilter;
    var wallMaterial = new THREE.MeshPhongMaterial({
        color: 0x00ff00,
        map: wallTexture,
        castShadow: true,
        receiveShadow: true,
        wireframe: false
    });
    var wall = new THREE.Mesh(new THREE.BoxGeometry(Kube3d.CELL_SIZE, Kube3d.CELL_SIZE, Kube3d.CELL_SIZE), wallMaterial);
    var floorTexture = THREE.ImageUtils.loadTexture('img/IMGP1450.jpg');
    floorTexture.minFilter = THREE.NearestFilter;
    var floorMaterial = new THREE.MeshPhongMaterial({
        color: 0xff0000,
        map: floorTexture,
        castShadow: true,
        receiveShadow: true,
        wireframe: false
    });
    var floor = new THREE.Mesh(new THREE.BoxGeometry(Kube3d.CELL_SIZE, Kube3d.CELL_SIZE, Kube3d.CELL_SIZE), floorMaterial);
    function makeBox(cellX, cellY, isFloor) {
        if (isFloor === void 0) { isFloor = false; }
        var box = isFloor ? floor.clone() : wall.clone();
        box.position.fromArray(Kube3d.placeObject(cellX, cellY, isFloor));
        return box;
    }
    var World = (function () {
        function World(scene) {
            this.scene = scene;
            this.ambient = new THREE.AmbientLight(0xffffff);
            this.light = new THREE.DirectionalLight(0x888888);
            this.ambient.color.setHSL(0.1, 0.3, 0.2);
            this.light.position.set(1, 1, 0);
            scene.add(this.ambient);
            scene.add(this.light);
            var materialArray = [];
            for (var i = 0; i < 6; i++)
                materialArray.push(new THREE.MeshBasicMaterial({
                    map: THREE.ImageUtils.loadTexture('img/space-seamless.png'),
                    side: THREE.BackSide
                }));
            var skyMaterial = new THREE.MeshFaceMaterial(materialArray);
            scene.add(new THREE.Mesh(new THREE.BoxGeometry(10000, 10000, 10000), skyMaterial));
            _.forEach(levelData, function (row, y) {
                _.forEach(row, function (cell, x) {
                    switch (cell) {
                        case Kube3d.WALL:
                            scene.add(makeBox(x, y, false));
                            break;
                    }
                    scene.add(makeBox(x, y, true));
                });
            });
        }
        World.prototype.placePlayer = function (object) {
            this.placeObject(object);
        };
        World.prototype.placeObject = function (object) {
            if (!object || !object.position) {
                return;
            }
            var x, y;
            do {
                x = Math.floor(Math.random() * (levelWidth - 2) + 1);
                y = Math.floor(Math.random() * (levelHeight - 2) + 1);
                Kube3d.log.debug("x:", x, "y:", y, "val:", levelData[y][x]);
            } while (levelData[y][x] !== Kube3d.SPACE);
            object.position.fromArray(Kube3d.placeObject(x, y));
        };
        World.prototype.render = function () {
        };
        World.prototype.destroy = function () {
        };
        return World;
    })();
    Kube3d.World = World;
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dHelpers.ts"/>
/// <reference path="world.ts"/>
var Kube3d;
(function (Kube3d) {
    var Player = (function () {
        function Player(scene, camera, d, world) {
            this.scene = scene;
            this.camera = camera;
            this.d = d;
            this.world = world;
            this.log = Logger.get('kube3d-player');
            this.domElement = null;
            this._lookAt = null;
            this.pitch = new THREE.Object3D();
            this.yaw = new THREE.Object3D();
            this._enabled = false;
            this._document = undefined;
            this.getWorldObjects = function () { return []; };
            this.raycaster = new THREE.Raycaster(new THREE.Vector3(), new THREE.Vector3(0, -1, 0), 0, 10);
            this.forward = false;
            this.backward = false;
            this.left = false;
            this.right = false;
            this.canJump = true;
            this.running = false;
            this.velocity = new THREE.Vector3();
            this.prevTime = performance.now();
            this.handlers = null;
            this.walkingModifier = 500;
            this.runningModifier = 200;
            camera.rotation.set(0, 0, 0);
            camera.position.set(0, 0, 0);
            this.pitch.add(camera);
            this.yaw.add(this.pitch);
            scene.add(this.yaw);
            this.yaw.position.set(0, 0, -5);
            var domElement = this.domElement = $(d);
            if (!Kube3d.havePointerLock) {
                this.enabled = true;
            }
            var self = this;
            self.handlers = {
                'keydown': function (event) {
                    switch (event.keyCode) {
                        case 38:
                        case 87:
                            self.forward = true;
                            break;
                        case 37:
                        case 65:
                            self.left = true;
                            break;
                        case 40:
                        case 83:
                            self.backward = true;
                            break;
                        case 39:
                        case 68:
                            self.right = true;
                            break;
                        case 16:
                            self.running = true;
                            break;
                        case 32:
                            if (self.canJump === true) {
                                self.velocity.y += 350;
                                self.canJump = false;
                            }
                            break;
                    }
                },
                'keyup': function (event) {
                    switch (event.keyCode) {
                        case 38:
                        case 87:
                            self.forward = false;
                            break;
                        case 37:
                        case 65:
                            self.left = false;
                            break;
                        case 40:
                        case 83:
                            self.backward = false;
                            break;
                        case 39:
                        case 68:
                            self.right = false;
                            break;
                        case 16:
                            self.running = false;
                            break;
                    }
                },
                'mousemove': function (event) {
                    if (!self._enabled || !Kube3d.havePointerLock) {
                        return;
                    }
                    var yaw = self.yaw;
                    var pitch = self.pitch;
                    var deltaX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;
                    var deltaY = event.movementY || event.mozMovementX || event.webkitMovementX || 0;
                    yaw.rotation.y -= deltaX * 0.002;
                    pitch.rotation.x -= deltaY * 0.002;
                    pitch.rotation.x = Math.max(-Kube3d.HalfPI, Math.min(Kube3d.HalfPI, pitch.rotation.x));
                }
            };
            _.forIn(this.handlers, function (handler, evt) { return document.addEventListener(evt, handler, false); });
        }
        Object.defineProperty(Player.prototype, "enabled", {
            get: function () {
                return this._enabled;
            },
            set: function (enabled) {
                this._enabled = enabled;
                if (enabled) {
                    this.camera.position.set(0, 0, 0);
                    this.camera.rotation.set(0, 0, 0);
                    this.object.position.set(0, 0, 0);
                    var angle = THREE.Math.degToRad(THREE.Math.random16() * 360);
                    this.yaw.rotation.set(0, angle, 0);
                    this.world.placePlayer(this.object);
                }
                else {
                    this.yaw.position.set(0, 0, 0);
                    this.yaw.rotation.set(0, 0, 0);
                    this.pitch.rotation.set(0, 0, 0);
                }
            },
            enumerable: true,
            configurable: true
        });
        Player.prototype.setWorldObjectsCallback = function (func) {
            this.getWorldObjects = func;
        };
        Object.defineProperty(Player.prototype, "object", {
            get: function () {
                return this.yaw;
            },
            enumerable: true,
            configurable: true
        });
        Player.prototype.lookAt = function (box) {
            this._lookAt = box;
        };
        Player.prototype.destroy = function () {
            this.scene.remove(this.yaw);
            this.yaw.dispose();
            this.pitch.dispose();
            _.forIn(this.handlers, function (handler, evt) { return document.removeEventListener(evt, handler); });
        };
        Player.prototype.render = function () {
            if (!this.enabled || !Kube3d.havePointerLock) {
                if (this._lookAt) {
                    var angle = Date.now() * 0.0001;
                    this.camera.focus(this._lookAt, angle);
                }
                return;
            }
            var raycaster = this.raycaster;
            var velocity = this.velocity;
            var me = this.object;
            raycaster.ray.origin.copy(this.yaw.position);
            raycaster.ray.origin.y -= 10;
            var objects = this.getWorldObjects();
            var intersections = raycaster.intersectObjects(objects);
            var isOnObject = intersections.length > 0;
            var time = performance.now();
            var interval = time - this.prevTime;
            var modifier = this.running ? this.runningModifier : this.walkingModifier;
            var delta = interval / modifier;
            var deltaY = interval / this.walkingModifier;
            velocity.x -= velocity.x * 10.0 * delta;
            velocity.z -= velocity.z * 10.0 * delta;
            velocity.y -= 9.8 * 100.0 * deltaY;
            if (this.forward)
                velocity.z -= 400.0 * delta;
            if (this.backward)
                velocity.z += 400.0 * delta;
            if (this.left)
                velocity.x -= 400.0 * delta;
            if (this.right)
                velocity.x += 400.0 * delta;
            if (isOnObject === true) {
                velocity.y = Math.max(0, velocity.y);
                this.canJump = true;
            }
            me.translateX(velocity.x * delta);
            me.translateY(velocity.y * deltaY);
            me.translateZ(velocity.z * delta);
            if (me.position.y < 10) {
                velocity.y = 0;
                me.position.y = 10;
                this.canJump = true;
            }
            this.prevTime = time;
        };
        return Player;
    })();
    Kube3d.Player = Player;
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dPlugin.ts"/>
var Kube3d;
(function (Kube3d) {
    var directiveName = 'threejs';
    Kube3d._module.directive(directiveName, [function () {
            THREE.ImageUtils.crossOrigin = '';
            return {
                restrict: 'A',
                replace: true,
                scope: {
                    config: '=?' + directiveName
                },
                link: function (scope, element, attrs) {
                    var scene = null;
                    var camera = null;
                    var renderer = null;
                    var keepRendering = true;
                    var resizeHandle = null;
                    function stop() {
                        keepRendering = false;
                    }
                    function cleanup() {
                        $(window).off('resize', resizeFunc);
                        delete renderer;
                        delete camera;
                        delete scene;
                        element.empty();
                    }
                    var resizeFunc = function () {
                        Kube3d.log.debug("resizing");
                        element.find('canvas').width(element.width()).height(element.height());
                        camera.aspect = element.width() / element.height();
                        camera.updateProjectionMatrix();
                        renderer.setSize(element.width(), element.height());
                    };
                    element.on('$destroy', function () {
                        stop();
                        Kube3d.log.debug("scene destroyed");
                    });
                    scope.$watch('config', _.debounce(function (config) {
                        stop();
                        if (!config || !config.initialize) {
                            Kube3d.log.debug("no config, returning");
                            return;
                        }
                        Kube3d.log.debug("creating scene");
                        scene = new THREE.Scene();
                        camera = new THREE.PerspectiveCamera(60, element.width() / element.height(), 0.1, 20000);
                        camera.focus = function (box3, angle, c) {
                            if (c === void 0) { c = camera; }
                            var height = box3.size().y;
                            var width = box3.size().x / (camera.aspect / 2);
                            if (width < 0 || height < 0) {
                                return;
                            }
                            var distY = Math.round(height * Math.tan((camera.fov / 2) * (Math.PI / 180)));
                            var distX = Math.round(width * Math.tan((camera.fov / 2) * (Math.PI / 180)));
                            var distZ = (distY + distX);
                            var z = Math.round(c.position.z);
                            var period = 5.0;
                            c.position.x = distX * Math.cos(angle);
                            c.position.y = distY * Math.sin(angle);
                            if (z !== distZ) {
                                if (z > distZ) {
                                    var v = (z - distZ) / period;
                                    c.position.z = z - v;
                                }
                                if (z < distZ) {
                                    var v = (distZ - z) / period;
                                    c.position.z = z + v;
                                }
                            }
                            c.lookAt(box3.center());
                        };
                        if (Kube3d.webglAvailable()) {
                            renderer = new THREE.WebGLRenderer();
                        }
                        else {
                            renderer = new THREE.CanvasRenderer();
                        }
                        renderer.setPixelRatio(window.devicePixelRatio);
                        renderer.setSize(element.width(), element.height());
                        var domElement = renderer.domElement;
                        config.initialize(renderer, scene, camera, domElement);
                        element.append(domElement);
                        $(window).on('resize', resizeFunc);
                        var render = function () {
                            if (!keepRendering) {
                                cleanup();
                                return;
                            }
                            if (config.render) {
                                config.render(renderer, scene, camera);
                            }
                            renderer.render(scene, camera);
                            requestAnimationFrame(render);
                        };
                        keepRendering = true;
                        render();
                    }, 500, { trailing: true }));
                }
            };
        }]);
})(Kube3d || (Kube3d = {}));

/// <reference path="kube3dPlugin.ts"/>
/// <reference path="player.ts"/>
/// <reference path="world.ts"/>
/// <reference path="objects.ts"/>
var Kube3d;
(function (Kube3d) {
    Kube3d.ViewController = Kube3d.controller('ViewController', ['$scope', 'KubernetesModel', 'KubernetesState', '$element', function ($scope, model, state, $element) {
            var debugScene = false;
            var renderer = undefined;
            var scene = undefined;
            var camera = undefined;
            var domElement = undefined;
            var sceneGeometry = new THREE.Object3D();
            var sceneBounds = new THREE.BoundingBoxHelper(sceneGeometry, 0xff0000);
            var hostObjects = {};
            var updating = false;
            var hasMouse = false;
            var player = null;
            var world = null;
            $scope.onLock = function (lock) {
                if (!player) {
                    return;
                }
                player.enabled = lock;
            };
            $scope.config = {
                initialize: function (r, s, c, d) {
                    Kube3d.log.debug("init called");
                    renderer = r;
                    scene = s;
                    camera = c;
                    domElement = d;
                    world = new Kube3d.World(scene);
                    player = new Kube3d.Player(scene, camera, d, world);
                    scene.add(sceneGeometry);
                    if (debugScene) {
                        scene.add(sceneBounds);
                    }
                    var axis = new THREE.AxisHelper(1000);
                    scene.add(axis);
                    sceneGeometry.rotation.x = 90;
                    sceneGeometry.rotation.z = 90;
                    sceneGeometry.position.x = 0;
                    sceneGeometry.position.y = 0;
                    sceneGeometry.position.z = 0;
                    buildScene();
                },
                render: function (renderer, scene, camera) {
                    if (updating) {
                        return;
                    }
                    world.render();
                    var angle = Date.now() * 0.0001;
                    sceneGeometry.position.x = 1000 * Math.cos(angle);
                    sceneGeometry.position.z = 1000 * Math.sin(angle);
                    _.forIn(hostObjects, function (hostObject, key) {
                        hostObject.render();
                    });
                    sceneBounds.update();
                    player.lookAt(sceneBounds.box);
                    player.render();
                }
            };
            function buildScene() {
                if (!scene) {
                    return;
                }
                updating = true;
                var originX = 0;
                var originY = 0;
                var hostsToRemove = [];
                _.forIn(hostObjects, function (hostObject, key) {
                    if (_.any(model.hosts, function (host) { return host.elementId === key; })) {
                        Kube3d.log.debug("Keeping host: ", key);
                    }
                    else {
                        hostsToRemove.push(key);
                    }
                });
                _.forEach(hostsToRemove, function (key) {
                    var hostObject = hostObjects[key];
                    if (hostObject) {
                        hostObject.destroy();
                        delete hostObjects[key];
                    }
                });
                _.forEach(model.hosts, function (host) {
                    var id = host.elementId;
                    Kube3d.log.debug("host: ", host);
                    var hostObject = hostObjects[id] || new Kube3d.HostObject(sceneGeometry, id, host);
                    if (!(id in hostObjects)) {
                        hostObject.setPosition(originX, originY, 0);
                        originX = originX + 500;
                        originY = originY + 500;
                        hostObjects[id] = hostObject;
                    }
                    hostObject.update(model, host);
                    hostObject.debug(debugScene);
                });
                Kube3d.log.debug("model updated");
                updating = false;
            }
            $scope.$on('kubernetesModelUpdated', buildScene);
        }]);
})(Kube3d || (Kube3d = {}));

angular.module("hawtio-kube3d-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("plugins/kube3d/html/view.html","<div class=\"kube3d-viewport\" ng-controller=\"Kube3d.ViewController\">\n  <div class=\"kube3d-control\" threejs=\"config\"></div>\n  <div class=\"kube3d-instructions\" request-lock=\'onLock(lock)\'>\n    <div class=\"kube3d-instructions-wrapper\">\n      <span class=\"kube3d-start-title\">Click to play</span>\n    </div>\n  </div>\n</div>\n");}]); hawtioPluginLoader.addModule("hawtio-kube3d-templates");
},{"threejs-build":1}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdGhyZWVqcy1idWlsZC9idWlsZC90aHJlZS5taW4uanMiLCIvc291cmNlL2luY2x1ZGVzLnRzIiwiL3NvdXJjZS9rdWJlM2QvdHMva3ViZTNkSW50ZXJmYWNlcy50cyIsIi9zb3VyY2Uva3ViZTNkL3RzL2t1YmUzZEhlbHBlcnMudHMiLCIvc291cmNlL2t1YmUzZC90cy9rdWJlM2RQbHVnaW4udHMiLCIvc291cmNlL2t1YmUzZC90cy9sb2NrUmVxdWVzdC50cyIsIi9zb3VyY2Uva3ViZTNkL3RzL29iamVjdHMudHMiLCIvc291cmNlL2t1YmUzZC90cy93b3JsZC50cyIsIi9zb3VyY2Uva3ViZTNkL3RzL3BsYXllci50cyIsIi9zb3VyY2Uva3ViZTNkL3RzL3RocmVlSlNEaXJlY3RpdmUudHMiLCIvc291cmNlL2t1YmUzZC90cy92aWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuMEJBLDJEQUEyRDtBQUMzRCw0REFBNEQ7QUFDNUQsR0FBRztBQUNILG1FQUFtRTtBQUNuRSxvRUFBb0U7QUFDcEUsMkNBQTJDO0FBQzNDLEdBQUc7QUFDSCxnREFBZ0Q7QUFDaEQsR0FBRztBQUNILHVFQUF1RTtBQUN2RSxxRUFBcUU7QUFDckUsNEVBQTRFO0FBQzVFLHVFQUF1RTtBQUN2RSxrQ0FBa0M7QUFFbEMsMERBQTBEO0FBQzFELDJEQUEyRDs7QUNoQjNELEFBQ0EseUNBRHlDO0FBQ3pDLElBQU8sTUFBTSxDQW9CWjtBQXBCRCxXQUFPLE1BQU0sRUFBQyxDQUFDO0lBRUYsUUFBQyxHQUFHLENBQUMsQ0FBQztJQUNOLFFBQUMsR0FBRyxDQUFDLENBQUM7SUFDTixXQUFJLEdBQUcsUUFBQyxDQUFDO0lBQ1QsWUFBSyxHQUFHLFFBQUMsQ0FBQztJQUVWLGdCQUFTLEdBQUcsR0FBRyxDQUFDO0lBQ2hCLGtCQUFXLEdBQUcsQ0FBQyxnQkFBUyxDQUFDO0lBV25DLENBQUM7QUFDSixDQUFDLEVBcEJNLE1BQU0sS0FBTixNQUFNLFFBb0JaOztBQ3JCRCx5Q0FBeUM7QUFDekMsMkNBQTJDO0FBRTNDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUVyQyxJQUFPLE1BQU0sQ0F1Q1o7QUF2Q0QsV0FBTyxNQUFNLEVBQUMsQ0FBQztJQUNGLGlCQUFVLEdBQUcsUUFBUSxDQUFDO0lBQ3RCLFVBQUcsR0FBa0IsTUFBTSxDQUFDLEdBQUcsQ0FBQyxpQkFBVSxDQUFDLENBQUM7SUFDNUMsbUJBQVksR0FBRyxxQkFBcUIsQ0FBQztJQUNyQyxzQkFBZSxHQUFHLG9CQUFvQixJQUFJLFFBQVEsSUFBSSx1QkFBdUIsSUFBSSxRQUFRLElBQUksMEJBQTBCLElBQUksUUFBUSxDQUFDO0lBR3BJLGFBQU0sR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUVoQyxrQkFBeUIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVFLENBQUM7SUFGZSxlQUFRLFdBRXZCLENBQUE7SUFFRDtRQUNFLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ3ZDLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBSGUsaUJBQVUsYUFHekIsQ0FBQTtJQUVEO1FBQ0UsSUFBSSxDQUFDO1lBQ0gsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBRSxRQUFRLENBQUUsQ0FBQztZQUNoRCxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQVEsTUFBTyxDQUFDLHFCQUFxQixJQUFJLENBQzVDLE1BQU0sQ0FBQyxVQUFVLENBQUUsT0FBTyxDQUFFO2dCQUM1QixNQUFNLENBQUMsVUFBVSxDQUFFLG9CQUFvQixDQUFFLENBQUUsQ0FDNUMsQ0FBQztRQUNSLENBQUU7UUFBQSxLQUFLLENBQUMsQ0FBRSxDQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2IsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNmLENBQUM7SUFDSCxDQUFDO0lBVmUscUJBQWMsaUJBVTdCLENBQUE7SUFFRCxxQkFBNEIsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFlO1FBQWYsdUJBQWUsR0FBZixlQUFlO1FBQ3ZELElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxnQkFBUyxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLEtBQUssR0FBRyxnQkFBUyxDQUFDO1FBQzFCLElBQUksQ0FBQyxHQUFHLE9BQU8sR0FBRyxrQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFMZSxrQkFBVyxjQUsxQixDQUFBO0FBSUgsQ0FBQyxFQXZDTSxNQUFNLEtBQU4sTUFBTSxRQXVDWjs7QUM1Q0Qsd0NBQXdDO0FBRXhDLElBQU8sTUFBTSxDQWdDWjtBQWhDRCxXQUFPLE1BQU0sRUFBQyxDQUFDO0lBRUYsY0FBTyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsaUJBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6QyxpQkFBVSxHQUFHLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxjQUFPLEVBQUUsaUJBQVUsQ0FBQyxDQUFDO0lBRXBGLElBQUksR0FBRyxHQUFHLFNBQVMsQ0FBQztJQUVwQixjQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsMEJBQTBCLEVBQUUsVUFBQyxjQUF1QyxFQUFFLE9BQXFDO1lBQzNJLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFO2lCQUNuQixFQUFFLENBQUMsaUJBQVUsQ0FBQztpQkFDZCxLQUFLLENBQUMsY0FBTSxPQUFBLFNBQVMsRUFBVCxDQUFTLENBQUM7aUJBQ3RCLElBQUksQ0FBQyxjQUFNLE9BQUEsZ0JBQWdCLEVBQWhCLENBQWdCLENBQUM7aUJBQzVCLElBQUksQ0FBQyxjQUFNLE9BQUEsT0FBTyxDQUFDLElBQUksQ0FBQyxtQkFBWSxFQUFFLFdBQVcsQ0FBQyxFQUF2QyxDQUF1QyxDQUFDO2lCQUNuRCxLQUFLLEVBQUUsQ0FBQztZQUNYLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFFaEQsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVKLGNBQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUUsVUFBQyxHQUFHO1lBQzVCLEdBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsaUJBQVUsRUFBRSxVQUFDLElBQUk7Z0JBQ2pELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQztvQkFDN0IsTUFBTSxDQUFDO2dCQUNULENBQUM7Z0JBQ0QsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsVUFBQyxHQUFPLElBQUssT0FBQSxHQUFHLENBQUMsRUFBRSxLQUFLLGlCQUFVLEVBQXJCLENBQXFCLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUN0QixDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBR0osa0JBQWtCLENBQUMsU0FBUyxDQUFDLGlCQUFVLENBQUMsQ0FBQztBQUUzQyxDQUFDLEVBaENNLE1BQU0sS0FBTixNQUFNLFFBZ0NaOztBQ2xDRCx1Q0FBdUM7QUFFdkMsSUFBTyxNQUFNLENBb0RaO0FBcERELFdBQU8sTUFBTSxFQUFDLENBQUM7SUFFYixjQUFPLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxDQUFDLFdBQVcsRUFBRSxVQUFDLFNBQVM7WUFDdkQsTUFBTSxDQUFDO2dCQUNMLFFBQVEsRUFBRSxHQUFHO2dCQUNiLEtBQUssRUFBRTtvQkFDTCxRQUFRLEVBQUUsY0FBYztpQkFDekI7Z0JBQ0QsSUFBSSxFQUFFLFVBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxJQUFJO29CQUN6QixJQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDO29CQUMvQixFQUFFLENBQUMsQ0FBQyxzQkFBZSxDQUFDLENBQUMsQ0FBQzt3QkFDcEIsVUFBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQzt3QkFDbkIsSUFBSSxHQUFHLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUN2QixJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO3dCQUVwQixJQUFJLGlCQUFpQixHQUFHLFVBQUMsS0FBSzs0QkFDNUIsRUFBRSxDQUFDLENBQUUsR0FBRyxDQUFDLGtCQUFrQixLQUFLLElBQUk7Z0NBQy9CLEdBQUcsQ0FBQyxxQkFBcUIsS0FBSyxJQUFJO2dDQUNsQyxHQUFHLENBQUMsd0JBQXdCLEtBQUssSUFBSyxDQUFDLENBQUMsQ0FBQztnQ0FDNUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO2dDQUMxQixLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7NEJBQy9CLENBQUM7NEJBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ04sRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDO2dDQUN0QixLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7NEJBQ2hDLENBQUM7NEJBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDckIsQ0FBQyxDQUFDO3dCQUVGLElBQUksZ0JBQWdCLEdBQUcsVUFBQyxLQUFLOzRCQUMzQixFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7d0JBQ3hCLENBQUMsQ0FBQzt3QkFFRixHQUFHLENBQUMsZ0JBQWdCLENBQUUsbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsS0FBSyxDQUFFLENBQUM7d0JBQ3RFLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBRSxzQkFBc0IsRUFBRSxpQkFBaUIsRUFBRSxLQUFLLENBQUUsQ0FBQzt3QkFDekUsR0FBRyxDQUFDLGdCQUFnQixDQUFFLHlCQUF5QixFQUFFLGlCQUFpQixFQUFFLEtBQUssQ0FBRSxDQUFDO3dCQUU1RSxHQUFHLENBQUMsZ0JBQWdCLENBQUUsa0JBQWtCLEVBQUUsZ0JBQWdCLEVBQUUsS0FBSyxDQUFFLENBQUM7d0JBQ3BFLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBRSxxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRSxLQUFLLENBQUUsQ0FBQzt3QkFDdkUsR0FBRyxDQUFDLGdCQUFnQixDQUFFLHdCQUF3QixFQUFFLGdCQUFnQixFQUFFLEtBQUssQ0FBRSxDQUFDO3dCQUUxRSxFQUFFLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQUMsS0FBSzs0QkFDakMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDOzRCQUMxQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixJQUFJLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxJQUFJLENBQUMsd0JBQXdCLENBQUM7NEJBQ2pILElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO3dCQUM1QixDQUFDLENBQUMsQ0FBQztvQkFDTCxDQUFDO29CQUFDLElBQUksQ0FBQyxDQUFDO3dCQUNOLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztvQkFDNUIsQ0FBQztnQkFDSCxDQUFDO2FBQ0YsQ0FBQTtRQUNILENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFTixDQUFDLEVBcERNLE1BQU0sS0FBTixNQUFNLFFBb0RaOzs7Ozs7OztBQ3RERCxBQUNBLDJDQUQyQztBQUMzQyxJQUFPLE1BQU0sQ0EyUVo7QUEzUUQsV0FBTyxNQUFNLEVBQUMsQ0FBQztJQUViLElBQUksR0FBRyxHQUFrQixNQUFNLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTlDO1FBSUUseUJBQW1CLEtBQVMsRUFBUyxRQUFZO1lBQTlCLFVBQUssR0FBTCxLQUFLLENBQUk7WUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFJO1lBRnpDLGdCQUFXLEdBQU8sSUFBSSxDQUFDO1lBRzdCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN4RSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDbkMsQ0FBQztRQUVNLGlDQUFPLEdBQWQ7WUFDRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUN4QixPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkIsQ0FBQztRQUVNLCtCQUFLLEdBQVosVUFBYSxNQUFNO1lBQ2pCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUNwQyxDQUFDO1FBRU0sOEJBQUksR0FBWCxVQUFZLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM5QixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQyxDQUFDO1FBRU0sZ0NBQU0sR0FBYixVQUFjLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDL0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUMvQixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNwQyxDQUFDO1FBRU0scUNBQVcsR0FBbEI7WUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDMUMsQ0FBQztRQUVNLHFDQUFXLEdBQWxCLFVBQW1CLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDaEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVsQyxDQUFDO1FBRU0scUNBQVcsR0FBbEIsVUFBbUIsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFO1lBQzNCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBQzlCLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM5QixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLENBQUM7UUFFTSxnQ0FBTSxHQUFiO1lBQ0UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUM1QixDQUFDO1FBRUgsc0JBQUM7SUFBRCxDQWxFQSxBQWtFQyxJQUFBO0lBbEVZLHNCQUFlLGtCQWtFM0IsQ0FBQTtJQUVEO1FBQStCLDZCQUFlO1FBUTVDLG1CQUFtQixLQUFVLEVBQVMsVUFBcUIsRUFBUyxFQUFTLEVBQVMsR0FBTztZQUMzRixrQkFBTSxLQUFLLEVBQUUsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztZQURsQixVQUFLLEdBQUwsS0FBSyxDQUFLO1lBQVMsZUFBVSxHQUFWLFVBQVUsQ0FBVztZQUFTLE9BQUUsR0FBRixFQUFFLENBQU87WUFBUyxRQUFHLEdBQUgsR0FBRyxDQUFJO1lBUHJGLFVBQUssR0FBVSxTQUFTLENBQUM7WUFDekIsV0FBTSxHQUFPLFNBQVMsQ0FBQztZQUN2QixhQUFRLEdBQUc7Z0JBQ2pCLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJO2dCQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztnQkFDaEMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUk7YUFDbEMsQ0FBQztZQUdBLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN6RCxPQUFPLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7WUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQ2IsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUNaLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUNqQyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQztnQkFDMUIsS0FBSyxFQUFFLFFBQVE7Z0JBQ2YsR0FBRyxFQUFFLE9BQU87Z0JBQ1osT0FBTyxFQUFFLE9BQU87Z0JBQ2hCLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixhQUFhLEVBQUUsSUFBSTtnQkFDbkIsT0FBTyxFQUFFLEtBQUssQ0FBQyxhQUFhO2FBQzdCLENBQUMsQ0FDRCxDQUFDLENBQUM7WUFDVCxHQUFHLENBQUMsS0FBSyxDQUFDLHFCQUFxQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7UUFFTSwwQkFBTSxHQUFiLFVBQWMsS0FBSyxFQUFFLEdBQUc7WUFDdEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDakIsQ0FBQztRQUVNLDJCQUFPLEdBQWQ7WUFDRSxnQkFBSyxDQUFDLE9BQU8sV0FBRSxDQUFDO1lBQ2hCLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDN0MsR0FBRyxDQUFDLEtBQUssQ0FBQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDOUMsQ0FBQztRQUVPLDRCQUFRLEdBQWhCO1lBQ0UsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNqRCxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDcEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwRCxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BELE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDO1FBQ2xELENBQUM7UUFFTyxtQ0FBZSxHQUF2QjtZQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFDM0IsR0FBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7Z0JBQ3BELElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUM3QixHQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ3ZELElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQztnQkFDdkIsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUM7b0JBQ3JDLEtBQUssRUFBRSxRQUFRO29CQUNmLFVBQVUsRUFBRSxJQUFJO29CQUNoQixhQUFhLEVBQUUsSUFBSTtvQkFDbkIsU0FBUyxFQUFFLElBQUk7aUJBQ2hCLENBQUMsQ0FBQztnQkFDSCxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dCQUNqQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dCQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksS0FBSyxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pILElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDNUMsQ0FBQztZQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ3BCLENBQUM7UUFFTSwwQkFBTSxHQUFiO1lBQ0UsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3BDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakQsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksT0FBTyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDN0IsSUFBSSxPQUFPLEdBQUcsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDO1lBQzFCLElBQUksT0FBTyxHQUFHLENBQUMsR0FBRyxPQUFPLENBQUM7WUFDMUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ25DLElBQUksSUFBSSxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMzRSxJQUFJLElBQUksR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDM0UsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvRCxnQkFBSyxDQUFDLE1BQU0sV0FBRSxDQUFDO1FBQ2pCLENBQUM7UUFDSCxnQkFBQztJQUFELENBbEZBLEFBa0ZDLEVBbEY4QixlQUFlLEVBa0Y3QztJQWxGWSxnQkFBUyxZQWtGckIsQ0FBQTtJQUVEO1FBQWdDLDhCQUFlO1FBVTdDLG9CQUFZLEtBQVUsRUFBUyxFQUFTLEVBQVMsR0FBTztZQUN0RCxrQkFBTSxLQUFLLEVBQUUsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQTtZQURMLE9BQUUsR0FBRixFQUFFLENBQU87WUFBUyxRQUFHLEdBQUgsR0FBRyxDQUFJO1lBVGhELFlBQU8sR0FBRyxHQUFHLENBQUM7WUFDZCxZQUFPLEdBQUcsR0FBRyxDQUFDO1lBQ2YsU0FBSSxHQUFHLEVBQUUsQ0FBQztZQUNWLGFBQVEsR0FBRztnQkFDaEIsQ0FBQyxFQUFFLENBQUM7Z0JBQ0osQ0FBQyxFQUFFLENBQUM7Z0JBQ0osQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUk7YUFDbEMsQ0FBQTtZQXlGTyxTQUFJLEdBQUcsQ0FBQyxDQUFDO1lBckZmLElBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDbEUsT0FBTyxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUNiLElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUN2QyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQ1osSUFBSSxLQUFLLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQ3JDLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDO2dCQUMxQixLQUFLLEVBQUUsUUFBUTtnQkFDZixHQUFHLEVBQUUsT0FBTztnQkFDWixPQUFPLEVBQUUsT0FBTztnQkFDaEIsUUFBUSxFQUFFLFFBQVE7Z0JBQ2xCLE9BQU8sRUFBRSxLQUFLLENBQUMsYUFBYTthQUM3QixDQUFDLENBQ0gsQ0FDRixDQUFDO1lBQ0osR0FBRyxDQUFDLEtBQUssQ0FBQyxzQkFBc0IsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN4QyxDQUFDO1FBRU0sMkJBQU0sR0FBYixVQUFjLEtBQUssRUFBRSxJQUFJO1lBQXpCLGlCQWtCQztZQWpCQyxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztZQUNoQixJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7WUFDdEIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQUMsR0FBRyxFQUFFLEdBQUc7Z0JBQzFCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDOUIsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDekIsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUFDO1lBQ0gsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsVUFBQyxFQUFFLElBQUssT0FBQSxLQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFsQixDQUFrQixDQUFDLENBQUM7WUFDcEQsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxVQUFDLEdBQU87Z0JBQy9CLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ3BCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3ZCLEtBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUN6QixDQUFDO2dCQUFDLElBQUksQ0FBQyxDQUFDO29CQUNOLElBQUksTUFBTSxHQUFHLEtBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQzdCLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUM1QixDQUFDO1lBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDO1FBRU0sMEJBQUssR0FBWixVQUFhLE1BQU07WUFBbkIsaUJBSUM7WUFIQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUMzQixDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxVQUFDLEVBQUUsSUFBSyxPQUFBLEtBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUEzQixDQUEyQixDQUFDLENBQUM7WUFDcEQsZ0JBQUssQ0FBQyxLQUFLLFlBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEIsQ0FBQztRQUVNLDRCQUFPLEdBQWQ7WUFBQSxpQkFPQztZQU5DLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNkLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUMvQixDQUFDLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxVQUFDLEVBQUUsSUFBSyxPQUFBLEtBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQWxCLENBQWtCLENBQUMsQ0FBQztZQUNoRCxDQUFDO1lBQ0QsZ0JBQUssQ0FBQyxPQUFPLFdBQUUsQ0FBQztZQUNoQixHQUFHLENBQUMsS0FBSyxDQUFDLHlCQUF5QixFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoRCxDQUFDO1FBRU0sOEJBQVMsR0FBaEIsVUFBaUIsRUFBRTtZQUNqQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3hCLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ1IsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO2dCQUNkLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN2QixDQUFDO1FBQ0gsQ0FBQztRQUVNLDJCQUFNLEdBQWIsVUFBYyxHQUFHLEVBQUUsQ0FBSztZQUN0QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDckIsTUFBTSxDQUFDO1lBQ1QsQ0FBQztZQUNELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNwQyxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDN0MsSUFBSSxVQUFVLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQztZQU05QixJQUFJLEdBQUcsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDbEQsR0FBRyxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFELEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsR0FBRyxDQUFDO1lBQ3ZELElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEdBQUcsQ0FBQztZQUN2RCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN2QixDQUFDO1FBRU0sMkJBQU0sR0FBYixVQUFjLEVBQUU7WUFDZCxNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNCLENBQUM7UUFJTSwyQkFBTSxHQUFiO1lBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9ELENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFDLFNBQVMsRUFBRSxFQUFFO2dCQUMvQixTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1lBQzFCLGdCQUFLLENBQUMsTUFBTSxXQUFFLENBQUM7UUFDakIsQ0FBQztRQUdILGlCQUFDO0lBQUQsQ0E3R0EsQUE2R0MsRUE3RytCLGVBQWUsRUE2RzlDO0lBN0dZLGlCQUFVLGFBNkd0QixDQUFBO0FBRUgsQ0FBQyxFQTNRTSxNQUFNLEtBQU4sTUFBTSxRQTJRWjs7QUM1UUQsd0NBQXdDO0FBRXhDLElBQU8sTUFBTSxDQXdIWjtBQXhIRCxXQUFPLE1BQU0sRUFBQyxDQUFDO0lBRWIsSUFBSSxTQUFTLEdBQ1g7UUFDRSxDQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLENBQUU7UUFDMUIsQ0FBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxDQUFFO1FBQzFCLENBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsQ0FBRTtRQUMxQixDQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLENBQUU7UUFDMUIsQ0FBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxDQUFFO1FBQzFCLENBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsQ0FBRTtRQUMxQixDQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLENBQUU7UUFDMUIsQ0FBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxFQUFFLFFBQUMsRUFBRSxRQUFDLEVBQUUsUUFBQyxDQUFFO0tBQzNCLENBQUM7SUFFSixJQUFJLFVBQVUsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ3JDLElBQUksV0FBVyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUM7SUFFbkMsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNuRSxXQUFXLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDNUMsSUFBSSxZQUFZLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUM7UUFDN0MsS0FBSyxFQUFFLFFBQVE7UUFDZixHQUFHLEVBQUUsV0FBVztRQUNoQixVQUFVLEVBQUUsSUFBSTtRQUNoQixhQUFhLEVBQUUsSUFBSTtRQUNuQixTQUFTLEVBQUUsS0FBSztLQUNqQixDQUFDLENBQUM7SUFDSCxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLGdCQUFTLEVBQUUsZ0JBQVMsRUFBRSxnQkFBUyxDQUFDLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFFaEcsSUFBSSxZQUFZLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNwRSxZQUFZLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDN0MsSUFBSSxhQUFhLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUM7UUFDOUMsS0FBSyxFQUFFLFFBQVE7UUFDZixHQUFHLEVBQUUsWUFBWTtRQUNqQixVQUFVLEVBQUUsSUFBSTtRQUNoQixhQUFhLEVBQUUsSUFBSTtRQUNuQixTQUFTLEVBQUUsS0FBSztLQUNqQixDQUFDLENBQUM7SUFDSCxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLGdCQUFTLEVBQUUsZ0JBQVMsRUFBRSxnQkFBUyxDQUFDLEVBQUUsYUFBYSxDQUFDLENBQUM7SUFFbEcsaUJBQWlCLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBZTtRQUFmLHVCQUFlLEdBQWYsZUFBZTtRQUM1QyxJQUFJLEdBQUcsR0FBRyxPQUFPLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqRCxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxrQkFBVyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUMzRCxNQUFNLENBQUMsR0FBRyxDQUFDO0lBQ2IsQ0FBQztJQUVEO1FBSUUsZUFBMkIsS0FBSztZQUFMLFVBQUssR0FBTCxLQUFLLENBQUE7WUFIeEIsWUFBTyxHQUFHLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBRSxRQUFRLENBQUUsQ0FBQztZQUM3QyxVQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsZ0JBQWdCLENBQUUsUUFBUSxDQUFFLENBQUM7WUFHckQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFFLENBQUM7WUFDM0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFFbEMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDeEIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFHdEIsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO1lBQ3ZCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUN4QixhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDO29CQUM3QyxHQUFHLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsd0JBQXdCLENBQUM7b0JBQzNELElBQUksRUFBRSxLQUFLLENBQUMsUUFBUTtpQkFDckIsQ0FBQyxDQUFDLENBQUM7WUFDTixJQUFJLFdBQVcsR0FBRyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM1RCxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBR25GLENBQUMsQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQUMsR0FBRyxFQUFFLENBQUM7Z0JBQzFCLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLFVBQUMsSUFBSSxFQUFFLENBQUM7b0JBQ3JCLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7d0JBQ2IsS0FBSyxXQUFJOzRCQUNQLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQzs0QkFDaEMsS0FBSyxDQUFDO29CQUNWLENBQUM7b0JBQ0QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNqQyxDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBZUwsQ0FBQztRQUVNLDJCQUFXLEdBQWxCLFVBQW1CLE1BQU07WUFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQixDQUFDO1FBRU0sMkJBQVcsR0FBbEIsVUFBbUIsTUFBTTtZQUN2QixFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNoQyxNQUFNLENBQUM7WUFDVCxDQUFDO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ1QsR0FBRyxDQUFDO2dCQUNGLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDckQsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsV0FBVyxHQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNyRCxVQUFHLENBQUMsS0FBSyxDQUFDLElBQUksRUFBQyxDQUFDLEVBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxNQUFNLEVBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEQsQ0FBQyxRQUFRLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFLLEVBQUM7WUFDbkMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsa0JBQVcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQyxDQUFDO1FBRU0sc0JBQU0sR0FBYjtRQUVBLENBQUM7UUFFTSx1QkFBTyxHQUFkO1FBRUEsQ0FBQztRQUVILFlBQUM7SUFBRCxDQXpFQSxBQXlFQyxJQUFBO0lBekVZLFlBQUssUUF5RWpCLENBQUE7QUFFSCxDQUFDLEVBeEhNLE1BQU0sS0FBTixNQUFNLFFBd0haOztBQzFIRCx3Q0FBd0M7QUFDeEMsZ0NBQWdDO0FBRWhDLElBQU8sTUFBTSxDQW1OWjtBQW5ORCxXQUFPLE1BQU0sRUFBQyxDQUFDO0lBRWI7UUE2QkUsZ0JBQTJCLEtBQUssRUFBVSxNQUFNLEVBQVUsQ0FBQyxFQUFVLEtBQVc7WUFBckQsVUFBSyxHQUFMLEtBQUssQ0FBQTtZQUFVLFdBQU0sR0FBTixNQUFNLENBQUE7WUFBVSxNQUFDLEdBQUQsQ0FBQyxDQUFBO1lBQVUsVUFBSyxHQUFMLEtBQUssQ0FBTTtZQTVCeEUsUUFBRyxHQUFrQixNQUFNLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ2pELGVBQVUsR0FBTyxJQUFJLENBQUM7WUFDdEIsWUFBTyxHQUFPLElBQUksQ0FBQztZQUNuQixVQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7WUFDN0IsUUFBRyxHQUFHLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBRTNCLGFBQVEsR0FBRyxLQUFLLENBQUM7WUFDakIsY0FBUyxHQUFHLFNBQVMsQ0FBQztZQUV0QixvQkFBZSxHQUFPLGNBQU0sT0FBQSxFQUFFLEVBQUYsQ0FBRSxDQUFDO1lBRS9CLGNBQVMsR0FBRyxJQUFJLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFLEVBQUUsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFHekYsWUFBTyxHQUFHLEtBQUssQ0FBQztZQUNoQixhQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ2pCLFNBQUksR0FBRyxLQUFLLENBQUM7WUFDYixVQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ2QsWUFBTyxHQUFHLElBQUksQ0FBQztZQUNmLFlBQU8sR0FBRyxLQUFLLENBQUM7WUFHaEIsYUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQy9CLGFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLENBQUM7WUFHN0IsYUFBUSxHQUFPLElBQUksQ0FBQztZQWlJcEIsb0JBQWUsR0FBRyxHQUFHLENBQUM7WUFDdEIsb0JBQWUsR0FBRyxHQUFHLENBQUM7WUE5SDVCLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDekIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFcEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUVoQyxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUV4QyxFQUFFLENBQUMsQ0FBQyxDQUFDLHNCQUFlLENBQUMsQ0FBQyxDQUFDO2dCQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN0QixDQUFDO1lBRUQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO1lBRWhCLElBQUksQ0FBQyxRQUFRLEdBQUc7Z0JBQ2QsU0FBUyxFQUFFLFVBQUMsS0FBUztvQkFDbkIsTUFBTSxDQUFDLENBQUUsS0FBSyxDQUFDLE9BQVEsQ0FBQyxDQUFDLENBQUM7d0JBQ3hCLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQzs0QkFDcEIsS0FBSyxDQUFDO3dCQUNSLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzs0QkFDakIsS0FBSyxDQUFDO3dCQUNSLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs0QkFDckIsS0FBSyxDQUFDO3dCQUNSLEtBQUssRUFBRSxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzs0QkFDbEIsS0FBSyxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQzs0QkFDcEIsS0FBSyxDQUFDO3dCQUNSLEtBQUssRUFBRTs0QkFDTCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0NBQzFCLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQztnQ0FDdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7NEJBQ3ZCLENBQUM7NEJBQ0QsS0FBSyxDQUFDO29CQUNWLENBQUM7Z0JBQ0gsQ0FBQztnQkFDRCxPQUFPLEVBQUUsVUFBQyxLQUFTO29CQUNqQixNQUFNLENBQUMsQ0FBRSxLQUFLLENBQUMsT0FBUSxDQUFDLENBQUMsQ0FBQzt3QkFDeEIsS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFOzRCQUNMLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDOzRCQUNyQixLQUFLLENBQUM7d0JBQ1IsS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFOzRCQUNMLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDOzRCQUNsQixLQUFLLENBQUM7d0JBQ1IsS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFOzRCQUNMLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDOzRCQUN0QixLQUFLLENBQUM7d0JBQ1IsS0FBSyxFQUFFLENBQUM7d0JBQ1IsS0FBSyxFQUFFOzRCQUNMLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDOzRCQUNuQixLQUFLLENBQUM7d0JBQ1IsS0FBSyxFQUFFOzRCQUNMLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDOzRCQUNyQixLQUFLLENBQUM7b0JBQ1YsQ0FBQztnQkFDSCxDQUFDO2dCQUNELFdBQVcsRUFBRSxVQUFDLEtBQVM7b0JBQ3JCLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxDQUFDLHNCQUFlLENBQUMsQ0FBQyxDQUFDO3dCQUN2QyxNQUFNLENBQUM7b0JBQ1QsQ0FBQztvQkFDRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO29CQUNuQixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO29CQUN2QixJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUMsU0FBUyxJQUFJLEtBQUssQ0FBQyxZQUFZLElBQUksS0FBSyxDQUFDLGVBQWUsSUFBSSxDQUFDLENBQUM7b0JBQ2pGLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxTQUFTLElBQUksS0FBSyxDQUFDLFlBQVksSUFBSSxLQUFLLENBQUMsZUFBZSxJQUFJLENBQUMsQ0FBQztvQkFDakYsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDakMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztvQkFDbkMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQU0sRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLGFBQU0sRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNFLENBQUM7YUFDRixDQUFDO1lBQ0YsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFVBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSyxPQUFBLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEtBQUssQ0FBQyxFQUE5QyxDQUE4QyxDQUFDLENBQUM7UUFDM0YsQ0FBQztRQUVELHNCQUFXLDJCQUFPO2lCQXFCbEI7Z0JBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDdkIsQ0FBQztpQkF2QkQsVUFBbUIsT0FBTztnQkFDeEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7Z0JBQ3hCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7b0JBQ1osSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ2xDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbEMsSUFBSSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztvQkFDN0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdEMsQ0FBQztnQkFBQyxJQUFJLENBQUMsQ0FBQztvQkFDTixJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDL0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxDQUFDO1lBRUgsQ0FBQzs7O1dBQUE7UUFFTSx3Q0FBdUIsR0FBOUIsVUFBK0IsSUFBSTtZQUNqQyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztRQUM5QixDQUFDO1FBTUQsc0JBQVcsMEJBQU07aUJBQWpCO2dCQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1lBQ2xCLENBQUM7OztXQUFBO1FBRU0sdUJBQU0sR0FBYixVQUFjLEdBQUc7WUFDZixJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztRQUNyQixDQUFDO1FBRU0sd0JBQU8sR0FBZDtZQUNFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUM1QixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDckIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLFVBQUMsT0FBTyxFQUFFLEdBQUcsSUFBSyxPQUFBLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQTFDLENBQTBDLENBQUMsQ0FBQztRQUN2RixDQUFDO1FBS00sdUJBQU0sR0FBYjtZQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLHNCQUFlLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztvQkFDakIsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztvQkFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDekMsQ0FBQztnQkFDRCxNQUFNLENBQUM7WUFDVCxDQUFDO1lBQ0QsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUMvQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO1lBQzdCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDckIsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFFLENBQUM7WUFDL0MsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUM3QixJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDckMsSUFBSSxhQUFhLEdBQUcsU0FBUyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3hELElBQUksVUFBVSxHQUFHLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1lBQzFDLElBQUksSUFBSSxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUM3QixJQUFJLFFBQVEsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztZQUNwQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUMxRSxJQUFJLEtBQUssR0FBRyxRQUFRLEdBQUcsUUFBUSxDQUFDO1lBQ2hDLElBQUksTUFBTSxHQUFHLFFBQVEsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1lBRTdDLFFBQVEsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ3hDLFFBQVEsQ0FBQyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ3hDLFFBQVEsQ0FBQyxDQUFDLElBQUksR0FBRyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUM7WUFFbkMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztnQkFBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDOUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztnQkFBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDL0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDM0MsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztnQkFBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUM7WUFFNUMsRUFBRSxDQUFDLENBQUUsVUFBVSxLQUFLLElBQUssQ0FBQyxDQUFDLENBQUM7Z0JBQzFCLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBRSxDQUFDO2dCQUN2QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN0QixDQUFDO1lBRUQsRUFBRSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQ2xDLEVBQUUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztZQUNuQyxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFFbEMsRUFBRSxDQUFDLENBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRyxDQUFDLENBQUMsQ0FBQztnQkFFekIsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2YsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dCQUNuQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztZQUN0QixDQUFDO1lBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDdkIsQ0FBQztRQUNILGFBQUM7SUFBRCxDQWhOQSxBQWdOQyxJQUFBO0lBaE5ZLGFBQU0sU0FnTmxCLENBQUE7QUFDSCxDQUFDLEVBbk5NLE1BQU0sS0FBTixNQUFNLFFBbU5aOztBQ3RORCx1Q0FBdUM7QUFFdkMsSUFBTyxNQUFNLENBc0haO0FBdEhELFdBQU8sTUFBTSxFQUFDLENBQUM7SUFFYixJQUFJLGFBQWEsR0FBRyxTQUFTLENBQUM7SUFFOUIsY0FBTyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztZQUNoQyxLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7WUFDbEMsTUFBTSxDQUFDO2dCQUNMLFFBQVEsRUFBRSxHQUFHO2dCQUNiLE9BQU8sRUFBRSxJQUFJO2dCQUNiLEtBQUssRUFBRTtvQkFDTCxNQUFNLEVBQUUsSUFBSSxHQUFHLGFBQWE7aUJBQzdCO2dCQUNELElBQUksRUFBRSxVQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsS0FBSztvQkFFMUIsSUFBSSxLQUFLLEdBQU8sSUFBSSxDQUFDO29CQUNyQixJQUFJLE1BQU0sR0FBTyxJQUFJLENBQUM7b0JBQ3RCLElBQUksUUFBUSxHQUFPLElBQUksQ0FBQztvQkFDeEIsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDO29CQUN6QixJQUFJLFlBQVksR0FBTyxJQUFJLENBQUM7b0JBRTVCO3dCQUNFLGFBQWEsR0FBRyxLQUFLLENBQUM7b0JBQ3hCLENBQUM7b0JBRUQ7d0JBQ0UsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7d0JBQ3BDLE9BQU8sUUFBUSxDQUFDO3dCQUNoQixPQUFPLE1BQU0sQ0FBQzt3QkFDZCxPQUFPLEtBQUssQ0FBQzt3QkFDYixPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7b0JBQ2xCLENBQUM7b0JBRUQsSUFBSSxVQUFVLEdBQUc7d0JBQ2IsVUFBRyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQzt3QkFDdEIsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO3dCQUN2RSxNQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7d0JBQ25ELE1BQU0sQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO3dCQUNoQyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztvQkFDeEQsQ0FBQyxDQUFBO29CQUVELE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFO3dCQUNyQixJQUFJLEVBQUUsQ0FBQzt3QkFDUCxVQUFHLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7b0JBQy9CLENBQUMsQ0FBQyxDQUFDO29CQUVILEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBQyxNQUFNO3dCQUN2QyxJQUFJLEVBQUUsQ0FBQzt3QkFDUCxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOzRCQUNsQyxVQUFHLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7NEJBQ2xDLE1BQU0sQ0FBQzt3QkFDVCxDQUFDO3dCQUNELFVBQUcsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzt3QkFFNUIsS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO3dCQUMxQixNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO3dCQUV6RixNQUFNLENBQUMsS0FBSyxHQUFHLFVBQUMsSUFBUSxFQUFFLEtBQUssRUFBRSxDQUFjOzRCQUFkLGlCQUFjLEdBQWQsVUFBYzs0QkFHN0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQzs0QkFDM0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7NEJBRWhELEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0NBQzVCLE1BQU0sQ0FBQzs0QkFDVCxDQUFDOzRCQUNELElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBRSxHQUFHLENBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUUsQ0FBQyxDQUFDLENBQUM7NEJBQ2xGLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBRSxHQUFHLENBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUUsQ0FBQyxDQUFDLENBQUM7NEJBQ2pGLElBQUksS0FBSyxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDOzRCQUU1QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQ2pDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQzs0QkFDakIsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7NEJBQ3ZDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDOzRCQUN2QyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQztnQ0FDaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7b0NBQ2QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDO29DQUM3QixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dDQUN2QixDQUFDO2dDQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO29DQUNkLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQztvQ0FDN0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQ0FDdkIsQ0FBQzs0QkFDSCxDQUFDOzRCQUNELENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7d0JBQzFCLENBQUMsQ0FBQzt3QkFFRixFQUFFLENBQUMsQ0FBRSxxQkFBYyxFQUFHLENBQUMsQ0FBQyxDQUFDOzRCQUN2QixRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUM7d0JBQ3ZDLENBQUM7d0JBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ04sUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO3dCQUN4QyxDQUFDO3dCQUVELFFBQVEsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7d0JBQ2hELFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO3dCQUNwRCxJQUFJLFVBQVUsR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDO3dCQUNyQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO3dCQUV2RCxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUMzQixDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQzt3QkFFbkMsSUFBSSxNQUFNLEdBQUc7NEJBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2dDQUNuQixPQUFPLEVBQUUsQ0FBQztnQ0FDVixNQUFNLENBQUM7NEJBQ1QsQ0FBQzs0QkFDRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQ0FDbEIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDOzRCQUN6QyxDQUFDOzRCQUNELFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDOzRCQUMvQixxQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQzt3QkFDaEMsQ0FBQyxDQUFBO3dCQUNELGFBQWEsR0FBRyxJQUFJLENBQUM7d0JBQ3JCLE1BQU0sRUFBRSxDQUFDO29CQUNYLENBQUMsRUFBRSxHQUFHLEVBQUUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixDQUFDO2FBQ0YsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFTixDQUFDLEVBdEhNLE1BQU0sS0FBTixNQUFNLFFBc0haOztBQ3hIRCx1Q0FBdUM7QUFDdkMsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFFbEMsSUFBTyxNQUFNLENBK0haO0FBL0hELFdBQU8sTUFBTSxFQUFDLENBQUM7SUFFRixxQkFBYyxHQUFHLGlCQUFVLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxRQUFRLEVBQUUsaUJBQWlCLEVBQUUsaUJBQWlCLEVBQUUsVUFBVSxFQUFFLFVBQUMsTUFBTSxFQUFFLEtBQXVDLEVBQUUsS0FBSyxFQUFFLFFBQVE7WUFFckwsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBRXZCLElBQUksUUFBUSxHQUFPLFNBQVMsQ0FBQztZQUM3QixJQUFJLEtBQUssR0FBTyxTQUFTLENBQUM7WUFDMUIsSUFBSSxNQUFNLEdBQU8sU0FBUyxDQUFDO1lBQzNCLElBQUksVUFBVSxHQUFPLFNBQVMsQ0FBQztZQUUvQixJQUFJLGFBQWEsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN6QyxJQUFJLFdBQVcsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFFdkUsSUFBSSxXQUFXLEdBQUcsRUFBRSxDQUFDO1lBRXJCLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztZQUNyQixJQUFJLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFFckIsSUFBSSxNQUFNLEdBQVUsSUFBSSxDQUFDO1lBQ3pCLElBQUksS0FBSyxHQUFTLElBQUksQ0FBQztZQUV2QixNQUFNLENBQUMsTUFBTSxHQUFHLFVBQUMsSUFBSTtnQkFDbkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUNaLE1BQU0sQ0FBQztnQkFDVCxDQUFDO2dCQUNELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLENBQUMsQ0FBQTtZQUVELE1BQU0sQ0FBQyxNQUFNLEdBQUc7Z0JBQ2QsVUFBVSxFQUFFLFVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztvQkFDckIsVUFBRyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFDekIsUUFBUSxHQUFHLENBQUMsQ0FBQztvQkFDYixLQUFLLEdBQUcsQ0FBQyxDQUFDO29CQUNWLE1BQU0sR0FBRyxDQUFDLENBQUM7b0JBQ1gsVUFBVSxHQUFHLENBQUMsQ0FBQztvQkFFZixLQUFLLEdBQUcsSUFBSSxZQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ3pCLE1BQU0sR0FBRyxJQUFJLGFBQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztvQkFFN0MsS0FBSyxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFFekIsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzt3QkFHZixLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO29CQUV6QixDQUFDO29CQUdELElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdEMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFFaEIsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUM5QixhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQzlCLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDN0IsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUM3QixhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzdCLFVBQVUsRUFBRSxDQUFDO2dCQUNmLENBQUM7Z0JBQ0QsTUFBTSxFQUFFLFVBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNO29CQUU5QixFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO3dCQUNiLE1BQU0sQ0FBQztvQkFDVCxDQUFDO29CQUNELEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztvQkFDZixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsTUFBTSxDQUFDO29CQUNoQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDbEQsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBSWxELENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLFVBQUMsVUFBVSxFQUFFLEdBQUc7d0JBQ25DLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztvQkFDdEIsQ0FBQyxDQUFDLENBQUM7b0JBQ0gsV0FBVyxDQUFDLE1BQU0sRUFBRSxDQUFDO29CQUNyQixNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDL0IsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUNsQixDQUFDO2FBQ0YsQ0FBQTtZQUVEO2dCQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDWCxNQUFNLENBQUM7Z0JBQ1QsQ0FBQztnQkFDRCxRQUFRLEdBQUcsSUFBSSxDQUFDO2dCQUNoQixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQztnQkFFaEIsSUFBSSxhQUFhLEdBQUcsRUFBRSxDQUFDO2dCQUV2QixDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxVQUFDLFVBQVUsRUFBRSxHQUFHO29CQUNuQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsVUFBQyxJQUFJLElBQUssT0FBQSxJQUFJLENBQUMsU0FBUyxLQUFLLEdBQUcsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQzt3QkFDekQsVUFBRyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDbkMsQ0FBQztvQkFBQyxJQUFJLENBQUMsQ0FBQzt3QkFDTixhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUMxQixDQUFDO2dCQUNILENBQUMsQ0FBQyxDQUFDO2dCQUVILENBQUMsQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFVBQUMsR0FBRztvQkFDM0IsSUFBSSxVQUFVLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNsQyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO3dCQUNmLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQzt3QkFDckIsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzFCLENBQUM7Z0JBQ0gsQ0FBQyxDQUFDLENBQUM7Z0JBRUgsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLFVBQUMsSUFBSTtvQkFDMUIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztvQkFDeEIsVUFBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7b0JBQzFCLElBQUksVUFBVSxHQUFHLFdBQVcsQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLGlCQUFVLENBQUMsYUFBYSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztvQkFDNUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3pCLFVBQVUsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQzt3QkFDNUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxHQUFHLENBQUM7d0JBQ3hCLE9BQU8sR0FBRyxPQUFPLEdBQUcsR0FBRyxDQUFDO3dCQUN4QixXQUFXLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDO29CQUMvQixDQUFDO29CQUNELFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO29CQUMvQixVQUFVLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2dCQUMvQixDQUFDLENBQUMsQ0FBQztnQkFFSCxVQUFHLENBQUMsS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUMzQixRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ25CLENBQUM7WUFDRCxNQUFNLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDLENBQUM7QUFFTixDQUFDLEVBL0hNLE1BQU0sS0FBTixNQUFNLFFBK0haIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIHRocmVlanMub3JnL2xpY2Vuc2Vcbid1c2Ugc3RyaWN0Jzt2YXIgVEhSRUU9e1JFVklTSU9OOlwiNzFcIn07XCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1USFJFRSk7dm9pZCAwPT09TWF0aC5zaWduJiYoTWF0aC5zaWduPWZ1bmN0aW9uKGEpe3JldHVybiAwPmE/LTE6MDxhPzE6K2F9KTtUSFJFRS5sb2c9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyl9O1RIUkVFLndhcm49ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfTtUSFJFRS5lcnJvcj1mdW5jdGlvbigpe2NvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfTtUSFJFRS5NT1VTRT17TEVGVDowLE1JRERMRToxLFJJR0hUOjJ9O1RIUkVFLkN1bGxGYWNlTm9uZT0wO1RIUkVFLkN1bGxGYWNlQmFjaz0xO1RIUkVFLkN1bGxGYWNlRnJvbnQ9MjtUSFJFRS5DdWxsRmFjZUZyb250QmFjaz0zO1RIUkVFLkZyb250RmFjZURpcmVjdGlvbkNXPTA7XG5USFJFRS5Gcm9udEZhY2VEaXJlY3Rpb25DQ1c9MTtUSFJFRS5CYXNpY1NoYWRvd01hcD0wO1RIUkVFLlBDRlNoYWRvd01hcD0xO1RIUkVFLlBDRlNvZnRTaGFkb3dNYXA9MjtUSFJFRS5Gcm9udFNpZGU9MDtUSFJFRS5CYWNrU2lkZT0xO1RIUkVFLkRvdWJsZVNpZGU9MjtUSFJFRS5Ob1NoYWRpbmc9MDtUSFJFRS5GbGF0U2hhZGluZz0xO1RIUkVFLlNtb290aFNoYWRpbmc9MjtUSFJFRS5Ob0NvbG9ycz0wO1RIUkVFLkZhY2VDb2xvcnM9MTtUSFJFRS5WZXJ0ZXhDb2xvcnM9MjtUSFJFRS5Ob0JsZW5kaW5nPTA7VEhSRUUuTm9ybWFsQmxlbmRpbmc9MTtUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nPTI7VEhSRUUuU3VidHJhY3RpdmVCbGVuZGluZz0zO1RIUkVFLk11bHRpcGx5QmxlbmRpbmc9NDtUSFJFRS5DdXN0b21CbGVuZGluZz01O1RIUkVFLkFkZEVxdWF0aW9uPTEwMDtUSFJFRS5TdWJ0cmFjdEVxdWF0aW9uPTEwMTtUSFJFRS5SZXZlcnNlU3VidHJhY3RFcXVhdGlvbj0xMDI7XG5USFJFRS5NaW5FcXVhdGlvbj0xMDM7VEhSRUUuTWF4RXF1YXRpb249MTA0O1RIUkVFLlplcm9GYWN0b3I9MjAwO1RIUkVFLk9uZUZhY3Rvcj0yMDE7VEhSRUUuU3JjQ29sb3JGYWN0b3I9MjAyO1RIUkVFLk9uZU1pbnVzU3JjQ29sb3JGYWN0b3I9MjAzO1RIUkVFLlNyY0FscGhhRmFjdG9yPTIwNDtUSFJFRS5PbmVNaW51c1NyY0FscGhhRmFjdG9yPTIwNTtUSFJFRS5Ec3RBbHBoYUZhY3Rvcj0yMDY7VEhSRUUuT25lTWludXNEc3RBbHBoYUZhY3Rvcj0yMDc7VEhSRUUuRHN0Q29sb3JGYWN0b3I9MjA4O1RIUkVFLk9uZU1pbnVzRHN0Q29sb3JGYWN0b3I9MjA5O1RIUkVFLlNyY0FscGhhU2F0dXJhdGVGYWN0b3I9MjEwO1RIUkVFLk11bHRpcGx5T3BlcmF0aW9uPTA7VEhSRUUuTWl4T3BlcmF0aW9uPTE7VEhSRUUuQWRkT3BlcmF0aW9uPTI7VEhSRUUuVVZNYXBwaW5nPTMwMDtUSFJFRS5DdWJlUmVmbGVjdGlvbk1hcHBpbmc9MzAxO1RIUkVFLkN1YmVSZWZyYWN0aW9uTWFwcGluZz0zMDI7XG5USFJFRS5FcXVpcmVjdGFuZ3VsYXJSZWZsZWN0aW9uTWFwcGluZz0zMDM7VEhSRUUuRXF1aXJlY3Rhbmd1bGFyUmVmcmFjdGlvbk1hcHBpbmc9MzA0O1RIUkVFLlNwaGVyaWNhbFJlZmxlY3Rpb25NYXBwaW5nPTMwNTtUSFJFRS5SZXBlYXRXcmFwcGluZz0xRTM7VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZz0xMDAxO1RIUkVFLk1pcnJvcmVkUmVwZWF0V3JhcHBpbmc9MTAwMjtUSFJFRS5OZWFyZXN0RmlsdGVyPTEwMDM7VEhSRUUuTmVhcmVzdE1pcE1hcE5lYXJlc3RGaWx0ZXI9MTAwNDtUSFJFRS5OZWFyZXN0TWlwTWFwTGluZWFyRmlsdGVyPTEwMDU7VEhSRUUuTGluZWFyRmlsdGVyPTEwMDY7VEhSRUUuTGluZWFyTWlwTWFwTmVhcmVzdEZpbHRlcj0xMDA3O1RIUkVFLkxpbmVhck1pcE1hcExpbmVhckZpbHRlcj0xMDA4O1RIUkVFLlVuc2lnbmVkQnl0ZVR5cGU9MTAwOTtUSFJFRS5CeXRlVHlwZT0xMDEwO1RIUkVFLlNob3J0VHlwZT0xMDExO1xuVEhSRUUuVW5zaWduZWRTaG9ydFR5cGU9MTAxMjtUSFJFRS5JbnRUeXBlPTEwMTM7VEhSRUUuVW5zaWduZWRJbnRUeXBlPTEwMTQ7VEhSRUUuRmxvYXRUeXBlPTEwMTU7VEhSRUUuSGFsZkZsb2F0VHlwZT0xMDI1O1RIUkVFLlVuc2lnbmVkU2hvcnQ0NDQ0VHlwZT0xMDE2O1RIUkVFLlVuc2lnbmVkU2hvcnQ1NTUxVHlwZT0xMDE3O1RIUkVFLlVuc2lnbmVkU2hvcnQ1NjVUeXBlPTEwMTg7VEhSRUUuQWxwaGFGb3JtYXQ9MTAxOTtUSFJFRS5SR0JGb3JtYXQ9MTAyMDtUSFJFRS5SR0JBRm9ybWF0PTEwMjE7VEhSRUUuTHVtaW5hbmNlRm9ybWF0PTEwMjI7VEhSRUUuTHVtaW5hbmNlQWxwaGFGb3JtYXQ9MTAyMztUSFJFRS5SR0JFRm9ybWF0PVRIUkVFLlJHQkFGb3JtYXQ7VEhSRUUuUkdCX1MzVENfRFhUMV9Gb3JtYXQ9MjAwMTtUSFJFRS5SR0JBX1MzVENfRFhUMV9Gb3JtYXQ9MjAwMjtUSFJFRS5SR0JBX1MzVENfRFhUM19Gb3JtYXQ9MjAwMztcblRIUkVFLlJHQkFfUzNUQ19EWFQ1X0Zvcm1hdD0yMDA0O1RIUkVFLlJHQl9QVlJUQ180QlBQVjFfRm9ybWF0PTIxMDA7VEhSRUUuUkdCX1BWUlRDXzJCUFBWMV9Gb3JtYXQ9MjEwMTtUSFJFRS5SR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQ9MjEwMjtUSFJFRS5SR0JBX1BWUlRDXzJCUFBWMV9Gb3JtYXQ9MjEwMztcblRIUkVFLlByb2plY3Rvcj1mdW5jdGlvbigpe1RIUkVFLmVycm9yKFwiVEhSRUUuUHJvamVjdG9yIGhhcyBiZWVuIG1vdmVkIHRvIC9leGFtcGxlcy9qcy9yZW5kZXJlcnMvUHJvamVjdG9yLmpzLlwiKTt0aGlzLnByb2plY3RWZWN0b3I9ZnVuY3Rpb24oYSxiKXtUSFJFRS53YXJuKFwiVEhSRUUuUHJvamVjdG9yOiAucHJvamVjdFZlY3RvcigpIGlzIG5vdyB2ZWN0b3IucHJvamVjdCgpLlwiKTthLnByb2plY3QoYil9O3RoaXMudW5wcm9qZWN0VmVjdG9yPWZ1bmN0aW9uKGEsYil7VEhSRUUud2FybihcIlRIUkVFLlByb2plY3RvcjogLnVucHJvamVjdFZlY3RvcigpIGlzIG5vdyB2ZWN0b3IudW5wcm9qZWN0KCkuXCIpO2EudW5wcm9qZWN0KGIpfTt0aGlzLnBpY2tpbmdSYXk9ZnVuY3Rpb24oYSxiKXtUSFJFRS5lcnJvcihcIlRIUkVFLlByb2plY3RvcjogLnBpY2tpbmdSYXkoKSBpcyBub3cgcmF5Y2FzdGVyLnNldEZyb21DYW1lcmEoKS5cIil9fTtcblRIUkVFLkNhbnZhc1JlbmRlcmVyPWZ1bmN0aW9uKCl7VEhSRUUuZXJyb3IoXCJUSFJFRS5DYW52YXNSZW5kZXJlciBoYXMgYmVlbiBtb3ZlZCB0byAvZXhhbXBsZXMvanMvcmVuZGVyZXJzL0NhbnZhc1JlbmRlcmVyLmpzXCIpO3RoaXMuZG9tRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3RoaXMuY2xlYXI9ZnVuY3Rpb24oKXt9O3RoaXMucmVuZGVyPWZ1bmN0aW9uKCl7fTt0aGlzLnNldENsZWFyQ29sb3I9ZnVuY3Rpb24oKXt9O3RoaXMuc2V0U2l6ZT1mdW5jdGlvbigpe319O1RIUkVFLkNvbG9yPWZ1bmN0aW9uKGEpe3JldHVybiAzPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLnNldFJHQihhcmd1bWVudHNbMF0sYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk6dGhpcy5zZXQoYSl9O1xuVEhSRUUuQ29sb3IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5Db2xvcixyOjEsZzoxLGI6MSxzZXQ6ZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIFRIUkVFLkNvbG9yP3RoaXMuY29weShhKTpcIm51bWJlclwiPT09dHlwZW9mIGE/dGhpcy5zZXRIZXgoYSk6XCJzdHJpbmdcIj09PXR5cGVvZiBhJiZ0aGlzLnNldFN0eWxlKGEpO3JldHVybiB0aGlzfSxzZXRIZXg6ZnVuY3Rpb24oYSl7YT1NYXRoLmZsb29yKGEpO3RoaXMucj0oYT4+MTYmMjU1KS8yNTU7dGhpcy5nPShhPj44JjI1NSkvMjU1O3RoaXMuYj0oYSYyNTUpLzI1NTtyZXR1cm4gdGhpc30sc2V0UkdCOmZ1bmN0aW9uKGEsYixjKXt0aGlzLnI9YTt0aGlzLmc9Yjt0aGlzLmI9YztyZXR1cm4gdGhpc30sc2V0SFNMOmZ1bmN0aW9uKGEsYixjKXtpZigwPT09Yil0aGlzLnI9dGhpcy5nPXRoaXMuYj1jO2Vsc2V7dmFyIGQ9ZnVuY3Rpb24oYSxiLGMpezA+YyYmKGMrPTEpOzE8YyYmKGMtPTEpO3JldHVybiBjPDEvNj9hKzYqKGItYSkqXG5jOi41PmM/YjpjPDIvMz9hKzYqKGItYSkqKDIvMy1jKTphfTtiPS41Pj1jP2MqKDErYik6YytiLWMqYjtjPTIqYy1iO3RoaXMucj1kKGMsYixhKzEvMyk7dGhpcy5nPWQoYyxiLGEpO3RoaXMuYj1kKGMsYixhLTEvMyl9cmV0dXJuIHRoaXN9LHNldFN0eWxlOmZ1bmN0aW9uKGEpe2lmKC9ecmdiXFwoKFxcZCspLCA/KFxcZCspLCA/KFxcZCspXFwpJC9pLnRlc3QoYSkpcmV0dXJuIGE9L15yZ2JcXCgoXFxkKyksID8oXFxkKyksID8oXFxkKylcXCkkL2kuZXhlYyhhKSx0aGlzLnI9TWF0aC5taW4oMjU1LHBhcnNlSW50KGFbMV0sMTApKS8yNTUsdGhpcy5nPU1hdGgubWluKDI1NSxwYXJzZUludChhWzJdLDEwKSkvMjU1LHRoaXMuYj1NYXRoLm1pbigyNTUscGFyc2VJbnQoYVszXSwxMCkpLzI1NSx0aGlzO2lmKC9ecmdiXFwoKFxcZCspXFwlLCA/KFxcZCspXFwlLCA/KFxcZCspXFwlXFwpJC9pLnRlc3QoYSkpcmV0dXJuIGE9L15yZ2JcXCgoXFxkKylcXCUsID8oXFxkKylcXCUsID8oXFxkKylcXCVcXCkkL2kuZXhlYyhhKSx0aGlzLnI9XG5NYXRoLm1pbigxMDAscGFyc2VJbnQoYVsxXSwxMCkpLzEwMCx0aGlzLmc9TWF0aC5taW4oMTAwLHBhcnNlSW50KGFbMl0sMTApKS8xMDAsdGhpcy5iPU1hdGgubWluKDEwMCxwYXJzZUludChhWzNdLDEwKSkvMTAwLHRoaXM7aWYoL15cXCMoWzAtOWEtZl17Nn0pJC9pLnRlc3QoYSkpcmV0dXJuIGE9L15cXCMoWzAtOWEtZl17Nn0pJC9pLmV4ZWMoYSksdGhpcy5zZXRIZXgocGFyc2VJbnQoYVsxXSwxNikpLHRoaXM7aWYoL15cXCMoWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSkkL2kudGVzdChhKSlyZXR1cm4gYT0vXlxcIyhbMC05YS1mXSkoWzAtOWEtZl0pKFswLTlhLWZdKSQvaS5leGVjKGEpLHRoaXMuc2V0SGV4KHBhcnNlSW50KGFbMV0rYVsxXSthWzJdK2FbMl0rYVszXSthWzNdLDE2KSksdGhpcztpZigvXihcXHcrKSQvaS50ZXN0KGEpKXJldHVybiB0aGlzLnNldEhleChUSFJFRS5Db2xvcktleXdvcmRzW2FdKSx0aGlzfSxjb3B5OmZ1bmN0aW9uKGEpe3RoaXMucj1hLnI7dGhpcy5nPVxuYS5nO3RoaXMuYj1hLmI7cmV0dXJuIHRoaXN9LGNvcHlHYW1tYVRvTGluZWFyOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9Mik7dGhpcy5yPU1hdGgucG93KGEucixiKTt0aGlzLmc9TWF0aC5wb3coYS5nLGIpO3RoaXMuYj1NYXRoLnBvdyhhLmIsYik7cmV0dXJuIHRoaXN9LGNvcHlMaW5lYXJUb0dhbW1hOmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9Mik7dmFyIGM9MDxiPzEvYjoxO3RoaXMucj1NYXRoLnBvdyhhLnIsYyk7dGhpcy5nPU1hdGgucG93KGEuZyxjKTt0aGlzLmI9TWF0aC5wb3coYS5iLGMpO3JldHVybiB0aGlzfSxjb252ZXJ0R2FtbWFUb0xpbmVhcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucixiPXRoaXMuZyxjPXRoaXMuYjt0aGlzLnI9YSphO3RoaXMuZz1iKmI7dGhpcy5iPWMqYztyZXR1cm4gdGhpc30sY29udmVydExpbmVhclRvR2FtbWE6ZnVuY3Rpb24oKXt0aGlzLnI9TWF0aC5zcXJ0KHRoaXMucik7dGhpcy5nPU1hdGguc3FydCh0aGlzLmcpO3RoaXMuYj1cbk1hdGguc3FydCh0aGlzLmIpO3JldHVybiB0aGlzfSxnZXRIZXg6ZnVuY3Rpb24oKXtyZXR1cm4gMjU1KnRoaXMucjw8MTZeMjU1KnRoaXMuZzw8OF4yNTUqdGhpcy5iPDwwfSxnZXRIZXhTdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4oXCIwMDAwMDBcIit0aGlzLmdldEhleCgpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfSxnZXRIU0w6ZnVuY3Rpb24oYSl7YT1hfHx7aDowLHM6MCxsOjB9O3ZhciBiPXRoaXMucixjPXRoaXMuZyxkPXRoaXMuYixlPU1hdGgubWF4KGIsYyxkKSxmPU1hdGgubWluKGIsYyxkKSxnLGg9KGYrZSkvMjtpZihmPT09ZSlmPWc9MDtlbHNle3ZhciBrPWUtZixmPS41Pj1oP2svKGUrZik6ay8oMi1lLWYpO3N3aXRjaChlKXtjYXNlIGI6Zz0oYy1kKS9rKyhjPGQ/NjowKTticmVhaztjYXNlIGM6Zz0oZC1iKS9rKzI7YnJlYWs7Y2FzZSBkOmc9KGItYykvays0fWcvPTZ9YS5oPWc7YS5zPWY7YS5sPWg7cmV0dXJuIGF9LGdldFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuXCJyZ2IoXCIrXG4oMjU1KnRoaXMucnwwKStcIixcIisoMjU1KnRoaXMuZ3wwKStcIixcIisoMjU1KnRoaXMuYnwwKStcIilcIn0sb2Zmc2V0SFNMOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldEhTTCgpO2QuaCs9YTtkLnMrPWI7ZC5sKz1jO3RoaXMuc2V0SFNMKGQuaCxkLnMsZC5sKTtyZXR1cm4gdGhpc30sYWRkOmZ1bmN0aW9uKGEpe3RoaXMucis9YS5yO3RoaXMuZys9YS5nO3RoaXMuYis9YS5iO3JldHVybiB0aGlzfSxhZGRDb2xvcnM6ZnVuY3Rpb24oYSxiKXt0aGlzLnI9YS5yK2Iucjt0aGlzLmc9YS5nK2IuZzt0aGlzLmI9YS5iK2IuYjtyZXR1cm4gdGhpc30sYWRkU2NhbGFyOmZ1bmN0aW9uKGEpe3RoaXMucis9YTt0aGlzLmcrPWE7dGhpcy5iKz1hO3JldHVybiB0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihhKXt0aGlzLnIqPWEucjt0aGlzLmcqPWEuZzt0aGlzLmIqPWEuYjtyZXR1cm4gdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy5yKj1hO3RoaXMuZyo9YTt0aGlzLmIqPWE7XG5yZXR1cm4gdGhpc30sbGVycDpmdW5jdGlvbihhLGIpe3RoaXMucis9KGEuci10aGlzLnIpKmI7dGhpcy5nKz0oYS5nLXRoaXMuZykqYjt0aGlzLmIrPShhLmItdGhpcy5iKSpiO3JldHVybiB0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucj09PXRoaXMuciYmYS5nPT09dGhpcy5nJiZhLmI9PT10aGlzLmJ9LGZyb21BcnJheTpmdW5jdGlvbihhKXt0aGlzLnI9YVswXTt0aGlzLmc9YVsxXTt0aGlzLmI9YVsyXTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWEmJihhPVtdKTt2b2lkIDA9PT1iJiYoYj0wKTthW2JdPXRoaXMucjthW2IrMV09dGhpcy5nO2FbYisyXT10aGlzLmI7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBUSFJFRS5Db2xvcikuc2V0UkdCKHRoaXMucix0aGlzLmcsdGhpcy5iKX19O1xuVEhSRUUuQ29sb3JLZXl3b3Jkcz17YWxpY2VibHVlOjE1NzkyMzgzLGFudGlxdWV3aGl0ZToxNjQ0NDM3NSxhcXVhOjY1NTM1LGFxdWFtYXJpbmU6ODM4ODU2NCxhenVyZToxNTc5NDE3NSxiZWlnZToxNjExOTI2MCxiaXNxdWU6MTY3NzAyNDQsYmxhY2s6MCxibGFuY2hlZGFsbW9uZDoxNjc3MjA0NSxibHVlOjI1NSxibHVldmlvbGV0OjkwNTUyMDIsYnJvd246MTA4MjQyMzQsYnVybHl3b29kOjE0NTk2MjMxLGNhZGV0Ymx1ZTo2MjY2NTI4LGNoYXJ0cmV1c2U6ODM4ODM1MixjaG9jb2xhdGU6MTM3ODk0NzAsY29yYWw6MTY3NDQyNzIsY29ybmZsb3dlcmJsdWU6NjU5MTk4MSxjb3Juc2lsazoxNjc3NTM4OCxjcmltc29uOjE0NDIzMTAwLGN5YW46NjU1MzUsZGFya2JsdWU6MTM5LGRhcmtjeWFuOjM1NzIzLGRhcmtnb2xkZW5yb2Q6MTIwOTI5MzksZGFya2dyYXk6MTExMTkwMTcsZGFya2dyZWVuOjI1NjAwLGRhcmtncmV5OjExMTE5MDE3LGRhcmtraGFraToxMjQzMzI1OSxkYXJrbWFnZW50YTo5MTA5NjQzLFxuZGFya29saXZlZ3JlZW46NTU5Nzk5OSxkYXJrb3JhbmdlOjE2NzQ3NTIwLGRhcmtvcmNoaWQ6MTAwNDAwMTIsZGFya3JlZDo5MTA5NTA0LGRhcmtzYWxtb246MTUzMDg0MTAsZGFya3NlYWdyZWVuOjk0MTk5MTksZGFya3NsYXRlYmx1ZTo0NzM0MzQ3LGRhcmtzbGF0ZWdyYXk6MzEwMDQ5NSxkYXJrc2xhdGVncmV5OjMxMDA0OTUsZGFya3R1cnF1b2lzZTo1Mjk0NSxkYXJrdmlvbGV0Ojk2OTk1MzksZGVlcHBpbms6MTY3MTY5NDcsZGVlcHNreWJsdWU6NDkxNTEsZGltZ3JheTo2OTA4MjY1LGRpbWdyZXk6NjkwODI2NSxkb2RnZXJibHVlOjIwMDMxOTksZmlyZWJyaWNrOjExNjc0MTQ2LGZsb3JhbHdoaXRlOjE2Nzc1OTIwLGZvcmVzdGdyZWVuOjIyNjM4NDIsZnVjaHNpYToxNjcxMTkzNSxnYWluc2Jvcm86MTQ0NzQ0NjAsZ2hvc3R3aGl0ZToxNjMxNjY3MSxnb2xkOjE2NzY2NzIwLGdvbGRlbnJvZDoxNDMyOTEyMCxncmF5Ojg0MjE1MDQsZ3JlZW46MzI3NjgsZ3JlZW55ZWxsb3c6MTE0MDMwNTUsXG5ncmV5Ojg0MjE1MDQsaG9uZXlkZXc6MTU3OTQxNjAsaG90cGluazoxNjczODc0MCxpbmRpYW5yZWQ6MTM0NTg1MjQsaW5kaWdvOjQ5MTUzMzAsaXZvcnk6MTY3NzcyMDAsa2hha2k6MTU3ODc2NjAsbGF2ZW5kZXI6MTUxMzI0MTAsbGF2ZW5kZXJibHVzaDoxNjc3MzM2NSxsYXduZ3JlZW46ODE5MDk3NixsZW1vbmNoaWZmb246MTY3NzU4ODUsbGlnaHRibHVlOjExMzkzMjU0LGxpZ2h0Y29yYWw6MTU3NjE1MzYsbGlnaHRjeWFuOjE0NzQ1NTk5LGxpZ2h0Z29sZGVucm9keWVsbG93OjE2NDQ4MjEwLGxpZ2h0Z3JheToxMzg4MjMyMyxsaWdodGdyZWVuOjk0OTgyNTYsbGlnaHRncmV5OjEzODgyMzIzLGxpZ2h0cGluazoxNjc1ODQ2NSxsaWdodHNhbG1vbjoxNjc1Mjc2MixsaWdodHNlYWdyZWVuOjIxNDI4OTAsbGlnaHRza3libHVlOjg5MDAzNDYsbGlnaHRzbGF0ZWdyYXk6NzgzMzc1MyxsaWdodHNsYXRlZ3JleTo3ODMzNzUzLGxpZ2h0c3RlZWxibHVlOjExNTg0NzM0LGxpZ2h0eWVsbG93OjE2Nzc3MTg0LFxubGltZTo2NTI4MCxsaW1lZ3JlZW46MzMyOTMzMCxsaW5lbjoxNjQ0NTY3MCxtYWdlbnRhOjE2NzExOTM1LG1hcm9vbjo4Mzg4NjA4LG1lZGl1bWFxdWFtYXJpbmU6NjczNzMyMixtZWRpdW1ibHVlOjIwNSxtZWRpdW1vcmNoaWQ6MTIyMTE2NjcsbWVkaXVtcHVycGxlOjk2NjI2ODMsbWVkaXVtc2VhZ3JlZW46Mzk3ODA5NyxtZWRpdW1zbGF0ZWJsdWU6ODA4Nzc5MCxtZWRpdW1zcHJpbmdncmVlbjo2NDE1NCxtZWRpdW10dXJxdW9pc2U6NDc3MjMwMCxtZWRpdW12aW9sZXRyZWQ6MTMwNDcxNzMsbWlkbmlnaHRibHVlOjE2NDQ5MTIsbWludGNyZWFtOjE2MTIxODUwLG1pc3R5cm9zZToxNjc3MDI3Myxtb2NjYXNpbjoxNjc3MDIyOSxuYXZham93aGl0ZToxNjc2ODY4NSxuYXZ5OjEyOCxvbGRsYWNlOjE2NjQzNTU4LG9saXZlOjg0MjEzNzYsb2xpdmVkcmFiOjcwNDg3Mzksb3JhbmdlOjE2NzUzOTIwLG9yYW5nZXJlZDoxNjcyOTM0NCxvcmNoaWQ6MTQzMTU3MzQscGFsZWdvbGRlbnJvZDoxNTY1NzEzMCxcbnBhbGVncmVlbjoxMDAyNTg4MCxwYWxldHVycXVvaXNlOjExNTI5OTY2LHBhbGV2aW9sZXRyZWQ6MTQzODEyMDMscGFwYXlhd2hpcDoxNjc3MzA3NyxwZWFjaHB1ZmY6MTY3Njc2NzMscGVydToxMzQ2ODk5MSxwaW5rOjE2NzYxMDM1LHBsdW06MTQ1MjQ2MzcscG93ZGVyYmx1ZToxMTU5MTkxMCxwdXJwbGU6ODM4ODczNixyZWQ6MTY3MTE2ODAscm9zeWJyb3duOjEyMzU3NTE5LHJveWFsYmx1ZTo0Mjg2OTQ1LHNhZGRsZWJyb3duOjkxMjcxODcsc2FsbW9uOjE2NDE2ODgyLHNhbmR5YnJvd246MTYwMzI4NjQsc2VhZ3JlZW46MzA1MDMyNyxzZWFzaGVsbDoxNjc3NDYzOCxzaWVubmE6MTA1MDY3OTcsc2lsdmVyOjEyNjMyMjU2LHNreWJsdWU6ODkwMDMzMSxzbGF0ZWJsdWU6Njk3MDA2MSxzbGF0ZWdyYXk6NzM3Mjk0NCxzbGF0ZWdyZXk6NzM3Mjk0NCxzbm93OjE2Nzc1OTMwLHNwcmluZ2dyZWVuOjY1NDA3LHN0ZWVsYmx1ZTo0NjIwOTgwLHRhbjoxMzgwODc4MCx0ZWFsOjMyODk2LHRoaXN0bGU6MTQyMDQ4ODgsXG50b21hdG86MTY3MzcwOTUsdHVycXVvaXNlOjQyNTE4NTYsdmlvbGV0OjE1NjMxMDg2LHdoZWF0OjE2MTEzMzMxLHdoaXRlOjE2Nzc3MjE1LHdoaXRlc21va2U6MTYxMTkyODUseWVsbG93OjE2Nzc2OTYwLHllbGxvd2dyZWVuOjEwMTQ1MDc0fTtUSFJFRS5RdWF0ZXJuaW9uPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuX3g9YXx8MDt0aGlzLl95PWJ8fDA7dGhpcy5fej1jfHwwO3RoaXMuX3c9dm9pZCAwIT09ZD9kOjF9O1xuVEhSRUUuUXVhdGVybmlvbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLlF1YXRlcm5pb24sX3g6MCxfeTowLF96OjAsX3c6MCxnZXQgeCgpe3JldHVybiB0aGlzLl94fSxzZXQgeChhKXt0aGlzLl94PWE7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCl9LGdldCB5KCl7cmV0dXJuIHRoaXMuX3l9LHNldCB5KGEpe3RoaXMuX3k9YTt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKX0sZ2V0IHooKXtyZXR1cm4gdGhpcy5fen0sc2V0IHooYSl7dGhpcy5fej1hO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpfSxnZXQgdygpe3JldHVybiB0aGlzLl93fSxzZXQgdyhhKXt0aGlzLl93PWE7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCl9LHNldDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLl94PWE7dGhpcy5feT1iO3RoaXMuX3o9Yzt0aGlzLl93PWQ7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXN9LGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy5feD1hLng7dGhpcy5feT1hLnk7dGhpcy5fej1hLno7XG50aGlzLl93PWEudzt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpc30sc2V0RnJvbUV1bGVyOmZ1bmN0aW9uKGEsYil7aWYoITE9PT1hIGluc3RhbmNlb2YgVEhSRUUuRXVsZXIpdGhyb3cgRXJyb3IoXCJUSFJFRS5RdWF0ZXJuaW9uOiAuc2V0RnJvbUV1bGVyKCkgbm93IGV4cGVjdHMgYSBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLlwiKTt2YXIgYz1NYXRoLmNvcyhhLl94LzIpLGQ9TWF0aC5jb3MoYS5feS8yKSxlPU1hdGguY29zKGEuX3ovMiksZj1NYXRoLnNpbihhLl94LzIpLGc9TWF0aC5zaW4oYS5feS8yKSxoPU1hdGguc2luKGEuX3ovMik7XCJYWVpcIj09PWEub3JkZXI/KHRoaXMuX3g9ZipkKmUrYypnKmgsdGhpcy5feT1jKmcqZS1mKmQqaCx0aGlzLl96PWMqZCpoK2YqZyplLHRoaXMuX3c9YypkKmUtZipnKmgpOlwiWVhaXCI9PT1hLm9yZGVyPyh0aGlzLl94PWYqZCplK2MqZypoLHRoaXMuX3k9YypnKmUtZipkKmgsdGhpcy5fej1cbmMqZCpoLWYqZyplLHRoaXMuX3c9YypkKmUrZipnKmgpOlwiWlhZXCI9PT1hLm9yZGVyPyh0aGlzLl94PWYqZCplLWMqZypoLHRoaXMuX3k9YypnKmUrZipkKmgsdGhpcy5fej1jKmQqaCtmKmcqZSx0aGlzLl93PWMqZCplLWYqZypoKTpcIlpZWFwiPT09YS5vcmRlcj8odGhpcy5feD1mKmQqZS1jKmcqaCx0aGlzLl95PWMqZyplK2YqZCpoLHRoaXMuX3o9YypkKmgtZipnKmUsdGhpcy5fdz1jKmQqZStmKmcqaCk6XCJZWlhcIj09PWEub3JkZXI/KHRoaXMuX3g9ZipkKmUrYypnKmgsdGhpcy5feT1jKmcqZStmKmQqaCx0aGlzLl96PWMqZCpoLWYqZyplLHRoaXMuX3c9YypkKmUtZipnKmgpOlwiWFpZXCI9PT1hLm9yZGVyJiYodGhpcy5feD1mKmQqZS1jKmcqaCx0aGlzLl95PWMqZyplLWYqZCpoLHRoaXMuX3o9YypkKmgrZipnKmUsdGhpcy5fdz1jKmQqZStmKmcqaCk7aWYoITEhPT1iKXRoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxzZXRGcm9tQXhpc0FuZ2xlOmZ1bmN0aW9uKGEsXG5iKXt2YXIgYz1iLzIsZD1NYXRoLnNpbihjKTt0aGlzLl94PWEueCpkO3RoaXMuX3k9YS55KmQ7dGhpcy5fej1hLnoqZDt0aGlzLl93PU1hdGguY29zKGMpO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxzZXRGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lbGVtZW50cyxjPWJbMF07YT1iWzRdO3ZhciBkPWJbOF0sZT1iWzFdLGY9Yls1XSxnPWJbOV0saD1iWzJdLGs9Yls2XSxiPWJbMTBdLGw9YytmK2I7MDxsPyhjPS41L01hdGguc3FydChsKzEpLHRoaXMuX3c9LjI1L2MsdGhpcy5feD0oay1nKSpjLHRoaXMuX3k9KGQtaCkqYyx0aGlzLl96PShlLWEpKmMpOmM+ZiYmYz5iPyhjPTIqTWF0aC5zcXJ0KDErYy1mLWIpLHRoaXMuX3c9KGstZykvYyx0aGlzLl94PS4yNSpjLHRoaXMuX3k9KGErZSkvYyx0aGlzLl96PShkK2gpL2MpOmY+Yj8oYz0yKk1hdGguc3FydCgxK2YtYy1iKSx0aGlzLl93PShkLWgpL2MsdGhpcy5feD0oYStlKS9jLHRoaXMuX3k9XG4uMjUqYyx0aGlzLl96PShnK2spL2MpOihjPTIqTWF0aC5zcXJ0KDErYi1jLWYpLHRoaXMuX3c9KGUtYSkvYyx0aGlzLl94PShkK2gpL2MsdGhpcy5feT0oZytrKS9jLHRoaXMuX3o9LjI1KmMpO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxzZXRGcm9tVW5pdFZlY3RvcnM6ZnVuY3Rpb24oKXt2YXIgYSxiO3JldHVybiBmdW5jdGlvbihjLGQpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5WZWN0b3IzKTtiPWMuZG90KGQpKzE7MUUtNj5iPyhiPTAsTWF0aC5hYnMoYy54KT5NYXRoLmFicyhjLnopP2Euc2V0KC1jLnksYy54LDApOmEuc2V0KDAsLWMueixjLnkpKTphLmNyb3NzVmVjdG9ycyhjLGQpO3RoaXMuX3g9YS54O3RoaXMuX3k9YS55O3RoaXMuX3o9YS56O3RoaXMuX3c9Yjt0aGlzLm5vcm1hbGl6ZSgpO3JldHVybiB0aGlzfX0oKSxpbnZlcnNlOmZ1bmN0aW9uKCl7dGhpcy5jb25qdWdhdGUoKS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpc30sY29uanVnYXRlOmZ1bmN0aW9uKCl7dGhpcy5feCo9XG4tMTt0aGlzLl95Kj0tMTt0aGlzLl96Kj0tMTt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpc30sZG90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl94KmEuX3grdGhpcy5feSphLl95K3RoaXMuX3oqYS5feit0aGlzLl93KmEuX3d9LGxlbmd0aFNxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96K3RoaXMuX3cqdGhpcy5fd30sbGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3cpfSxub3JtYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxlbmd0aCgpOzA9PT1hPyh0aGlzLl96PXRoaXMuX3k9dGhpcy5feD0wLHRoaXMuX3c9MSk6KGE9MS9hLHRoaXMuX3gqPWEsdGhpcy5feSo9YSx0aGlzLl96Kj1hLHRoaXMuX3cqPWEpO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxcbm11bHRpcGx5OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMCE9PWI/KFRIUkVFLndhcm4oXCJUSFJFRS5RdWF0ZXJuaW9uOiAubXVsdGlwbHkoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5tdWx0aXBseVF1YXRlcm5pb25zKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5tdWx0aXBseVF1YXRlcm5pb25zKGEsYikpOnRoaXMubXVsdGlwbHlRdWF0ZXJuaW9ucyh0aGlzLGEpfSxtdWx0aXBseVF1YXRlcm5pb25zOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5feCxkPWEuX3ksZT1hLl96LGY9YS5fdyxnPWIuX3gsaD1iLl95LGs9Yi5feixsPWIuX3c7dGhpcy5feD1jKmwrZipnK2Qqay1lKmg7dGhpcy5feT1kKmwrZipoK2UqZy1jKms7dGhpcy5fej1lKmwrZiprK2MqaC1kKmc7dGhpcy5fdz1mKmwtYypnLWQqaC1lKms7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCk7cmV0dXJuIHRoaXN9LG11bHRpcGx5VmVjdG9yMzpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuUXVhdGVybmlvbjogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBpcyBub3cgdmVjdG9yLmFwcGx5UXVhdGVybmlvbiggcXVhdGVybmlvbiApIGluc3RlYWQuXCIpO1xucmV0dXJuIGEuYXBwbHlRdWF0ZXJuaW9uKHRoaXMpfSxzbGVycDpmdW5jdGlvbihhLGIpe2lmKDA9PT1iKXJldHVybiB0aGlzO2lmKDE9PT1iKXJldHVybiB0aGlzLmNvcHkoYSk7dmFyIGM9dGhpcy5feCxkPXRoaXMuX3ksZT10aGlzLl96LGY9dGhpcy5fdyxnPWYqYS5fdytjKmEuX3grZCphLl95K2UqYS5fejswPmc/KHRoaXMuX3c9LWEuX3csdGhpcy5feD0tYS5feCx0aGlzLl95PS1hLl95LHRoaXMuX3o9LWEuX3osZz0tZyk6dGhpcy5jb3B5KGEpO2lmKDE8PWcpcmV0dXJuIHRoaXMuX3c9Zix0aGlzLl94PWMsdGhpcy5feT1kLHRoaXMuX3o9ZSx0aGlzO3ZhciBoPU1hdGguYWNvcyhnKSxrPU1hdGguc3FydCgxLWcqZyk7aWYoLjAwMT5NYXRoLmFicyhrKSlyZXR1cm4gdGhpcy5fdz0uNSooZit0aGlzLl93KSx0aGlzLl94PS41KihjK3RoaXMuX3gpLHRoaXMuX3k9LjUqKGQrdGhpcy5feSksdGhpcy5fej0uNSooZSt0aGlzLl96KSx0aGlzO2c9TWF0aC5zaW4oKDEtYikqaCkvaztoPVxuTWF0aC5zaW4oYipoKS9rO3RoaXMuX3c9ZipnK3RoaXMuX3cqaDt0aGlzLl94PWMqZyt0aGlzLl94Kmg7dGhpcy5feT1kKmcrdGhpcy5feSpoO3RoaXMuX3o9ZSpnK3RoaXMuX3oqaDt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiBhLl94PT09dGhpcy5feCYmYS5feT09PXRoaXMuX3kmJmEuX3o9PT10aGlzLl96JiZhLl93PT09dGhpcy5fd30sZnJvbUFycmF5OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9MCk7dGhpcy5feD1hW2JdO3RoaXMuX3k9YVtiKzFdO3RoaXMuX3o9YVtiKzJdO3RoaXMuX3c9YVtiKzNdO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YSYmKGE9W10pO3ZvaWQgMD09PWImJihiPTApO2FbYl09dGhpcy5feDthW2IrMV09dGhpcy5feTthW2IrMl09dGhpcy5fejthW2IrM109dGhpcy5fdztyZXR1cm4gYX0sb25DaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5vbkNoYW5nZUNhbGxiYWNrPVxuYTtyZXR1cm4gdGhpc30sb25DaGFuZ2VDYWxsYmFjazpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRIUkVFLlF1YXRlcm5pb24odGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9fTtUSFJFRS5RdWF0ZXJuaW9uLnNsZXJwPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBjLmNvcHkoYSkuc2xlcnAoYixkKX07VEhSRUUuVmVjdG9yMj1mdW5jdGlvbihhLGIpe3RoaXMueD1hfHwwO3RoaXMueT1ifHwwfTtcblRIUkVFLlZlY3RvcjIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5WZWN0b3IyLHNldDpmdW5jdGlvbihhLGIpe3RoaXMueD1hO3RoaXMueT1iO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEpe3RoaXMueD1hO3JldHVybiB0aGlzfSxzZXRZOmZ1bmN0aW9uKGEpe3RoaXMueT1hO3JldHVybiB0aGlzfSxzZXRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSAwOnRoaXMueD1iO2JyZWFrO2Nhc2UgMTp0aGlzLnk9YjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIithKTt9fSxnZXRDb21wb25lbnQ6ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgMDpyZXR1cm4gdGhpcy54O2Nhc2UgMTpyZXR1cm4gdGhpcy55O2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK2EpO319LGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy54PWEueDt0aGlzLnk9YS55O3JldHVybiB0aGlzfSxhZGQ6ZnVuY3Rpb24oYSxcbmIpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIFRIUkVFLndhcm4oXCJUSFJFRS5WZWN0b3IyOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuYWRkVmVjdG9ycyhhLGIpO3RoaXMueCs9YS54O3RoaXMueSs9YS55O3JldHVybiB0aGlzfSxhZGRTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54Kz1hO3RoaXMueSs9YTtyZXR1cm4gdGhpc30sYWRkVmVjdG9yczpmdW5jdGlvbihhLGIpe3RoaXMueD1hLngrYi54O3RoaXMueT1hLnkrYi55O3JldHVybiB0aGlzfSxzdWI6ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDAhPT1iKXJldHVybiBUSFJFRS53YXJuKFwiVEhSRUUuVmVjdG9yMjogLnN1YigpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLnN1YlZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLnN1YlZlY3RvcnMoYSxiKTt0aGlzLngtPWEueDt0aGlzLnktPWEueTtyZXR1cm4gdGhpc30sXG5zdWJTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54LT1hO3RoaXMueS09YTtyZXR1cm4gdGhpc30sc3ViVmVjdG9yczpmdW5jdGlvbihhLGIpe3RoaXMueD1hLngtYi54O3RoaXMueT1hLnktYi55O3JldHVybiB0aGlzfSxtdWx0aXBseTpmdW5jdGlvbihhKXt0aGlzLngqPWEueDt0aGlzLnkqPWEueTtyZXR1cm4gdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54Kj1hO3RoaXMueSo9YTtyZXR1cm4gdGhpc30sZGl2aWRlOmZ1bmN0aW9uKGEpe3RoaXMueC89YS54O3RoaXMueS89YS55O3JldHVybiB0aGlzfSxkaXZpZGVTY2FsYXI6ZnVuY3Rpb24oYSl7MCE9PWE/KGE9MS9hLHRoaXMueCo9YSx0aGlzLnkqPWEpOnRoaXMueT10aGlzLng9MDtyZXR1cm4gdGhpc30sbWluOmZ1bmN0aW9uKGEpe3RoaXMueD5hLngmJih0aGlzLng9YS54KTt0aGlzLnk+YS55JiYodGhpcy55PWEueSk7cmV0dXJuIHRoaXN9LG1heDpmdW5jdGlvbihhKXt0aGlzLng8YS54JiYodGhpcy54PWEueCk7XG50aGlzLnk8YS55JiYodGhpcy55PWEueSk7cmV0dXJuIHRoaXN9LGNsYW1wOmZ1bmN0aW9uKGEsYil7dGhpcy54PGEueD90aGlzLng9YS54OnRoaXMueD5iLngmJih0aGlzLng9Yi54KTt0aGlzLnk8YS55P3RoaXMueT1hLnk6dGhpcy55PmIueSYmKHRoaXMueT1iLnkpO3JldHVybiB0aGlzfSxjbGFtcFNjYWxhcjpmdW5jdGlvbigpe3ZhciBhLGI7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLlZlY3RvcjIsYj1uZXcgVEhSRUUuVmVjdG9yMik7YS5zZXQoYyxjKTtiLnNldChkLGQpO3JldHVybiB0aGlzLmNsYW1wKGEsYil9fSgpLGZsb29yOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpO3JldHVybiB0aGlzfSxjZWlsOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGguY2VpbCh0aGlzLngpO3RoaXMueT1NYXRoLmNlaWwodGhpcy55KTtyZXR1cm4gdGhpc30scm91bmQ6ZnVuY3Rpb24oKXt0aGlzLng9XG5NYXRoLnJvdW5kKHRoaXMueCk7dGhpcy55PU1hdGgucm91bmQodGhpcy55KTtyZXR1cm4gdGhpc30scm91bmRUb1plcm86ZnVuY3Rpb24oKXt0aGlzLng9MD50aGlzLng/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT0wPnRoaXMueT9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSk7cmV0dXJuIHRoaXN9LG5lZ2F0ZTpmdW5jdGlvbigpe3RoaXMueD0tdGhpcy54O3RoaXMueT0tdGhpcy55O3JldHVybiB0aGlzfSxkb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMueCphLngrdGhpcy55KmEueX0sbGVuZ3RoU3E6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fSxsZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpKX0sZGlzdGFuY2VUbzpmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuZGlzdGFuY2VUb1NxdWFyZWQoYSkpfSxcbmRpc3RhbmNlVG9TcXVhcmVkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueC1hLng7YT10aGlzLnktYS55O3JldHVybiBiKmIrYSphfSxzZXRMZW5ndGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgoKTswIT09YiYmYSE9PWImJnRoaXMubXVsdGlwbHlTY2FsYXIoYS9iKTtyZXR1cm4gdGhpc30sbGVycDpmdW5jdGlvbihhLGIpe3RoaXMueCs9KGEueC10aGlzLngpKmI7dGhpcy55Kz0oYS55LXRoaXMueSkqYjtyZXR1cm4gdGhpc30sbGVycFZlY3RvcnM6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc3ViVmVjdG9ycyhiLGEpLm11bHRpcGx5U2NhbGFyKGMpLmFkZChhKTtyZXR1cm4gdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiBhLng9PT10aGlzLngmJmEueT09PXRoaXMueX0sZnJvbUFycmF5OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9MCk7dGhpcy54PWFbYl07dGhpcy55PWFbYisxXTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PVxuYSYmKGE9W10pO3ZvaWQgMD09PWImJihiPTApO2FbYl09dGhpcy54O2FbYisxXT10aGlzLnk7cmV0dXJuIGF9LGZyb21BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiLGMpe3ZvaWQgMD09PWMmJihjPTApO2I9YiphLml0ZW1TaXplK2M7dGhpcy54PWEuYXJyYXlbYl07dGhpcy55PWEuYXJyYXlbYisxXTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjIodGhpcy54LHRoaXMueSl9fTtUSFJFRS5WZWN0b3IzPWZ1bmN0aW9uKGEsYixjKXt0aGlzLng9YXx8MDt0aGlzLnk9Ynx8MDt0aGlzLno9Y3x8MH07XG5USFJFRS5WZWN0b3IzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuVmVjdG9yMyxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMueD1hO3RoaXMueT1iO3RoaXMuej1jO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEpe3RoaXMueD1hO3JldHVybiB0aGlzfSxzZXRZOmZ1bmN0aW9uKGEpe3RoaXMueT1hO3JldHVybiB0aGlzfSxzZXRaOmZ1bmN0aW9uKGEpe3RoaXMuej1hO3JldHVybiB0aGlzfSxzZXRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSAwOnRoaXMueD1iO2JyZWFrO2Nhc2UgMTp0aGlzLnk9YjticmVhaztjYXNlIDI6dGhpcy56PWI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImluZGV4IGlzIG91dCBvZiByYW5nZTogXCIrYSk7fX0sZ2V0Q29tcG9uZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIDA6cmV0dXJuIHRoaXMueDtjYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtkZWZhdWx0OnRocm93IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIitcbmEpO319LGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy54PWEueDt0aGlzLnk9YS55O3RoaXMuej1hLno7cmV0dXJuIHRoaXN9LGFkZDpmdW5jdGlvbihhLGIpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIFRIUkVFLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuYWRkVmVjdG9ycyhhLGIpO3RoaXMueCs9YS54O3RoaXMueSs9YS55O3RoaXMueis9YS56O3JldHVybiB0aGlzfSxhZGRTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54Kz1hO3RoaXMueSs9YTt0aGlzLnorPWE7cmV0dXJuIHRoaXN9LGFkZFZlY3RvcnM6ZnVuY3Rpb24oYSxiKXt0aGlzLng9YS54K2IueDt0aGlzLnk9YS55K2IueTt0aGlzLno9YS56K2IuejtyZXR1cm4gdGhpc30sc3ViOmZ1bmN0aW9uKGEsYil7aWYodm9pZCAwIT09YilyZXR1cm4gVEhSRUUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksXG50aGlzLnN1YlZlY3RvcnMoYSxiKTt0aGlzLngtPWEueDt0aGlzLnktPWEueTt0aGlzLnotPWEuejtyZXR1cm4gdGhpc30sc3ViU2NhbGFyOmZ1bmN0aW9uKGEpe3RoaXMueC09YTt0aGlzLnktPWE7dGhpcy56LT1hO3JldHVybiB0aGlzfSxzdWJWZWN0b3JzOmZ1bmN0aW9uKGEsYil7dGhpcy54PWEueC1iLng7dGhpcy55PWEueS1iLnk7dGhpcy56PWEuei1iLno7cmV0dXJuIHRoaXN9LG11bHRpcGx5OmZ1bmN0aW9uKGEsYil7aWYodm9pZCAwIT09YilyZXR1cm4gVEhSRUUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5VmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMubXVsdGlwbHlWZWN0b3JzKGEsYik7dGhpcy54Kj1hLng7dGhpcy55Kj1hLnk7dGhpcy56Kj1hLno7cmV0dXJuIHRoaXN9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uKGEpe3RoaXMueCo9YTt0aGlzLnkqPWE7dGhpcy56Kj1cbmE7cmV0dXJuIHRoaXN9LG11bHRpcGx5VmVjdG9yczpmdW5jdGlvbihhLGIpe3RoaXMueD1hLngqYi54O3RoaXMueT1hLnkqYi55O3RoaXMuej1hLnoqYi56O3JldHVybiB0aGlzfSxhcHBseUV1bGVyOmZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKGIpeyExPT09YiBpbnN0YW5jZW9mIFRIUkVFLkV1bGVyJiZUSFJFRS5lcnJvcihcIlRIUkVFLlZlY3RvcjM6IC5hcHBseUV1bGVyKCkgbm93IGV4cGVjdHMgYSBFdWxlciByb3RhdGlvbiByYXRoZXIgdGhhbiBhIFZlY3RvcjMgYW5kIG9yZGVyLlwiKTt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuUXVhdGVybmlvbik7dGhpcy5hcHBseVF1YXRlcm5pb24oYS5zZXRGcm9tRXVsZXIoYikpO3JldHVybiB0aGlzfX0oKSxhcHBseUF4aXNBbmdsZTpmdW5jdGlvbigpe3ZhciBhO3JldHVybiBmdW5jdGlvbihiLGMpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5RdWF0ZXJuaW9uKTt0aGlzLmFwcGx5UXVhdGVybmlvbihhLnNldEZyb21BeGlzQW5nbGUoYixcbmMpKTtyZXR1cm4gdGhpc319KCksYXBwbHlNYXRyaXgzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueCxjPXRoaXMueSxkPXRoaXMuejthPWEuZWxlbWVudHM7dGhpcy54PWFbMF0qYithWzNdKmMrYVs2XSpkO3RoaXMueT1hWzFdKmIrYVs0XSpjK2FbN10qZDt0aGlzLno9YVsyXSpiK2FbNV0qYythWzhdKmQ7cmV0dXJuIHRoaXN9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLngsYz10aGlzLnksZD10aGlzLno7YT1hLmVsZW1lbnRzO3RoaXMueD1hWzBdKmIrYVs0XSpjK2FbOF0qZCthWzEyXTt0aGlzLnk9YVsxXSpiK2FbNV0qYythWzldKmQrYVsxM107dGhpcy56PWFbMl0qYithWzZdKmMrYVsxMF0qZCthWzE0XTtyZXR1cm4gdGhpc30sYXBwbHlQcm9qZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueCxjPXRoaXMueSxkPXRoaXMuejthPWEuZWxlbWVudHM7dmFyIGU9MS8oYVszXSpiK2FbN10qYythWzExXSpkK2FbMTVdKTt0aGlzLng9KGFbMF0qYithWzRdKlxuYythWzhdKmQrYVsxMl0pKmU7dGhpcy55PShhWzFdKmIrYVs1XSpjK2FbOV0qZCthWzEzXSkqZTt0aGlzLno9KGFbMl0qYithWzZdKmMrYVsxMF0qZCthWzE0XSkqZTtyZXR1cm4gdGhpc30sYXBwbHlRdWF0ZXJuaW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueCxjPXRoaXMueSxkPXRoaXMueixlPWEueCxmPWEueSxnPWEuejthPWEudzt2YXIgaD1hKmIrZipkLWcqYyxrPWEqYytnKmItZSpkLGw9YSpkK2UqYy1mKmIsYj0tZSpiLWYqYy1nKmQ7dGhpcy54PWgqYStiKi1lK2sqLWctbCotZjt0aGlzLnk9ayphK2IqLWYrbCotZS1oKi1nO3RoaXMuej1sKmErYiotZytoKi1mLWsqLWU7cmV0dXJuIHRoaXN9LHByb2plY3Q6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oYil7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLk1hdHJpeDQpO2EubXVsdGlwbHlNYXRyaWNlcyhiLnByb2plY3Rpb25NYXRyaXgsYS5nZXRJbnZlcnNlKGIubWF0cml4V29ybGQpKTtyZXR1cm4gdGhpcy5hcHBseVByb2plY3Rpb24oYSl9fSgpLFxudW5wcm9qZWN0OmZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5NYXRyaXg0KTthLm11bHRpcGx5TWF0cmljZXMoYi5tYXRyaXhXb3JsZCxhLmdldEludmVyc2UoYi5wcm9qZWN0aW9uTWF0cml4KSk7cmV0dXJuIHRoaXMuYXBwbHlQcm9qZWN0aW9uKGEpfX0oKSx0cmFuc2Zvcm1EaXJlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54LGM9dGhpcy55LGQ9dGhpcy56O2E9YS5lbGVtZW50czt0aGlzLng9YVswXSpiK2FbNF0qYythWzhdKmQ7dGhpcy55PWFbMV0qYithWzVdKmMrYVs5XSpkO3RoaXMuej1hWzJdKmIrYVs2XSpjK2FbMTBdKmQ7dGhpcy5ub3JtYWxpemUoKTtyZXR1cm4gdGhpc30sZGl2aWRlOmZ1bmN0aW9uKGEpe3RoaXMueC89YS54O3RoaXMueS89YS55O3RoaXMuei89YS56O3JldHVybiB0aGlzfSxkaXZpZGVTY2FsYXI6ZnVuY3Rpb24oYSl7MCE9PWE/KGE9MS9hLHRoaXMueCo9YSx0aGlzLnkqPWEsdGhpcy56Kj1cbmEpOnRoaXMuej10aGlzLnk9dGhpcy54PTA7cmV0dXJuIHRoaXN9LG1pbjpmdW5jdGlvbihhKXt0aGlzLng+YS54JiYodGhpcy54PWEueCk7dGhpcy55PmEueSYmKHRoaXMueT1hLnkpO3RoaXMuej5hLnomJih0aGlzLno9YS56KTtyZXR1cm4gdGhpc30sbWF4OmZ1bmN0aW9uKGEpe3RoaXMueDxhLngmJih0aGlzLng9YS54KTt0aGlzLnk8YS55JiYodGhpcy55PWEueSk7dGhpcy56PGEueiYmKHRoaXMuej1hLnopO3JldHVybiB0aGlzfSxjbGFtcDpmdW5jdGlvbihhLGIpe3RoaXMueDxhLng/dGhpcy54PWEueDp0aGlzLng+Yi54JiYodGhpcy54PWIueCk7dGhpcy55PGEueT90aGlzLnk9YS55OnRoaXMueT5iLnkmJih0aGlzLnk9Yi55KTt0aGlzLno8YS56P3RoaXMuej1hLno6dGhpcy56PmIueiYmKHRoaXMuej1iLnopO3JldHVybiB0aGlzfSxjbGFtcFNjYWxhcjpmdW5jdGlvbigpe3ZhciBhLGI7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLlZlY3RvcjMsXG5iPW5ldyBUSFJFRS5WZWN0b3IzKTthLnNldChjLGMsYyk7Yi5zZXQoZCxkLGQpO3JldHVybiB0aGlzLmNsYW1wKGEsYil9fSgpLGZsb29yOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGguZmxvb3IodGhpcy54KTt0aGlzLnk9TWF0aC5mbG9vcih0aGlzLnkpO3RoaXMuej1NYXRoLmZsb29yKHRoaXMueik7cmV0dXJuIHRoaXN9LGNlaWw6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCk7dGhpcy55PU1hdGguY2VpbCh0aGlzLnkpO3RoaXMuej1NYXRoLmNlaWwodGhpcy56KTtyZXR1cm4gdGhpc30scm91bmQ6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpO3RoaXMueT1NYXRoLnJvdW5kKHRoaXMueSk7dGhpcy56PU1hdGgucm91bmQodGhpcy56KTtyZXR1cm4gdGhpc30scm91bmRUb1plcm86ZnVuY3Rpb24oKXt0aGlzLng9MD50aGlzLng/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT0wPnRoaXMueT9NYXRoLmNlaWwodGhpcy55KTpcbk1hdGguZmxvb3IodGhpcy55KTt0aGlzLno9MD50aGlzLno/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopO3JldHVybiB0aGlzfSxuZWdhdGU6ZnVuY3Rpb24oKXt0aGlzLng9LXRoaXMueDt0aGlzLnk9LXRoaXMueTt0aGlzLno9LXRoaXMuejtyZXR1cm4gdGhpc30sZG90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLngqYS54K3RoaXMueSphLnkrdGhpcy56KmEuen0sbGVuZ3RoU3E6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnp9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnopfSxsZW5ndGhNYW5oYXR0YW46ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hYnModGhpcy54KStNYXRoLmFicyh0aGlzLnkpK01hdGguYWJzKHRoaXMueil9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpKX0sXG5zZXRMZW5ndGg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGgoKTswIT09YiYmYSE9PWImJnRoaXMubXVsdGlwbHlTY2FsYXIoYS9iKTtyZXR1cm4gdGhpc30sbGVycDpmdW5jdGlvbihhLGIpe3RoaXMueCs9KGEueC10aGlzLngpKmI7dGhpcy55Kz0oYS55LXRoaXMueSkqYjt0aGlzLnorPShhLnotdGhpcy56KSpiO3JldHVybiB0aGlzfSxsZXJwVmVjdG9yczpmdW5jdGlvbihhLGIsYyl7dGhpcy5zdWJWZWN0b3JzKGIsYSkubXVsdGlwbHlTY2FsYXIoYykuYWRkKGEpO3JldHVybiB0aGlzfSxjcm9zczpmdW5jdGlvbihhLGIpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIFRIUkVFLndhcm4oXCJUSFJFRS5WZWN0b3IzOiAuY3Jvc3MoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5jcm9zc1ZlY3RvcnMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLmNyb3NzVmVjdG9ycyhhLGIpO3ZhciBjPXRoaXMueCxkPXRoaXMueSxlPXRoaXMuejt0aGlzLng9ZCphLnotZSphLnk7dGhpcy55PVxuZSphLngtYyphLno7dGhpcy56PWMqYS55LWQqYS54O3JldHVybiB0aGlzfSxjcm9zc1ZlY3RvcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLngsZD1hLnksZT1hLnosZj1iLngsZz1iLnksaD1iLno7dGhpcy54PWQqaC1lKmc7dGhpcy55PWUqZi1jKmg7dGhpcy56PWMqZy1kKmY7cmV0dXJuIHRoaXN9LHByb2plY3RPblZlY3RvcjpmdW5jdGlvbigpe3ZhciBhLGI7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5WZWN0b3IzKTthLmNvcHkoYykubm9ybWFsaXplKCk7Yj10aGlzLmRvdChhKTtyZXR1cm4gdGhpcy5jb3B5KGEpLm11bHRpcGx5U2NhbGFyKGIpfX0oKSxwcm9qZWN0T25QbGFuZTpmdW5jdGlvbigpe3ZhciBhO3JldHVybiBmdW5jdGlvbihiKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuVmVjdG9yMyk7YS5jb3B5KHRoaXMpLnByb2plY3RPblZlY3RvcihiKTtyZXR1cm4gdGhpcy5zdWIoYSl9fSgpLHJlZmxlY3Q6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oYil7dm9pZCAwPT09XG5hJiYoYT1uZXcgVEhSRUUuVmVjdG9yMyk7cmV0dXJuIHRoaXMuc3ViKGEuY29weShiKS5tdWx0aXBseVNjYWxhcigyKnRoaXMuZG90KGIpKSl9fSgpLGFuZ2xlVG86ZnVuY3Rpb24oYSl7YT10aGlzLmRvdChhKS8odGhpcy5sZW5ndGgoKSphLmxlbmd0aCgpKTtyZXR1cm4gTWF0aC5hY29zKFRIUkVFLk1hdGguY2xhbXAoYSwtMSwxKSl9LGRpc3RhbmNlVG86ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RhbmNlVG9TcXVhcmVkKGEpKX0sZGlzdGFuY2VUb1NxdWFyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy54LWEueCxjPXRoaXMueS1hLnk7YT10aGlzLnotYS56O3JldHVybiBiKmIrYypjK2EqYX0sc2V0RXVsZXJGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24oYSxiKXtUSFJFRS5lcnJvcihcIlRIUkVFLlZlY3RvcjM6IC5zZXRFdWxlckZyb21Sb3RhdGlvbk1hdHJpeCgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUm90YXRpb25NYXRyaXgoKSBpbnN0ZWFkLlwiKX0sXG5zZXRFdWxlckZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKGEsYil7VEhSRUUuZXJyb3IoXCJUSFJFRS5WZWN0b3IzOiAuc2V0RXVsZXJGcm9tUXVhdGVybmlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBFdWxlci5zZXRGcm9tUXVhdGVybmlvbigpIGluc3RlYWQuXCIpfSxnZXRQb3NpdGlvbkZyb21NYXRyaXg6ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5nZXRQb3NpdGlvbkZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4UG9zaXRpb24oKS5cIik7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKGEpfSxnZXRTY2FsZUZyb21NYXRyaXg6ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLlZlY3RvcjM6IC5nZXRTY2FsZUZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4U2NhbGUoKS5cIik7cmV0dXJuIHRoaXMuc2V0RnJvbU1hdHJpeFNjYWxlKGEpfSxnZXRDb2x1bW5Gcm9tTWF0cml4OmZ1bmN0aW9uKGEsXG5iKXtUSFJFRS53YXJuKFwiVEhSRUUuVmVjdG9yMzogLmdldENvbHVtbkZyb21NYXRyaXgoKSBoYXMgYmVlbiByZW5hbWVkIHRvIC5zZXRGcm9tTWF0cml4Q29sdW1uKCkuXCIpO3JldHVybiB0aGlzLnNldEZyb21NYXRyaXhDb2x1bW4oYSxiKX0sc2V0RnJvbU1hdHJpeFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMueD1hLmVsZW1lbnRzWzEyXTt0aGlzLnk9YS5lbGVtZW50c1sxM107dGhpcy56PWEuZWxlbWVudHNbMTRdO3JldHVybiB0aGlzfSxzZXRGcm9tTWF0cml4U2NhbGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zZXQoYS5lbGVtZW50c1swXSxhLmVsZW1lbnRzWzFdLGEuZWxlbWVudHNbMl0pLmxlbmd0aCgpLGM9dGhpcy5zZXQoYS5lbGVtZW50c1s0XSxhLmVsZW1lbnRzWzVdLGEuZWxlbWVudHNbNl0pLmxlbmd0aCgpO2E9dGhpcy5zZXQoYS5lbGVtZW50c1s4XSxhLmVsZW1lbnRzWzldLGEuZWxlbWVudHNbMTBdKS5sZW5ndGgoKTt0aGlzLng9Yjt0aGlzLnk9Yzt0aGlzLno9YTtcbnJldHVybiB0aGlzfSxzZXRGcm9tTWF0cml4Q29sdW1uOmZ1bmN0aW9uKGEsYil7dmFyIGM9NCphLGQ9Yi5lbGVtZW50czt0aGlzLng9ZFtjXTt0aGlzLnk9ZFtjKzFdO3RoaXMuej1kW2MrMl07cmV0dXJuIHRoaXN9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gYS54PT09dGhpcy54JiZhLnk9PT10aGlzLnkmJmEuej09PXRoaXMuen0sZnJvbUFycmF5OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9MCk7dGhpcy54PWFbYl07dGhpcy55PWFbYisxXTt0aGlzLno9YVtiKzJdO3JldHVybiB0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YSYmKGE9W10pO3ZvaWQgMD09PWImJihiPTApO2FbYl09dGhpcy54O2FbYisxXT10aGlzLnk7YVtiKzJdPXRoaXMuejtyZXR1cm4gYX0sZnJvbUF0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YyYmKGM9MCk7Yj1iKmEuaXRlbVNpemUrYzt0aGlzLng9YS5hcnJheVtiXTt0aGlzLnk9YS5hcnJheVtiKzFdO3RoaXMuej1cbmEuYXJyYXlbYisyXTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjModGhpcy54LHRoaXMueSx0aGlzLnopfX07VEhSRUUuVmVjdG9yND1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLng9YXx8MDt0aGlzLnk9Ynx8MDt0aGlzLno9Y3x8MDt0aGlzLnc9dm9pZCAwIT09ZD9kOjF9O1xuVEhSRUUuVmVjdG9yNC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLlZlY3RvcjQsc2V0OmZ1bmN0aW9uKGEsYixjLGQpe3RoaXMueD1hO3RoaXMueT1iO3RoaXMuej1jO3RoaXMudz1kO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEpe3RoaXMueD1hO3JldHVybiB0aGlzfSxzZXRZOmZ1bmN0aW9uKGEpe3RoaXMueT1hO3JldHVybiB0aGlzfSxzZXRaOmZ1bmN0aW9uKGEpe3RoaXMuej1hO3JldHVybiB0aGlzfSxzZXRXOmZ1bmN0aW9uKGEpe3RoaXMudz1hO3JldHVybiB0aGlzfSxzZXRDb21wb25lbnQ6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSAwOnRoaXMueD1iO2JyZWFrO2Nhc2UgMTp0aGlzLnk9YjticmVhaztjYXNlIDI6dGhpcy56PWI7YnJlYWs7Y2FzZSAzOnRoaXMudz1iO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJpbmRleCBpcyBvdXQgb2YgcmFuZ2U6IFwiK2EpO319LGdldENvbXBvbmVudDpmdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSAwOnJldHVybiB0aGlzLng7XG5jYXNlIDE6cmV0dXJuIHRoaXMueTtjYXNlIDI6cmV0dXJuIHRoaXMuejtjYXNlIDM6cmV0dXJuIHRoaXMudztkZWZhdWx0OnRocm93IEVycm9yKFwiaW5kZXggaXMgb3V0IG9mIHJhbmdlOiBcIithKTt9fSxjb3B5OmZ1bmN0aW9uKGEpe3RoaXMueD1hLng7dGhpcy55PWEueTt0aGlzLno9YS56O3RoaXMudz12b2lkIDAhPT1hLnc/YS53OjE7cmV0dXJuIHRoaXN9LGFkZDpmdW5jdGlvbihhLGIpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIFRIUkVFLndhcm4oXCJUSFJFRS5WZWN0b3I0OiAuYWRkKCkgbm93IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuIFVzZSAuYWRkVmVjdG9ycyggYSwgYiApIGluc3RlYWQuXCIpLHRoaXMuYWRkVmVjdG9ycyhhLGIpO3RoaXMueCs9YS54O3RoaXMueSs9YS55O3RoaXMueis9YS56O3RoaXMudys9YS53O3JldHVybiB0aGlzfSxhZGRTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54Kz1hO3RoaXMueSs9YTt0aGlzLnorPWE7dGhpcy53Kz1hO3JldHVybiB0aGlzfSxhZGRWZWN0b3JzOmZ1bmN0aW9uKGEsXG5iKXt0aGlzLng9YS54K2IueDt0aGlzLnk9YS55K2IueTt0aGlzLno9YS56K2Iuejt0aGlzLnc9YS53K2IudztyZXR1cm4gdGhpc30sc3ViOmZ1bmN0aW9uKGEsYil7aWYodm9pZCAwIT09YilyZXR1cm4gVEhSRUUud2FybihcIlRIUkVFLlZlY3RvcjQ6IC5zdWIoKSBub3cgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC4gVXNlIC5zdWJWZWN0b3JzKCBhLCBiICkgaW5zdGVhZC5cIiksdGhpcy5zdWJWZWN0b3JzKGEsYik7dGhpcy54LT1hLng7dGhpcy55LT1hLnk7dGhpcy56LT1hLno7dGhpcy53LT1hLnc7cmV0dXJuIHRoaXN9LHN1YlNjYWxhcjpmdW5jdGlvbihhKXt0aGlzLngtPWE7dGhpcy55LT1hO3RoaXMuei09YTt0aGlzLnctPWE7cmV0dXJuIHRoaXN9LHN1YlZlY3RvcnM6ZnVuY3Rpb24oYSxiKXt0aGlzLng9YS54LWIueDt0aGlzLnk9YS55LWIueTt0aGlzLno9YS56LWIuejt0aGlzLnc9YS53LWIudztyZXR1cm4gdGhpc30sbXVsdGlwbHlTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy54Kj1cbmE7dGhpcy55Kj1hO3RoaXMueio9YTt0aGlzLncqPWE7cmV0dXJuIHRoaXN9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLngsYz10aGlzLnksZD10aGlzLnosZT10aGlzLnc7YT1hLmVsZW1lbnRzO3RoaXMueD1hWzBdKmIrYVs0XSpjK2FbOF0qZCthWzEyXSplO3RoaXMueT1hWzFdKmIrYVs1XSpjK2FbOV0qZCthWzEzXSplO3RoaXMuej1hWzJdKmIrYVs2XSpjK2FbMTBdKmQrYVsxNF0qZTt0aGlzLnc9YVszXSpiK2FbN10qYythWzExXSpkK2FbMTVdKmU7cmV0dXJuIHRoaXN9LGRpdmlkZVNjYWxhcjpmdW5jdGlvbihhKXswIT09YT8oYT0xL2EsdGhpcy54Kj1hLHRoaXMueSo9YSx0aGlzLnoqPWEsdGhpcy53Kj1hKToodGhpcy56PXRoaXMueT10aGlzLng9MCx0aGlzLnc9MSk7cmV0dXJuIHRoaXN9LHNldEF4aXNBbmdsZUZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKGEpe3RoaXMudz0yKk1hdGguYWNvcyhhLncpO3ZhciBiPU1hdGguc3FydCgxLWEudyphLncpOzFFLTQ+XG5iPyh0aGlzLng9MSx0aGlzLno9dGhpcy55PTApOih0aGlzLng9YS54L2IsdGhpcy55PWEueS9iLHRoaXMuej1hLnovYik7cmV0dXJuIHRoaXN9LHNldEF4aXNBbmdsZUZyb21Sb3RhdGlvbk1hdHJpeDpmdW5jdGlvbihhKXt2YXIgYixjLGQ7YT1hLmVsZW1lbnRzO3ZhciBlPWFbMF07ZD1hWzRdO3ZhciBmPWFbOF0sZz1hWzFdLGg9YVs1XSxrPWFbOV07Yz1hWzJdO2I9YVs2XTt2YXIgbD1hWzEwXTtpZiguMDE+TWF0aC5hYnMoZC1nKSYmLjAxPk1hdGguYWJzKGYtYykmJi4wMT5NYXRoLmFicyhrLWIpKXtpZiguMT5NYXRoLmFicyhkK2cpJiYuMT5NYXRoLmFicyhmK2MpJiYuMT5NYXRoLmFicyhrK2IpJiYuMT5NYXRoLmFicyhlK2grbC0zKSlyZXR1cm4gdGhpcy5zZXQoMSwwLDAsMCksdGhpczthPU1hdGguUEk7ZT0oZSsxKS8yO2g9KGgrMSkvMjtsPShsKzEpLzI7ZD0oZCtnKS80O2Y9KGYrYykvNDtrPShrK2IpLzQ7ZT5oJiZlPmw/LjAxPmU/KGI9MCxkPWM9LjcwNzEwNjc4MSk6KGI9XG5NYXRoLnNxcnQoZSksYz1kL2IsZD1mL2IpOmg+bD8uMDE+aD8oYj0uNzA3MTA2NzgxLGM9MCxkPS43MDcxMDY3ODEpOihjPU1hdGguc3FydChoKSxiPWQvYyxkPWsvYyk6LjAxPmw/KGM9Yj0uNzA3MTA2NzgxLGQ9MCk6KGQ9TWF0aC5zcXJ0KGwpLGI9Zi9kLGM9ay9kKTt0aGlzLnNldChiLGMsZCxhKTtyZXR1cm4gdGhpc31hPU1hdGguc3FydCgoYi1rKSooYi1rKSsoZi1jKSooZi1jKSsoZy1kKSooZy1kKSk7LjAwMT5NYXRoLmFicyhhKSYmKGE9MSk7dGhpcy54PShiLWspL2E7dGhpcy55PShmLWMpL2E7dGhpcy56PShnLWQpL2E7dGhpcy53PU1hdGguYWNvcygoZStoK2wtMSkvMik7cmV0dXJuIHRoaXN9LG1pbjpmdW5jdGlvbihhKXt0aGlzLng+YS54JiYodGhpcy54PWEueCk7dGhpcy55PmEueSYmKHRoaXMueT1hLnkpO3RoaXMuej5hLnomJih0aGlzLno9YS56KTt0aGlzLnc+YS53JiYodGhpcy53PWEudyk7cmV0dXJuIHRoaXN9LG1heDpmdW5jdGlvbihhKXt0aGlzLng8YS54JiZcbih0aGlzLng9YS54KTt0aGlzLnk8YS55JiYodGhpcy55PWEueSk7dGhpcy56PGEueiYmKHRoaXMuej1hLnopO3RoaXMudzxhLncmJih0aGlzLnc9YS53KTtyZXR1cm4gdGhpc30sY2xhbXA6ZnVuY3Rpb24oYSxiKXt0aGlzLng8YS54P3RoaXMueD1hLng6dGhpcy54PmIueCYmKHRoaXMueD1iLngpO3RoaXMueTxhLnk/dGhpcy55PWEueTp0aGlzLnk+Yi55JiYodGhpcy55PWIueSk7dGhpcy56PGEuej90aGlzLno9YS56OnRoaXMuej5iLnomJih0aGlzLno9Yi56KTt0aGlzLnc8YS53P3RoaXMudz1hLnc6dGhpcy53PmIudyYmKHRoaXMudz1iLncpO3JldHVybiB0aGlzfSxjbGFtcFNjYWxhcjpmdW5jdGlvbigpe3ZhciBhLGI7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLlZlY3RvcjQsYj1uZXcgVEhSRUUuVmVjdG9yNCk7YS5zZXQoYyxjLGMsYyk7Yi5zZXQoZCxkLGQsZCk7cmV0dXJuIHRoaXMuY2xhbXAoYSxiKX19KCksZmxvb3I6ZnVuY3Rpb24oKXt0aGlzLng9XG5NYXRoLmZsb29yKHRoaXMueCk7dGhpcy55PU1hdGguZmxvb3IodGhpcy55KTt0aGlzLno9TWF0aC5mbG9vcih0aGlzLnopO3RoaXMudz1NYXRoLmZsb29yKHRoaXMudyk7cmV0dXJuIHRoaXN9LGNlaWw6ZnVuY3Rpb24oKXt0aGlzLng9TWF0aC5jZWlsKHRoaXMueCk7dGhpcy55PU1hdGguY2VpbCh0aGlzLnkpO3RoaXMuej1NYXRoLmNlaWwodGhpcy56KTt0aGlzLnc9TWF0aC5jZWlsKHRoaXMudyk7cmV0dXJuIHRoaXN9LHJvdW5kOmZ1bmN0aW9uKCl7dGhpcy54PU1hdGgucm91bmQodGhpcy54KTt0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpO3RoaXMuej1NYXRoLnJvdW5kKHRoaXMueik7dGhpcy53PU1hdGgucm91bmQodGhpcy53KTtyZXR1cm4gdGhpc30scm91bmRUb1plcm86ZnVuY3Rpb24oKXt0aGlzLng9MD50aGlzLng/TWF0aC5jZWlsKHRoaXMueCk6TWF0aC5mbG9vcih0aGlzLngpO3RoaXMueT0wPnRoaXMueT9NYXRoLmNlaWwodGhpcy55KTpNYXRoLmZsb29yKHRoaXMueSk7XG50aGlzLno9MD50aGlzLno/TWF0aC5jZWlsKHRoaXMueik6TWF0aC5mbG9vcih0aGlzLnopO3RoaXMudz0wPnRoaXMudz9NYXRoLmNlaWwodGhpcy53KTpNYXRoLmZsb29yKHRoaXMudyk7cmV0dXJuIHRoaXN9LG5lZ2F0ZTpmdW5jdGlvbigpe3RoaXMueD0tdGhpcy54O3RoaXMueT0tdGhpcy55O3RoaXMuej0tdGhpcy56O3RoaXMudz0tdGhpcy53O3JldHVybiB0aGlzfSxkb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMueCphLngrdGhpcy55KmEueSt0aGlzLnoqYS56K3RoaXMudyphLnd9LGxlbmd0aFNxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLnd9LGxlbmd0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMudyl9LGxlbmd0aE1hbmhhdHRhbjpmdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLngpK1xuTWF0aC5hYnModGhpcy55KStNYXRoLmFicyh0aGlzLnopK01hdGguYWJzKHRoaXMudyl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpKX0sc2V0TGVuZ3RoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoKCk7MCE9PWImJmEhPT1iJiZ0aGlzLm11bHRpcGx5U2NhbGFyKGEvYik7cmV0dXJuIHRoaXN9LGxlcnA6ZnVuY3Rpb24oYSxiKXt0aGlzLngrPShhLngtdGhpcy54KSpiO3RoaXMueSs9KGEueS10aGlzLnkpKmI7dGhpcy56Kz0oYS56LXRoaXMueikqYjt0aGlzLncrPShhLnctdGhpcy53KSpiO3JldHVybiB0aGlzfSxsZXJwVmVjdG9yczpmdW5jdGlvbihhLGIsYyl7dGhpcy5zdWJWZWN0b3JzKGIsYSkubXVsdGlwbHlTY2FsYXIoYykuYWRkKGEpO3JldHVybiB0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEueD09PXRoaXMueCYmYS55PT09dGhpcy55JiZhLno9PT10aGlzLnomJmEudz09PXRoaXMud30sXG5mcm9tQXJyYXk6ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0wKTt0aGlzLng9YVtiXTt0aGlzLnk9YVtiKzFdO3RoaXMuej1hW2IrMl07dGhpcy53PWFbYiszXTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWEmJihhPVtdKTt2b2lkIDA9PT1iJiYoYj0wKTthW2JdPXRoaXMueDthW2IrMV09dGhpcy55O2FbYisyXT10aGlzLno7YVtiKzNdPXRoaXMudztyZXR1cm4gYX0sZnJvbUF0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YyYmKGM9MCk7Yj1iKmEuaXRlbVNpemUrYzt0aGlzLng9YS5hcnJheVtiXTt0aGlzLnk9YS5hcnJheVtiKzFdO3RoaXMuej1hLmFycmF5W2IrMl07dGhpcy53PWEuYXJyYXlbYiszXTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjQodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy53KX19O1xuVEhSRUUuRXVsZXI9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5feD1hfHwwO3RoaXMuX3k9Ynx8MDt0aGlzLl96PWN8fDA7dGhpcy5fb3JkZXI9ZHx8VEhSRUUuRXVsZXIuRGVmYXVsdE9yZGVyfTtUSFJFRS5FdWxlci5Sb3RhdGlvbk9yZGVycz1cIlhZWiBZWlggWlhZIFhaWSBZWFogWllYXCIuc3BsaXQoXCIgXCIpO1RIUkVFLkV1bGVyLkRlZmF1bHRPcmRlcj1cIlhZWlwiO1xuVEhSRUUuRXVsZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5FdWxlcixfeDowLF95OjAsX3o6MCxfb3JkZXI6VEhSRUUuRXVsZXIuRGVmYXVsdE9yZGVyLGdldCB4KCl7cmV0dXJuIHRoaXMuX3h9LHNldCB4KGEpe3RoaXMuX3g9YTt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKX0sZ2V0IHkoKXtyZXR1cm4gdGhpcy5feX0sc2V0IHkoYSl7dGhpcy5feT1hO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpfSxnZXQgeigpe3JldHVybiB0aGlzLl96fSxzZXQgeihhKXt0aGlzLl96PWE7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCl9LGdldCBvcmRlcigpe3JldHVybiB0aGlzLl9vcmRlcn0sc2V0IG9yZGVyKGEpe3RoaXMuX29yZGVyPWE7dGhpcy5vbkNoYW5nZUNhbGxiYWNrKCl9LHNldDpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLl94PWE7dGhpcy5feT1iO3RoaXMuX3o9Yzt0aGlzLl9vcmRlcj1kfHx0aGlzLl9vcmRlcjt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpc30sY29weTpmdW5jdGlvbihhKXt0aGlzLl94PVxuYS5feDt0aGlzLl95PWEuX3k7dGhpcy5fej1hLl96O3RoaXMuX29yZGVyPWEuX29yZGVyO3RoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxzZXRGcm9tUm90YXRpb25NYXRyaXg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVRIUkVFLk1hdGguY2xhbXAsZT1hLmVsZW1lbnRzO2E9ZVswXTt2YXIgZj1lWzRdLGc9ZVs4XSxoPWVbMV0saz1lWzVdLGw9ZVs5XSxwPWVbMl0scT1lWzZdLGU9ZVsxMF07Yj1ifHx0aGlzLl9vcmRlcjtcIlhZWlwiPT09Yj8odGhpcy5feT1NYXRoLmFzaW4oZChnLC0xLDEpKSwuOTk5OTk+TWF0aC5hYnMoZyk/KHRoaXMuX3g9TWF0aC5hdGFuMigtbCxlKSx0aGlzLl96PU1hdGguYXRhbjIoLWYsYSkpOih0aGlzLl94PU1hdGguYXRhbjIocSxrKSx0aGlzLl96PTApKTpcIllYWlwiPT09Yj8odGhpcy5feD1NYXRoLmFzaW4oLWQobCwtMSwxKSksLjk5OTk5Pk1hdGguYWJzKGwpPyh0aGlzLl95PU1hdGguYXRhbjIoZyxlKSx0aGlzLl96PU1hdGguYXRhbjIoaCxcbmspKToodGhpcy5feT1NYXRoLmF0YW4yKC1wLGEpLHRoaXMuX3o9MCkpOlwiWlhZXCI9PT1iPyh0aGlzLl94PU1hdGguYXNpbihkKHEsLTEsMSkpLC45OTk5OT5NYXRoLmFicyhxKT8odGhpcy5feT1NYXRoLmF0YW4yKC1wLGUpLHRoaXMuX3o9TWF0aC5hdGFuMigtZixrKSk6KHRoaXMuX3k9MCx0aGlzLl96PU1hdGguYXRhbjIoaCxhKSkpOlwiWllYXCI9PT1iPyh0aGlzLl95PU1hdGguYXNpbigtZChwLC0xLDEpKSwuOTk5OTk+TWF0aC5hYnMocCk/KHRoaXMuX3g9TWF0aC5hdGFuMihxLGUpLHRoaXMuX3o9TWF0aC5hdGFuMihoLGEpKToodGhpcy5feD0wLHRoaXMuX3o9TWF0aC5hdGFuMigtZixrKSkpOlwiWVpYXCI9PT1iPyh0aGlzLl96PU1hdGguYXNpbihkKGgsLTEsMSkpLC45OTk5OT5NYXRoLmFicyhoKT8odGhpcy5feD1NYXRoLmF0YW4yKC1sLGspLHRoaXMuX3k9TWF0aC5hdGFuMigtcCxhKSk6KHRoaXMuX3g9MCx0aGlzLl95PU1hdGguYXRhbjIoZyxlKSkpOlwiWFpZXCI9PT1iPyh0aGlzLl96PVxuTWF0aC5hc2luKC1kKGYsLTEsMSkpLC45OTk5OT5NYXRoLmFicyhmKT8odGhpcy5feD1NYXRoLmF0YW4yKHEsayksdGhpcy5feT1NYXRoLmF0YW4yKGcsYSkpOih0aGlzLl94PU1hdGguYXRhbjIoLWwsZSksdGhpcy5feT0wKSk6VEhSRUUud2FybihcIlRIUkVFLkV1bGVyOiAuc2V0RnJvbVJvdGF0aW9uTWF0cml4KCkgZ2l2ZW4gdW5zdXBwb3J0ZWQgb3JkZXI6IFwiK2IpO3RoaXMuX29yZGVyPWI7aWYoITEhPT1jKXRoaXMub25DaGFuZ2VDYWxsYmFjaygpO3JldHVybiB0aGlzfSxzZXRGcm9tUXVhdGVybmlvbjpmdW5jdGlvbigpe3ZhciBhO3JldHVybiBmdW5jdGlvbihiLGMsZCl7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLk1hdHJpeDQpO2EubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oYik7dGhpcy5zZXRGcm9tUm90YXRpb25NYXRyaXgoYSxjLGQpO3JldHVybiB0aGlzfX0oKSxzZXRGcm9tVmVjdG9yMzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNldChhLngsYS55LGEueixcbmJ8fHRoaXMuX29yZGVyKX0scmVvcmRlcjpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5RdWF0ZXJuaW9uO3JldHVybiBmdW5jdGlvbihiKXthLnNldEZyb21FdWxlcih0aGlzKTt0aGlzLnNldEZyb21RdWF0ZXJuaW9uKGEsYil9fSgpLGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gYS5feD09PXRoaXMuX3gmJmEuX3k9PT10aGlzLl95JiZhLl96PT09dGhpcy5feiYmYS5fb3JkZXI9PT10aGlzLl9vcmRlcn0sZnJvbUFycmF5OmZ1bmN0aW9uKGEpe3RoaXMuX3g9YVswXTt0aGlzLl95PWFbMV07dGhpcy5fej1hWzJdO3ZvaWQgMCE9PWFbM10mJih0aGlzLl9vcmRlcj1hWzNdKTt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2soKTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWEmJihhPVtdKTt2b2lkIDA9PT1iJiYoYj0wKTthW2JdPXRoaXMuX3g7YVtiKzFdPXRoaXMuX3k7YVtiKzJdPXRoaXMuX3o7YVtiKzNdPXRoaXMuX29yZGVyO3JldHVybiBhfSx0b1ZlY3RvcjM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/XG5hLnNldCh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6bmV3IFRIUkVFLlZlY3RvcjModGhpcy5feCx0aGlzLl95LHRoaXMuX3opfSxvbkNoYW5nZTpmdW5jdGlvbihhKXt0aGlzLm9uQ2hhbmdlQ2FsbGJhY2s9YTtyZXR1cm4gdGhpc30sb25DaGFuZ2VDYWxsYmFjazpmdW5jdGlvbigpe30sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRIUkVFLkV1bGVyKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX29yZGVyKX19O1RIUkVFLkxpbmUzPWZ1bmN0aW9uKGEsYil7dGhpcy5zdGFydD12b2lkIDAhPT1hP2E6bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5lbmQ9dm9pZCAwIT09Yj9iOm5ldyBUSFJFRS5WZWN0b3IzfTtcblRIUkVFLkxpbmUzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTGluZTMsc2V0OmZ1bmN0aW9uKGEsYil7dGhpcy5zdGFydC5jb3B5KGEpO3RoaXMuZW5kLmNvcHkoYik7cmV0dXJuIHRoaXN9LGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydC5jb3B5KGEuc3RhcnQpO3RoaXMuZW5kLmNvcHkoYS5lbmQpO3JldHVybiB0aGlzfSxjZW50ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fG5ldyBUSFJFRS5WZWN0b3IzKS5hZGRWZWN0b3JzKHRoaXMuc3RhcnQsdGhpcy5lbmQpLm11bHRpcGx5U2NhbGFyKC41KX0sZGVsdGE6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fG5ldyBUSFJFRS5WZWN0b3IzKS5zdWJWZWN0b3JzKHRoaXMuZW5kLHRoaXMuc3RhcnQpfSxkaXN0YW5jZVNxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnQuZGlzdGFuY2VUb1NxdWFyZWQodGhpcy5lbmQpfSxkaXN0YW5jZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXJ0LmRpc3RhbmNlVG8odGhpcy5lbmQpfSxhdDpmdW5jdGlvbihhLFxuYil7dmFyIGM9Ynx8bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIHRoaXMuZGVsdGEoYykubXVsdGlwbHlTY2FsYXIoYSkuYWRkKHRoaXMuc3RhcnQpfSxjbG9zZXN0UG9pbnRUb1BvaW50UGFyYW1ldGVyOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYyxkKXthLnN1YlZlY3RvcnMoYyx0aGlzLnN0YXJ0KTtiLnN1YlZlY3RvcnModGhpcy5lbmQsdGhpcy5zdGFydCk7dmFyIGU9Yi5kb3QoYiksZT1iLmRvdChhKS9lO2QmJihlPVRIUkVFLk1hdGguY2xhbXAoZSwwLDEpKTtyZXR1cm4gZX19KCksY2xvc2VzdFBvaW50VG9Qb2ludDpmdW5jdGlvbihhLGIsYyl7YT10aGlzLmNsb3Nlc3RQb2ludFRvUG9pbnRQYXJhbWV0ZXIoYSxiKTtjPWN8fG5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiB0aGlzLmRlbHRhKGMpLm11bHRpcGx5U2NhbGFyKGEpLmFkZCh0aGlzLnN0YXJ0KX0sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnQuYXBwbHlNYXRyaXg0KGEpO1xudGhpcy5lbmQuYXBwbHlNYXRyaXg0KGEpO3JldHVybiB0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3RhcnQuZXF1YWxzKHRoaXMuc3RhcnQpJiZhLmVuZC5lcXVhbHModGhpcy5lbmQpfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgVEhSRUUuTGluZTMpLmNvcHkodGhpcyl9fTtUSFJFRS5Cb3gyPWZ1bmN0aW9uKGEsYil7dGhpcy5taW49dm9pZCAwIT09YT9hOm5ldyBUSFJFRS5WZWN0b3IyKEluZmluaXR5LEluZmluaXR5KTt0aGlzLm1heD12b2lkIDAhPT1iP2I6bmV3IFRIUkVFLlZlY3RvcjIoLUluZmluaXR5LC1JbmZpbml0eSl9O1xuVEhSRUUuQm94Mi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkJveDIsc2V0OmZ1bmN0aW9uKGEsYil7dGhpcy5taW4uY29weShhKTt0aGlzLm1heC5jb3B5KGIpO3JldHVybiB0aGlzfSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKGEpe3RoaXMubWFrZUVtcHR5KCk7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDtiPGM7YisrKXRoaXMuZXhwYW5kQnlQb2ludChhW2JdKTtyZXR1cm4gdGhpc30sc2V0RnJvbUNlbnRlckFuZFNpemU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMjtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZD1hLmNvcHkoYykubXVsdGlwbHlTY2FsYXIoLjUpO3RoaXMubWluLmNvcHkoYikuc3ViKGQpO3RoaXMubWF4LmNvcHkoYikuYWRkKGQpO3JldHVybiB0aGlzfX0oKSxjb3B5OmZ1bmN0aW9uKGEpe3RoaXMubWluLmNvcHkoYS5taW4pO3RoaXMubWF4LmNvcHkoYS5tYXgpO3JldHVybiB0aGlzfSxtYWtlRW1wdHk6ZnVuY3Rpb24oKXt0aGlzLm1pbi54PVxudGhpcy5taW4ueT1JbmZpbml0eTt0aGlzLm1heC54PXRoaXMubWF4Lnk9LUluZmluaXR5O3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueX0sY2VudGVyOmZ1bmN0aW9uKGEpe3JldHVybihhfHxuZXcgVEhSRUUuVmVjdG9yMikuYWRkVmVjdG9ycyh0aGlzLm1pbix0aGlzLm1heCkubXVsdGlwbHlTY2FsYXIoLjUpfSxzaXplOmZ1bmN0aW9uKGEpe3JldHVybihhfHxuZXcgVEhSRUUuVmVjdG9yMikuc3ViVmVjdG9ycyh0aGlzLm1heCx0aGlzLm1pbil9LGV4cGFuZEJ5UG9pbnQ6ZnVuY3Rpb24oYSl7dGhpcy5taW4ubWluKGEpO3RoaXMubWF4Lm1heChhKTtyZXR1cm4gdGhpc30sZXhwYW5kQnlWZWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5taW4uc3ViKGEpO3RoaXMubWF4LmFkZChhKTtyZXR1cm4gdGhpc30sZXhwYW5kQnlTY2FsYXI6ZnVuY3Rpb24oYSl7dGhpcy5taW4uYWRkU2NhbGFyKC1hKTtcbnRoaXMubWF4LmFkZFNjYWxhcihhKTtyZXR1cm4gdGhpc30sY29udGFpbnNQb2ludDpmdW5jdGlvbihhKXtyZXR1cm4gYS54PHRoaXMubWluLnh8fGEueD50aGlzLm1heC54fHxhLnk8dGhpcy5taW4ueXx8YS55PnRoaXMubWF4Lnk/ITE6ITB9LGNvbnRhaW5zQm94OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1pbi54PD1hLm1pbi54JiZhLm1heC54PD10aGlzLm1heC54JiZ0aGlzLm1pbi55PD1hLm1pbi55JiZhLm1heC55PD10aGlzLm1heC55PyEwOiExfSxnZXRQYXJhbWV0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYnx8bmV3IFRIUkVFLlZlY3RvcjIpLnNldCgoYS54LXRoaXMubWluLngpLyh0aGlzLm1heC54LXRoaXMubWluLngpLChhLnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSkpfSxpc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbihhKXtyZXR1cm4gYS5tYXgueDx0aGlzLm1pbi54fHxhLm1pbi54PnRoaXMubWF4Lnh8fGEubWF4Lnk8dGhpcy5taW4ueXx8YS5taW4ueT5cbnRoaXMubWF4Lnk/ITE6ITB9LGNsYW1wUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYnx8bmV3IFRIUkVFLlZlY3RvcjIpLmNvcHkoYSkuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpfSxkaXN0YW5jZVRvUG9pbnQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMjtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuY29weShiKS5jbGFtcCh0aGlzLm1pbix0aGlzLm1heCkuc3ViKGIpLmxlbmd0aCgpfX0oKSxpbnRlcnNlY3Q6ZnVuY3Rpb24oYSl7dGhpcy5taW4ubWF4KGEubWluKTt0aGlzLm1heC5taW4oYS5tYXgpO3JldHVybiB0aGlzfSx1bmlvbjpmdW5jdGlvbihhKXt0aGlzLm1pbi5taW4oYS5taW4pO3RoaXMubWF4Lm1heChhLm1heCk7cmV0dXJuIHRoaXN9LHRyYW5zbGF0ZTpmdW5jdGlvbihhKXt0aGlzLm1pbi5hZGQoYSk7dGhpcy5tYXguYWRkKGEpO3JldHVybiB0aGlzfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubWluLmVxdWFscyh0aGlzLm1pbikmJlxuYS5tYXguZXF1YWxzKHRoaXMubWF4KX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLkJveDIpLmNvcHkodGhpcyl9fTtUSFJFRS5Cb3gzPWZ1bmN0aW9uKGEsYil7dGhpcy5taW49dm9pZCAwIT09YT9hOm5ldyBUSFJFRS5WZWN0b3IzKEluZmluaXR5LEluZmluaXR5LEluZmluaXR5KTt0aGlzLm1heD12b2lkIDAhPT1iP2I6bmV3IFRIUkVFLlZlY3RvcjMoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpfTtcblRIUkVFLkJveDMucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5Cb3gzLHNldDpmdW5jdGlvbihhLGIpe3RoaXMubWluLmNvcHkoYSk7dGhpcy5tYXguY29weShiKTtyZXR1cm4gdGhpc30sc2V0RnJvbVBvaW50czpmdW5jdGlvbihhKXt0aGlzLm1ha2VFbXB0eSgpO2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzLmV4cGFuZEJ5UG9pbnQoYVtiXSk7cmV0dXJuIHRoaXN9LHNldEZyb21DZW50ZXJBbmRTaXplOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5jb3B5KGMpLm11bHRpcGx5U2NhbGFyKC41KTt0aGlzLm1pbi5jb3B5KGIpLnN1YihkKTt0aGlzLm1heC5jb3B5KGIpLmFkZChkKTtyZXR1cm4gdGhpc319KCksc2V0RnJvbU9iamVjdDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzO2IudXBkYXRlTWF0cml4V29ybGQoITApO1xudGhpcy5tYWtlRW1wdHkoKTtiLnRyYXZlcnNlKGZ1bmN0aW9uKGIpe3ZhciBlPWIuZ2VvbWV0cnk7aWYodm9pZCAwIT09ZSlpZihlIGluc3RhbmNlb2YgVEhSRUUuR2VvbWV0cnkpZm9yKHZhciBmPWUudmVydGljZXMsZT0wLGc9Zi5sZW5ndGg7ZTxnO2UrKylhLmNvcHkoZltlXSksYS5hcHBseU1hdHJpeDQoYi5tYXRyaXhXb3JsZCksYy5leHBhbmRCeVBvaW50KGEpO2Vsc2UgaWYoZSBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5JiZ2b2lkIDAhPT1lLmF0dHJpYnV0ZXMucG9zaXRpb24pZm9yKGY9ZS5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5LGU9MCxnPWYubGVuZ3RoO2U8ZztlKz0zKWEuc2V0KGZbZV0sZltlKzFdLGZbZSsyXSksYS5hcHBseU1hdHJpeDQoYi5tYXRyaXhXb3JsZCksYy5leHBhbmRCeVBvaW50KGEpfSk7cmV0dXJuIHRoaXN9fSgpLGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy5taW4uY29weShhLm1pbik7dGhpcy5tYXguY29weShhLm1heCk7cmV0dXJuIHRoaXN9LFxubWFrZUVtcHR5OmZ1bmN0aW9uKCl7dGhpcy5taW4ueD10aGlzLm1pbi55PXRoaXMubWluLno9SW5maW5pdHk7dGhpcy5tYXgueD10aGlzLm1heC55PXRoaXMubWF4Lno9LUluZmluaXR5O3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1heC54PHRoaXMubWluLnh8fHRoaXMubWF4Lnk8dGhpcy5taW4ueXx8dGhpcy5tYXguejx0aGlzLm1pbi56fSxjZW50ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fG5ldyBUSFJFRS5WZWN0b3IzKS5hZGRWZWN0b3JzKHRoaXMubWluLHRoaXMubWF4KS5tdWx0aXBseVNjYWxhciguNSl9LHNpemU6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fG5ldyBUSFJFRS5WZWN0b3IzKS5zdWJWZWN0b3JzKHRoaXMubWF4LHRoaXMubWluKX0sZXhwYW5kQnlQb2ludDpmdW5jdGlvbihhKXt0aGlzLm1pbi5taW4oYSk7dGhpcy5tYXgubWF4KGEpO3JldHVybiB0aGlzfSxleHBhbmRCeVZlY3RvcjpmdW5jdGlvbihhKXt0aGlzLm1pbi5zdWIoYSk7XG50aGlzLm1heC5hZGQoYSk7cmV0dXJuIHRoaXN9LGV4cGFuZEJ5U2NhbGFyOmZ1bmN0aW9uKGEpe3RoaXMubWluLmFkZFNjYWxhcigtYSk7dGhpcy5tYXguYWRkU2NhbGFyKGEpO3JldHVybiB0aGlzfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLng8dGhpcy5taW4ueHx8YS54PnRoaXMubWF4Lnh8fGEueTx0aGlzLm1pbi55fHxhLnk+dGhpcy5tYXgueXx8YS56PHRoaXMubWluLnp8fGEuej50aGlzLm1heC56PyExOiEwfSxjb250YWluc0JveDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5taW4ueDw9YS5taW4ueCYmYS5tYXgueDw9dGhpcy5tYXgueCYmdGhpcy5taW4ueTw9YS5taW4ueSYmYS5tYXgueTw9dGhpcy5tYXgueSYmdGhpcy5taW4uejw9YS5taW4ueiYmYS5tYXguejw9dGhpcy5tYXguej8hMDohMX0sZ2V0UGFyYW1ldGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuKGJ8fG5ldyBUSFJFRS5WZWN0b3IzKS5zZXQoKGEueC10aGlzLm1pbi54KS8odGhpcy5tYXgueC1cbnRoaXMubWluLngpLChhLnktdGhpcy5taW4ueSkvKHRoaXMubWF4LnktdGhpcy5taW4ueSksKGEuei10aGlzLm1pbi56KS8odGhpcy5tYXguei10aGlzLm1pbi56KSl9LGlzSW50ZXJzZWN0aW9uQm94OmZ1bmN0aW9uKGEpe3JldHVybiBhLm1heC54PHRoaXMubWluLnh8fGEubWluLng+dGhpcy5tYXgueHx8YS5tYXgueTx0aGlzLm1pbi55fHxhLm1pbi55PnRoaXMubWF4Lnl8fGEubWF4Lno8dGhpcy5taW4uenx8YS5taW4uej50aGlzLm1heC56PyExOiEwfSxjbGFtcFBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuKGJ8fG5ldyBUSFJFRS5WZWN0b3IzKS5jb3B5KGEpLmNsYW1wKHRoaXMubWluLHRoaXMubWF4KX0sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmNvcHkoYikuY2xhbXAodGhpcy5taW4sdGhpcy5tYXgpLnN1YihiKS5sZW5ndGgoKX19KCksZ2V0Qm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24oKXt2YXIgYT1cbm5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiKXtiPWJ8fG5ldyBUSFJFRS5TcGhlcmU7Yi5jZW50ZXI9dGhpcy5jZW50ZXIoKTtiLnJhZGl1cz0uNSp0aGlzLnNpemUoYSkubGVuZ3RoKCk7cmV0dXJuIGJ9fSgpLGludGVyc2VjdDpmdW5jdGlvbihhKXt0aGlzLm1pbi5tYXgoYS5taW4pO3RoaXMubWF4Lm1pbihhLm1heCk7cmV0dXJuIHRoaXN9LHVuaW9uOmZ1bmN0aW9uKGEpe3RoaXMubWluLm1pbihhLm1pbik7dGhpcy5tYXgubWF4KGEubWF4KTtyZXR1cm4gdGhpc30sYXBwbHlNYXRyaXg0OmZ1bmN0aW9uKCl7dmFyIGE9W25ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzXTtyZXR1cm4gZnVuY3Rpb24oYil7YVswXS5zZXQodGhpcy5taW4ueCx0aGlzLm1pbi55LFxudGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGIpO2FbMV0uc2V0KHRoaXMubWluLngsdGhpcy5taW4ueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoYik7YVsyXS5zZXQodGhpcy5taW4ueCx0aGlzLm1heC55LHRoaXMubWluLnopLmFwcGx5TWF0cml4NChiKTthWzNdLnNldCh0aGlzLm1pbi54LHRoaXMubWF4LnksdGhpcy5tYXgueikuYXBwbHlNYXRyaXg0KGIpO2FbNF0uc2V0KHRoaXMubWF4LngsdGhpcy5taW4ueSx0aGlzLm1pbi56KS5hcHBseU1hdHJpeDQoYik7YVs1XS5zZXQodGhpcy5tYXgueCx0aGlzLm1pbi55LHRoaXMubWF4LnopLmFwcGx5TWF0cml4NChiKTthWzZdLnNldCh0aGlzLm1heC54LHRoaXMubWF4LnksdGhpcy5taW4ueikuYXBwbHlNYXRyaXg0KGIpO2FbN10uc2V0KHRoaXMubWF4LngsdGhpcy5tYXgueSx0aGlzLm1heC56KS5hcHBseU1hdHJpeDQoYik7dGhpcy5tYWtlRW1wdHkoKTt0aGlzLnNldEZyb21Qb2ludHMoYSk7cmV0dXJuIHRoaXN9fSgpLHRyYW5zbGF0ZTpmdW5jdGlvbihhKXt0aGlzLm1pbi5hZGQoYSk7XG50aGlzLm1heC5hZGQoYSk7cmV0dXJuIHRoaXN9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gYS5taW4uZXF1YWxzKHRoaXMubWluKSYmYS5tYXguZXF1YWxzKHRoaXMubWF4KX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLkJveDMpLmNvcHkodGhpcyl9fTtUSFJFRS5NYXRyaXgzPWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cz1uZXcgRmxvYXQzMkFycmF5KFsxLDAsMCwwLDEsMCwwLDAsMV0pOzA8YXJndW1lbnRzLmxlbmd0aCYmVEhSRUUuZXJyb3IoXCJUSFJFRS5NYXRyaXgzOiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLlwiKX07XG5USFJFRS5NYXRyaXgzLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTWF0cml4MyxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe3ZhciBsPXRoaXMuZWxlbWVudHM7bFswXT1hO2xbM109YjtsWzZdPWM7bFsxXT1kO2xbNF09ZTtsWzddPWY7bFsyXT1nO2xbNV09aDtsWzhdPWs7cmV0dXJuIHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7dGhpcy5zZXQoMSwwLDAsMCwxLDAsMCwwLDEpO3JldHVybiB0aGlzfSxjb3B5OmZ1bmN0aW9uKGEpe2E9YS5lbGVtZW50czt0aGlzLnNldChhWzBdLGFbM10sYVs2XSxhWzFdLGFbNF0sYVs3XSxhWzJdLGFbNV0sYVs4XSk7cmV0dXJuIHRoaXN9LG11bHRpcGx5VmVjdG9yMzpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4MzogLm11bHRpcGx5VmVjdG9yMygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSB2ZWN0b3IuYXBwbHlNYXRyaXgzKCBtYXRyaXggKSBpbnN0ZWFkLlwiKTtyZXR1cm4gYS5hcHBseU1hdHJpeDModGhpcyl9LFxubXVsdGlwbHlWZWN0b3IzQXJyYXk6ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDM6IC5tdWx0aXBseVZlY3RvcjNBcnJheSgpIGhhcyBiZWVuIHJlbmFtZWQuIFVzZSBtYXRyaXguYXBwbHlUb1ZlY3RvcjNBcnJheSggYXJyYXkgKSBpbnN0ZWFkLlwiKTtyZXR1cm4gdGhpcy5hcHBseVRvVmVjdG9yM0FycmF5KGEpfSxhcHBseVRvVmVjdG9yM0FycmF5OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXt2b2lkIDA9PT1jJiYoYz0wKTt2b2lkIDA9PT1kJiYoZD1iLmxlbmd0aCk7Zm9yKHZhciBlPTA7ZTxkO2UrPTMsYys9MylhLng9YltjXSxhLnk9YltjKzFdLGEuej1iW2MrMl0sYS5hcHBseU1hdHJpeDModGhpcyksYltjXT1hLngsYltjKzFdPWEueSxiW2MrMl09YS56O3JldHVybiBifX0oKSxtdWx0aXBseVNjYWxhcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnRzO2JbMF0qPWE7YlszXSo9YTtiWzZdKj1cbmE7YlsxXSo9YTtiWzRdKj1hO2JbN10qPWE7YlsyXSo9YTtiWzVdKj1hO2JbOF0qPWE7cmV0dXJuIHRoaXN9LGRldGVybWluYW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50cyxiPWFbMF0sYz1hWzFdLGQ9YVsyXSxlPWFbM10sZj1hWzRdLGc9YVs1XSxoPWFbNl0saz1hWzddLGE9YVs4XTtyZXR1cm4gYipmKmEtYipnKmstYyplKmErYypnKmgrZCplKmstZCpmKmh9LGdldEludmVyc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmVsZW1lbnRzLGQ9dGhpcy5lbGVtZW50cztkWzBdPWNbMTBdKmNbNV0tY1s2XSpjWzldO2RbMV09LWNbMTBdKmNbMV0rY1syXSpjWzldO2RbMl09Y1s2XSpjWzFdLWNbMl0qY1s1XTtkWzNdPS1jWzEwXSpjWzRdK2NbNl0qY1s4XTtkWzRdPWNbMTBdKmNbMF0tY1syXSpjWzhdO2RbNV09LWNbNl0qY1swXStjWzJdKmNbNF07ZFs2XT1jWzldKmNbNF0tY1s1XSpjWzhdO2RbN109LWNbOV0qY1swXStjWzFdKmNbOF07ZFs4XT1jWzVdKmNbMF0tY1sxXSpjWzRdO1xuYz1jWzBdKmRbMF0rY1sxXSpkWzNdK2NbMl0qZFs2XTtpZigwPT09Yyl7aWYoYil0aHJvdyBFcnJvcihcIk1hdHJpeDMuZ2V0SW52ZXJzZSgpOiBjYW4ndCBpbnZlcnQgbWF0cml4LCBkZXRlcm1pbmFudCBpcyAwXCIpO1RIUkVFLndhcm4oXCJNYXRyaXgzLmdldEludmVyc2UoKTogY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMFwiKTt0aGlzLmlkZW50aXR5KCk7cmV0dXJuIHRoaXN9dGhpcy5tdWx0aXBseVNjYWxhcigxL2MpO3JldHVybiB0aGlzfSx0cmFuc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMuZWxlbWVudHM7YT1iWzFdO2JbMV09YlszXTtiWzNdPWE7YT1iWzJdO2JbMl09Yls2XTtiWzZdPWE7YT1iWzVdO2JbNV09Yls3XTtiWzddPWE7cmV0dXJuIHRoaXN9LGZsYXR0ZW5Ub0FycmF5T2Zmc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lbGVtZW50czthW2JdPWNbMF07YVtiKzFdPWNbMV07YVtiKzJdPWNbMl07YVtiKzNdPWNbM107YVtiKzRdPWNbNF07XG5hW2IrNV09Y1s1XTthW2IrNl09Y1s2XTthW2IrN109Y1s3XTthW2IrOF09Y1s4XTtyZXR1cm4gYX0sZ2V0Tm9ybWFsTWF0cml4OmZ1bmN0aW9uKGEpe3RoaXMuZ2V0SW52ZXJzZShhKS50cmFuc3Bvc2UoKTtyZXR1cm4gdGhpc30sdHJhbnNwb3NlSW50b0FycmF5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudHM7YVswXT1iWzBdO2FbMV09YlszXTthWzJdPWJbNl07YVszXT1iWzFdO2FbNF09Yls0XTthWzVdPWJbN107YVs2XT1iWzJdO2FbN109Yls1XTthWzhdPWJbOF07cmV0dXJuIHRoaXN9LGZyb21BcnJheTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnRzLnNldChhKTtyZXR1cm4gdGhpc30sdG9BcnJheTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudHM7cmV0dXJuW2FbMF0sYVsxXSxhWzJdLGFbM10sYVs0XSxhWzVdLGFbNl0sYVs3XSxhWzhdXX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLk1hdHJpeDMpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19O1xuVEhSRUUuTWF0cml4ND1mdW5jdGlvbigpe3RoaXMuZWxlbWVudHM9bmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMV0pOzA8YXJndW1lbnRzLmxlbmd0aCYmVEhSRUUuZXJyb3IoXCJUSFJFRS5NYXRyaXg0OiB0aGUgY29uc3RydWN0b3Igbm8gbG9uZ2VyIHJlYWRzIGFyZ3VtZW50cy4gdXNlIC5zZXQoKSBpbnN0ZWFkLlwiKX07XG5USFJFRS5NYXRyaXg0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTWF0cml4NCxzZXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGssbCxwLHEsbix0LHIscyl7dmFyIHU9dGhpcy5lbGVtZW50czt1WzBdPWE7dVs0XT1iO3VbOF09Yzt1WzEyXT1kO3VbMV09ZTt1WzVdPWY7dVs5XT1nO3VbMTNdPWg7dVsyXT1rO3VbNl09bDt1WzEwXT1wO3VbMTRdPXE7dVszXT1uO3VbN109dDt1WzExXT1yO3VbMTVdPXM7cmV0dXJuIHRoaXN9LGlkZW50aXR5OmZ1bmN0aW9uKCl7dGhpcy5zZXQoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSk7cmV0dXJuIHRoaXN9LGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50cy5zZXQoYS5lbGVtZW50cyk7cmV0dXJuIHRoaXN9LGV4dHJhY3RQb3NpdGlvbjpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmV4dHJhY3RQb3NpdGlvbigpIGhhcyBiZWVuIHJlbmFtZWQgdG8gLmNvcHlQb3NpdGlvbigpLlwiKTtyZXR1cm4gdGhpcy5jb3B5UG9zaXRpb24oYSl9LFxuY29weVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudHM7YT1hLmVsZW1lbnRzO2JbMTJdPWFbMTJdO2JbMTNdPWFbMTNdO2JbMTRdPWFbMTRdO3JldHVybiB0aGlzfSxleHRyYWN0QmFzaXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWxlbWVudHM7YS5zZXQoZFswXSxkWzFdLGRbMl0pO2Iuc2V0KGRbNF0sZFs1XSxkWzZdKTtjLnNldChkWzhdLGRbOV0sZFsxMF0pO3JldHVybiB0aGlzfSxtYWtlQmFzaXM6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc2V0KGEueCxiLngsYy54LDAsYS55LGIueSxjLnksMCxhLnosYi56LGMueiwwLDAsMCwwLDEpO3JldHVybiB0aGlzfSxleHRyYWN0Um90YXRpb246ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5lbGVtZW50cztiPWIuZWxlbWVudHM7dmFyIGQ9MS9hLnNldChiWzBdLGJbMV0sYlsyXSkubGVuZ3RoKCksZT0xL2Euc2V0KGJbNF0sYls1XSxiWzZdKS5sZW5ndGgoKSxcbmY9MS9hLnNldChiWzhdLGJbOV0sYlsxMF0pLmxlbmd0aCgpO2NbMF09YlswXSpkO2NbMV09YlsxXSpkO2NbMl09YlsyXSpkO2NbNF09Yls0XSplO2NbNV09Yls1XSplO2NbNl09Yls2XSplO2NbOF09Yls4XSpmO2NbOV09Yls5XSpmO2NbMTBdPWJbMTBdKmY7cmV0dXJuIHRoaXN9fSgpLG1ha2VSb3RhdGlvbkZyb21FdWxlcjpmdW5jdGlvbihhKXshMT09PWEgaW5zdGFuY2VvZiBUSFJFRS5FdWxlciYmVEhSRUUuZXJyb3IoXCJUSFJFRS5NYXRyaXg6IC5tYWtlUm90YXRpb25Gcm9tRXVsZXIoKSBub3cgZXhwZWN0cyBhIEV1bGVyIHJvdGF0aW9uIHJhdGhlciB0aGFuIGEgVmVjdG9yMyBhbmQgb3JkZXIuXCIpO3ZhciBiPXRoaXMuZWxlbWVudHMsYz1hLngsZD1hLnksZT1hLnosZj1NYXRoLmNvcyhjKSxjPU1hdGguc2luKGMpLGc9TWF0aC5jb3MoZCksZD1NYXRoLnNpbihkKSxoPU1hdGguY29zKGUpLGU9TWF0aC5zaW4oZSk7aWYoXCJYWVpcIj09PWEub3JkZXIpe2E9ZipoO3ZhciBrPWYqZSxcbmw9YypoLHA9YyplO2JbMF09ZypoO2JbNF09LWcqZTtiWzhdPWQ7YlsxXT1rK2wqZDtiWzVdPWEtcCpkO2JbOV09LWMqZztiWzJdPXAtYSpkO2JbNl09bCtrKmQ7YlsxMF09ZipnfWVsc2VcIllYWlwiPT09YS5vcmRlcj8oYT1nKmgsaz1nKmUsbD1kKmgscD1kKmUsYlswXT1hK3AqYyxiWzRdPWwqYy1rLGJbOF09ZipkLGJbMV09ZiplLGJbNV09ZipoLGJbOV09LWMsYlsyXT1rKmMtbCxiWzZdPXArYSpjLGJbMTBdPWYqZyk6XCJaWFlcIj09PWEub3JkZXI/KGE9ZypoLGs9ZyplLGw9ZCpoLHA9ZCplLGJbMF09YS1wKmMsYls0XT0tZiplLGJbOF09bCtrKmMsYlsxXT1rK2wqYyxiWzVdPWYqaCxiWzldPXAtYSpjLGJbMl09LWYqZCxiWzZdPWMsYlsxMF09ZipnKTpcIlpZWFwiPT09YS5vcmRlcj8oYT1mKmgsaz1mKmUsbD1jKmgscD1jKmUsYlswXT1nKmgsYls0XT1sKmQtayxiWzhdPWEqZCtwLGJbMV09ZyplLGJbNV09cCpkK2EsYls5XT1rKmQtbCxiWzJdPS1kLGJbNl09YypnLGJbMTBdPWYqZyk6XCJZWlhcIj09PVxuYS5vcmRlcj8oYT1mKmcsaz1mKmQsbD1jKmcscD1jKmQsYlswXT1nKmgsYls0XT1wLWEqZSxiWzhdPWwqZStrLGJbMV09ZSxiWzVdPWYqaCxiWzldPS1jKmgsYlsyXT0tZCpoLGJbNl09ayplK2wsYlsxMF09YS1wKmUpOlwiWFpZXCI9PT1hLm9yZGVyJiYoYT1mKmcsaz1mKmQsbD1jKmcscD1jKmQsYlswXT1nKmgsYls0XT0tZSxiWzhdPWQqaCxiWzFdPWEqZStwLGJbNV09ZipoLGJbOV09ayplLWwsYlsyXT1sKmUtayxiWzZdPWMqaCxiWzEwXT1wKmUrYSk7YlszXT0wO2JbN109MDtiWzExXT0wO2JbMTJdPTA7YlsxM109MDtiWzE0XT0wO2JbMTVdPTE7cmV0dXJuIHRoaXN9LHNldFJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5zZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oKS5cIik7cmV0dXJuIHRoaXMubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb24oYSl9LFxubWFrZVJvdGF0aW9uRnJvbVF1YXRlcm5pb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50cyxjPWEueCxkPWEueSxlPWEueixmPWEudyxnPWMrYyxoPWQrZCxrPWUrZTthPWMqZzt2YXIgbD1jKmgsYz1jKmsscD1kKmgsZD1kKmssZT1lKmssZz1mKmcsaD1mKmgsZj1mKms7YlswXT0xLShwK2UpO2JbNF09bC1mO2JbOF09YytoO2JbMV09bCtmO2JbNV09MS0oYStlKTtiWzldPWQtZztiWzJdPWMtaDtiWzZdPWQrZztiWzEwXT0xLShhK3ApO2JbM109MDtiWzddPTA7YlsxMV09MDtiWzEyXT0wO2JbMTNdPTA7YlsxNF09MDtiWzE1XT0xO3JldHVybiB0aGlzfSxsb29rQXQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiPW5ldyBUSFJFRS5WZWN0b3IzLGM9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGQsZSxmKXt2YXIgZz10aGlzLmVsZW1lbnRzO2Muc3ViVmVjdG9ycyhkLGUpLm5vcm1hbGl6ZSgpOzA9PT1jLmxlbmd0aCgpJiYoYy56PTEpO2EuY3Jvc3NWZWN0b3JzKGYsXG5jKS5ub3JtYWxpemUoKTswPT09YS5sZW5ndGgoKSYmKGMueCs9MUUtNCxhLmNyb3NzVmVjdG9ycyhmLGMpLm5vcm1hbGl6ZSgpKTtiLmNyb3NzVmVjdG9ycyhjLGEpO2dbMF09YS54O2dbNF09Yi54O2dbOF09Yy54O2dbMV09YS55O2dbNV09Yi55O2dbOV09Yy55O2dbMl09YS56O2dbNl09Yi56O2dbMTBdPWMuejtyZXR1cm4gdGhpc319KCksbXVsdGlwbHk6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwIT09Yj8oVEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseSgpIG5vdyBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LiBVc2UgLm11bHRpcGx5TWF0cmljZXMoIGEsIGIgKSBpbnN0ZWFkLlwiKSx0aGlzLm11bHRpcGx5TWF0cmljZXMoYSxiKSk6dGhpcy5tdWx0aXBseU1hdHJpY2VzKHRoaXMsYSl9LG11bHRpcGx5TWF0cmljZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmVsZW1lbnRzLGQ9Yi5lbGVtZW50cyxlPXRoaXMuZWxlbWVudHMsZj1jWzBdLGc9Y1s0XSxoPWNbOF0sXG5rPWNbMTJdLGw9Y1sxXSxwPWNbNV0scT1jWzldLG49Y1sxM10sdD1jWzJdLHI9Y1s2XSxzPWNbMTBdLHU9Y1sxNF0sdj1jWzNdLHg9Y1s3XSxEPWNbMTFdLGM9Y1sxNV0sdz1kWzBdLHk9ZFs0XSxBPWRbOF0sRT1kWzEyXSxHPWRbMV0sRj1kWzVdLHo9ZFs5XSxJPWRbMTNdLFU9ZFsyXSxNPWRbNl0sSD1kWzEwXSxMPWRbMTRdLFA9ZFszXSxOPWRbN10sUj1kWzExXSxkPWRbMTVdO2VbMF09Zip3K2cqRytoKlUraypQO2VbNF09Zip5K2cqRitoKk0raypOO2VbOF09ZipBK2cqeitoKkgraypSO2VbMTJdPWYqRStnKkkraCpMK2sqZDtlWzFdPWwqdytwKkcrcSpVK24qUDtlWzVdPWwqeStwKkYrcSpNK24qTjtlWzldPWwqQStwKnorcSpIK24qUjtlWzEzXT1sKkUrcCpJK3EqTCtuKmQ7ZVsyXT10KncrcipHK3MqVSt1KlA7ZVs2XT10KnkrcipGK3MqTSt1Kk47ZVsxMF09dCpBK3IqeitzKkgrdSpSO2VbMTRdPXQqRStyKkkrcypMK3UqZDtlWzNdPXYqdyt4KkcrRCpVK2MqUDtlWzddPXYqeStcbngqRitEKk0rYypOO2VbMTFdPXYqQSt4KnorRCpIK2MqUjtlWzE1XT12KkUreCpJK0QqTCtjKmQ7cmV0dXJuIHRoaXN9LG11bHRpcGx5VG9BcnJheTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lbGVtZW50czt0aGlzLm11bHRpcGx5TWF0cmljZXMoYSxiKTtjWzBdPWRbMF07Y1sxXT1kWzFdO2NbMl09ZFsyXTtjWzNdPWRbM107Y1s0XT1kWzRdO2NbNV09ZFs1XTtjWzZdPWRbNl07Y1s3XT1kWzddO2NbOF09ZFs4XTtjWzldPWRbOV07Y1sxMF09ZFsxMF07Y1sxMV09ZFsxMV07Y1sxMl09ZFsxMl07Y1sxM109ZFsxM107Y1sxNF09ZFsxNF07Y1sxNV09ZFsxNV07cmV0dXJuIHRoaXN9LG11bHRpcGx5U2NhbGFyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudHM7YlswXSo9YTtiWzRdKj1hO2JbOF0qPWE7YlsxMl0qPWE7YlsxXSo9YTtiWzVdKj1hO2JbOV0qPWE7YlsxM10qPWE7YlsyXSo9YTtiWzZdKj1hO2JbMTBdKj1hO2JbMTRdKj1hO2JbM10qPWE7Yls3XSo9YTtiWzExXSo9XG5hO2JbMTVdKj1hO3JldHVybiB0aGlzfSxtdWx0aXBseVZlY3RvcjM6ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgb3IgdmVjdG9yLmFwcGx5UHJvamVjdGlvbiggbWF0cml4ICkgaW5zdGVhZC5cIik7cmV0dXJuIGEuYXBwbHlQcm9qZWN0aW9uKHRoaXMpfSxtdWx0aXBseVZlY3RvcjQ6ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5tdWx0aXBseVZlY3RvcjQoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgdmVjdG9yLmFwcGx5TWF0cml4NCggbWF0cml4ICkgaW5zdGVhZC5cIik7cmV0dXJuIGEuYXBwbHlNYXRyaXg0KHRoaXMpfSxtdWx0aXBseVZlY3RvcjNBcnJheTpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4NDogLm11bHRpcGx5VmVjdG9yM0FycmF5KCkgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIG1hdHJpeC5hcHBseVRvVmVjdG9yM0FycmF5KCBhcnJheSApIGluc3RlYWQuXCIpO1xucmV0dXJuIHRoaXMuYXBwbHlUb1ZlY3RvcjNBcnJheShhKX0sYXBwbHlUb1ZlY3RvcjNBcnJheTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiLGMsZCl7dm9pZCAwPT09YyYmKGM9MCk7dm9pZCAwPT09ZCYmKGQ9Yi5sZW5ndGgpO2Zvcih2YXIgZT0wO2U8ZDtlKz0zLGMrPTMpYS54PWJbY10sYS55PWJbYysxXSxhLno9YltjKzJdLGEuYXBwbHlNYXRyaXg0KHRoaXMpLGJbY109YS54LGJbYysxXT1hLnksYltjKzJdPWEuejtyZXR1cm4gYn19KCkscm90YXRlQXhpczpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZUF4aXMoKSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVmVjdG9yMy50cmFuc2Zvcm1EaXJlY3Rpb24oIG1hdHJpeCApIGluc3RlYWQuXCIpO2EudHJhbnNmb3JtRGlyZWN0aW9uKHRoaXMpfSxjcm9zc1ZlY3RvcjpmdW5jdGlvbihhKXtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4NDogLmNyb3NzVmVjdG9yKCkgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIHZlY3Rvci5hcHBseU1hdHJpeDQoIG1hdHJpeCApIGluc3RlYWQuXCIpO1xucmV0dXJuIGEuYXBwbHlNYXRyaXg0KHRoaXMpfSxkZXRlcm1pbmFudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudHMsYj1hWzBdLGM9YVs0XSxkPWFbOF0sZT1hWzEyXSxmPWFbMV0sZz1hWzVdLGg9YVs5XSxrPWFbMTNdLGw9YVsyXSxwPWFbNl0scT1hWzEwXSxuPWFbMTRdO3JldHVybiBhWzNdKigrZSpoKnAtZCprKnAtZSpnKnErYyprKnErZCpnKm4tYypoKm4pK2FbN10qKCtiKmgqbi1iKmsqcStlKmYqcS1kKmYqbitkKmsqbC1lKmgqbCkrYVsxMV0qKCtiKmsqcC1iKmcqbi1lKmYqcCtjKmYqbitlKmcqbC1jKmsqbCkrYVsxNV0qKC1kKmcqbC1iKmgqcCtiKmcqcStkKmYqcC1jKmYqcStjKmgqbCl9LHRyYW5zcG9zZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudHMsYjtiPWFbMV07YVsxXT1hWzRdO2FbNF09YjtiPWFbMl07YVsyXT1hWzhdO2FbOF09YjtiPWFbNl07YVs2XT1hWzldO2FbOV09YjtiPWFbM107YVszXT1hWzEyXTthWzEyXT1iO2I9YVs3XTthWzddPWFbMTNdO1xuYVsxM109YjtiPWFbMTFdO2FbMTFdPWFbMTRdO2FbMTRdPWI7cmV0dXJuIHRoaXN9LGZsYXR0ZW5Ub0FycmF5T2Zmc2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lbGVtZW50czthW2JdPWNbMF07YVtiKzFdPWNbMV07YVtiKzJdPWNbMl07YVtiKzNdPWNbM107YVtiKzRdPWNbNF07YVtiKzVdPWNbNV07YVtiKzZdPWNbNl07YVtiKzddPWNbN107YVtiKzhdPWNbOF07YVtiKzldPWNbOV07YVtiKzEwXT1jWzEwXTthW2IrMTFdPWNbMTFdO2FbYisxMl09Y1sxMl07YVtiKzEzXT1jWzEzXTthW2IrMTRdPWNbMTRdO2FbYisxNV09Y1sxNV07cmV0dXJuIGF9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKCl7VEhSRUUud2FybihcIlRIUkVFLk1hdHJpeDQ6IC5nZXRQb3NpdGlvbigpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBWZWN0b3IzLnNldEZyb21NYXRyaXhQb3NpdGlvbiggbWF0cml4ICkgaW5zdGVhZC5cIik7dmFyIGI9XG50aGlzLmVsZW1lbnRzO3JldHVybiBhLnNldChiWzEyXSxiWzEzXSxiWzE0XSl9fSgpLHNldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudHM7YlsxMl09YS54O2JbMTNdPWEueTtiWzE0XT1hLno7cmV0dXJuIHRoaXN9LGdldEludmVyc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVsZW1lbnRzLGQ9YS5lbGVtZW50cyxlPWRbMF0sZj1kWzRdLGc9ZFs4XSxoPWRbMTJdLGs9ZFsxXSxsPWRbNV0scD1kWzldLHE9ZFsxM10sbj1kWzJdLHQ9ZFs2XSxyPWRbMTBdLHM9ZFsxNF0sdT1kWzNdLHY9ZFs3XSx4PWRbMTFdLGQ9ZFsxNV07Y1swXT1wKnMqdi1xKnIqditxKnQqeC1sKnMqeC1wKnQqZCtsKnIqZDtjWzRdPWgqcip2LWcqcyp2LWgqdCp4K2Yqcyp4K2cqdCpkLWYqcipkO2NbOF09ZypxKnYtaCpwKnYraCpsKngtZipxKngtZypsKmQrZipwKmQ7Y1sxMl09aCpwKnQtZypxKnQtaCpsKnIrZipxKnIrZypsKnMtZipwKnM7Y1sxXT1xKnIqdS1wKnMqdS1xKm4qeCtcbmsqcyp4K3AqbipkLWsqcipkO2NbNV09ZypzKnUtaCpyKnUraCpuKngtZSpzKngtZypuKmQrZSpyKmQ7Y1s5XT1oKnAqdS1nKnEqdS1oKmsqeCtlKnEqeCtnKmsqZC1lKnAqZDtjWzEzXT1nKnEqbi1oKnAqbitoKmsqci1lKnEqci1nKmsqcytlKnAqcztjWzJdPWwqcyp1LXEqdCp1K3Eqbip2LWsqcyp2LWwqbipkK2sqdCpkO2NbNl09aCp0KnUtZipzKnUtaCpuKnYrZSpzKnYrZipuKmQtZSp0KmQ7Y1sxMF09ZipxKnUtaCpsKnUraCprKnYtZSpxKnYtZiprKmQrZSpsKmQ7Y1sxNF09aCpsKm4tZipxKm4taCprKnQrZSpxKnQrZiprKnMtZSpsKnM7Y1szXT1wKnQqdS1sKnIqdS1wKm4qditrKnIqditsKm4qeC1rKnQqeDtjWzddPWYqcip1LWcqdCp1K2cqbip2LWUqcip2LWYqbip4K2UqdCp4O2NbMTFdPWcqbCp1LWYqcCp1LWcqayp2K2UqcCp2K2Yqayp4LWUqbCp4O2NbMTVdPWYqcCpuLWcqbCpuK2cqayp0LWUqcCp0LWYqaypyK2UqbCpyO2M9ZSpjWzBdK2sqY1s0XStuKmNbOF0rdSpjWzEyXTtcbmlmKDA9PWMpe2lmKGIpdGhyb3cgRXJyb3IoXCJUSFJFRS5NYXRyaXg0LmdldEludmVyc2UoKTogY2FuJ3QgaW52ZXJ0IG1hdHJpeCwgZGV0ZXJtaW5hbnQgaXMgMFwiKTtUSFJFRS53YXJuKFwiVEhSRUUuTWF0cml4NC5nZXRJbnZlcnNlKCk6IGNhbid0IGludmVydCBtYXRyaXgsIGRldGVybWluYW50IGlzIDBcIik7dGhpcy5pZGVudGl0eSgpO3JldHVybiB0aGlzfXRoaXMubXVsdGlwbHlTY2FsYXIoMS9jKTtyZXR1cm4gdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKGEpe1RIUkVFLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxyb3RhdGVYOmZ1bmN0aW9uKGEpe1RIUkVFLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZVgoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX0scm90YXRlWTpmdW5jdGlvbihhKXtUSFJFRS5lcnJvcihcIlRIUkVFLk1hdHJpeDQ6IC5yb3RhdGVZKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9LHJvdGF0ZVo6ZnVuY3Rpb24oYSl7VEhSRUUuZXJyb3IoXCJUSFJFRS5NYXRyaXg0OiAucm90YXRlWigpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxcbnJvdGF0ZUJ5QXhpczpmdW5jdGlvbihhLGIpe1RIUkVFLmVycm9yKFwiVEhSRUUuTWF0cml4NDogLnJvdGF0ZUJ5QXhpcygpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfSxzY2FsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnRzLGM9YS54LGQ9YS55O2E9YS56O2JbMF0qPWM7Yls0XSo9ZDtiWzhdKj1hO2JbMV0qPWM7Yls1XSo9ZDtiWzldKj1hO2JbMl0qPWM7Yls2XSo9ZDtiWzEwXSo9YTtiWzNdKj1jO2JbN10qPWQ7YlsxMV0qPWE7cmV0dXJuIHRoaXN9LGdldE1heFNjYWxlT25BeGlzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50cztyZXR1cm4gTWF0aC5zcXJ0KE1hdGgubWF4KGFbMF0qYVswXSthWzFdKmFbMV0rYVsyXSphWzJdLE1hdGgubWF4KGFbNF0qYVs0XSthWzVdKmFbNV0rYVs2XSphWzZdLGFbOF0qYVs4XSthWzldKmFbOV0rYVsxMF0qYVsxMF0pKSl9LG1ha2VUcmFuc2xhdGlvbjpmdW5jdGlvbihhLGIsYyl7dGhpcy5zZXQoMSwwLDAsYSwwLDEsMCxiLDAsMCwxLFxuYywwLDAsMCwxKTtyZXR1cm4gdGhpc30sbWFrZVJvdGF0aW9uWDpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcyhhKTthPU1hdGguc2luKGEpO3RoaXMuc2V0KDEsMCwwLDAsMCxiLC1hLDAsMCxhLGIsMCwwLDAsMCwxKTtyZXR1cm4gdGhpc30sbWFrZVJvdGF0aW9uWTpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcyhhKTthPU1hdGguc2luKGEpO3RoaXMuc2V0KGIsMCxhLDAsMCwxLDAsMCwtYSwwLGIsMCwwLDAsMCwxKTtyZXR1cm4gdGhpc30sbWFrZVJvdGF0aW9uWjpmdW5jdGlvbihhKXt2YXIgYj1NYXRoLmNvcyhhKTthPU1hdGguc2luKGEpO3RoaXMuc2V0KGIsLWEsMCwwLGEsYiwwLDAsMCwwLDEsMCwwLDAsMCwxKTtyZXR1cm4gdGhpc30sbWFrZVJvdGF0aW9uQXhpczpmdW5jdGlvbihhLGIpe3ZhciBjPU1hdGguY29zKGIpLGQ9TWF0aC5zaW4oYiksZT0xLWMsZj1hLngsZz1hLnksaD1hLnosaz1lKmYsbD1lKmc7dGhpcy5zZXQoaypmK2MsaypnLWQqaCxrKmgrZCpnLDAsaypnK1xuZCpoLGwqZytjLGwqaC1kKmYsMCxrKmgtZCpnLGwqaCtkKmYsZSpoKmgrYywwLDAsMCwwLDEpO3JldHVybiB0aGlzfSxtYWtlU2NhbGU6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc2V0KGEsMCwwLDAsMCxiLDAsMCwwLDAsYywwLDAsMCwwLDEpO3JldHVybiB0aGlzfSxjb21wb3NlOmZ1bmN0aW9uKGEsYixjKXt0aGlzLm1ha2VSb3RhdGlvbkZyb21RdWF0ZXJuaW9uKGIpO3RoaXMuc2NhbGUoYyk7dGhpcy5zZXRQb3NpdGlvbihhKTtyZXR1cm4gdGhpc30sZGVjb21wb3NlOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuTWF0cml4NDtyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe3ZhciBmPXRoaXMuZWxlbWVudHMsZz1hLnNldChmWzBdLGZbMV0sZlsyXSkubGVuZ3RoKCksaD1hLnNldChmWzRdLGZbNV0sZls2XSkubGVuZ3RoKCksaz1hLnNldChmWzhdLGZbOV0sZlsxMF0pLmxlbmd0aCgpOzA+dGhpcy5kZXRlcm1pbmFudCgpJiYoZz0tZyk7Yy54PWZbMTJdO1xuYy55PWZbMTNdO2Muej1mWzE0XTtiLmVsZW1lbnRzLnNldCh0aGlzLmVsZW1lbnRzKTtjPTEvZzt2YXIgZj0xL2gsbD0xL2s7Yi5lbGVtZW50c1swXSo9YztiLmVsZW1lbnRzWzFdKj1jO2IuZWxlbWVudHNbMl0qPWM7Yi5lbGVtZW50c1s0XSo9ZjtiLmVsZW1lbnRzWzVdKj1mO2IuZWxlbWVudHNbNl0qPWY7Yi5lbGVtZW50c1s4XSo9bDtiLmVsZW1lbnRzWzldKj1sO2IuZWxlbWVudHNbMTBdKj1sO2Quc2V0RnJvbVJvdGF0aW9uTWF0cml4KGIpO2UueD1nO2UueT1oO2Uuej1rO3JldHVybiB0aGlzfX0oKSxtYWtlRnJ1c3R1bTpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcy5lbGVtZW50cztnWzBdPTIqZS8oYi1hKTtnWzRdPTA7Z1s4XT0oYithKS8oYi1hKTtnWzEyXT0wO2dbMV09MDtnWzVdPTIqZS8oZC1jKTtnWzldPShkK2MpLyhkLWMpO2dbMTNdPTA7Z1syXT0wO2dbNl09MDtnWzEwXT0tKGYrZSkvKGYtZSk7Z1sxNF09LTIqZiplLyhmLWUpO2dbM109MDtnWzddPTA7XG5nWzExXT0tMTtnWzE1XT0wO3JldHVybiB0aGlzfSxtYWtlUGVyc3BlY3RpdmU6ZnVuY3Rpb24oYSxiLGMsZCl7YT1jKk1hdGgudGFuKFRIUkVFLk1hdGguZGVnVG9SYWQoLjUqYSkpO3ZhciBlPS1hO3JldHVybiB0aGlzLm1ha2VGcnVzdHVtKGUqYixhKmIsZSxhLGMsZCl9LG1ha2VPcnRob2dyYXBoaWM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMuZWxlbWVudHMsaD1iLWEsaz1jLWQsbD1mLWU7Z1swXT0yL2g7Z1s0XT0wO2dbOF09MDtnWzEyXT0tKChiK2EpL2gpO2dbMV09MDtnWzVdPTIvaztnWzldPTA7Z1sxM109LSgoYytkKS9rKTtnWzJdPTA7Z1s2XT0wO2dbMTBdPS0yL2w7Z1sxNF09LSgoZitlKS9sKTtnWzNdPTA7Z1s3XT0wO2dbMTFdPTA7Z1sxNV09MTtyZXR1cm4gdGhpc30sZnJvbUFycmF5OmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudHMuc2V0KGEpO3JldHVybiB0aGlzfSx0b0FycmF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50cztyZXR1cm5bYVswXSxcbmFbMV0sYVsyXSxhWzNdLGFbNF0sYVs1XSxhWzZdLGFbN10sYVs4XSxhWzldLGFbMTBdLGFbMTFdLGFbMTJdLGFbMTNdLGFbMTRdLGFbMTVdXX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLk1hdHJpeDQpLmZyb21BcnJheSh0aGlzLmVsZW1lbnRzKX19O1RIUkVFLlJheT1mdW5jdGlvbihhLGIpe3RoaXMub3JpZ2luPXZvaWQgMCE9PWE/YTpuZXcgVEhSRUUuVmVjdG9yMzt0aGlzLmRpcmVjdGlvbj12b2lkIDAhPT1iP2I6bmV3IFRIUkVFLlZlY3RvcjN9O1xuVEhSRUUuUmF5LnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuUmF5LHNldDpmdW5jdGlvbihhLGIpe3RoaXMub3JpZ2luLmNvcHkoYSk7dGhpcy5kaXJlY3Rpb24uY29weShiKTtyZXR1cm4gdGhpc30sY29weTpmdW5jdGlvbihhKXt0aGlzLm9yaWdpbi5jb3B5KGEub3JpZ2luKTt0aGlzLmRpcmVjdGlvbi5jb3B5KGEuZGlyZWN0aW9uKTtyZXR1cm4gdGhpc30sYXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYnx8bmV3IFRIUkVFLlZlY3RvcjMpLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGEpLmFkZCh0aGlzLm9yaWdpbil9LHJlY2FzdDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiKXt0aGlzLm9yaWdpbi5jb3B5KHRoaXMuYXQoYixhKSk7cmV0dXJuIHRoaXN9fSgpLGNsb3Nlc3RQb2ludFRvUG9pbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxuZXcgVEhSRUUuVmVjdG9yMztjLnN1YlZlY3RvcnMoYSx0aGlzLm9yaWdpbik7XG52YXIgZD1jLmRvdCh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIDA+ZD9jLmNvcHkodGhpcy5vcmlnaW4pOmMuY29weSh0aGlzLmRpcmVjdGlvbikubXVsdGlwbHlTY2FsYXIoZCkuYWRkKHRoaXMub3JpZ2luKX0sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWEuc3ViVmVjdG9ycyhiLHRoaXMub3JpZ2luKS5kb3QodGhpcy5kaXJlY3Rpb24pO2lmKDA+YylyZXR1cm4gdGhpcy5vcmlnaW4uZGlzdGFuY2VUbyhiKTthLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGMpLmFkZCh0aGlzLm9yaWdpbik7cmV0dXJuIGEuZGlzdGFuY2VUbyhiKX19KCksZGlzdGFuY2VTcVRvU2VnbWVudDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjMsYz1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyl7YS5jb3B5KGQpLmFkZChlKS5tdWx0aXBseVNjYWxhciguNSk7XG5iLmNvcHkoZSkuc3ViKGQpLm5vcm1hbGl6ZSgpO2MuY29weSh0aGlzLm9yaWdpbikuc3ViKGEpO3ZhciBoPS41KmQuZGlzdGFuY2VUbyhlKSxrPS10aGlzLmRpcmVjdGlvbi5kb3QoYiksbD1jLmRvdCh0aGlzLmRpcmVjdGlvbikscD0tYy5kb3QoYikscT1jLmxlbmd0aFNxKCksbj1NYXRoLmFicygxLWsqayksdDswPG4/KGQ9aypwLWwsZT1rKmwtcCx0PWgqbiwwPD1kP2U+PS10P2U8PXQ/KGg9MS9uLGQqPWgsZSo9aCxrPWQqKGQrayplKzIqbCkrZSooaypkK2UrMipwKStxKTooZT1oLGQ9TWF0aC5tYXgoMCwtKGsqZStsKSksaz0tZCpkK2UqKGUrMipwKStxKTooZT0taCxkPU1hdGgubWF4KDAsLShrKmUrbCkpLGs9LWQqZCtlKihlKzIqcCkrcSk6ZTw9LXQ/KGQ9TWF0aC5tYXgoMCwtKC1rKmgrbCkpLGU9MDxkPy1oOk1hdGgubWluKE1hdGgubWF4KC1oLC1wKSxoKSxrPS1kKmQrZSooZSsyKnApK3EpOmU8PXQ/KGQ9MCxlPU1hdGgubWluKE1hdGgubWF4KC1oLC1wKSxoKSxrPWUqKGUrXG4yKnApK3EpOihkPU1hdGgubWF4KDAsLShrKmgrbCkpLGU9MDxkP2g6TWF0aC5taW4oTWF0aC5tYXgoLWgsLXApLGgpLGs9LWQqZCtlKihlKzIqcCkrcSkpOihlPTA8az8taDpoLGQ9TWF0aC5tYXgoMCwtKGsqZStsKSksaz0tZCpkK2UqKGUrMipwKStxKTtmJiZmLmNvcHkodGhpcy5kaXJlY3Rpb24pLm11bHRpcGx5U2NhbGFyKGQpLmFkZCh0aGlzLm9yaWdpbik7ZyYmZy5jb3B5KGIpLm11bHRpcGx5U2NhbGFyKGUpLmFkZChhKTtyZXR1cm4ga319KCksaXNJbnRlcnNlY3Rpb25TcGhlcmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGlzdGFuY2VUb1BvaW50KGEuY2VudGVyKTw9YS5yYWRpdXN9LGludGVyc2VjdFNwaGVyZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiLGMpe2Euc3ViVmVjdG9ycyhiLmNlbnRlcix0aGlzLm9yaWdpbik7dmFyIGQ9YS5kb3QodGhpcy5kaXJlY3Rpb24pLGU9YS5kb3QoYSktZCpkLGY9Yi5yYWRpdXMqYi5yYWRpdXM7XG5pZihlPmYpcmV0dXJuIG51bGw7Zj1NYXRoLnNxcnQoZi1lKTtlPWQtZjtkKz1mO3JldHVybiAwPmUmJjA+ZD9udWxsOjA+ZT90aGlzLmF0KGQsYyk6dGhpcy5hdChlLGMpfX0oKSxpc0ludGVyc2VjdGlvblBsYW5lOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGlzdGFuY2VUb1BvaW50KHRoaXMub3JpZ2luKTtyZXR1cm4gMD09PWJ8fDA+YS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKSpiPyEwOiExfSxkaXN0YW5jZVRvUGxhbmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub3JtYWwuZG90KHRoaXMuZGlyZWN0aW9uKTtpZigwPT1iKXJldHVybiAwPT1hLmRpc3RhbmNlVG9Qb2ludCh0aGlzLm9yaWdpbik/MDpudWxsO2E9LSh0aGlzLm9yaWdpbi5kb3QoYS5ub3JtYWwpK2EuY29uc3RhbnQpL2I7cmV0dXJuIDA8PWE/YTpudWxsfSxpbnRlcnNlY3RQbGFuZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGlzdGFuY2VUb1BsYW5lKGEpO3JldHVybiBudWxsPT09Yz9udWxsOnRoaXMuYXQoYyxiKX0sXG5pc0ludGVyc2VjdGlvbkJveDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gbnVsbCE9PXRoaXMuaW50ZXJzZWN0Qm94KGIsYSl9fSgpLGludGVyc2VjdEJveDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc7ZD0xL3RoaXMuZGlyZWN0aW9uLng7Zj0xL3RoaXMuZGlyZWN0aW9uLnk7Zz0xL3RoaXMuZGlyZWN0aW9uLno7dmFyIGg9dGhpcy5vcmlnaW47MDw9ZD8oYz0oYS5taW4ueC1oLngpKmQsZCo9YS5tYXgueC1oLngpOihjPShhLm1heC54LWgueCkqZCxkKj1hLm1pbi54LWgueCk7MDw9Zj8oZT0oYS5taW4ueS1oLnkpKmYsZio9YS5tYXgueS1oLnkpOihlPShhLm1heC55LWgueSkqZixmKj1hLm1pbi55LWgueSk7aWYoYz5mfHxlPmQpcmV0dXJuIG51bGw7aWYoZT5jfHxjIT09YyljPWU7aWYoZjxkfHxkIT09ZClkPWY7MDw9Zz8oZT0oYS5taW4uei1oLnopKmcsZyo9YS5tYXguei1oLnopOihlPShhLm1heC56LWgueikqXG5nLGcqPWEubWluLnotaC56KTtpZihjPmd8fGU+ZClyZXR1cm4gbnVsbDtpZihlPmN8fGMhPT1jKWM9ZTtpZihnPGR8fGQhPT1kKWQ9ZztyZXR1cm4gMD5kP251bGw6dGhpcy5hdCgwPD1jP2M6ZCxiKX0saW50ZXJzZWN0VHJpYW5nbGU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiPW5ldyBUSFJFRS5WZWN0b3IzLGM9bmV3IFRIUkVFLlZlY3RvcjMsZD1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCxrKXtiLnN1YlZlY3RvcnMoZixlKTtjLnN1YlZlY3RvcnMoZyxlKTtkLmNyb3NzVmVjdG9ycyhiLGMpO2Y9dGhpcy5kaXJlY3Rpb24uZG90KGQpO2lmKDA8Zil7aWYoaClyZXR1cm4gbnVsbDtoPTF9ZWxzZSBpZigwPmYpaD0tMSxmPS1mO2Vsc2UgcmV0dXJuIG51bGw7YS5zdWJWZWN0b3JzKHRoaXMub3JpZ2luLGUpO2U9aCp0aGlzLmRpcmVjdGlvbi5kb3QoYy5jcm9zc1ZlY3RvcnMoYSxjKSk7aWYoMD5lKXJldHVybiBudWxsO2c9aCp0aGlzLmRpcmVjdGlvbi5kb3QoYi5jcm9zcyhhKSk7XG5pZigwPmd8fGUrZz5mKXJldHVybiBudWxsO2U9LWgqYS5kb3QoZCk7cmV0dXJuIDA+ZT9udWxsOnRoaXMuYXQoZS9mLGspfX0oKSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24oYSl7dGhpcy5kaXJlY3Rpb24uYWRkKHRoaXMub3JpZ2luKS5hcHBseU1hdHJpeDQoYSk7dGhpcy5vcmlnaW4uYXBwbHlNYXRyaXg0KGEpO3RoaXMuZGlyZWN0aW9uLnN1Yih0aGlzLm9yaWdpbik7dGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCk7cmV0dXJuIHRoaXN9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gYS5vcmlnaW4uZXF1YWxzKHRoaXMub3JpZ2luKSYmYS5kaXJlY3Rpb24uZXF1YWxzKHRoaXMuZGlyZWN0aW9uKX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLlJheSkuY29weSh0aGlzKX19O1RIUkVFLlNwaGVyZT1mdW5jdGlvbihhLGIpe3RoaXMuY2VudGVyPXZvaWQgMCE9PWE/YTpuZXcgVEhSRUUuVmVjdG9yMzt0aGlzLnJhZGl1cz12b2lkIDAhPT1iP2I6MH07XG5USFJFRS5TcGhlcmUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5TcGhlcmUsc2V0OmZ1bmN0aW9uKGEsYil7dGhpcy5jZW50ZXIuY29weShhKTt0aGlzLnJhZGl1cz1iO3JldHVybiB0aGlzfSxzZXRGcm9tUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLkJveDM7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5jZW50ZXI7dm9pZCAwIT09Yz9kLmNvcHkoYyk6YS5zZXRGcm9tUG9pbnRzKGIpLmNlbnRlcihkKTtmb3IodmFyIGU9MCxmPTAsZz1iLmxlbmd0aDtmPGc7ZisrKWU9TWF0aC5tYXgoZSxkLmRpc3RhbmNlVG9TcXVhcmVkKGJbZl0pKTt0aGlzLnJhZGl1cz1NYXRoLnNxcnQoZSk7cmV0dXJuIHRoaXN9fSgpLGNvcHk6ZnVuY3Rpb24oYSl7dGhpcy5jZW50ZXIuY29weShhLmNlbnRlcik7dGhpcy5yYWRpdXM9YS5yYWRpdXM7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIDA+PXRoaXMucmFkaXVzfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc3RhbmNlVG9TcXVhcmVkKHRoaXMuY2VudGVyKTw9XG50aGlzLnJhZGl1cyp0aGlzLnJhZGl1c30sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc3RhbmNlVG8odGhpcy5jZW50ZXIpLXRoaXMucmFkaXVzfSxpbnRlcnNlY3RzU3BoZXJlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmFkaXVzK2EucmFkaXVzO3JldHVybiBhLmNlbnRlci5kaXN0YW5jZVRvU3F1YXJlZCh0aGlzLmNlbnRlcik8PWIqYn0sY2xhbXBQb2ludDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY2VudGVyLmRpc3RhbmNlVG9TcXVhcmVkKGEpLGQ9Ynx8bmV3IFRIUkVFLlZlY3RvcjM7ZC5jb3B5KGEpO2M+dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXMmJihkLnN1Yih0aGlzLmNlbnRlcikubm9ybWFsaXplKCksZC5tdWx0aXBseVNjYWxhcih0aGlzLnJhZGl1cykuYWRkKHRoaXMuY2VudGVyKSk7cmV0dXJuIGR9LGdldEJvdW5kaW5nQm94OmZ1bmN0aW9uKGEpe2E9YXx8bmV3IFRIUkVFLkJveDM7YS5zZXQodGhpcy5jZW50ZXIsdGhpcy5jZW50ZXIpO2EuZXhwYW5kQnlTY2FsYXIodGhpcy5yYWRpdXMpO1xucmV0dXJuIGF9LGFwcGx5TWF0cml4NDpmdW5jdGlvbihhKXt0aGlzLmNlbnRlci5hcHBseU1hdHJpeDQoYSk7dGhpcy5yYWRpdXMqPWEuZ2V0TWF4U2NhbGVPbkF4aXMoKTtyZXR1cm4gdGhpc30sdHJhbnNsYXRlOmZ1bmN0aW9uKGEpe3RoaXMuY2VudGVyLmFkZChhKTtyZXR1cm4gdGhpc30sZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNlbnRlci5lcXVhbHModGhpcy5jZW50ZXIpJiZhLnJhZGl1cz09PXRoaXMucmFkaXVzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgVEhSRUUuU3BoZXJlKS5jb3B5KHRoaXMpfX07XG5USFJFRS5GcnVzdHVtPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnBsYW5lcz1bdm9pZCAwIT09YT9hOm5ldyBUSFJFRS5QbGFuZSx2b2lkIDAhPT1iP2I6bmV3IFRIUkVFLlBsYW5lLHZvaWQgMCE9PWM/YzpuZXcgVEhSRUUuUGxhbmUsdm9pZCAwIT09ZD9kOm5ldyBUSFJFRS5QbGFuZSx2b2lkIDAhPT1lP2U6bmV3IFRIUkVFLlBsYW5lLHZvaWQgMCE9PWY/ZjpuZXcgVEhSRUUuUGxhbmVdfTtcblRIUkVFLkZydXN0dW0ucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5GcnVzdHVtLHNldDpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcy5wbGFuZXM7Z1swXS5jb3B5KGEpO2dbMV0uY29weShiKTtnWzJdLmNvcHkoYyk7Z1szXS5jb3B5KGQpO2dbNF0uY29weShlKTtnWzVdLmNvcHkoZik7cmV0dXJuIHRoaXN9LGNvcHk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucGxhbmVzLGM9MDs2PmM7YysrKWJbY10uY29weShhLnBsYW5lc1tjXSk7cmV0dXJuIHRoaXN9LHNldEZyb21NYXRyaXg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wbGFuZXMsYz1hLmVsZW1lbnRzO2E9Y1swXTt2YXIgZD1jWzFdLGU9Y1syXSxmPWNbM10sZz1jWzRdLGg9Y1s1XSxrPWNbNl0sbD1jWzddLHA9Y1s4XSxxPWNbOV0sbj1jWzEwXSx0PWNbMTFdLHI9Y1sxMl0scz1jWzEzXSx1PWNbMTRdLGM9Y1sxNV07YlswXS5zZXRDb21wb25lbnRzKGYtYSxsLWcsdC1wLGMtcikubm9ybWFsaXplKCk7YlsxXS5zZXRDb21wb25lbnRzKGYrXG5hLGwrZyx0K3AsYytyKS5ub3JtYWxpemUoKTtiWzJdLnNldENvbXBvbmVudHMoZitkLGwraCx0K3EsYytzKS5ub3JtYWxpemUoKTtiWzNdLnNldENvbXBvbmVudHMoZi1kLGwtaCx0LXEsYy1zKS5ub3JtYWxpemUoKTtiWzRdLnNldENvbXBvbmVudHMoZi1lLGwtayx0LW4sYy11KS5ub3JtYWxpemUoKTtiWzVdLnNldENvbXBvbmVudHMoZitlLGwrayx0K24sYyt1KS5ub3JtYWxpemUoKTtyZXR1cm4gdGhpc30saW50ZXJzZWN0c09iamVjdDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5TcGhlcmU7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuZ2VvbWV0cnk7bnVsbD09PWMuYm91bmRpbmdTcGhlcmUmJmMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7YS5jb3B5KGMuYm91bmRpbmdTcGhlcmUpO2EuYXBwbHlNYXRyaXg0KGIubWF0cml4V29ybGQpO3JldHVybiB0aGlzLmludGVyc2VjdHNTcGhlcmUoYSl9fSgpLGludGVyc2VjdHNTcGhlcmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wbGFuZXMsXG5jPWEuY2VudGVyO2E9LWEucmFkaXVzO2Zvcih2YXIgZD0wOzY+ZDtkKyspaWYoYltkXS5kaXN0YW5jZVRvUG9pbnQoYyk8YSlyZXR1cm4hMTtyZXR1cm4hMH0saW50ZXJzZWN0c0JveDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGMpe2Zvcih2YXIgZD10aGlzLnBsYW5lcyxlPTA7Nj5lO2UrKyl7dmFyIGY9ZFtlXTthLng9MDxmLm5vcm1hbC54P2MubWluLng6Yy5tYXgueDtiLng9MDxmLm5vcm1hbC54P2MubWF4Lng6Yy5taW4ueDthLnk9MDxmLm5vcm1hbC55P2MubWluLnk6Yy5tYXgueTtiLnk9MDxmLm5vcm1hbC55P2MubWF4Lnk6Yy5taW4ueTthLno9MDxmLm5vcm1hbC56P2MubWluLno6Yy5tYXguejtiLno9MDxmLm5vcm1hbC56P2MubWF4Lno6Yy5taW4uejt2YXIgZz1mLmRpc3RhbmNlVG9Qb2ludChhKSxmPWYuZGlzdGFuY2VUb1BvaW50KGIpO2lmKDA+ZyYmMD5mKXJldHVybiExfXJldHVybiEwfX0oKSxcbmNvbnRhaW5zUG9pbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMucGxhbmVzLGM9MDs2PmM7YysrKWlmKDA+YltjXS5kaXN0YW5jZVRvUG9pbnQoYSkpcmV0dXJuITE7cmV0dXJuITB9LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBUSFJFRS5GcnVzdHVtKS5jb3B5KHRoaXMpfX07VEhSRUUuUGxhbmU9ZnVuY3Rpb24oYSxiKXt0aGlzLm5vcm1hbD12b2lkIDAhPT1hP2E6bmV3IFRIUkVFLlZlY3RvcjMoMSwwLDApO3RoaXMuY29uc3RhbnQ9dm9pZCAwIT09Yj9iOjB9O1xuVEhSRUUuUGxhbmUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5QbGFuZSxzZXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLm5vcm1hbC5jb3B5KGEpO3RoaXMuY29uc3RhbnQ9YjtyZXR1cm4gdGhpc30sc2V0Q29tcG9uZW50czpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLm5vcm1hbC5zZXQoYSxiLGMpO3RoaXMuY29uc3RhbnQ9ZDtyZXR1cm4gdGhpc30sc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLm5vcm1hbC5jb3B5KGEpO3RoaXMuY29uc3RhbnQ9LWIuZG90KHRoaXMubm9ybWFsKTtyZXR1cm4gdGhpc30sc2V0RnJvbUNvcGxhbmFyUG9pbnRzOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYyxkLGUpe2Q9YS5zdWJWZWN0b3JzKGUsZCkuY3Jvc3MoYi5zdWJWZWN0b3JzKGMsZCkpLm5vcm1hbGl6ZSgpO3RoaXMuc2V0RnJvbU5vcm1hbEFuZENvcGxhbmFyUG9pbnQoZCxcbmMpO3JldHVybiB0aGlzfX0oKSxjb3B5OmZ1bmN0aW9uKGEpe3RoaXMubm9ybWFsLmNvcHkoYS5ub3JtYWwpO3RoaXMuY29uc3RhbnQ9YS5jb25zdGFudDtyZXR1cm4gdGhpc30sbm9ybWFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9MS90aGlzLm5vcm1hbC5sZW5ndGgoKTt0aGlzLm5vcm1hbC5tdWx0aXBseVNjYWxhcihhKTt0aGlzLmNvbnN0YW50Kj1hO3JldHVybiB0aGlzfSxuZWdhdGU6ZnVuY3Rpb24oKXt0aGlzLmNvbnN0YW50Kj0tMTt0aGlzLm5vcm1hbC5uZWdhdGUoKTtyZXR1cm4gdGhpc30sZGlzdGFuY2VUb1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vcm1hbC5kb3QoYSkrdGhpcy5jb25zdGFudH0sZGlzdGFuY2VUb1NwaGVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kaXN0YW5jZVRvUG9pbnQoYS5jZW50ZXIpLWEucmFkaXVzfSxwcm9qZWN0UG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vcnRob1BvaW50KGEsYikuc3ViKGEpLm5lZ2F0ZSgpfSxvcnRob1BvaW50OmZ1bmN0aW9uKGEsXG5iKXt2YXIgYz10aGlzLmRpc3RhbmNlVG9Qb2ludChhKTtyZXR1cm4oYnx8bmV3IFRIUkVFLlZlY3RvcjMpLmNvcHkodGhpcy5ub3JtYWwpLm11bHRpcGx5U2NhbGFyKGMpfSxpc0ludGVyc2VjdGlvbkxpbmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5kaXN0YW5jZVRvUG9pbnQoYS5zdGFydCk7YT10aGlzLmRpc3RhbmNlVG9Qb2ludChhLmVuZCk7cmV0dXJuIDA+YiYmMDxhfHwwPmEmJjA8Yn0saW50ZXJzZWN0TGluZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWN8fG5ldyBUSFJFRS5WZWN0b3IzLGU9Yi5kZWx0YShhKSxmPXRoaXMubm9ybWFsLmRvdChlKTtpZigwPT1mKXtpZigwPT10aGlzLmRpc3RhbmNlVG9Qb2ludChiLnN0YXJ0KSlyZXR1cm4gZC5jb3B5KGIuc3RhcnQpfWVsc2UgcmV0dXJuIGY9LShiLnN0YXJ0LmRvdCh0aGlzLm5vcm1hbCkrdGhpcy5jb25zdGFudCkvZiwwPmZ8fDE8Zj92b2lkIDA6ZC5jb3B5KGUpLm11bHRpcGx5U2NhbGFyKGYpLmFkZChiLnN0YXJ0KX19KCksXG5jb3BsYW5hclBvaW50OmZ1bmN0aW9uKGEpe3JldHVybihhfHxuZXcgVEhSRUUuVmVjdG9yMykuY29weSh0aGlzLm5vcm1hbCkubXVsdGlwbHlTY2FsYXIoLXRoaXMuY29uc3RhbnQpfSxhcHBseU1hdHJpeDQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiPW5ldyBUSFJFRS5WZWN0b3IzLGM9bmV3IFRIUkVFLk1hdHJpeDM7cmV0dXJuIGZ1bmN0aW9uKGQsZSl7dmFyIGY9ZXx8Yy5nZXROb3JtYWxNYXRyaXgoZCksZj1hLmNvcHkodGhpcy5ub3JtYWwpLmFwcGx5TWF0cml4MyhmKSxnPXRoaXMuY29wbGFuYXJQb2ludChiKTtnLmFwcGx5TWF0cml4NChkKTt0aGlzLnNldEZyb21Ob3JtYWxBbmRDb3BsYW5hclBvaW50KGYsZyk7cmV0dXJuIHRoaXN9fSgpLHRyYW5zbGF0ZTpmdW5jdGlvbihhKXt0aGlzLmNvbnN0YW50LT1hLmRvdCh0aGlzLm5vcm1hbCk7cmV0dXJuIHRoaXN9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub3JtYWwuZXF1YWxzKHRoaXMubm9ybWFsKSYmXG5hLmNvbnN0YW50PT10aGlzLmNvbnN0YW50fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybihuZXcgVEhSRUUuUGxhbmUpLmNvcHkodGhpcyl9fTtcblRIUkVFLk1hdGg9e2dlbmVyYXRlVVVJRDpmdW5jdGlvbigpe3ZhciBhPVwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIi5zcGxpdChcIlwiKSxiPUFycmF5KDM2KSxjPTAsZDtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9MDszNj5lO2UrKyk4PT1lfHwxMz09ZXx8MTg9PWV8fDIzPT1lP2JbZV09XCItXCI6MTQ9PWU/YltlXT1cIjRcIjooMj49YyYmKGM9MzM1NTQ0MzIrMTY3NzcyMTYqTWF0aC5yYW5kb20oKXwwKSxkPWMmMTUsYz4+PTQsYltlXT1hWzE5PT1lP2QmM3w4OmRdKTtyZXR1cm4gYi5qb2luKFwiXCIpfX0oKSxjbGFtcDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGE8Yj9iOmE+Yz9jOmF9LGNsYW1wQm90dG9tOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj9iOmF9LG1hcExpbmVhcjpmdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiBkKyhhLWIpKihlLWQpLyhjLWIpfSxzbW9vdGhzdGVwOmZ1bmN0aW9uKGEsYixjKXtpZihhPD1cbmIpcmV0dXJuIDA7aWYoYT49YylyZXR1cm4gMTthPShhLWIpLyhjLWIpO3JldHVybiBhKmEqKDMtMiphKX0sc21vb3RoZXJzdGVwOmZ1bmN0aW9uKGEsYixjKXtpZihhPD1iKXJldHVybiAwO2lmKGE+PWMpcmV0dXJuIDE7YT0oYS1iKS8oYy1iKTtyZXR1cm4gYSphKmEqKGEqKDYqYS0xNSkrMTApfSxyYW5kb20xNjpmdW5jdGlvbigpe3JldHVybig2NTI4MCpNYXRoLnJhbmRvbSgpKzI1NSpNYXRoLnJhbmRvbSgpKS82NTUzNX0scmFuZEludDpmdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLmZsb29yKHRoaXMucmFuZEZsb2F0KGEsYikpfSxyYW5kRmxvYXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYStNYXRoLnJhbmRvbSgpKihiLWEpfSxyYW5kRmxvYXRTcHJlYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEqKC41LU1hdGgucmFuZG9tKCkpfSxkZWdUb1JhZDpmdW5jdGlvbigpe3ZhciBhPU1hdGguUEkvMTgwO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYiphfX0oKSxyYWRUb0RlZzpmdW5jdGlvbigpe3ZhciBhPVxuMTgwL01hdGguUEk7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiKmF9fSgpLGlzUG93ZXJPZlR3bzpmdW5jdGlvbihhKXtyZXR1cm4gMD09PShhJmEtMSkmJjAhPT1hfSxuZXh0UG93ZXJPZlR3bzpmdW5jdGlvbihhKXthLS07YXw9YT4+MTthfD1hPj4yO2F8PWE+PjQ7YXw9YT4+ODthfD1hPj4xNjthKys7cmV0dXJuIGF9fTtcblRIUkVFLlNwbGluZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjLGQsZSxmLGcpe2E9LjUqKGMtYSk7ZD0uNSooZC1iKTtyZXR1cm4oMiooYi1jKSthK2QpKmcrKC0zKihiLWMpLTIqYS1kKSpmK2EqZStifXRoaXMucG9pbnRzPWE7dmFyIGM9W10sZD17eDowLHk6MCx6OjB9LGUsZixnLGgsayxsLHAscSxuO3RoaXMuaW5pdEZyb21BcnJheT1mdW5jdGlvbihhKXt0aGlzLnBvaW50cz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLnBvaW50c1tiXT17eDphW2JdWzBdLHk6YVtiXVsxXSx6OmFbYl1bMl19fTt0aGlzLmdldFBvaW50PWZ1bmN0aW9uKGEpe2U9KHRoaXMucG9pbnRzLmxlbmd0aC0xKSphO2Y9TWF0aC5mbG9vcihlKTtnPWUtZjtjWzBdPTA9PT1mP2Y6Zi0xO2NbMV09ZjtjWzJdPWY+dGhpcy5wb2ludHMubGVuZ3RoLTI/dGhpcy5wb2ludHMubGVuZ3RoLTE6ZisxO2NbM109Zj50aGlzLnBvaW50cy5sZW5ndGgtMz90aGlzLnBvaW50cy5sZW5ndGgtMTpmK1xuMjtsPXRoaXMucG9pbnRzW2NbMF1dO3A9dGhpcy5wb2ludHNbY1sxXV07cT10aGlzLnBvaW50c1tjWzJdXTtuPXRoaXMucG9pbnRzW2NbM11dO2g9ZypnO2s9ZypoO2QueD1iKGwueCxwLngscS54LG4ueCxnLGgsayk7ZC55PWIobC55LHAueSxxLnksbi55LGcsaCxrKTtkLno9YihsLnoscC56LHEueixuLnosZyxoLGspO3JldHVybiBkfTt0aGlzLmdldENvbnRyb2xQb2ludHNBcnJheT1mdW5jdGlvbigpe3ZhciBhLGIsYz10aGlzLnBvaW50cy5sZW5ndGgsZD1bXTtmb3IoYT0wO2E8YzthKyspYj10aGlzLnBvaW50c1thXSxkW2FdPVtiLngsYi55LGIuel07cmV0dXJuIGR9O3RoaXMuZ2V0TGVuZ3RoPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlPWI9Yj0wLGY9bmV3IFRIUkVFLlZlY3RvcjMsZz1uZXcgVEhSRUUuVmVjdG9yMyxoPVtdLGs9MDtoWzBdPTA7YXx8KGE9MTAwKTtjPXRoaXMucG9pbnRzLmxlbmd0aCphO2YuY29weSh0aGlzLnBvaW50c1swXSk7Zm9yKGE9MTthPGM7YSsrKWI9XG5hL2MsZD10aGlzLmdldFBvaW50KGIpLGcuY29weShkKSxrKz1nLmRpc3RhbmNlVG8oZiksZi5jb3B5KGQpLGIqPXRoaXMucG9pbnRzLmxlbmd0aC0xLGI9TWF0aC5mbG9vcihiKSxiIT1lJiYoaFtiXT1rLGU9Yik7aFtoLmxlbmd0aF09aztyZXR1cm57Y2h1bmtzOmgsdG90YWw6a319O3RoaXMucmVwYXJhbWV0cml6ZUJ5QXJjTGVuZ3RoPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoPVtdLGs9bmV3IFRIUkVFLlZlY3RvcjMsbj10aGlzLmdldExlbmd0aCgpO2gucHVzaChrLmNvcHkodGhpcy5wb2ludHNbMF0pLmNsb25lKCkpO2ZvcihiPTE7Yjx0aGlzLnBvaW50cy5sZW5ndGg7YisrKXtjPW4uY2h1bmtzW2JdLW4uY2h1bmtzW2ItMV07Zz1NYXRoLmNlaWwoYSpjL24udG90YWwpO2U9KGItMSkvKHRoaXMucG9pbnRzLmxlbmd0aC0xKTtmPWIvKHRoaXMucG9pbnRzLmxlbmd0aC0xKTtmb3IoYz0xO2M8Zy0xO2MrKylkPWUrMS9nKmMqKGYtZSksZD10aGlzLmdldFBvaW50KGQpLGgucHVzaChrLmNvcHkoZCkuY2xvbmUoKSk7XG5oLnB1c2goay5jb3B5KHRoaXMucG9pbnRzW2JdKS5jbG9uZSgpKX10aGlzLnBvaW50cz1ofX07VEhSRUUuVHJpYW5nbGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYT12b2lkIDAhPT1hP2E6bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5iPXZvaWQgMCE9PWI/YjpuZXcgVEhSRUUuVmVjdG9yMzt0aGlzLmM9dm9pZCAwIT09Yz9jOm5ldyBUSFJFRS5WZWN0b3IzfTtUSFJFRS5UcmlhbmdsZS5ub3JtYWw9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYixjLGQsZSl7ZT1lfHxuZXcgVEhSRUUuVmVjdG9yMztlLnN1YlZlY3RvcnMoZCxjKTthLnN1YlZlY3RvcnMoYixjKTtlLmNyb3NzKGEpO2I9ZS5sZW5ndGhTcSgpO3JldHVybiAwPGI/ZS5tdWx0aXBseVNjYWxhcigxL01hdGguc3FydChiKSk6ZS5zZXQoMCwwLDApfX0oKTtcblRIUkVFLlRyaWFuZ2xlLmJhcnljb29yZEZyb21Qb2ludD1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjMsYz1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZCxlLGYsZyxoKXthLnN1YlZlY3RvcnMoZyxlKTtiLnN1YlZlY3RvcnMoZixlKTtjLnN1YlZlY3RvcnMoZCxlKTtkPWEuZG90KGEpO2U9YS5kb3QoYik7Zj1hLmRvdChjKTt2YXIgaz1iLmRvdChiKTtnPWIuZG90KGMpO3ZhciBsPWQqay1lKmU7aD1ofHxuZXcgVEhSRUUuVmVjdG9yMztpZigwPT1sKXJldHVybiBoLnNldCgtMiwtMSwtMSk7bD0xL2w7az0oaypmLWUqZykqbDtkPShkKmctZSpmKSpsO3JldHVybiBoLnNldCgxLWstZCxkLGspfX0oKTtcblRIUkVFLlRyaWFuZ2xlLmNvbnRhaW5zUG9pbnQ9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYixjLGQsZSl7Yj1USFJFRS5UcmlhbmdsZS5iYXJ5Y29vcmRGcm9tUG9pbnQoYixjLGQsZSxhKTtyZXR1cm4gMDw9Yi54JiYwPD1iLnkmJjE+PWIueCtiLnl9fSgpO1xuVEhSRUUuVHJpYW5nbGUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5UcmlhbmdsZSxzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYS5jb3B5KGEpO3RoaXMuYi5jb3B5KGIpO3RoaXMuYy5jb3B5KGMpO3JldHVybiB0aGlzfSxzZXRGcm9tUG9pbnRzQW5kSW5kaWNlczpmdW5jdGlvbihhLGIsYyxkKXt0aGlzLmEuY29weShhW2JdKTt0aGlzLmIuY29weShhW2NdKTt0aGlzLmMuY29weShhW2RdKTtyZXR1cm4gdGhpc30sY29weTpmdW5jdGlvbihhKXt0aGlzLmEuY29weShhLmEpO3RoaXMuYi5jb3B5KGEuYik7dGhpcy5jLmNvcHkoYS5jKTtyZXR1cm4gdGhpc30sYXJlYTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKCl7YS5zdWJWZWN0b3JzKHRoaXMuYyx0aGlzLmIpO2Iuc3ViVmVjdG9ycyh0aGlzLmEsdGhpcy5iKTtyZXR1cm4uNSphLmNyb3NzKGIpLmxlbmd0aCgpfX0oKSxtaWRwb2ludDpmdW5jdGlvbihhKXtyZXR1cm4oYXx8XG5uZXcgVEhSRUUuVmVjdG9yMykuYWRkVmVjdG9ycyh0aGlzLmEsdGhpcy5iKS5hZGQodGhpcy5jKS5tdWx0aXBseVNjYWxhcigxLzMpfSxub3JtYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIFRIUkVFLlRyaWFuZ2xlLm5vcm1hbCh0aGlzLmEsdGhpcy5iLHRoaXMuYyxhKX0scGxhbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGF8fG5ldyBUSFJFRS5QbGFuZSkuc2V0RnJvbUNvcGxhbmFyUG9pbnRzKHRoaXMuYSx0aGlzLmIsdGhpcy5jKX0sYmFyeWNvb3JkRnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIFRIUkVFLlRyaWFuZ2xlLmJhcnljb29yZEZyb21Qb2ludChhLHRoaXMuYSx0aGlzLmIsdGhpcy5jLGIpfSxjb250YWluc1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBUSFJFRS5UcmlhbmdsZS5jb250YWluc1BvaW50KGEsdGhpcy5hLHRoaXMuYix0aGlzLmMpfSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYS5lcXVhbHModGhpcy5hKSYmYS5iLmVxdWFscyh0aGlzLmIpJiZhLmMuZXF1YWxzKHRoaXMuYyl9LFxuY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IFRIUkVFLlRyaWFuZ2xlKS5jb3B5KHRoaXMpfX07VEhSRUUuQ2xvY2s9ZnVuY3Rpb24oYSl7dGhpcy5hdXRvU3RhcnQ9dm9pZCAwIT09YT9hOiEwO3RoaXMuZWxhcHNlZFRpbWU9dGhpcy5vbGRUaW1lPXRoaXMuc3RhcnRUaW1lPTA7dGhpcy5ydW5uaW5nPSExfTtcblRIUkVFLkNsb2NrLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuQ2xvY2ssc3RhcnQ6ZnVuY3Rpb24oKXt0aGlzLm9sZFRpbWU9dGhpcy5zdGFydFRpbWU9dm9pZCAwIT09c2VsZi5wZXJmb3JtYW5jZSYmdm9pZCAwIT09c2VsZi5wZXJmb3JtYW5jZS5ub3c/c2VsZi5wZXJmb3JtYW5jZS5ub3coKTpEYXRlLm5vdygpO3RoaXMucnVubmluZz0hMH0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZ2V0RWxhcHNlZFRpbWUoKTt0aGlzLnJ1bm5pbmc9ITF9LGdldEVsYXBzZWRUaW1lOmZ1bmN0aW9uKCl7dGhpcy5nZXREZWx0YSgpO3JldHVybiB0aGlzLmVsYXBzZWRUaW1lfSxnZXREZWx0YTpmdW5jdGlvbigpe3ZhciBhPTA7dGhpcy5hdXRvU3RhcnQmJiF0aGlzLnJ1bm5pbmcmJnRoaXMuc3RhcnQoKTtpZih0aGlzLnJ1bm5pbmcpe3ZhciBiPXZvaWQgMCE9PXNlbGYucGVyZm9ybWFuY2UmJnZvaWQgMCE9PXNlbGYucGVyZm9ybWFuY2Uubm93P3NlbGYucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKSxcbmE9LjAwMSooYi10aGlzLm9sZFRpbWUpO3RoaXMub2xkVGltZT1iO3RoaXMuZWxhcHNlZFRpbWUrPWF9cmV0dXJuIGF9fTtUSFJFRS5FdmVudERpc3BhdGNoZXI9ZnVuY3Rpb24oKXt9O1xuVEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuRXZlbnREaXNwYXRjaGVyLGFwcGx5OmZ1bmN0aW9uKGEpe2EuYWRkRXZlbnRMaXN0ZW5lcj1USFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7YS5oYXNFdmVudExpc3RlbmVyPVRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuaGFzRXZlbnRMaXN0ZW5lcjthLnJlbW92ZUV2ZW50TGlzdGVuZXI9VEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyO2EuZGlzcGF0Y2hFdmVudD1USFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmRpc3BhdGNoRXZlbnR9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT10aGlzLl9saXN0ZW5lcnMmJih0aGlzLl9saXN0ZW5lcnM9e30pO3ZhciBjPXRoaXMuX2xpc3RlbmVyczt2b2lkIDA9PT1jW2FdJiYoY1thXT1bXSk7LTE9PT1jW2FdLmluZGV4T2YoYikmJlxuY1thXS5wdXNoKGIpfSxoYXNFdmVudExpc3RlbmVyOmZ1bmN0aW9uKGEsYil7aWYodm9pZCAwPT09dGhpcy5fbGlzdGVuZXJzKXJldHVybiExO3ZhciBjPXRoaXMuX2xpc3RlbmVycztyZXR1cm4gdm9pZCAwIT09Y1thXSYmLTEhPT1jW2FdLmluZGV4T2YoYik/ITA6ITF9LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXtpZih2b2lkIDAhPT10aGlzLl9saXN0ZW5lcnMpe3ZhciBjPXRoaXMuX2xpc3RlbmVyc1thXTtpZih2b2lkIDAhPT1jKXt2YXIgZD1jLmluZGV4T2YoYik7LTEhPT1kJiZjLnNwbGljZShkLDEpfX19LGRpc3BhdGNoRXZlbnQ6ZnVuY3Rpb24oYSl7aWYodm9pZCAwIT09dGhpcy5fbGlzdGVuZXJzKXt2YXIgYj10aGlzLl9saXN0ZW5lcnNbYS50eXBlXTtpZih2b2lkIDAhPT1iKXthLnRhcmdldD10aGlzO2Zvcih2YXIgYz1bXSxkPWIubGVuZ3RoLGU9MDtlPGQ7ZSsrKWNbZV09YltlXTtmb3IoZT0wO2U8ZDtlKyspY1tlXS5jYWxsKHRoaXMsYSl9fX19O1xuKGZ1bmN0aW9uKGEpe2EuUmF5Y2FzdGVyPWZ1bmN0aW9uKGIsYyxmLGcpe3RoaXMucmF5PW5ldyBhLlJheShiLGMpO3RoaXMubmVhcj1mfHwwO3RoaXMuZmFyPWd8fEluZmluaXR5O3RoaXMucGFyYW1zPXtTcHJpdGU6e30sTWVzaDp7fSxQb2ludENsb3VkOnt0aHJlc2hvbGQ6MX0sTE9EOnt9LExpbmU6e319fTt2YXIgYj1mdW5jdGlvbihhLGIpe3JldHVybiBhLmRpc3RhbmNlLWIuZGlzdGFuY2V9LGM9ZnVuY3Rpb24oYSxiLGYsZyl7YS5yYXljYXN0KGIsZik7aWYoITA9PT1nKXthPWEuY2hpbGRyZW47Zz0wO2Zvcih2YXIgaD1hLmxlbmd0aDtnPGg7ZysrKWMoYVtnXSxiLGYsITApfX07YS5SYXljYXN0ZXIucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjphLlJheWNhc3RlcixwcmVjaXNpb246MUUtNCxsaW5lUHJlY2lzaW9uOjEsc2V0OmZ1bmN0aW9uKGEsYil7dGhpcy5yYXkuc2V0KGEsYil9LHNldEZyb21DYW1lcmE6ZnVuY3Rpb24oYixjKXtjIGluc3RhbmNlb2YgYS5QZXJzcGVjdGl2ZUNhbWVyYT9cbih0aGlzLnJheS5vcmlnaW4uY29weShjLnBvc2l0aW9uKSx0aGlzLnJheS5kaXJlY3Rpb24uc2V0KGIueCxiLnksLjUpLnVucHJvamVjdChjKS5zdWIoYy5wb3NpdGlvbikubm9ybWFsaXplKCkpOmMgaW5zdGFuY2VvZiBhLk9ydGhvZ3JhcGhpY0NhbWVyYT8odGhpcy5yYXkub3JpZ2luLnNldChiLngsYi55LC0xKS51bnByb2plY3QoYyksdGhpcy5yYXkuZGlyZWN0aW9uLnNldCgwLDAsLTEpLnRyYW5zZm9ybURpcmVjdGlvbihjLm1hdHJpeFdvcmxkKSk6YS5lcnJvcihcIlRIUkVFLlJheWNhc3RlcjogVW5zdXBwb3J0ZWQgY2FtZXJhIHR5cGUuXCIpfSxpbnRlcnNlY3RPYmplY3Q6ZnVuY3Rpb24oYSxlKXt2YXIgZj1bXTtjKGEsdGhpcyxmLGUpO2Yuc29ydChiKTtyZXR1cm4gZn0saW50ZXJzZWN0T2JqZWN0czpmdW5jdGlvbihkLGUpe3ZhciBmPVtdO2lmKCExPT09ZCBpbnN0YW5jZW9mIEFycmF5KXJldHVybiBhLndhcm4oXCJUSFJFRS5SYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0czogb2JqZWN0cyBpcyBub3QgYW4gQXJyYXkuXCIpLFxuZjtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspYyhkW2ddLHRoaXMsZixlKTtmLnNvcnQoYik7cmV0dXJuIGZ9fX0pKFRIUkVFKTtcblRIUkVFLk9iamVjdDNEPWZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpUSFJFRS5PYmplY3QzRElkQ291bnQrK30pO3RoaXMudXVpZD1USFJFRS5NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMubmFtZT1cIlwiO3RoaXMudHlwZT1cIk9iamVjdDNEXCI7dGhpcy5wYXJlbnQ9dm9pZCAwO3RoaXMuY2hpbGRyZW49W107dGhpcy51cD1USFJFRS5PYmplY3QzRC5EZWZhdWx0VXAuY2xvbmUoKTt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiPW5ldyBUSFJFRS5FdWxlcixjPW5ldyBUSFJFRS5RdWF0ZXJuaW9uLGQ9bmV3IFRIUkVFLlZlY3RvcjMoMSwxLDEpO2Iub25DaGFuZ2UoZnVuY3Rpb24oKXtjLnNldEZyb21FdWxlcihiLCExKX0pO2Mub25DaGFuZ2UoZnVuY3Rpb24oKXtiLnNldEZyb21RdWF0ZXJuaW9uKGMsdm9pZCAwLCExKX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3Bvc2l0aW9uOntlbnVtZXJhYmxlOiEwLHZhbHVlOmF9LHJvdGF0aW9uOntlbnVtZXJhYmxlOiEwLFxudmFsdWU6Yn0scXVhdGVybmlvbjp7ZW51bWVyYWJsZTohMCx2YWx1ZTpjfSxzY2FsZTp7ZW51bWVyYWJsZTohMCx2YWx1ZTpkfX0pO3RoaXMucm90YXRpb25BdXRvVXBkYXRlPSEwO3RoaXMubWF0cml4PW5ldyBUSFJFRS5NYXRyaXg0O3RoaXMubWF0cml4V29ybGQ9bmV3IFRIUkVFLk1hdHJpeDQ7dGhpcy5tYXRyaXhBdXRvVXBkYXRlPSEwO3RoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMTt0aGlzLnZpc2libGU9ITA7dGhpcy5yZWNlaXZlU2hhZG93PXRoaXMuY2FzdFNoYWRvdz0hMTt0aGlzLmZydXN0dW1DdWxsZWQ9ITA7dGhpcy5yZW5kZXJPcmRlcj0wO3RoaXMudXNlckRhdGE9e319O1RIUkVFLk9iamVjdDNELkRlZmF1bHRVcD1uZXcgVEhSRUUuVmVjdG9yMygwLDEsMCk7XG5USFJFRS5PYmplY3QzRC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLk9iamVjdDNELGdldCBldWxlck9yZGVyKCl7VEhSRUUud2FybihcIlRIUkVFLk9iamVjdDNEOiAuZXVsZXJPcmRlciBoYXMgYmVlbiBtb3ZlZCB0byAucm90YXRpb24ub3JkZXIuXCIpO3JldHVybiB0aGlzLnJvdGF0aW9uLm9yZGVyfSxzZXQgZXVsZXJPcmRlcihhKXtUSFJFRS53YXJuKFwiVEhSRUUuT2JqZWN0M0Q6IC5ldWxlck9yZGVyIGhhcyBiZWVuIG1vdmVkIHRvIC5yb3RhdGlvbi5vcmRlci5cIik7dGhpcy5yb3RhdGlvbi5vcmRlcj1hfSxnZXQgdXNlUXVhdGVybmlvbigpe1RIUkVFLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLnVzZVF1YXRlcm5pb24gaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIGxpYnJhcnkgbm93IHVzZXMgcXVhdGVybmlvbnMgYnkgZGVmYXVsdC5cIil9LHNldCB1c2VRdWF0ZXJuaW9uKGEpe1RIUkVFLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLnVzZVF1YXRlcm5pb24gaGFzIGJlZW4gcmVtb3ZlZC4gVGhlIGxpYnJhcnkgbm93IHVzZXMgcXVhdGVybmlvbnMgYnkgZGVmYXVsdC5cIil9LFxuYXBwbHlNYXRyaXg6ZnVuY3Rpb24oYSl7dGhpcy5tYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhhLHRoaXMubWF0cml4KTt0aGlzLm1hdHJpeC5kZWNvbXBvc2UodGhpcy5wb3NpdGlvbix0aGlzLnF1YXRlcm5pb24sdGhpcy5zY2FsZSl9LHNldFJvdGF0aW9uRnJvbUF4aXNBbmdsZTpmdW5jdGlvbihhLGIpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tQXhpc0FuZ2xlKGEsYil9LHNldFJvdGF0aW9uRnJvbUV1bGVyOmZ1bmN0aW9uKGEpe3RoaXMucXVhdGVybmlvbi5zZXRGcm9tRXVsZXIoYSwhMCl9LHNldFJvdGF0aW9uRnJvbU1hdHJpeDpmdW5jdGlvbihhKXt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KGEpfSxzZXRSb3RhdGlvbkZyb21RdWF0ZXJuaW9uOmZ1bmN0aW9uKGEpe3RoaXMucXVhdGVybmlvbi5jb3B5KGEpfSxyb3RhdGVPbkF4aXM6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuUXVhdGVybmlvbjtyZXR1cm4gZnVuY3Rpb24oYixjKXthLnNldEZyb21BeGlzQW5nbGUoYixcbmMpO3RoaXMucXVhdGVybmlvbi5tdWx0aXBseShhKTtyZXR1cm4gdGhpc319KCkscm90YXRlWDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzKDEsMCwwKTtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucm90YXRlT25BeGlzKGEsYil9fSgpLHJvdGF0ZVk6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMygwLDEsMCk7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnJvdGF0ZU9uQXhpcyhhLGIpfX0oKSxyb3RhdGVaOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMoMCwwLDEpO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yb3RhdGVPbkF4aXMoYSxiKX19KCksdHJhbnNsYXRlT25BeGlzOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7YS5jb3B5KGIpLmFwcGx5UXVhdGVybmlvbih0aGlzLnF1YXRlcm5pb24pO3RoaXMucG9zaXRpb24uYWRkKGEubXVsdGlwbHlTY2FsYXIoYykpO1xucmV0dXJuIHRoaXN9fSgpLHRyYW5zbGF0ZTpmdW5jdGlvbihhLGIpe1RIUkVFLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLnRyYW5zbGF0ZSgpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSAudHJhbnNsYXRlT25BeGlzKCBheGlzLCBkaXN0YW5jZSApIGluc3RlYWQuXCIpO3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhiLGEpfSx0cmFuc2xhdGVYOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMoMSwwLDApO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy50cmFuc2xhdGVPbkF4aXMoYSxiKX19KCksdHJhbnNsYXRlWTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKTtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMudHJhbnNsYXRlT25BeGlzKGEsYil9fSgpLHRyYW5zbGF0ZVo6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMygwLDAsMSk7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnRyYW5zbGF0ZU9uQXhpcyhhLFxuYil9fSgpLGxvY2FsVG9Xb3JsZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCl9LHdvcmxkVG9Mb2NhbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5NYXRyaXg0O3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5hcHBseU1hdHJpeDQoYS5nZXRJbnZlcnNlKHRoaXMubWF0cml4V29ybGQpKX19KCksbG9va0F0OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1hdHJpeDQ7cmV0dXJuIGZ1bmN0aW9uKGIpe2EubG9va0F0KGIsdGhpcy5wb3NpdGlvbix0aGlzLnVwKTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KGEpfX0oKSxhZGQ6ZnVuY3Rpb24oYSl7aWYoMTxhcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXRoaXMuYWRkKGFyZ3VtZW50c1tiXSk7cmV0dXJuIHRoaXN9aWYoYT09PXRoaXMpcmV0dXJuIFRIUkVFLmVycm9yKFwiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3QgY2FuJ3QgYmUgYWRkZWQgYXMgYSBjaGlsZCBvZiBpdHNlbGYuXCIsXG5hKSx0aGlzO2EgaW5zdGFuY2VvZiBUSFJFRS5PYmplY3QzRD8odm9pZCAwIT09YS5wYXJlbnQmJmEucGFyZW50LnJlbW92ZShhKSxhLnBhcmVudD10aGlzLGEuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImFkZGVkXCJ9KSx0aGlzLmNoaWxkcmVuLnB1c2goYSkpOlRIUkVFLmVycm9yKFwiVEhSRUUuT2JqZWN0M0QuYWRkOiBvYmplY3Qgbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLk9iamVjdDNELlwiLGEpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSl7aWYoMTxhcmd1bWVudHMubGVuZ3RoKWZvcih2YXIgYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspdGhpcy5yZW1vdmUoYXJndW1lbnRzW2JdKTtiPXRoaXMuY2hpbGRyZW4uaW5kZXhPZihhKTstMSE9PWImJihhLnBhcmVudD12b2lkIDAsYS5kaXNwYXRjaEV2ZW50KHt0eXBlOlwicmVtb3ZlZFwifSksdGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwxKSl9LGdldENoaWxkQnlOYW1lOmZ1bmN0aW9uKGEpe1RIUkVFLndhcm4oXCJUSFJFRS5PYmplY3QzRDogLmdldENoaWxkQnlOYW1lKCkgaGFzIGJlZW4gcmVuYW1lZCB0byAuZ2V0T2JqZWN0QnlOYW1lKCkuXCIpO1xucmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlOYW1lKGEpfSxnZXRPYmplY3RCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldE9iamVjdEJ5UHJvcGVydHkoXCJpZFwiLGEpfSxnZXRPYmplY3RCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0T2JqZWN0QnlQcm9wZXJ0eShcIm5hbWVcIixhKX0sZ2V0T2JqZWN0QnlQcm9wZXJ0eTpmdW5jdGlvbihhLGIpe2lmKHRoaXNbYV09PT1iKXJldHVybiB0aGlzO2Zvcih2YXIgYz0wLGQ9dGhpcy5jaGlsZHJlbi5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9dGhpcy5jaGlsZHJlbltjXS5nZXRPYmplY3RCeVByb3BlcnR5KGEsYik7aWYodm9pZCAwIT09ZSlyZXR1cm4gZX19LGdldFdvcmxkUG9zaXRpb246ZnVuY3Rpb24oYSl7YT1hfHxuZXcgVEhSRUUuVmVjdG9yMzt0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTtyZXR1cm4gYS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCl9LGdldFdvcmxkUXVhdGVybmlvbjpmdW5jdGlvbigpe3ZhciBhPVxubmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYyl7Yz1jfHxuZXcgVEhSRUUuUXVhdGVybmlvbjt0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTt0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShhLGMsYik7cmV0dXJuIGN9fSgpLGdldFdvcmxkUm90YXRpb246ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuUXVhdGVybmlvbjtyZXR1cm4gZnVuY3Rpb24oYil7Yj1ifHxuZXcgVEhSRUUuRXVsZXI7dGhpcy5nZXRXb3JsZFF1YXRlcm5pb24oYSk7cmV0dXJuIGIuc2V0RnJvbVF1YXRlcm5pb24oYSx0aGlzLnJvdGF0aW9uLm9yZGVyLCExKX19KCksZ2V0V29ybGRTY2FsZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlF1YXRlcm5pb247cmV0dXJuIGZ1bmN0aW9uKGMpe2M9Y3x8bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy51cGRhdGVNYXRyaXhXb3JsZCghMCk7dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoYSxcbmIsYyk7cmV0dXJuIGN9fSgpLGdldFdvcmxkRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlF1YXRlcm5pb247cmV0dXJuIGZ1bmN0aW9uKGIpe2I9Ynx8bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5nZXRXb3JsZFF1YXRlcm5pb24oYSk7cmV0dXJuIGIuc2V0KDAsMCwxKS5hcHBseVF1YXRlcm5pb24oYSl9fSgpLHJheWNhc3Q6ZnVuY3Rpb24oKXt9LHRyYXZlcnNlOmZ1bmN0aW9uKGEpe2EodGhpcyk7Zm9yKHZhciBiPTAsYz10aGlzLmNoaWxkcmVuLmxlbmd0aDtiPGM7YisrKXRoaXMuY2hpbGRyZW5bYl0udHJhdmVyc2UoYSl9LHRyYXZlcnNlVmlzaWJsZTpmdW5jdGlvbihhKXtpZighMSE9PXRoaXMudmlzaWJsZSl7YSh0aGlzKTtmb3IodmFyIGI9MCxjPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2I8YztiKyspdGhpcy5jaGlsZHJlbltiXS50cmF2ZXJzZVZpc2libGUoYSl9fSx0cmF2ZXJzZUFuY2VzdG9yczpmdW5jdGlvbihhKXt0aGlzLnBhcmVudCYmKGEodGhpcy5wYXJlbnQpLFxudGhpcy5wYXJlbnQudHJhdmVyc2VBbmNlc3RvcnMoYSkpfSx1cGRhdGVNYXRyaXg6ZnVuY3Rpb24oKXt0aGlzLm1hdHJpeC5jb21wb3NlKHRoaXMucG9zaXRpb24sdGhpcy5xdWF0ZXJuaW9uLHRoaXMuc2NhbGUpO3RoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH0sdXBkYXRlTWF0cml4V29ybGQ6ZnVuY3Rpb24oYSl7ITA9PT10aGlzLm1hdHJpeEF1dG9VcGRhdGUmJnRoaXMudXBkYXRlTWF0cml4KCk7aWYoITA9PT10aGlzLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGV8fCEwPT09YSl2b2lkIDA9PT10aGlzLnBhcmVudD90aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpOnRoaXMubWF0cml4V29ybGQubXVsdGlwbHlNYXRyaWNlcyh0aGlzLnBhcmVudC5tYXRyaXhXb3JsZCx0aGlzLm1hdHJpeCksdGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlPSExLGE9ITA7Zm9yKHZhciBiPTAsYz10aGlzLmNoaWxkcmVuLmxlbmd0aDtiPGM7YisrKXRoaXMuY2hpbGRyZW5bYl0udXBkYXRlTWF0cml4V29ybGQoYSl9LFxudG9KU09OOmZ1bmN0aW9uKCl7dmFyIGE9e21ldGFkYXRhOnt2ZXJzaW9uOjQuMyx0eXBlOlwiT2JqZWN0XCIsZ2VuZXJhdG9yOlwiT2JqZWN0RXhwb3J0ZXJcIn19LGI9e30sYz17fSxkPWZ1bmN0aW9uKGIpe3ZvaWQgMD09PWEubWF0ZXJpYWxzJiYoYS5tYXRlcmlhbHM9W10pO2lmKHZvaWQgMD09PWNbYi51dWlkXSl7dmFyIGQ9Yi50b0pTT04oKTtkZWxldGUgZC5tZXRhZGF0YTtjW2IudXVpZF09ZDthLm1hdGVyaWFscy5wdXNoKGQpfXJldHVybiBiLnV1aWR9LGU9ZnVuY3Rpb24oYyl7dmFyIGc9e307Zy51dWlkPWMudXVpZDtnLnR5cGU9Yy50eXBlO1wiXCIhPT1jLm5hbWUmJihnLm5hbWU9Yy5uYW1lKTtcInt9XCIhPT1KU09OLnN0cmluZ2lmeShjLnVzZXJEYXRhKSYmKGcudXNlckRhdGE9Yy51c2VyRGF0YSk7ITAhPT1jLnZpc2libGUmJihnLnZpc2libGU9Yy52aXNpYmxlKTtpZihjIGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpZy5mb3Y9Yy5mb3YsZy5hc3BlY3Q9Yy5hc3BlY3QsXG5nLm5lYXI9Yy5uZWFyLGcuZmFyPWMuZmFyO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSlnLmxlZnQ9Yy5sZWZ0LGcucmlnaHQ9Yy5yaWdodCxnLnRvcD1jLnRvcCxnLmJvdHRvbT1jLmJvdHRvbSxnLm5lYXI9Yy5uZWFyLGcuZmFyPWMuZmFyO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFRIUkVFLkFtYmllbnRMaWdodClnLmNvbG9yPWMuY29sb3IuZ2V0SGV4KCk7ZWxzZSBpZihjIGluc3RhbmNlb2YgVEhSRUUuRGlyZWN0aW9uYWxMaWdodClnLmNvbG9yPWMuY29sb3IuZ2V0SGV4KCksZy5pbnRlbnNpdHk9Yy5pbnRlbnNpdHk7ZWxzZSBpZihjIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRMaWdodClnLmNvbG9yPWMuY29sb3IuZ2V0SGV4KCksZy5pbnRlbnNpdHk9Yy5pbnRlbnNpdHksZy5kaXN0YW5jZT1jLmRpc3RhbmNlLGcuZGVjYXk9Yy5kZWNheTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBUSFJFRS5TcG90TGlnaHQpZy5jb2xvcj1jLmNvbG9yLmdldEhleCgpLFxuZy5pbnRlbnNpdHk9Yy5pbnRlbnNpdHksZy5kaXN0YW5jZT1jLmRpc3RhbmNlLGcuYW5nbGU9Yy5hbmdsZSxnLmV4cG9uZW50PWMuZXhwb25lbnQsZy5kZWNheT1jLmRlY2F5O2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFRIUkVFLkhlbWlzcGhlcmVMaWdodClnLmNvbG9yPWMuY29sb3IuZ2V0SGV4KCksZy5ncm91bmRDb2xvcj1jLmdyb3VuZENvbG9yLmdldEhleCgpO2Vsc2UgaWYoYyBpbnN0YW5jZW9mIFRIUkVFLk1lc2h8fGMgaW5zdGFuY2VvZiBUSFJFRS5MaW5lfHxjIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRDbG91ZCl7dmFyIGg9Yy5nZW9tZXRyeTt2b2lkIDA9PT1hLmdlb21ldHJpZXMmJihhLmdlb21ldHJpZXM9W10pO2lmKHZvaWQgMD09PWJbaC51dWlkXSl7dmFyIGs9aC50b0pTT04oKTtkZWxldGUgay5tZXRhZGF0YTtiW2gudXVpZF09azthLmdlb21ldHJpZXMucHVzaChrKX1nLmdlb21ldHJ5PWgudXVpZDtnLm1hdGVyaWFsPWQoYy5tYXRlcmlhbCk7YyBpbnN0YW5jZW9mIFRIUkVFLkxpbmUmJlxuKGcubW9kZT1jLm1vZGUpfWVsc2UgYyBpbnN0YW5jZW9mIFRIUkVFLlNwcml0ZSYmKGcubWF0ZXJpYWw9ZChjLm1hdGVyaWFsKSk7Zy5tYXRyaXg9Yy5tYXRyaXgudG9BcnJheSgpO2lmKDA8Yy5jaGlsZHJlbi5sZW5ndGgpZm9yKGcuY2hpbGRyZW49W10saD0wO2g8Yy5jaGlsZHJlbi5sZW5ndGg7aCsrKWcuY2hpbGRyZW4ucHVzaChlKGMuY2hpbGRyZW5baF0pKTtyZXR1cm4gZ307YS5vYmplY3Q9ZSh0aGlzKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuT2JqZWN0M0QpO3ZvaWQgMD09PWImJihiPSEwKTthLm5hbWU9dGhpcy5uYW1lO2EudXAuY29weSh0aGlzLnVwKTthLnBvc2l0aW9uLmNvcHkodGhpcy5wb3NpdGlvbik7YS5xdWF0ZXJuaW9uLmNvcHkodGhpcy5xdWF0ZXJuaW9uKTthLnNjYWxlLmNvcHkodGhpcy5zY2FsZSk7YS5yb3RhdGlvbkF1dG9VcGRhdGU9dGhpcy5yb3RhdGlvbkF1dG9VcGRhdGU7YS5tYXRyaXguY29weSh0aGlzLm1hdHJpeCk7XG5hLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXhXb3JsZCk7YS5tYXRyaXhBdXRvVXBkYXRlPXRoaXMubWF0cml4QXV0b1VwZGF0ZTthLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9dGhpcy5tYXRyaXhXb3JsZE5lZWRzVXBkYXRlO2EudmlzaWJsZT10aGlzLnZpc2libGU7YS5jYXN0U2hhZG93PXRoaXMuY2FzdFNoYWRvdzthLnJlY2VpdmVTaGFkb3c9dGhpcy5yZWNlaXZlU2hhZG93O2EuZnJ1c3R1bUN1bGxlZD10aGlzLmZydXN0dW1DdWxsZWQ7YS51c2VyRGF0YT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudXNlckRhdGEpKTtpZighMD09PWIpZm9yKHZhciBjPTA7Yzx0aGlzLmNoaWxkcmVuLmxlbmd0aDtjKyspYS5hZGQodGhpcy5jaGlsZHJlbltjXS5jbG9uZSgpKTtyZXR1cm4gYX19O1RIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtUSFJFRS5PYmplY3QzRElkQ291bnQ9MDtcblRIUkVFLkZhY2UzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmE9YTt0aGlzLmI9Yjt0aGlzLmM9Yzt0aGlzLm5vcm1hbD1kIGluc3RhbmNlb2YgVEhSRUUuVmVjdG9yMz9kOm5ldyBUSFJFRS5WZWN0b3IzO3RoaXMudmVydGV4Tm9ybWFscz1kIGluc3RhbmNlb2YgQXJyYXk/ZDpbXTt0aGlzLmNvbG9yPWUgaW5zdGFuY2VvZiBUSFJFRS5Db2xvcj9lOm5ldyBUSFJFRS5Db2xvcjt0aGlzLnZlcnRleENvbG9ycz1lIGluc3RhbmNlb2YgQXJyYXk/ZTpbXTt0aGlzLnZlcnRleFRhbmdlbnRzPVtdO3RoaXMubWF0ZXJpYWxJbmRleD12b2lkIDAhPT1mP2Y6MH07XG5USFJFRS5GYWNlMy5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkZhY2UzLGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLkZhY2UzKHRoaXMuYSx0aGlzLmIsdGhpcy5jKTthLm5vcm1hbC5jb3B5KHRoaXMubm9ybWFsKTthLmNvbG9yLmNvcHkodGhpcy5jb2xvcik7YS5tYXRlcmlhbEluZGV4PXRoaXMubWF0ZXJpYWxJbmRleDtmb3IodmFyIGI9MCxjPXRoaXMudmVydGV4Tm9ybWFscy5sZW5ndGg7YjxjO2IrKylhLnZlcnRleE5vcm1hbHNbYl09dGhpcy52ZXJ0ZXhOb3JtYWxzW2JdLmNsb25lKCk7Yj0wO2ZvcihjPXRoaXMudmVydGV4Q29sb3JzLmxlbmd0aDtiPGM7YisrKWEudmVydGV4Q29sb3JzW2JdPXRoaXMudmVydGV4Q29sb3JzW2JdLmNsb25lKCk7Yj0wO2ZvcihjPXRoaXMudmVydGV4VGFuZ2VudHMubGVuZ3RoO2I8YztiKyspYS52ZXJ0ZXhUYW5nZW50c1tiXT10aGlzLnZlcnRleFRhbmdlbnRzW2JdLmNsb25lKCk7cmV0dXJuIGF9fTtcblRIUkVFLkZhY2U0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe1RIUkVFLndhcm4oXCJUSFJFRS5GYWNlNCBoYXMgYmVlbiByZW1vdmVkLiBBIFRIUkVFLkZhY2UzIHdpbGwgYmUgY3JlYXRlZCBpbnN0ZWFkLlwiKTtyZXR1cm4gbmV3IFRIUkVFLkZhY2UzKGEsYixjLGUsZixnKX07VEhSRUUuQnVmZmVyQXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5hcnJheT1hO3RoaXMuaXRlbVNpemU9Yjt0aGlzLm5lZWRzVXBkYXRlPSExfTtcblRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSxnZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RofSxjb3B5QXQ6ZnVuY3Rpb24oYSxiLGMpe2EqPXRoaXMuaXRlbVNpemU7Yyo9Yi5pdGVtU2l6ZTtmb3IodmFyIGQ9MCxlPXRoaXMuaXRlbVNpemU7ZDxlO2QrKyl0aGlzLmFycmF5W2ErZF09Yi5hcnJheVtjK2RdO3JldHVybiB0aGlzfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0wKTt0aGlzLmFycmF5LnNldChhLGIpO3JldHVybiB0aGlzfSxzZXRYOmZ1bmN0aW9uKGEsYil7dGhpcy5hcnJheVthKnRoaXMuaXRlbVNpemVdPWI7cmV0dXJuIHRoaXN9LHNldFk6ZnVuY3Rpb24oYSxiKXt0aGlzLmFycmF5W2EqdGhpcy5pdGVtU2l6ZSsxXT1iO3JldHVybiB0aGlzfSxzZXRaOmZ1bmN0aW9uKGEsYil7dGhpcy5hcnJheVthKnRoaXMuaXRlbVNpemUrMl09YjtyZXR1cm4gdGhpc30sc2V0WFk6ZnVuY3Rpb24oYSxcbmIsYyl7YSo9dGhpcy5pdGVtU2l6ZTt0aGlzLmFycmF5W2FdPWI7dGhpcy5hcnJheVthKzFdPWM7cmV0dXJuIHRoaXN9LHNldFhZWjpmdW5jdGlvbihhLGIsYyxkKXthKj10aGlzLml0ZW1TaXplO3RoaXMuYXJyYXlbYV09Yjt0aGlzLmFycmF5W2ErMV09Yzt0aGlzLmFycmF5W2ErMl09ZDtyZXR1cm4gdGhpc30sc2V0WFlaVzpmdW5jdGlvbihhLGIsYyxkLGUpe2EqPXRoaXMuaXRlbVNpemU7dGhpcy5hcnJheVthXT1iO3RoaXMuYXJyYXlbYSsxXT1jO3RoaXMuYXJyYXlbYSsyXT1kO3RoaXMuYXJyYXlbYSszXT1lO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyB0aGlzLmFycmF5LmNvbnN0cnVjdG9yKHRoaXMuYXJyYXkpLHRoaXMuaXRlbVNpemUpfX07XG5USFJFRS5JbnQ4QXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7VEhSRUUud2FybihcIlRIUkVFLkludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplICkgaW5zdGVhZC5cIik7cmV0dXJuIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoYSxiKX07VEhSRUUuVWludDhBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXtUSFJFRS53YXJuKFwiVEhSRUUuVWludDhBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplICkgaW5zdGVhZC5cIik7cmV0dXJuIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoYSxiKX07XG5USFJFRS5VaW50OENsYW1wZWRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXtUSFJFRS53YXJuKFwiVEhSRUUuVWludDhDbGFtcGVkQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSApIGluc3RlYWQuXCIpO3JldHVybiBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGEsYil9O1RIUkVFLkludDE2QXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7VEhSRUUud2FybihcIlRIUkVFLkludDE2QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSApIGluc3RlYWQuXCIpO3JldHVybiBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGEsYil9O1xuVEhSRUUuVWludDE2QXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7VEhSRUUud2FybihcIlRIUkVFLlVpbnQxNkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBhcnJheSwgaXRlbVNpemUgKSBpbnN0ZWFkLlwiKTtyZXR1cm4gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShhLGIpfTtUSFJFRS5JbnQzMkF0dHJpYnV0ZT1mdW5jdGlvbihhLGIpe1RIUkVFLndhcm4oXCJUSFJFRS5JbnQzMkF0dHJpYnV0ZSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgVEhSRUUuQnVmZmVyQXR0cmlidXRlKCBhcnJheSwgaXRlbVNpemUgKSBpbnN0ZWFkLlwiKTtyZXR1cm4gbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShhLGIpfTtcblRIUkVFLlVpbnQzMkF0dHJpYnV0ZT1mdW5jdGlvbihhLGIpe1RIUkVFLndhcm4oXCJUSFJFRS5VaW50MzJBdHRyaWJ1dGUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSggYXJyYXksIGl0ZW1TaXplICkgaW5zdGVhZC5cIik7cmV0dXJuIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoYSxiKX07VEhSRUUuRmxvYXQzMkF0dHJpYnV0ZT1mdW5jdGlvbihhLGIpe1RIUkVFLndhcm4oXCJUSFJFRS5GbG9hdDMyQXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSApIGluc3RlYWQuXCIpO3JldHVybiBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGEsYil9O1xuVEhSRUUuRmxvYXQ2NEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIpe1RIUkVFLndhcm4oXCJUSFJFRS5GbG9hdDY0QXR0cmlidXRlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoIGFycmF5LCBpdGVtU2l6ZSApIGluc3RlYWQuXCIpO3JldHVybiBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGEsYil9O1RIUkVFLkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXtUSFJFRS5CdWZmZXJBdHRyaWJ1dGUuY2FsbCh0aGlzLGEsYik7dGhpcy51cGRhdGVSYW5nZT17b2Zmc2V0OjAsY291bnQ6LTF9fTtUSFJFRS5EeW5hbWljQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZS5wcm90b3R5cGUpO1RIUkVFLkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkR5bmFtaWNCdWZmZXJBdHRyaWJ1dGU7XG5USFJFRS5EeW5hbWljQnVmZmVyQXR0cmlidXRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZShuZXcgdGhpcy5hcnJheS5jb25zdHJ1Y3Rvcih0aGlzLmFycmF5KSx0aGlzLml0ZW1TaXplKX07VEhSRUUuQnVmZmVyR2VvbWV0cnk9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOlRIUkVFLkdlb21ldHJ5SWRDb3VudCsrfSk7dGhpcy51dWlkPVRIUkVFLk1hdGguZ2VuZXJhdGVVVUlEKCk7dGhpcy5uYW1lPVwiXCI7dGhpcy50eXBlPVwiQnVmZmVyR2VvbWV0cnlcIjt0aGlzLmF0dHJpYnV0ZXM9e307dGhpcy5hdHRyaWJ1dGVzS2V5cz1bXTt0aGlzLm9mZnNldHM9dGhpcy5kcmF3Y2FsbHM9W107dGhpcy5ib3VuZGluZ1NwaGVyZT10aGlzLmJvdW5kaW5nQm94PW51bGx9O1xuVEhSRUUuQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5CdWZmZXJHZW9tZXRyeSxhZGRBdHRyaWJ1dGU6ZnVuY3Rpb24oYSxiLGMpeyExPT09YiBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZT8oVEhSRUUud2FybihcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5OiAuYWRkQXR0cmlidXRlKCkgbm93IGV4cGVjdHMgKCBuYW1lLCBhdHRyaWJ1dGUgKS5cIiksdGhpcy5hdHRyaWJ1dGVzW2FdPXthcnJheTpiLGl0ZW1TaXplOmN9KToodGhpcy5hdHRyaWJ1dGVzW2FdPWIsdGhpcy5hdHRyaWJ1dGVzS2V5cz1PYmplY3Qua2V5cyh0aGlzLmF0dHJpYnV0ZXMpKX0sZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF0dHJpYnV0ZXNbYV19LGFkZERyYXdDYWxsOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmRyYXdjYWxscy5wdXNoKHtzdGFydDphLGNvdW50OmIsaW5kZXg6dm9pZCAwIT09Yz9jOjB9KX0sYXBwbHlNYXRyaXg6ZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLmF0dHJpYnV0ZXMucG9zaXRpb247dm9pZCAwIT09YiYmKGEuYXBwbHlUb1ZlY3RvcjNBcnJheShiLmFycmF5KSxiLm5lZWRzVXBkYXRlPSEwKTtiPXRoaXMuYXR0cmlidXRlcy5ub3JtYWw7dm9pZCAwIT09YiYmKChuZXcgVEhSRUUuTWF0cml4MykuZ2V0Tm9ybWFsTWF0cml4KGEpLmFwcGx5VG9WZWN0b3IzQXJyYXkoYi5hcnJheSksYi5uZWVkc1VwZGF0ZT0hMCk7bnVsbCE9PXRoaXMuYm91bmRpbmdCb3gmJnRoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7bnVsbCE9PXRoaXMuYm91bmRpbmdTcGhlcmUmJnRoaXMuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCl9LGNlbnRlcjpmdW5jdGlvbigpe3RoaXMuY29tcHV0ZUJvdW5kaW5nQm94KCk7dmFyIGE9dGhpcy5ib3VuZGluZ0JveC5jZW50ZXIoKS5uZWdhdGUoKTt0aGlzLmFwcGx5TWF0cml4KChuZXcgVEhSRUUuTWF0cml4NCkuc2V0UG9zaXRpb24oYSkpO3JldHVybiBhfSxmcm9tR2VvbWV0cnk6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt2ZXJ0ZXhDb2xvcnM6VEhSRUUuTm9Db2xvcnN9O1xudmFyIGM9YS52ZXJ0aWNlcyxkPWEuZmFjZXMsZT1hLmZhY2VWZXJ0ZXhVdnMsZj1iLnZlcnRleENvbG9ycyxnPTA8ZVswXS5sZW5ndGgsaD0zPT1kWzBdLnZlcnRleE5vcm1hbHMubGVuZ3RoLGs9bmV3IEZsb2F0MzJBcnJheSg5KmQubGVuZ3RoKTt0aGlzLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShrLDMpKTt2YXIgbD1uZXcgRmxvYXQzMkFycmF5KDkqZC5sZW5ndGgpO3RoaXMuYWRkQXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShsLDMpKTtpZihmIT09VEhSRUUuTm9Db2xvcnMpe3ZhciBwPW5ldyBGbG9hdDMyQXJyYXkoOSpkLmxlbmd0aCk7dGhpcy5hZGRBdHRyaWJ1dGUoXCJjb2xvclwiLG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUocCwzKSl9aWYoITA9PT1nKXt2YXIgcT1uZXcgRmxvYXQzMkFycmF5KDYqZC5sZW5ndGgpO3RoaXMuYWRkQXR0cmlidXRlKFwidXZcIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKHEsXG4yKSl9Zm9yKHZhciBuPTAsdD0wLHI9MDtuPGQubGVuZ3RoO24rKyx0Kz02LHIrPTkpe3ZhciBzPWRbbl0sdT1jW3MuYV0sdj1jW3MuYl0seD1jW3MuY107a1tyXT11Lng7a1tyKzFdPXUueTtrW3IrMl09dS56O2tbciszXT12Lng7a1tyKzRdPXYueTtrW3IrNV09di56O2tbcis2XT14Lng7a1tyKzddPXgueTtrW3IrOF09eC56OyEwPT09aD8odT1zLnZlcnRleE5vcm1hbHNbMF0sdj1zLnZlcnRleE5vcm1hbHNbMV0seD1zLnZlcnRleE5vcm1hbHNbMl0sbFtyXT11LngsbFtyKzFdPXUueSxsW3IrMl09dS56LGxbciszXT12LngsbFtyKzRdPXYueSxsW3IrNV09di56LGxbcis2XT14LngsbFtyKzddPXgueSxsW3IrOF09eC56KToodT1zLm5vcm1hbCxsW3JdPXUueCxsW3IrMV09dS55LGxbcisyXT11LnosbFtyKzNdPXUueCxsW3IrNF09dS55LGxbcis1XT11LnosbFtyKzZdPXUueCxsW3IrN109dS55LGxbcis4XT11LnopO2Y9PT1USFJFRS5GYWNlQ29sb3JzPyhzPXMuY29sb3IscFtyXT1cbnMucixwW3IrMV09cy5nLHBbcisyXT1zLmIscFtyKzNdPXMucixwW3IrNF09cy5nLHBbcis1XT1zLmIscFtyKzZdPXMucixwW3IrN109cy5nLHBbcis4XT1zLmIpOmY9PT1USFJFRS5WZXJ0ZXhDb2xvcnMmJih1PXMudmVydGV4Q29sb3JzWzBdLHY9cy52ZXJ0ZXhDb2xvcnNbMV0scz1zLnZlcnRleENvbG9yc1syXSxwW3JdPXUucixwW3IrMV09dS5nLHBbcisyXT11LmIscFtyKzNdPXYucixwW3IrNF09di5nLHBbcis1XT12LmIscFtyKzZdPXMucixwW3IrN109cy5nLHBbcis4XT1zLmIpOyEwPT09ZyYmKHM9ZVswXVtuXVswXSx1PWVbMF1bbl1bMV0sdj1lWzBdW25dWzJdLHFbdF09cy54LHFbdCsxXT1zLnkscVt0KzJdPXUueCxxW3QrM109dS55LHFbdCs0XT12LngscVt0KzVdPXYueSl9dGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtyZXR1cm4gdGhpc30sY29tcHV0ZUJvdW5kaW5nQm94OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKCl7bnVsbD09PVxudGhpcy5ib3VuZGluZ0JveCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IFRIUkVFLkJveDMpO3ZhciBiPXRoaXMuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTtpZihiKXt2YXIgYz10aGlzLmJvdW5kaW5nQm94O2MubWFrZUVtcHR5KCk7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtkPGU7ZCs9MylhLnNldChiW2RdLGJbZCsxXSxiW2QrMl0pLGMuZXhwYW5kQnlQb2ludChhKX1pZih2b2lkIDA9PT1ifHwwPT09Yi5sZW5ndGgpdGhpcy5ib3VuZGluZ0JveC5taW4uc2V0KDAsMCwwKSx0aGlzLmJvdW5kaW5nQm94Lm1heC5zZXQoMCwwLDApOyhpc05hTih0aGlzLmJvdW5kaW5nQm94Lm1pbi54KXx8aXNOYU4odGhpcy5ib3VuZGluZ0JveC5taW4ueSl8fGlzTmFOKHRoaXMuYm91bmRpbmdCb3gubWluLnopKSYmVEhSRUUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ0JveDogQ29tcHV0ZWQgbWluL21heCBoYXZlIE5hTiB2YWx1ZXMuIFRoZSBcInBvc2l0aW9uXCIgYXR0cmlidXRlIGlzIGxpa2VseSB0byBoYXZlIE5hTiB2YWx1ZXMuJyl9fSgpLFxuY29tcHV0ZUJvdW5kaW5nU3BoZXJlOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLkJveDMsYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZSk7dmFyIGM9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5O2lmKGMpe2EubWFrZUVtcHR5KCk7Zm9yKHZhciBkPXRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKz0zKWIuc2V0KGNbZV0sY1tlKzFdLGNbZSsyXSksYS5leHBhbmRCeVBvaW50KGIpO2EuY2VudGVyKGQpO2Zvcih2YXIgZz0wLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKz0zKWIuc2V0KGNbZV0sY1tlKzFdLGNbZSsyXSksZz1NYXRoLm1heChnLGQuZGlzdGFuY2VUb1NxdWFyZWQoYikpO3RoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzPU1hdGguc3FydChnKTtpc05hTih0aGlzLmJvdW5kaW5nU3BoZXJlLnJhZGl1cykmJlxuVEhSRUUuZXJyb3IoJ1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpOiBDb21wdXRlZCByYWRpdXMgaXMgTmFOLiBUaGUgXCJwb3NpdGlvblwiIGF0dHJpYnV0ZSBpcyBsaWtlbHkgdG8gaGF2ZSBOYU4gdmFsdWVzLicpfX19KCksY29tcHV0ZUZhY2VOb3JtYWxzOmZ1bmN0aW9uKCl7fSxjb21wdXRlVmVydGV4Tm9ybWFsczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYXR0cmlidXRlcztpZihhLnBvc2l0aW9uKXt2YXIgYj1hLnBvc2l0aW9uLmFycmF5O2lmKHZvaWQgMD09PWEubm9ybWFsKXRoaXMuYWRkQXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KGIubGVuZ3RoKSwzKSk7ZWxzZSBmb3IodmFyIGM9YS5ub3JtYWwuYXJyYXksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyljW2RdPTA7dmFyIGM9YS5ub3JtYWwuYXJyYXksZixnLGgsaz1uZXcgVEhSRUUuVmVjdG9yMyxsPW5ldyBUSFJFRS5WZWN0b3IzLFxucD1uZXcgVEhSRUUuVmVjdG9yMyxxPW5ldyBUSFJFRS5WZWN0b3IzLG49bmV3IFRIUkVFLlZlY3RvcjM7aWYoYS5pbmRleClmb3IodmFyIHQ9YS5pbmRleC5hcnJheSxyPTA8dGhpcy5vZmZzZXRzLmxlbmd0aD90aGlzLm9mZnNldHM6W3tzdGFydDowLGNvdW50OnQubGVuZ3RoLGluZGV4OjB9XSxzPTAsdT1yLmxlbmd0aDtzPHU7KytzKXtlPXJbc10uc3RhcnQ7Zj1yW3NdLmNvdW50O2Zvcih2YXIgdj1yW3NdLmluZGV4LGQ9ZSxlPWUrZjtkPGU7ZCs9MylmPTMqKHYrdFtkXSksZz0zKih2K3RbZCsxXSksaD0zKih2K3RbZCsyXSksay5mcm9tQXJyYXkoYixmKSxsLmZyb21BcnJheShiLGcpLHAuZnJvbUFycmF5KGIsaCkscS5zdWJWZWN0b3JzKHAsbCksbi5zdWJWZWN0b3JzKGssbCkscS5jcm9zcyhuKSxjW2ZdKz1xLngsY1tmKzFdKz1xLnksY1tmKzJdKz1xLnosY1tnXSs9cS54LGNbZysxXSs9cS55LGNbZysyXSs9cS56LGNbaF0rPXEueCxjW2grMV0rPXEueSxjW2grMl0rPXEuen1lbHNlIGZvcihkPVxuMCxlPWIubGVuZ3RoO2Q8ZTtkKz05KWsuZnJvbUFycmF5KGIsZCksbC5mcm9tQXJyYXkoYixkKzMpLHAuZnJvbUFycmF5KGIsZCs2KSxxLnN1YlZlY3RvcnMocCxsKSxuLnN1YlZlY3RvcnMoayxsKSxxLmNyb3NzKG4pLGNbZF09cS54LGNbZCsxXT1xLnksY1tkKzJdPXEueixjW2QrM109cS54LGNbZCs0XT1xLnksY1tkKzVdPXEueixjW2QrNl09cS54LGNbZCs3XT1xLnksY1tkKzhdPXEuejt0aGlzLm5vcm1hbGl6ZU5vcm1hbHMoKTthLm5vcm1hbC5uZWVkc1VwZGF0ZT0hMH19LGNvbXB1dGVUYW5nZW50czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3EuZnJvbUFycmF5KGQsMyphKTtuLmZyb21BcnJheShkLDMqYik7dC5mcm9tQXJyYXkoZCwzKmMpO3IuZnJvbUFycmF5KGYsMiphKTtzLmZyb21BcnJheShmLDIqYik7dS5mcm9tQXJyYXkoZiwyKmMpO3Y9bi54LXEueDt4PXQueC1xLng7RD1uLnktcS55O3c9dC55LXEueTt5PW4uei1xLno7QT10LnotcS56O0U9cy54LXIueDtHPVxudS54LXIueDtGPXMueS1yLnk7ej11Lnktci55O0k9MS8oRSp6LUcqRik7VS5zZXQoKHoqdi1GKngpKkksKHoqRC1GKncpKkksKHoqeS1GKkEpKkkpO00uc2V0KChFKngtRyp2KSpJLChFKnctRypEKSpJLChFKkEtRyp5KSpJKTtrW2FdLmFkZChVKTtrW2JdLmFkZChVKTtrW2NdLmFkZChVKTtsW2FdLmFkZChNKTtsW2JdLmFkZChNKTtsW2NdLmFkZChNKX1mdW5jdGlvbiBiKGEpe2hhLmZyb21BcnJheShlLDMqYSk7Ty5jb3B5KGhhKTtiYT1rW2FdO29hLmNvcHkoYmEpO29hLnN1YihoYS5tdWx0aXBseVNjYWxhcihoYS5kb3QoYmEpKSkubm9ybWFsaXplKCk7amEuY3Jvc3NWZWN0b3JzKE8sYmEpO3FhPWphLmRvdChsW2FdKTtjYT0wPnFhPy0xOjE7aFs0KmFdPW9hLng7aFs0KmErMV09b2EueTtoWzQqYSsyXT1vYS56O2hbNCphKzNdPWNhfWlmKHZvaWQgMD09PXRoaXMuYXR0cmlidXRlcy5pbmRleHx8dm9pZCAwPT09dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9ufHx2b2lkIDA9PT10aGlzLmF0dHJpYnV0ZXMubm9ybWFsfHxcbnZvaWQgMD09PXRoaXMuYXR0cmlidXRlcy51dilUSFJFRS53YXJuKFwiVEhSRUUuQnVmZmVyR2VvbWV0cnk6IE1pc3NpbmcgcmVxdWlyZWQgYXR0cmlidXRlcyAoaW5kZXgsIHBvc2l0aW9uLCBub3JtYWwgb3IgdXYpIGluIEJ1ZmZlckdlb21ldHJ5LmNvbXB1dGVUYW5nZW50cygpXCIpO2Vsc2V7dmFyIGM9dGhpcy5hdHRyaWJ1dGVzLmluZGV4LmFycmF5LGQ9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5LGU9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheSxmPXRoaXMuYXR0cmlidXRlcy51di5hcnJheSxnPWQubGVuZ3RoLzM7dm9pZCAwPT09dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQmJnRoaXMuYWRkQXR0cmlidXRlKFwidGFuZ2VudFwiLG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUobmV3IEZsb2F0MzJBcnJheSg0KmcpLDQpKTtmb3IodmFyIGg9dGhpcy5hdHRyaWJ1dGVzLnRhbmdlbnQuYXJyYXksaz1bXSxsPVtdLHA9MDtwPGc7cCsrKWtbcF09bmV3IFRIUkVFLlZlY3RvcjMsXG5sW3BdPW5ldyBUSFJFRS5WZWN0b3IzO3ZhciBxPW5ldyBUSFJFRS5WZWN0b3IzLG49bmV3IFRIUkVFLlZlY3RvcjMsdD1uZXcgVEhSRUUuVmVjdG9yMyxyPW5ldyBUSFJFRS5WZWN0b3IyLHM9bmV3IFRIUkVFLlZlY3RvcjIsdT1uZXcgVEhSRUUuVmVjdG9yMix2LHgsRCx3LHksQSxFLEcsRix6LEksVT1uZXcgVEhSRUUuVmVjdG9yMyxNPW5ldyBUSFJFRS5WZWN0b3IzLEgsTCxQLE4sUjswPT09dGhpcy5kcmF3Y2FsbHMubGVuZ3RoJiZ0aGlzLmFkZERyYXdDYWxsKDAsYy5sZW5ndGgsMCk7dmFyIFY9dGhpcy5kcmF3Y2FsbHMscD0wO2ZvcihMPVYubGVuZ3RoO3A8TDsrK3Ape0g9VltwXS5zdGFydDtQPVZbcF0uY291bnQ7dmFyIEo9VltwXS5pbmRleCxnPUg7Zm9yKEgrPVA7ZzxIO2crPTMpUD1KK2NbZ10sTj1KK2NbZysxXSxSPUorY1tnKzJdLGEoUCxOLFIpfXZhciBvYT1uZXcgVEhSRUUuVmVjdG9yMyxqYT1uZXcgVEhSRUUuVmVjdG9yMyxoYT1uZXcgVEhSRUUuVmVjdG9yMyxPPW5ldyBUSFJFRS5WZWN0b3IzLFxuY2EsYmEscWEscD0wO2ZvcihMPVYubGVuZ3RoO3A8TDsrK3ApZm9yKEg9VltwXS5zdGFydCxQPVZbcF0uY291bnQsSj1WW3BdLmluZGV4LGc9SCxIKz1QO2c8SDtnKz0zKVA9SitjW2ddLE49SitjW2crMV0sUj1KK2NbZysyXSxiKFApLGIoTiksYihSKX19LGNvbXB1dGVPZmZzZXRzOmZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPTY1NTM1KTtmb3IodmFyIGI9dGhpcy5hdHRyaWJ1dGVzLmluZGV4LmFycmF5LGM9dGhpcy5hdHRyaWJ1dGVzLnBvc2l0aW9uLmFycmF5LGQ9Yi5sZW5ndGgvMyxlPW5ldyBVaW50MTZBcnJheShiLmxlbmd0aCksZj0wLGc9MCxoPVt7c3RhcnQ6MCxjb3VudDowLGluZGV4OjB9XSxrPWhbMF0sbD0wLHA9MCxxPW5ldyBJbnQzMkFycmF5KDYpLG49bmV3IEludDMyQXJyYXkoYy5sZW5ndGgpLHQ9bmV3IEludDMyQXJyYXkoYy5sZW5ndGgpLHI9MDtyPGMubGVuZ3RoO3IrKyluW3JdPS0xLHRbcl09LTE7Zm9yKGM9MDtjPGQ7YysrKXtmb3IodmFyIHM9cD0wOzM+XG5zO3MrKylyPWJbMypjK3NdLC0xPT1uW3JdPyhxWzIqc109cixxWzIqcysxXT0tMSxwKyspOm5bcl08ay5pbmRleD8ocVsyKnNdPXIscVsyKnMrMV09LTEsbCsrKToocVsyKnNdPXIscVsyKnMrMV09bltyXSk7aWYoZytwPmsuaW5kZXgrYSlmb3Ioaz17c3RhcnQ6Zixjb3VudDowLGluZGV4Omd9LGgucHVzaChrKSxwPTA7Nj5wO3ArPTIpcz1xW3ArMV0sLTE8cyYmczxrLmluZGV4JiYocVtwKzFdPS0xKTtmb3IocD0wOzY+cDtwKz0yKXI9cVtwXSxzPXFbcCsxXSwtMT09PXMmJihzPWcrKyksbltyXT1zLHRbc109cixlW2YrK109cy1rLmluZGV4LGsuY291bnQrK310aGlzLnJlb3JkZXJCdWZmZXJzKGUsdCxnKTtyZXR1cm4gdGhpcy5kcmF3Y2FsbHM9dGhpcy5vZmZzZXRzPWh9LG1lcmdlOmZ1bmN0aW9uKGEsYil7aWYoITE9PT1hIGluc3RhbmNlb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnkpVEhSRUUuZXJyb3IoXCJUSFJFRS5CdWZmZXJHZW9tZXRyeS5tZXJnZSgpOiBnZW9tZXRyeSBub3QgYW4gaW5zdGFuY2Ugb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnkuXCIsXG5hKTtlbHNle3ZvaWQgMD09PWImJihiPTApO3ZhciBjPXRoaXMuYXR0cmlidXRlcyxkO2ZvcihkIGluIGMpaWYodm9pZCAwIT09YS5hdHRyaWJ1dGVzW2RdKWZvcih2YXIgZT1jW2RdLmFycmF5LGY9YS5hdHRyaWJ1dGVzW2RdLGc9Zi5hcnJheSxoPTAsZj1mLml0ZW1TaXplKmI7aDxnLmxlbmd0aDtoKyssZisrKWVbZl09Z1toXTtyZXR1cm4gdGhpc319LG5vcm1hbGl6ZU5vcm1hbHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5hdHRyaWJ1dGVzLm5vcm1hbC5hcnJheSxiLGMsZCxlPTAsZj1hLmxlbmd0aDtlPGY7ZSs9MyliPWFbZV0sYz1hW2UrMV0sZD1hW2UrMl0sYj0xL01hdGguc3FydChiKmIrYypjK2QqZCksYVtlXSo9YixhW2UrMV0qPWIsYVtlKzJdKj1ifSxyZW9yZGVyQnVmZmVyczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e30sZTtmb3IoZSBpbiB0aGlzLmF0dHJpYnV0ZXMpXCJpbmRleFwiIT1lJiYoZFtlXT1uZXcgdGhpcy5hdHRyaWJ1dGVzW2VdLmFycmF5LmNvbnN0cnVjdG9yKHRoaXMuYXR0cmlidXRlc1tlXS5pdGVtU2l6ZSpcbmMpKTtmb3IodmFyIGY9MDtmPGM7ZisrKXt2YXIgZz1iW2ZdO2ZvcihlIGluIHRoaXMuYXR0cmlidXRlcylpZihcImluZGV4XCIhPWUpZm9yKHZhciBoPXRoaXMuYXR0cmlidXRlc1tlXS5hcnJheSxrPXRoaXMuYXR0cmlidXRlc1tlXS5pdGVtU2l6ZSxsPWRbZV0scD0wO3A8aztwKyspbFtmKmsrcF09aFtnKmsrcF19dGhpcy5hdHRyaWJ1dGVzLmluZGV4LmFycmF5PWE7Zm9yKGUgaW4gdGhpcy5hdHRyaWJ1dGVzKVwiaW5kZXhcIiE9ZSYmKHRoaXMuYXR0cmlidXRlc1tlXS5hcnJheT1kW2VdLHRoaXMuYXR0cmlidXRlc1tlXS5udW1JdGVtcz10aGlzLmF0dHJpYnV0ZXNbZV0uaXRlbVNpemUqYyl9LHRvSlNPTjpmdW5jdGlvbigpe3ZhciBhPXttZXRhZGF0YTp7dmVyc2lvbjo0LHR5cGU6XCJCdWZmZXJHZW9tZXRyeVwiLGdlbmVyYXRvcjpcIkJ1ZmZlckdlb21ldHJ5RXhwb3J0ZXJcIn0sdXVpZDp0aGlzLnV1aWQsdHlwZTp0aGlzLnR5cGUsZGF0YTp7YXR0cmlidXRlczp7fX19LGI9dGhpcy5hdHRyaWJ1dGVzLFxuYz10aGlzLm9mZnNldHMsZD10aGlzLmJvdW5kaW5nU3BoZXJlLGU7Zm9yKGUgaW4gYil7dmFyIGY9YltlXSxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGYuYXJyYXkpO2EuZGF0YS5hdHRyaWJ1dGVzW2VdPXtpdGVtU2l6ZTpmLml0ZW1TaXplLHR5cGU6Zi5hcnJheS5jb25zdHJ1Y3Rvci5uYW1lLGFycmF5Omd9fTA8Yy5sZW5ndGgmJihhLmRhdGEub2Zmc2V0cz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGMpKSk7bnVsbCE9PWQmJihhLmRhdGEuYm91bmRpbmdTcGhlcmU9e2NlbnRlcjpkLmNlbnRlci50b0FycmF5KCkscmFkaXVzOmQucmFkaXVzfSk7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5LGI7Zm9yKGIgaW4gdGhpcy5hdHRyaWJ1dGVzKWEuYWRkQXR0cmlidXRlKGIsdGhpcy5hdHRyaWJ1dGVzW2JdLmNsb25lKCkpO2I9MDtmb3IodmFyIGM9dGhpcy5vZmZzZXRzLmxlbmd0aDtiPGM7YisrKXt2YXIgZD10aGlzLm9mZnNldHNbYl07XG5hLm9mZnNldHMucHVzaCh7c3RhcnQ6ZC5zdGFydCxpbmRleDpkLmluZGV4LGNvdW50OmQuY291bnR9KX1yZXR1cm4gYX0sZGlzcG9zZTpmdW5jdGlvbigpe3RoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTpcImRpc3Bvc2VcIn0pfX07VEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5hcHBseShUSFJFRS5CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO1xuVEhSRUUuR2VvbWV0cnk9ZnVuY3Rpb24oKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImlkXCIse3ZhbHVlOlRIUkVFLkdlb21ldHJ5SWRDb3VudCsrfSk7dGhpcy51dWlkPVRIUkVFLk1hdGguZ2VuZXJhdGVVVUlEKCk7dGhpcy5uYW1lPVwiXCI7dGhpcy50eXBlPVwiR2VvbWV0cnlcIjt0aGlzLnZlcnRpY2VzPVtdO3RoaXMuY29sb3JzPVtdO3RoaXMuZmFjZXM9W107dGhpcy5mYWNlVmVydGV4VXZzPVtbXV07dGhpcy5tb3JwaFRhcmdldHM9W107dGhpcy5tb3JwaENvbG9ycz1bXTt0aGlzLm1vcnBoTm9ybWFscz1bXTt0aGlzLnNraW5XZWlnaHRzPVtdO3RoaXMuc2tpbkluZGljZXM9W107dGhpcy5saW5lRGlzdGFuY2VzPVtdO3RoaXMuYm91bmRpbmdTcGhlcmU9dGhpcy5ib3VuZGluZ0JveD1udWxsO3RoaXMuaGFzVGFuZ2VudHM9ITE7dGhpcy5keW5hbWljPSEwO3RoaXMuZ3JvdXBzTmVlZFVwZGF0ZT10aGlzLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPXRoaXMuY29sb3JzTmVlZFVwZGF0ZT1cbnRoaXMudGFuZ2VudHNOZWVkVXBkYXRlPXRoaXMubm9ybWFsc05lZWRVcGRhdGU9dGhpcy51dnNOZWVkVXBkYXRlPXRoaXMuZWxlbWVudHNOZWVkVXBkYXRlPXRoaXMudmVydGljZXNOZWVkVXBkYXRlPSExfTtcblRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuR2VvbWV0cnksYXBwbHlNYXRyaXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPShuZXcgVEhSRUUuTWF0cml4MykuZ2V0Tm9ybWFsTWF0cml4KGEpLGM9MCxkPXRoaXMudmVydGljZXMubGVuZ3RoO2M8ZDtjKyspdGhpcy52ZXJ0aWNlc1tjXS5hcHBseU1hdHJpeDQoYSk7Yz0wO2ZvcihkPXRoaXMuZmFjZXMubGVuZ3RoO2M8ZDtjKyspe2E9dGhpcy5mYWNlc1tjXTthLm5vcm1hbC5hcHBseU1hdHJpeDMoYikubm9ybWFsaXplKCk7Zm9yKHZhciBlPTAsZj1hLnZlcnRleE5vcm1hbHMubGVuZ3RoO2U8ZjtlKyspYS52ZXJ0ZXhOb3JtYWxzW2VdLmFwcGx5TWF0cml4MyhiKS5ub3JtYWxpemUoKX1udWxsIT09dGhpcy5ib3VuZGluZ0JveCYmdGhpcy5jb21wdXRlQm91bmRpbmdCb3goKTtudWxsIT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmdGhpcy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTt0aGlzLm5vcm1hbHNOZWVkVXBkYXRlPVxudGhpcy52ZXJ0aWNlc05lZWRVcGRhdGU9ITB9LGZyb21CdWZmZXJHZW9tZXRyeTpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcyxjPWEuYXR0cmlidXRlcyxkPWMucG9zaXRpb24uYXJyYXksZT12b2lkIDAhPT1jLmluZGV4P2MuaW5kZXguYXJyYXk6dm9pZCAwLGY9dm9pZCAwIT09Yy5ub3JtYWw/Yy5ub3JtYWwuYXJyYXk6dm9pZCAwLGc9dm9pZCAwIT09Yy5jb2xvcj9jLmNvbG9yLmFycmF5OnZvaWQgMCxoPXZvaWQgMCE9PWMudXY/Yy51di5hcnJheTp2b2lkIDAsaz1bXSxsPVtdLHA9Yz0wO2M8ZC5sZW5ndGg7Yys9MyxwKz0yKWIudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyhkW2NdLGRbYysxXSxkW2MrMl0pKSx2b2lkIDAhPT1mJiZrLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoZltjXSxmW2MrMV0sZltjKzJdKSksdm9pZCAwIT09ZyYmYi5jb2xvcnMucHVzaChuZXcgVEhSRUUuQ29sb3IoZ1tjXSxnW2MrMV0sZ1tjKzJdKSksdm9pZCAwIT09aCYmbC5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKGhbcF0sXG5oW3ArMV0pKTt2YXIgcT1mdW5jdGlvbihhLGMsZCl7dmFyIGU9dm9pZCAwIT09Zj9ba1thXS5jbG9uZSgpLGtbY10uY2xvbmUoKSxrW2RdLmNsb25lKCldOltdLG49dm9pZCAwIT09Zz9bYi5jb2xvcnNbYV0uY2xvbmUoKSxiLmNvbG9yc1tjXS5jbG9uZSgpLGIuY29sb3JzW2RdLmNsb25lKCldOltdO2IuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoYSxjLGQsZSxuKSk7dm9pZCAwIT09aCYmYi5mYWNlVmVydGV4VXZzWzBdLnB1c2goW2xbYV0uY2xvbmUoKSxsW2NdLmNsb25lKCksbFtkXS5jbG9uZSgpXSl9O2lmKHZvaWQgMCE9PWUpaWYoZD1hLmRyYXdjYWxscywwPGQubGVuZ3RoKWZvcihjPTA7YzxkLmxlbmd0aDtjKyspZm9yKHZhciBwPWRbY10sbj1wLnN0YXJ0LHQ9cC5jb3VudCxyPXAuaW5kZXgscD1uLG49bit0O3A8bjtwKz0zKXEocitlW3BdLHIrZVtwKzFdLHIrZVtwKzJdKTtlbHNlIGZvcihjPTA7YzxlLmxlbmd0aDtjKz0zKXEoZVtjXSxlW2MrMV0sZVtjKzJdKTtlbHNlIGZvcihjPVxuMDtjPGQubGVuZ3RoLzM7Yys9MylxKGMsYysxLGMrMik7dGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTtudWxsIT09YS5ib3VuZGluZ0JveCYmKHRoaXMuYm91bmRpbmdCb3g9YS5ib3VuZGluZ0JveC5jbG9uZSgpKTtudWxsIT09YS5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9YS5ib3VuZGluZ1NwaGVyZS5jbG9uZSgpKTtyZXR1cm4gdGhpc30sY2VudGVyOmZ1bmN0aW9uKCl7dGhpcy5jb21wdXRlQm91bmRpbmdCb3goKTt2YXIgYT10aGlzLmJvdW5kaW5nQm94LmNlbnRlcigpLm5lZ2F0ZSgpO3RoaXMuYXBwbHlNYXRyaXgoKG5ldyBUSFJFRS5NYXRyaXg0KS5zZXRQb3NpdGlvbihhKSk7cmV0dXJuIGF9LGNvbXB1dGVGYWNlTm9ybWFsczpmdW5jdGlvbigpe2Zvcih2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiPW5ldyBUSFJFRS5WZWN0b3IzLGM9MCxkPXRoaXMuZmFjZXMubGVuZ3RoO2M8ZDtjKyspe3ZhciBlPXRoaXMuZmFjZXNbY10sZj10aGlzLnZlcnRpY2VzW2UuYV0sXG5nPXRoaXMudmVydGljZXNbZS5iXTthLnN1YlZlY3RvcnModGhpcy52ZXJ0aWNlc1tlLmNdLGcpO2Iuc3ViVmVjdG9ycyhmLGcpO2EuY3Jvc3MoYik7YS5ub3JtYWxpemUoKTtlLm5vcm1hbC5jb3B5KGEpfX0sY29tcHV0ZVZlcnRleE5vcm1hbHM6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2Q9QXJyYXkodGhpcy52ZXJ0aWNlcy5sZW5ndGgpO2I9MDtmb3IoYz10aGlzLnZlcnRpY2VzLmxlbmd0aDtiPGM7YisrKWRbYl09bmV3IFRIUkVFLlZlY3RvcjM7aWYoYSl7dmFyIGUsZixnLGg9bmV3IFRIUkVFLlZlY3RvcjMsaz1uZXcgVEhSRUUuVmVjdG9yMzthPTA7Zm9yKGI9dGhpcy5mYWNlcy5sZW5ndGg7YTxiO2ErKyljPXRoaXMuZmFjZXNbYV0sZT10aGlzLnZlcnRpY2VzW2MuYV0sZj10aGlzLnZlcnRpY2VzW2MuYl0sZz10aGlzLnZlcnRpY2VzW2MuY10saC5zdWJWZWN0b3JzKGcsZiksay5zdWJWZWN0b3JzKGUsZiksaC5jcm9zcyhrKSxkW2MuYV0uYWRkKGgpLGRbYy5iXS5hZGQoaCksZFtjLmNdLmFkZChoKX1lbHNlIGZvcihhPVxuMCxiPXRoaXMuZmFjZXMubGVuZ3RoO2E8YjthKyspYz10aGlzLmZhY2VzW2FdLGRbYy5hXS5hZGQoYy5ub3JtYWwpLGRbYy5iXS5hZGQoYy5ub3JtYWwpLGRbYy5jXS5hZGQoYy5ub3JtYWwpO2I9MDtmb3IoYz10aGlzLnZlcnRpY2VzLmxlbmd0aDtiPGM7YisrKWRbYl0ubm9ybWFsaXplKCk7YT0wO2ZvcihiPXRoaXMuZmFjZXMubGVuZ3RoO2E8YjthKyspYz10aGlzLmZhY2VzW2FdLGMudmVydGV4Tm9ybWFsc1swXT1kW2MuYV0uY2xvbmUoKSxjLnZlcnRleE5vcm1hbHNbMV09ZFtjLmJdLmNsb25lKCksYy52ZXJ0ZXhOb3JtYWxzWzJdPWRbYy5jXS5jbG9uZSgpfSxjb21wdXRlTW9ycGhOb3JtYWxzOmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZTtjPTA7Zm9yKGQ9dGhpcy5mYWNlcy5sZW5ndGg7YzxkO2MrKylmb3IoZT10aGlzLmZhY2VzW2NdLGUuX19vcmlnaW5hbEZhY2VOb3JtYWw/ZS5fX29yaWdpbmFsRmFjZU5vcm1hbC5jb3B5KGUubm9ybWFsKTplLl9fb3JpZ2luYWxGYWNlTm9ybWFsPVxuZS5ub3JtYWwuY2xvbmUoKSxlLl9fb3JpZ2luYWxWZXJ0ZXhOb3JtYWxzfHwoZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFscz1bXSksYT0wLGI9ZS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDthPGI7YSsrKWUuX19vcmlnaW5hbFZlcnRleE5vcm1hbHNbYV0/ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1thXS5jb3B5KGUudmVydGV4Tm9ybWFsc1thXSk6ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc1thXT1lLnZlcnRleE5vcm1hbHNbYV0uY2xvbmUoKTt2YXIgZj1uZXcgVEhSRUUuR2VvbWV0cnk7Zi5mYWNlcz10aGlzLmZhY2VzO2E9MDtmb3IoYj10aGlzLm1vcnBoVGFyZ2V0cy5sZW5ndGg7YTxiO2ErKyl7aWYoIXRoaXMubW9ycGhOb3JtYWxzW2FdKXt0aGlzLm1vcnBoTm9ybWFsc1thXT17fTt0aGlzLm1vcnBoTm9ybWFsc1thXS5mYWNlTm9ybWFscz1bXTt0aGlzLm1vcnBoTm9ybWFsc1thXS52ZXJ0ZXhOb3JtYWxzPVtdO2U9dGhpcy5tb3JwaE5vcm1hbHNbYV0uZmFjZU5vcm1hbHM7dmFyIGc9XG50aGlzLm1vcnBoTm9ybWFsc1thXS52ZXJ0ZXhOb3JtYWxzLGgsaztjPTA7Zm9yKGQ9dGhpcy5mYWNlcy5sZW5ndGg7YzxkO2MrKyloPW5ldyBUSFJFRS5WZWN0b3IzLGs9e2E6bmV3IFRIUkVFLlZlY3RvcjMsYjpuZXcgVEhSRUUuVmVjdG9yMyxjOm5ldyBUSFJFRS5WZWN0b3IzfSxlLnB1c2goaCksZy5wdXNoKGspfWc9dGhpcy5tb3JwaE5vcm1hbHNbYV07Zi52ZXJ0aWNlcz10aGlzLm1vcnBoVGFyZ2V0c1thXS52ZXJ0aWNlcztmLmNvbXB1dGVGYWNlTm9ybWFscygpO2YuY29tcHV0ZVZlcnRleE5vcm1hbHMoKTtjPTA7Zm9yKGQ9dGhpcy5mYWNlcy5sZW5ndGg7YzxkO2MrKyllPXRoaXMuZmFjZXNbY10saD1nLmZhY2VOb3JtYWxzW2NdLGs9Zy52ZXJ0ZXhOb3JtYWxzW2NdLGguY29weShlLm5vcm1hbCksay5hLmNvcHkoZS52ZXJ0ZXhOb3JtYWxzWzBdKSxrLmIuY29weShlLnZlcnRleE5vcm1hbHNbMV0pLGsuYy5jb3B5KGUudmVydGV4Tm9ybWFsc1syXSl9Yz0wO2ZvcihkPXRoaXMuZmFjZXMubGVuZ3RoO2M8XG5kO2MrKyllPXRoaXMuZmFjZXNbY10sZS5ub3JtYWw9ZS5fX29yaWdpbmFsRmFjZU5vcm1hbCxlLnZlcnRleE5vcm1hbHM9ZS5fX29yaWdpbmFsVmVydGV4Tm9ybWFsc30sY29tcHV0ZVRhbmdlbnRzOmZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxmLGcsaCxrLGwscCxxLG4sdCxyLHMsdSx2PVtdLHg9W107Yz1uZXcgVEhSRUUuVmVjdG9yMzt2YXIgRD1uZXcgVEhSRUUuVmVjdG9yMyx3PW5ldyBUSFJFRS5WZWN0b3IzLHk9bmV3IFRIUkVFLlZlY3RvcjMsQT1uZXcgVEhSRUUuVmVjdG9yMzthPTA7Zm9yKGI9dGhpcy52ZXJ0aWNlcy5sZW5ndGg7YTxiO2ErKyl2W2FdPW5ldyBUSFJFRS5WZWN0b3IzLHhbYV09bmV3IFRIUkVFLlZlY3RvcjM7YT0wO2ZvcihiPXRoaXMuZmFjZXMubGVuZ3RoO2E8YjthKyspZT10aGlzLmZhY2VzW2FdLGY9dGhpcy5mYWNlVmVydGV4VXZzWzBdW2FdLGQ9ZS5hLHU9ZS5iLGU9ZS5jLGc9dGhpcy52ZXJ0aWNlc1tkXSxoPXRoaXMudmVydGljZXNbdV0saz10aGlzLnZlcnRpY2VzW2VdLFxubD1mWzBdLHA9ZlsxXSxxPWZbMl0sZj1oLngtZy54LG49ay54LWcueCx0PWgueS1nLnkscj1rLnktZy55LGg9aC56LWcueixnPWsuei1nLnosaz1wLngtbC54LHM9cS54LWwueCxwPXAueS1sLnksbD1xLnktbC55LHE9MS8oaypsLXMqcCksYy5zZXQoKGwqZi1wKm4pKnEsKGwqdC1wKnIpKnEsKGwqaC1wKmcpKnEpLEQuc2V0KChrKm4tcypmKSpxLChrKnItcyp0KSpxLChrKmctcypoKSpxKSx2W2RdLmFkZChjKSx2W3VdLmFkZChjKSx2W2VdLmFkZChjKSx4W2RdLmFkZChEKSx4W3VdLmFkZChEKSx4W2VdLmFkZChEKTtEPVtcImFcIixcImJcIixcImNcIixcImRcIl07YT0wO2ZvcihiPXRoaXMuZmFjZXMubGVuZ3RoO2E8YjthKyspZm9yKGU9dGhpcy5mYWNlc1thXSxjPTA7YzxNYXRoLm1pbihlLnZlcnRleE5vcm1hbHMubGVuZ3RoLDMpO2MrKylBLmNvcHkoZS52ZXJ0ZXhOb3JtYWxzW2NdKSxkPWVbRFtjXV0sdT12W2RdLHcuY29weSh1KSx3LnN1YihBLm11bHRpcGx5U2NhbGFyKEEuZG90KHUpKSkubm9ybWFsaXplKCksXG55LmNyb3NzVmVjdG9ycyhlLnZlcnRleE5vcm1hbHNbY10sdSksZD15LmRvdCh4W2RdKSxkPTA+ZD8tMToxLGUudmVydGV4VGFuZ2VudHNbY109bmV3IFRIUkVFLlZlY3RvcjQody54LHcueSx3LnosZCk7dGhpcy5oYXNUYW5nZW50cz0hMH0sY29tcHV0ZUxpbmVEaXN0YW5jZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMudmVydGljZXMsYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKykwPGMmJihhKz1iW2NdLmRpc3RhbmNlVG8oYltjLTFdKSksdGhpcy5saW5lRGlzdGFuY2VzW2NdPWF9LGNvbXB1dGVCb3VuZGluZ0JveDpmdW5jdGlvbigpe251bGw9PT10aGlzLmJvdW5kaW5nQm94JiYodGhpcy5ib3VuZGluZ0JveD1uZXcgVEhSRUUuQm94Myk7dGhpcy5ib3VuZGluZ0JveC5zZXRGcm9tUG9pbnRzKHRoaXMudmVydGljZXMpfSxjb21wdXRlQm91bmRpbmdTcGhlcmU6ZnVuY3Rpb24oKXtudWxsPT09dGhpcy5ib3VuZGluZ1NwaGVyZSYmKHRoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZSk7XG50aGlzLmJvdW5kaW5nU3BoZXJlLnNldEZyb21Qb2ludHModGhpcy52ZXJ0aWNlcyl9LG1lcmdlOmZ1bmN0aW9uKGEsYixjKXtpZighMT09PWEgaW5zdGFuY2VvZiBUSFJFRS5HZW9tZXRyeSlUSFJFRS5lcnJvcihcIlRIUkVFLkdlb21ldHJ5Lm1lcmdlKCk6IGdlb21ldHJ5IG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5HZW9tZXRyeS5cIixhKTtlbHNle3ZhciBkLGU9dGhpcy52ZXJ0aWNlcy5sZW5ndGgsZj10aGlzLnZlcnRpY2VzLGc9YS52ZXJ0aWNlcyxoPXRoaXMuZmFjZXMsaz1hLmZhY2VzLGw9dGhpcy5mYWNlVmVydGV4VXZzWzBdO2E9YS5mYWNlVmVydGV4VXZzWzBdO3ZvaWQgMD09PWMmJihjPTApO3ZvaWQgMCE9PWImJihkPShuZXcgVEhSRUUuTWF0cml4MykuZ2V0Tm9ybWFsTWF0cml4KGIpKTtmb3IodmFyIHA9MCxxPWcubGVuZ3RoO3A8cTtwKyspe3ZhciBuPWdbcF0uY2xvbmUoKTt2b2lkIDAhPT1iJiZuLmFwcGx5TWF0cml4NChiKTtmLnB1c2gobil9cD0wO2ZvcihxPWsubGVuZ3RoO3A8XG5xO3ArKyl7dmFyIGc9a1twXSx0LHI9Zy52ZXJ0ZXhOb3JtYWxzLHM9Zy52ZXJ0ZXhDb2xvcnMsbj1uZXcgVEhSRUUuRmFjZTMoZy5hK2UsZy5iK2UsZy5jK2UpO24ubm9ybWFsLmNvcHkoZy5ub3JtYWwpO3ZvaWQgMCE9PWQmJm4ubm9ybWFsLmFwcGx5TWF0cml4MyhkKS5ub3JtYWxpemUoKTtiPTA7Zm9yKGY9ci5sZW5ndGg7YjxmO2IrKyl0PXJbYl0uY2xvbmUoKSx2b2lkIDAhPT1kJiZ0LmFwcGx5TWF0cml4MyhkKS5ub3JtYWxpemUoKSxuLnZlcnRleE5vcm1hbHMucHVzaCh0KTtuLmNvbG9yLmNvcHkoZy5jb2xvcik7Yj0wO2ZvcihmPXMubGVuZ3RoO2I8ZjtiKyspdD1zW2JdLG4udmVydGV4Q29sb3JzLnB1c2godC5jbG9uZSgpKTtuLm1hdGVyaWFsSW5kZXg9Zy5tYXRlcmlhbEluZGV4K2M7aC5wdXNoKG4pfXA9MDtmb3IocT1hLmxlbmd0aDtwPHE7cCsrKWlmKGM9YVtwXSxkPVtdLHZvaWQgMCE9PWMpe2I9MDtmb3IoZj1jLmxlbmd0aDtiPGY7YisrKWQucHVzaChjW2JdLmNsb25lKCkpO1xubC5wdXNoKGQpfX19LG1lcmdlTWVzaDpmdW5jdGlvbihhKXshMT09PWEgaW5zdGFuY2VvZiBUSFJFRS5NZXNoP1RIUkVFLmVycm9yKFwiVEhSRUUuR2VvbWV0cnkubWVyZ2VNZXNoKCk6IG1lc2ggbm90IGFuIGluc3RhbmNlIG9mIFRIUkVFLk1lc2guXCIsYSk6KGEubWF0cml4QXV0b1VwZGF0ZSYmYS51cGRhdGVNYXRyaXgoKSx0aGlzLm1lcmdlKGEuZ2VvbWV0cnksYS5tYXRyaXgpKX0sbWVyZ2VWZXJ0aWNlczpmdW5jdGlvbigpe3ZhciBhPXt9LGI9W10sYz1bXSxkLGU9TWF0aC5wb3coMTAsNCksZixnO2Y9MDtmb3IoZz10aGlzLnZlcnRpY2VzLmxlbmd0aDtmPGc7ZisrKWQ9dGhpcy52ZXJ0aWNlc1tmXSxkPU1hdGgucm91bmQoZC54KmUpK1wiX1wiK01hdGgucm91bmQoZC55KmUpK1wiX1wiK01hdGgucm91bmQoZC56KmUpLHZvaWQgMD09PWFbZF0/KGFbZF09ZixiLnB1c2godGhpcy52ZXJ0aWNlc1tmXSksY1tmXT1iLmxlbmd0aC0xKTpjW2ZdPWNbYVtkXV07YT1bXTtmPTA7Zm9yKGc9dGhpcy5mYWNlcy5sZW5ndGg7Zjxcbmc7ZisrKWZvcihlPXRoaXMuZmFjZXNbZl0sZS5hPWNbZS5hXSxlLmI9Y1tlLmJdLGUuYz1jW2UuY10sZT1bZS5hLGUuYixlLmNdLGQ9MDszPmQ7ZCsrKWlmKGVbZF09PWVbKGQrMSklM10pe2EucHVzaChmKTticmVha31mb3IoZj1hLmxlbmd0aC0xOzA8PWY7Zi0tKWZvcihlPWFbZl0sdGhpcy5mYWNlcy5zcGxpY2UoZSwxKSxjPTAsZz10aGlzLmZhY2VWZXJ0ZXhVdnMubGVuZ3RoO2M8ZztjKyspdGhpcy5mYWNlVmVydGV4VXZzW2NdLnNwbGljZShlLDEpO2Y9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtYi5sZW5ndGg7dGhpcy52ZXJ0aWNlcz1iO3JldHVybiBmfSx0b0pTT046ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtyZXR1cm4gYz9hfDE8PGI6YSZ+KDE8PGIpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS54LnRvU3RyaW5nKCkrYS55LnRvU3RyaW5nKCkrYS56LnRvU3RyaW5nKCk7aWYodm9pZCAwIT09bFtiXSlyZXR1cm4gbFtiXTtsW2JdPWsubGVuZ3RoLzM7ay5wdXNoKGEueCxhLnksXG5hLnopO3JldHVybiBsW2JdfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5yLnRvU3RyaW5nKCkrYS5nLnRvU3RyaW5nKCkrYS5iLnRvU3RyaW5nKCk7aWYodm9pZCAwIT09cVtiXSlyZXR1cm4gcVtiXTtxW2JdPXAubGVuZ3RoO3AucHVzaChhLmdldEhleCgpKTtyZXR1cm4gcVtiXX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEueC50b1N0cmluZygpK2EueS50b1N0cmluZygpO2lmKHZvaWQgMCE9PXRbYl0pcmV0dXJuIHRbYl07dFtiXT1uLmxlbmd0aC8yO24ucHVzaChhLngsYS55KTtyZXR1cm4gdFtiXX12YXIgZT17bWV0YWRhdGE6e3ZlcnNpb246NCx0eXBlOlwiQnVmZmVyR2VvbWV0cnlcIixnZW5lcmF0b3I6XCJCdWZmZXJHZW9tZXRyeUV4cG9ydGVyXCJ9LHV1aWQ6dGhpcy51dWlkLHR5cGU6dGhpcy50eXBlfTtcIlwiIT09dGhpcy5uYW1lJiYoZS5uYW1lPXRoaXMubmFtZSk7aWYodm9pZCAwIT09dGhpcy5wYXJhbWV0ZXJzKXt2YXIgZj10aGlzLnBhcmFtZXRlcnMsZztmb3IoZyBpbiBmKXZvaWQgMCE9PVxuZltnXSYmKGVbZ109ZltnXSk7cmV0dXJuIGV9Zj1bXTtmb3IoZz0wO2c8dGhpcy52ZXJ0aWNlcy5sZW5ndGg7ZysrKXt2YXIgaD10aGlzLnZlcnRpY2VzW2ddO2YucHVzaChoLngsaC55LGgueil9dmFyIGg9W10saz1bXSxsPXt9LHA9W10scT17fSxuPVtdLHQ9e307Zm9yKGc9MDtnPHRoaXMuZmFjZXMubGVuZ3RoO2crKyl7dmFyIHI9dGhpcy5mYWNlc1tnXSxzPXZvaWQgMCE9PXRoaXMuZmFjZVZlcnRleFV2c1swXVtnXSx1PTA8ci5ub3JtYWwubGVuZ3RoKCksdj0wPHIudmVydGV4Tm9ybWFscy5sZW5ndGgseD0xIT09ci5jb2xvci5yfHwxIT09ci5jb2xvci5nfHwxIT09ci5jb2xvci5iLEQ9MDxyLnZlcnRleENvbG9ycy5sZW5ndGgsdz0wLHc9YSh3LDAsMCksdz1hKHcsMSwhMSksdz1hKHcsMiwhMSksdz1hKHcsMyxzKSx3PWEodyw0LHUpLHc9YSh3LDUsdiksdz1hKHcsNix4KSx3PWEodyw3LEQpO2gucHVzaCh3KTtoLnB1c2goci5hLHIuYixyLmMpO3MmJihzPXRoaXMuZmFjZVZlcnRleFV2c1swXVtnXSxcbmgucHVzaChkKHNbMF0pLGQoc1sxXSksZChzWzJdKSkpO3UmJmgucHVzaChiKHIubm9ybWFsKSk7diYmKHU9ci52ZXJ0ZXhOb3JtYWxzLGgucHVzaChiKHVbMF0pLGIodVsxXSksYih1WzJdKSkpO3gmJmgucHVzaChjKHIuY29sb3IpKTtEJiYocj1yLnZlcnRleENvbG9ycyxoLnB1c2goYyhyWzBdKSxjKHJbMV0pLGMoclsyXSkpKX1lLmRhdGE9e307ZS5kYXRhLnZlcnRpY2VzPWY7ZS5kYXRhLm5vcm1hbHM9azswPHAubGVuZ3RoJiYoZS5kYXRhLmNvbG9ycz1wKTswPG4ubGVuZ3RoJiYoZS5kYXRhLnV2cz1bbl0pO2UuZGF0YS5mYWNlcz1oO3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1uZXcgVEhSRUUuR2VvbWV0cnksYj10aGlzLnZlcnRpY2VzLGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS52ZXJ0aWNlcy5wdXNoKGJbY10uY2xvbmUoKSk7Yj10aGlzLmZhY2VzO2M9MDtmb3IoZD1iLmxlbmd0aDtjPGQ7YysrKWEuZmFjZXMucHVzaChiW2NdLmNsb25lKCkpO2M9MDtcbmZvcihkPXRoaXMuZmFjZVZlcnRleFV2cy5sZW5ndGg7YzxkO2MrKyl7Yj10aGlzLmZhY2VWZXJ0ZXhVdnNbY107dm9pZCAwPT09YS5mYWNlVmVydGV4VXZzW2NdJiYoYS5mYWNlVmVydGV4VXZzW2NdPVtdKTtmb3IodmFyIGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe2Zvcih2YXIgZz1iW2VdLGg9W10saz0wLGw9Zy5sZW5ndGg7azxsO2srKyloLnB1c2goZ1trXS5jbG9uZSgpKTthLmZhY2VWZXJ0ZXhVdnNbY10ucHVzaChoKX19cmV0dXJuIGF9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJkaXNwb3NlXCJ9KX19O1RIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5HZW9tZXRyeUlkQ291bnQ9MDtcblRIUkVFLkNhbWVyYT1mdW5jdGlvbigpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPVwiQ2FtZXJhXCI7dGhpcy5tYXRyaXhXb3JsZEludmVyc2U9bmV3IFRIUkVFLk1hdHJpeDQ7dGhpcy5wcm9qZWN0aW9uTWF0cml4PW5ldyBUSFJFRS5NYXRyaXg0fTtUSFJFRS5DYW1lcmEucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtUSFJFRS5DYW1lcmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkNhbWVyYTtUSFJFRS5DYW1lcmEucHJvdG90eXBlLmdldFdvcmxkRGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlF1YXRlcm5pb247cmV0dXJuIGZ1bmN0aW9uKGIpe2I9Ynx8bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5nZXRXb3JsZFF1YXRlcm5pb24oYSk7cmV0dXJuIGIuc2V0KDAsMCwtMSkuYXBwbHlRdWF0ZXJuaW9uKGEpfX0oKTtcblRIUkVFLkNhbWVyYS5wcm90b3R5cGUubG9va0F0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1hdHJpeDQ7cmV0dXJuIGZ1bmN0aW9uKGIpe2EubG9va0F0KHRoaXMucG9zaXRpb24sYix0aGlzLnVwKTt0aGlzLnF1YXRlcm5pb24uc2V0RnJvbVJvdGF0aW9uTWF0cml4KGEpfX0oKTtUSFJFRS5DYW1lcmEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5DYW1lcmEpO1RIUkVFLk9iamVjdDNELnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7YS5tYXRyaXhXb3JsZEludmVyc2UuY29weSh0aGlzLm1hdHJpeFdvcmxkSW52ZXJzZSk7YS5wcm9qZWN0aW9uTWF0cml4LmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KTtyZXR1cm4gYX07XG5USFJFRS5DdWJlQ2FtZXJhPWZ1bmN0aW9uKGEsYixjKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkN1YmVDYW1lcmFcIjt2YXIgZD1uZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSxhLGIpO2QudXAuc2V0KDAsLTEsMCk7ZC5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMSwwLDApKTt0aGlzLmFkZChkKTt2YXIgZT1uZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSxhLGIpO2UudXAuc2V0KDAsLTEsMCk7ZS5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoLTEsMCwwKSk7dGhpcy5hZGQoZSk7dmFyIGY9bmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDkwLDEsYSxiKTtmLnVwLnNldCgwLDAsMSk7Zi5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwxLDApKTt0aGlzLmFkZChmKTt2YXIgZz1uZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSxhLGIpO2cudXAuc2V0KDAsMCwtMSk7Zy5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKSk7XG50aGlzLmFkZChnKTt2YXIgaD1uZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSxhLGIpO2gudXAuc2V0KDAsLTEsMCk7aC5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwwLDEpKTt0aGlzLmFkZChoKTt2YXIgaz1uZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOTAsMSxhLGIpO2sudXAuc2V0KDAsLTEsMCk7ay5sb29rQXQobmV3IFRIUkVFLlZlY3RvcjMoMCwwLC0xKSk7dGhpcy5hZGQoayk7dGhpcy5yZW5kZXJUYXJnZXQ9bmV3IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZShjLGMse2Zvcm1hdDpUSFJFRS5SR0JGb3JtYXQsbWFnRmlsdGVyOlRIUkVFLkxpbmVhckZpbHRlcixtaW5GaWx0ZXI6VEhSRUUuTGluZWFyRmlsdGVyfSk7dGhpcy51cGRhdGVDdWJlTWFwPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yZW5kZXJUYXJnZXQsbj1jLmdlbmVyYXRlTWlwbWFwcztjLmdlbmVyYXRlTWlwbWFwcz0hMTtjLmFjdGl2ZUN1YmVGYWNlPTA7YS5yZW5kZXIoYixkLGMpO2MuYWN0aXZlQ3ViZUZhY2U9XG4xO2EucmVuZGVyKGIsZSxjKTtjLmFjdGl2ZUN1YmVGYWNlPTI7YS5yZW5kZXIoYixmLGMpO2MuYWN0aXZlQ3ViZUZhY2U9MzthLnJlbmRlcihiLGcsYyk7Yy5hY3RpdmVDdWJlRmFjZT00O2EucmVuZGVyKGIsaCxjKTtjLmdlbmVyYXRlTWlwbWFwcz1uO2MuYWN0aXZlQ3ViZUZhY2U9NTthLnJlbmRlcihiLGssYyl9fTtUSFJFRS5DdWJlQ2FtZXJhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuQ3ViZUNhbWVyYS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQ3ViZUNhbWVyYTtcblRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7VEhSRUUuQ2FtZXJhLmNhbGwodGhpcyk7dGhpcy50eXBlPVwiT3J0aG9ncmFwaGljQ2FtZXJhXCI7dGhpcy56b29tPTE7dGhpcy5sZWZ0PWE7dGhpcy5yaWdodD1iO3RoaXMudG9wPWM7dGhpcy5ib3R0b209ZDt0aGlzLm5lYXI9dm9pZCAwIT09ZT9lOi4xO3RoaXMuZmFyPXZvaWQgMCE9PWY/ZjoyRTM7dGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9O1RIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5DYW1lcmEucHJvdG90eXBlKTtUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYTtcblRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYS5wcm90b3R5cGUudXBkYXRlUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLnJpZ2h0LXRoaXMubGVmdCkvKDIqdGhpcy56b29tKSxiPSh0aGlzLnRvcC10aGlzLmJvdHRvbSkvKDIqdGhpcy56b29tKSxjPSh0aGlzLnJpZ2h0K3RoaXMubGVmdCkvMixkPSh0aGlzLnRvcCt0aGlzLmJvdHRvbSkvMjt0aGlzLnByb2plY3Rpb25NYXRyaXgubWFrZU9ydGhvZ3JhcGhpYyhjLWEsYythLGQrYixkLWIsdGhpcy5uZWFyLHRoaXMuZmFyKX07XG5USFJFRS5PcnRob2dyYXBoaWNDYW1lcmEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYTtUSFJFRS5DYW1lcmEucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLnpvb209dGhpcy56b29tO2EubGVmdD10aGlzLmxlZnQ7YS5yaWdodD10aGlzLnJpZ2h0O2EudG9wPXRoaXMudG9wO2EuYm90dG9tPXRoaXMuYm90dG9tO2EubmVhcj10aGlzLm5lYXI7YS5mYXI9dGhpcy5mYXI7YS5wcm9qZWN0aW9uTWF0cml4LmNvcHkodGhpcy5wcm9qZWN0aW9uTWF0cml4KTtyZXR1cm4gYX07XG5USFJFRS5QZXJzcGVjdGl2ZUNhbWVyYT1mdW5jdGlvbihhLGIsYyxkKXtUSFJFRS5DYW1lcmEuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJQZXJzcGVjdGl2ZUNhbWVyYVwiO3RoaXMuem9vbT0xO3RoaXMuZm92PXZvaWQgMCE9PWE/YTo1MDt0aGlzLmFzcGVjdD12b2lkIDAhPT1iP2I6MTt0aGlzLm5lYXI9dm9pZCAwIT09Yz9jOi4xO3RoaXMuZmFyPXZvaWQgMCE9PWQ/ZDoyRTM7dGhpcy51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCl9O1RIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkNhbWVyYS5wcm90b3R5cGUpO1RIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5QZXJzcGVjdGl2ZUNhbWVyYTtcblRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhLnByb3RvdHlwZS5zZXRMZW5zPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9MjQpO3RoaXMuZm92PTIqVEhSRUUuTWF0aC5yYWRUb0RlZyhNYXRoLmF0YW4oYi8oMiphKSkpO3RoaXMudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpfTtUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUuc2V0Vmlld09mZnNldD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5mdWxsV2lkdGg9YTt0aGlzLmZ1bGxIZWlnaHQ9Yjt0aGlzLng9Yzt0aGlzLnk9ZDt0aGlzLndpZHRoPWU7dGhpcy5oZWlnaHQ9Zjt0aGlzLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX07XG5USFJFRS5QZXJzcGVjdGl2ZUNhbWVyYS5wcm90b3R5cGUudXBkYXRlUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbigpe3ZhciBhPVRIUkVFLk1hdGgucmFkVG9EZWcoMipNYXRoLmF0YW4oTWF0aC50YW4oLjUqVEhSRUUuTWF0aC5kZWdUb1JhZCh0aGlzLmZvdikpL3RoaXMuem9vbSkpO2lmKHRoaXMuZnVsbFdpZHRoKXt2YXIgYj10aGlzLmZ1bGxXaWR0aC90aGlzLmZ1bGxIZWlnaHQsYT1NYXRoLnRhbihUSFJFRS5NYXRoLmRlZ1RvUmFkKC41KmEpKSp0aGlzLm5lYXIsYz0tYSxkPWIqYyxiPU1hdGguYWJzKGIqYS1kKSxjPU1hdGguYWJzKGEtYyk7dGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VGcnVzdHVtKGQrdGhpcy54KmIvdGhpcy5mdWxsV2lkdGgsZCsodGhpcy54K3RoaXMud2lkdGgpKmIvdGhpcy5mdWxsV2lkdGgsYS0odGhpcy55K3RoaXMuaGVpZ2h0KSpjL3RoaXMuZnVsbEhlaWdodCxhLXRoaXMueSpjL3RoaXMuZnVsbEhlaWdodCx0aGlzLm5lYXIsdGhpcy5mYXIpfWVsc2UgdGhpcy5wcm9qZWN0aW9uTWF0cml4Lm1ha2VQZXJzcGVjdGl2ZShhLFxudGhpcy5hc3BlY3QsdGhpcy5uZWFyLHRoaXMuZmFyKX07VEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhO1RIUkVFLkNhbWVyYS5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2Euem9vbT10aGlzLnpvb207YS5mb3Y9dGhpcy5mb3Y7YS5hc3BlY3Q9dGhpcy5hc3BlY3Q7YS5uZWFyPXRoaXMubmVhcjthLmZhcj10aGlzLmZhcjthLnByb2plY3Rpb25NYXRyaXguY29weSh0aGlzLnByb2plY3Rpb25NYXRyaXgpO3JldHVybiBhfTtUSFJFRS5MaWdodD1mdW5jdGlvbihhKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkxpZ2h0XCI7dGhpcy5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoYSl9O1RIUkVFLkxpZ2h0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuTGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkxpZ2h0O1xuVEhSRUUuTGlnaHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5MaWdodCk7VEhSRUUuT2JqZWN0M0QucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmNvbG9yLmNvcHkodGhpcy5jb2xvcik7cmV0dXJuIGF9O1RIUkVFLkFtYmllbnRMaWdodD1mdW5jdGlvbihhKXtUSFJFRS5MaWdodC5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPVwiQW1iaWVudExpZ2h0XCJ9O1RIUkVFLkFtYmllbnRMaWdodC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaWdodC5wcm90b3R5cGUpO1RIUkVFLkFtYmllbnRMaWdodC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQW1iaWVudExpZ2h0O1RIUkVFLkFtYmllbnRMaWdodC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuQW1iaWVudExpZ2h0O1RIUkVFLkxpZ2h0LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1xuVEhSRUUuQXJlYUxpZ2h0PWZ1bmN0aW9uKGEsYil7VEhSRUUuTGlnaHQuY2FsbCh0aGlzLGEpO3RoaXMudHlwZT1cIkFyZWFMaWdodFwiO3RoaXMubm9ybWFsPW5ldyBUSFJFRS5WZWN0b3IzKDAsLTEsMCk7dGhpcy5yaWdodD1uZXcgVEhSRUUuVmVjdG9yMygxLDAsMCk7dGhpcy5pbnRlbnNpdHk9dm9pZCAwIT09Yj9iOjE7dGhpcy5oZWlnaHQ9dGhpcy53aWR0aD0xO3RoaXMuY29uc3RhbnRBdHRlbnVhdGlvbj0xLjU7dGhpcy5saW5lYXJBdHRlbnVhdGlvbj0uNTt0aGlzLnF1YWRyYXRpY0F0dGVudWF0aW9uPS4xfTtUSFJFRS5BcmVhTGlnaHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTGlnaHQucHJvdG90eXBlKTtUSFJFRS5BcmVhTGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkFyZWFMaWdodDtcblRIUkVFLkRpcmVjdGlvbmFsTGlnaHQ9ZnVuY3Rpb24oYSxiKXtUSFJFRS5MaWdodC5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPVwiRGlyZWN0aW9uYWxMaWdodFwiO3RoaXMucG9zaXRpb24uc2V0KDAsMSwwKTt0aGlzLnRhcmdldD1uZXcgVEhSRUUuT2JqZWN0M0Q7dGhpcy5pbnRlbnNpdHk9dm9pZCAwIT09Yj9iOjE7dGhpcy5vbmx5U2hhZG93PXRoaXMuY2FzdFNoYWRvdz0hMTt0aGlzLnNoYWRvd0NhbWVyYU5lYXI9NTA7dGhpcy5zaGFkb3dDYW1lcmFGYXI9NUUzO3RoaXMuc2hhZG93Q2FtZXJhTGVmdD0tNTAwO3RoaXMuc2hhZG93Q2FtZXJhVG9wPXRoaXMuc2hhZG93Q2FtZXJhUmlnaHQ9NTAwO3RoaXMuc2hhZG93Q2FtZXJhQm90dG9tPS01MDA7dGhpcy5zaGFkb3dDYW1lcmFWaXNpYmxlPSExO3RoaXMuc2hhZG93Qmlhcz0wO3RoaXMuc2hhZG93RGFya25lc3M9LjU7dGhpcy5zaGFkb3dNYXBIZWlnaHQ9dGhpcy5zaGFkb3dNYXBXaWR0aD01MTI7dGhpcy5zaGFkb3dDYXNjYWRlPSExO1xudGhpcy5zaGFkb3dDYXNjYWRlT2Zmc2V0PW5ldyBUSFJFRS5WZWN0b3IzKDAsMCwtMUUzKTt0aGlzLnNoYWRvd0Nhc2NhZGVDb3VudD0yO3RoaXMuc2hhZG93Q2FzY2FkZUJpYXM9WzAsMCwwXTt0aGlzLnNoYWRvd0Nhc2NhZGVXaWR0aD1bNTEyLDUxMiw1MTJdO3RoaXMuc2hhZG93Q2FzY2FkZUhlaWdodD1bNTEyLDUxMiw1MTJdO3RoaXMuc2hhZG93Q2FzY2FkZU5lYXJaPVstMSwuOTksLjk5OF07dGhpcy5zaGFkb3dDYXNjYWRlRmFyWj1bLjk5LC45OTgsMV07dGhpcy5zaGFkb3dDYXNjYWRlQXJyYXk9W107dGhpcy5zaGFkb3dNYXRyaXg9dGhpcy5zaGFkb3dDYW1lcmE9dGhpcy5zaGFkb3dNYXBTaXplPXRoaXMuc2hhZG93TWFwPW51bGx9O1RIUkVFLkRpcmVjdGlvbmFsTGlnaHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTGlnaHQucHJvdG90eXBlKTtUSFJFRS5EaXJlY3Rpb25hbExpZ2h0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5EaXJlY3Rpb25hbExpZ2h0O1xuVEhSRUUuRGlyZWN0aW9uYWxMaWdodC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodDtUSFJFRS5MaWdodC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2EudGFyZ2V0PXRoaXMudGFyZ2V0LmNsb25lKCk7YS5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHk7YS5jYXN0U2hhZG93PXRoaXMuY2FzdFNoYWRvdzthLm9ubHlTaGFkb3c9dGhpcy5vbmx5U2hhZG93O2Euc2hhZG93Q2FtZXJhTmVhcj10aGlzLnNoYWRvd0NhbWVyYU5lYXI7YS5zaGFkb3dDYW1lcmFGYXI9dGhpcy5zaGFkb3dDYW1lcmFGYXI7YS5zaGFkb3dDYW1lcmFMZWZ0PXRoaXMuc2hhZG93Q2FtZXJhTGVmdDthLnNoYWRvd0NhbWVyYVJpZ2h0PXRoaXMuc2hhZG93Q2FtZXJhUmlnaHQ7YS5zaGFkb3dDYW1lcmFUb3A9dGhpcy5zaGFkb3dDYW1lcmFUb3A7YS5zaGFkb3dDYW1lcmFCb3R0b209dGhpcy5zaGFkb3dDYW1lcmFCb3R0b207YS5zaGFkb3dDYW1lcmFWaXNpYmxlPVxudGhpcy5zaGFkb3dDYW1lcmFWaXNpYmxlO2Euc2hhZG93Qmlhcz10aGlzLnNoYWRvd0JpYXM7YS5zaGFkb3dEYXJrbmVzcz10aGlzLnNoYWRvd0RhcmtuZXNzO2Euc2hhZG93TWFwV2lkdGg9dGhpcy5zaGFkb3dNYXBXaWR0aDthLnNoYWRvd01hcEhlaWdodD10aGlzLnNoYWRvd01hcEhlaWdodDthLnNoYWRvd0Nhc2NhZGU9dGhpcy5zaGFkb3dDYXNjYWRlO2Euc2hhZG93Q2FzY2FkZU9mZnNldC5jb3B5KHRoaXMuc2hhZG93Q2FzY2FkZU9mZnNldCk7YS5zaGFkb3dDYXNjYWRlQ291bnQ9dGhpcy5zaGFkb3dDYXNjYWRlQ291bnQ7YS5zaGFkb3dDYXNjYWRlQmlhcz10aGlzLnNoYWRvd0Nhc2NhZGVCaWFzLnNsaWNlKDApO2Euc2hhZG93Q2FzY2FkZVdpZHRoPXRoaXMuc2hhZG93Q2FzY2FkZVdpZHRoLnNsaWNlKDApO2Euc2hhZG93Q2FzY2FkZUhlaWdodD10aGlzLnNoYWRvd0Nhc2NhZGVIZWlnaHQuc2xpY2UoMCk7YS5zaGFkb3dDYXNjYWRlTmVhclo9dGhpcy5zaGFkb3dDYXNjYWRlTmVhclouc2xpY2UoMCk7XG5hLnNoYWRvd0Nhc2NhZGVGYXJaPXRoaXMuc2hhZG93Q2FzY2FkZUZhclouc2xpY2UoMCk7cmV0dXJuIGF9O1RIUkVFLkhlbWlzcGhlcmVMaWdodD1mdW5jdGlvbihhLGIsYyl7VEhSRUUuTGlnaHQuY2FsbCh0aGlzLGEpO3RoaXMudHlwZT1cIkhlbWlzcGhlcmVMaWdodFwiO3RoaXMucG9zaXRpb24uc2V0KDAsMTAwLDApO3RoaXMuZ3JvdW5kQ29sb3I9bmV3IFRIUkVFLkNvbG9yKGIpO3RoaXMuaW50ZW5zaXR5PXZvaWQgMCE9PWM/YzoxfTtUSFJFRS5IZW1pc3BoZXJlTGlnaHQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTGlnaHQucHJvdG90eXBlKTtUSFJFRS5IZW1pc3BoZXJlTGlnaHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkhlbWlzcGhlcmVMaWdodDtcblRIUkVFLkhlbWlzcGhlcmVMaWdodC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuSGVtaXNwaGVyZUxpZ2h0O1RIUkVFLkxpZ2h0LnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7YS5ncm91bmRDb2xvci5jb3B5KHRoaXMuZ3JvdW5kQ29sb3IpO2EuaW50ZW5zaXR5PXRoaXMuaW50ZW5zaXR5O3JldHVybiBhfTtUSFJFRS5Qb2ludExpZ2h0PWZ1bmN0aW9uKGEsYixjLGQpe1RIUkVFLkxpZ2h0LmNhbGwodGhpcyxhKTt0aGlzLnR5cGU9XCJQb2ludExpZ2h0XCI7dGhpcy5pbnRlbnNpdHk9dm9pZCAwIT09Yj9iOjE7dGhpcy5kaXN0YW5jZT12b2lkIDAhPT1jP2M6MDt0aGlzLmRlY2F5PXZvaWQgMCE9PWQ/ZDoxfTtUSFJFRS5Qb2ludExpZ2h0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkxpZ2h0LnByb3RvdHlwZSk7VEhSRUUuUG9pbnRMaWdodC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUG9pbnRMaWdodDtcblRIUkVFLlBvaW50TGlnaHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlBvaW50TGlnaHQ7VEhSRUUuTGlnaHQucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmludGVuc2l0eT10aGlzLmludGVuc2l0eTthLmRpc3RhbmNlPXRoaXMuZGlzdGFuY2U7YS5kZWNheT10aGlzLmRlY2F5O3JldHVybiBhfTtcblRIUkVFLlNwb3RMaWdodD1mdW5jdGlvbihhLGIsYyxkLGUsZil7VEhSRUUuTGlnaHQuY2FsbCh0aGlzLGEpO3RoaXMudHlwZT1cIlNwb3RMaWdodFwiO3RoaXMucG9zaXRpb24uc2V0KDAsMSwwKTt0aGlzLnRhcmdldD1uZXcgVEhSRUUuT2JqZWN0M0Q7dGhpcy5pbnRlbnNpdHk9dm9pZCAwIT09Yj9iOjE7dGhpcy5kaXN0YW5jZT12b2lkIDAhPT1jP2M6MDt0aGlzLmFuZ2xlPXZvaWQgMCE9PWQ/ZDpNYXRoLlBJLzM7dGhpcy5leHBvbmVudD12b2lkIDAhPT1lP2U6MTA7dGhpcy5kZWNheT12b2lkIDAhPT1mP2Y6MTt0aGlzLm9ubHlTaGFkb3c9dGhpcy5jYXN0U2hhZG93PSExO3RoaXMuc2hhZG93Q2FtZXJhTmVhcj01MDt0aGlzLnNoYWRvd0NhbWVyYUZhcj01RTM7dGhpcy5zaGFkb3dDYW1lcmFGb3Y9NTA7dGhpcy5zaGFkb3dDYW1lcmFWaXNpYmxlPSExO3RoaXMuc2hhZG93Qmlhcz0wO3RoaXMuc2hhZG93RGFya25lc3M9LjU7dGhpcy5zaGFkb3dNYXBIZWlnaHQ9dGhpcy5zaGFkb3dNYXBXaWR0aD1cbjUxMjt0aGlzLnNoYWRvd01hdHJpeD10aGlzLnNoYWRvd0NhbWVyYT10aGlzLnNoYWRvd01hcFNpemU9dGhpcy5zaGFkb3dNYXA9bnVsbH07VEhSRUUuU3BvdExpZ2h0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkxpZ2h0LnByb3RvdHlwZSk7VEhSRUUuU3BvdExpZ2h0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5TcG90TGlnaHQ7XG5USFJFRS5TcG90TGlnaHQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlNwb3RMaWdodDtUSFJFRS5MaWdodC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2EudGFyZ2V0PXRoaXMudGFyZ2V0LmNsb25lKCk7YS5pbnRlbnNpdHk9dGhpcy5pbnRlbnNpdHk7YS5kaXN0YW5jZT10aGlzLmRpc3RhbmNlO2EuYW5nbGU9dGhpcy5hbmdsZTthLmV4cG9uZW50PXRoaXMuZXhwb25lbnQ7YS5kZWNheT10aGlzLmRlY2F5O2EuY2FzdFNoYWRvdz10aGlzLmNhc3RTaGFkb3c7YS5vbmx5U2hhZG93PXRoaXMub25seVNoYWRvdzthLnNoYWRvd0NhbWVyYU5lYXI9dGhpcy5zaGFkb3dDYW1lcmFOZWFyO2Euc2hhZG93Q2FtZXJhRmFyPXRoaXMuc2hhZG93Q2FtZXJhRmFyO2Euc2hhZG93Q2FtZXJhRm92PXRoaXMuc2hhZG93Q2FtZXJhRm92O2Euc2hhZG93Q2FtZXJhVmlzaWJsZT10aGlzLnNoYWRvd0NhbWVyYVZpc2libGU7YS5zaGFkb3dCaWFzPXRoaXMuc2hhZG93QmlhcztcbmEuc2hhZG93RGFya25lc3M9dGhpcy5zaGFkb3dEYXJrbmVzczthLnNoYWRvd01hcFdpZHRoPXRoaXMuc2hhZG93TWFwV2lkdGg7YS5zaGFkb3dNYXBIZWlnaHQ9dGhpcy5zaGFkb3dNYXBIZWlnaHQ7cmV0dXJuIGF9O1RIUkVFLkNhY2hlPXtmaWxlczp7fSxhZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmZpbGVzW2FdPWJ9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWxlc1thXX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLmZpbGVzW2FdfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZmlsZXM9e319fTtcblRIUkVFLkxvYWRlcj1mdW5jdGlvbihhKXt0aGlzLnN0YXR1c0RvbUVsZW1lbnQ9KHRoaXMuc2hvd1N0YXR1cz1hKT9USFJFRS5Mb2FkZXIucHJvdG90eXBlLmFkZFN0YXR1c0VsZW1lbnQoKTpudWxsO3RoaXMuaW1hZ2VMb2FkZXI9bmV3IFRIUkVFLkltYWdlTG9hZGVyO3RoaXMub25Mb2FkU3RhcnQ9ZnVuY3Rpb24oKXt9O3RoaXMub25Mb2FkUHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9O3RoaXMub25Mb2FkQ29tcGxldGU9ZnVuY3Rpb24oKXt9fTtcblRIUkVFLkxvYWRlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkxvYWRlcixjcm9zc09yaWdpbjp2b2lkIDAsYWRkU3RhdHVzRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7YS5zdHlsZS5yaWdodD1cIjBweFwiO2Euc3R5bGUudG9wPVwiMHB4XCI7YS5zdHlsZS5mb250U2l6ZT1cIjAuOGVtXCI7YS5zdHlsZS50ZXh0QWxpZ249XCJsZWZ0XCI7YS5zdHlsZS5iYWNrZ3JvdW5kPVwicmdiYSgwLDAsMCwwLjI1KVwiO2Euc3R5bGUuY29sb3I9XCIjZmZmXCI7YS5zdHlsZS53aWR0aD1cIjEyMHB4XCI7YS5zdHlsZS5wYWRkaW5nPVwiMC41ZW0gMC41ZW0gMC41ZW0gMC41ZW1cIjthLnN0eWxlLnpJbmRleD0xRTM7YS5pbm5lckhUTUw9XCJMb2FkaW5nIC4uLlwiO3JldHVybiBhfSx1cGRhdGVQcm9ncmVzczpmdW5jdGlvbihhKXt2YXIgYj1cIkxvYWRlZCBcIixiPWEudG90YWw/YisoKDEwMCphLmxvYWRlZC9hLnRvdGFsKS50b0ZpeGVkKDApK1xuXCIlXCIpOmIrKChhLmxvYWRlZC8xMDI0KS50b0ZpeGVkKDIpK1wiIEtCXCIpO3RoaXMuc3RhdHVzRG9tRWxlbWVudC5pbm5lckhUTUw9Yn0sZXh0cmFjdFVybEJhc2U6ZnVuY3Rpb24oYSl7YT1hLnNwbGl0KFwiL1wiKTtpZigxPT09YS5sZW5ndGgpcmV0dXJuXCIuL1wiO2EucG9wKCk7cmV0dXJuIGEuam9pbihcIi9cIikrXCIvXCJ9LGluaXRNYXRlcmlhbHM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7KytkKWNbZF09dGhpcy5jcmVhdGVNYXRlcmlhbChhW2RdLGIpO3JldHVybiBjfSxuZWVkc1RhbmdlbnRzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpZihhW2JdaW5zdGFuY2VvZiBUSFJFRS5TaGFkZXJNYXRlcmlhbClyZXR1cm4hMDtyZXR1cm4hMX0sY3JlYXRlTWF0ZXJpYWw6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2E9TWF0aC5sb2coYSkvTWF0aC5MTjI7cmV0dXJuIE1hdGgucG93KDIsTWF0aC5yb3VuZChhKSl9ZnVuY3Rpb24gZChhLFxuZCxlLGcsaCxrLHMpe3ZhciB1PWIrZSx2LHg9VEhSRUUuTG9hZGVyLkhhbmRsZXJzLmdldCh1KTtudWxsIT09eD92PXgubG9hZCh1KToodj1uZXcgVEhSRUUuVGV4dHVyZSx4PWYuaW1hZ2VMb2FkZXIseC5jcm9zc09yaWdpbj1mLmNyb3NzT3JpZ2luLHgubG9hZCh1LGZ1bmN0aW9uKGEpe2lmKCExPT09VEhSRUUuTWF0aC5pc1Bvd2VyT2ZUd28oYS53aWR0aCl8fCExPT09VEhSRUUuTWF0aC5pc1Bvd2VyT2ZUd28oYS5oZWlnaHQpKXt2YXIgYj1jKGEud2lkdGgpLGQ9YyhhLmhlaWdodCksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9YjtlLmhlaWdodD1kO2UuZ2V0Q29udGV4dChcIjJkXCIpLmRyYXdJbWFnZShhLDAsMCxiLGQpO3YuaW1hZ2U9ZX1lbHNlIHYuaW1hZ2U9YTt2Lm5lZWRzVXBkYXRlPSEwfSkpO3Yuc291cmNlRmlsZT1lO2cmJih2LnJlcGVhdC5zZXQoZ1swXSxnWzFdKSwxIT09Z1swXSYmKHYud3JhcFM9VEhSRUUuUmVwZWF0V3JhcHBpbmcpLFxuMSE9PWdbMV0mJih2LndyYXBUPVRIUkVFLlJlcGVhdFdyYXBwaW5nKSk7aCYmdi5vZmZzZXQuc2V0KGhbMF0saFsxXSk7ayYmKGU9e3JlcGVhdDpUSFJFRS5SZXBlYXRXcmFwcGluZyxtaXJyb3I6VEhSRUUuTWlycm9yZWRSZXBlYXRXcmFwcGluZ30sdm9pZCAwIT09ZVtrWzBdXSYmKHYud3JhcFM9ZVtrWzBdXSksdm9pZCAwIT09ZVtrWzFdXSYmKHYud3JhcFQ9ZVtrWzFdXSkpO3MmJih2LmFuaXNvdHJvcHk9cyk7YVtkXT12fWZ1bmN0aW9uIGUoYSl7cmV0dXJuKDI1NSphWzBdPDwxNikrKDI1NSphWzFdPDw4KSsyNTUqYVsyXX12YXIgZj10aGlzLGc9XCJNZXNoTGFtYmVydE1hdGVyaWFsXCIsaD17Y29sb3I6MTU2NTg3MzQsb3BhY2l0eToxLG1hcDpudWxsLGxpZ2h0TWFwOm51bGwsbm9ybWFsTWFwOm51bGwsYnVtcE1hcDpudWxsLHdpcmVmcmFtZTohMX07aWYoYS5zaGFkaW5nKXt2YXIgaz1hLnNoYWRpbmcudG9Mb3dlckNhc2UoKTtcInBob25nXCI9PT1rP2c9XCJNZXNoUGhvbmdNYXRlcmlhbFwiOlxuXCJiYXNpY1wiPT09ayYmKGc9XCJNZXNoQmFzaWNNYXRlcmlhbFwiKX12b2lkIDAhPT1hLmJsZW5kaW5nJiZ2b2lkIDAhPT1USFJFRVthLmJsZW5kaW5nXSYmKGguYmxlbmRpbmc9VEhSRUVbYS5ibGVuZGluZ10pO3ZvaWQgMCE9PWEudHJhbnNwYXJlbnQmJihoLnRyYW5zcGFyZW50PWEudHJhbnNwYXJlbnQpO3ZvaWQgMCE9PWEub3BhY2l0eSYmMT5hLm9wYWNpdHkmJihoLnRyYW5zcGFyZW50PSEwKTt2b2lkIDAhPT1hLmRlcHRoVGVzdCYmKGguZGVwdGhUZXN0PWEuZGVwdGhUZXN0KTt2b2lkIDAhPT1hLmRlcHRoV3JpdGUmJihoLmRlcHRoV3JpdGU9YS5kZXB0aFdyaXRlKTt2b2lkIDAhPT1hLnZpc2libGUmJihoLnZpc2libGU9YS52aXNpYmxlKTt2b2lkIDAhPT1hLmZsaXBTaWRlZCYmKGguc2lkZT1USFJFRS5CYWNrU2lkZSk7dm9pZCAwIT09YS5kb3VibGVTaWRlZCYmKGguc2lkZT1USFJFRS5Eb3VibGVTaWRlKTt2b2lkIDAhPT1hLndpcmVmcmFtZSYmKGgud2lyZWZyYW1lPWEud2lyZWZyYW1lKTtcbnZvaWQgMCE9PWEudmVydGV4Q29sb3JzJiYoXCJmYWNlXCI9PT1hLnZlcnRleENvbG9ycz9oLnZlcnRleENvbG9ycz1USFJFRS5GYWNlQ29sb3JzOmEudmVydGV4Q29sb3JzJiYoaC52ZXJ0ZXhDb2xvcnM9VEhSRUUuVmVydGV4Q29sb3JzKSk7YS5jb2xvckRpZmZ1c2U/aC5jb2xvcj1lKGEuY29sb3JEaWZmdXNlKTphLkRiZ0NvbG9yJiYoaC5jb2xvcj1hLkRiZ0NvbG9yKTthLmNvbG9yU3BlY3VsYXImJihoLnNwZWN1bGFyPWUoYS5jb2xvclNwZWN1bGFyKSk7YS5jb2xvckVtaXNzaXZlJiYoaC5lbWlzc2l2ZT1lKGEuY29sb3JFbWlzc2l2ZSkpO3ZvaWQgMCE9PWEudHJhbnNwYXJlbmN5JiYoY29uc29sZS53YXJuKFwiVEhSRUUuTG9hZGVyOiB0cmFuc3BhcmVuY3kgaGFzIGJlZW4gcmVuYW1lZCB0byBvcGFjaXR5XCIpLGEub3BhY2l0eT1hLnRyYW5zcGFyZW5jeSk7dm9pZCAwIT09YS5vcGFjaXR5JiYoaC5vcGFjaXR5PWEub3BhY2l0eSk7YS5zcGVjdWxhckNvZWYmJihoLnNoaW5pbmVzcz1cbmEuc3BlY3VsYXJDb2VmKTthLm1hcERpZmZ1c2UmJmImJmQoaCxcIm1hcFwiLGEubWFwRGlmZnVzZSxhLm1hcERpZmZ1c2VSZXBlYXQsYS5tYXBEaWZmdXNlT2Zmc2V0LGEubWFwRGlmZnVzZVdyYXAsYS5tYXBEaWZmdXNlQW5pc290cm9weSk7YS5tYXBMaWdodCYmYiYmZChoLFwibGlnaHRNYXBcIixhLm1hcExpZ2h0LGEubWFwTGlnaHRSZXBlYXQsYS5tYXBMaWdodE9mZnNldCxhLm1hcExpZ2h0V3JhcCxhLm1hcExpZ2h0QW5pc290cm9weSk7YS5tYXBCdW1wJiZiJiZkKGgsXCJidW1wTWFwXCIsYS5tYXBCdW1wLGEubWFwQnVtcFJlcGVhdCxhLm1hcEJ1bXBPZmZzZXQsYS5tYXBCdW1wV3JhcCxhLm1hcEJ1bXBBbmlzb3Ryb3B5KTthLm1hcE5vcm1hbCYmYiYmZChoLFwibm9ybWFsTWFwXCIsYS5tYXBOb3JtYWwsYS5tYXBOb3JtYWxSZXBlYXQsYS5tYXBOb3JtYWxPZmZzZXQsYS5tYXBOb3JtYWxXcmFwLGEubWFwTm9ybWFsQW5pc290cm9weSk7YS5tYXBTcGVjdWxhciYmYiYmZChoLFwic3BlY3VsYXJNYXBcIixcbmEubWFwU3BlY3VsYXIsYS5tYXBTcGVjdWxhclJlcGVhdCxhLm1hcFNwZWN1bGFyT2Zmc2V0LGEubWFwU3BlY3VsYXJXcmFwLGEubWFwU3BlY3VsYXJBbmlzb3Ryb3B5KTthLm1hcEFscGhhJiZiJiZkKGgsXCJhbHBoYU1hcFwiLGEubWFwQWxwaGEsYS5tYXBBbHBoYVJlcGVhdCxhLm1hcEFscGhhT2Zmc2V0LGEubWFwQWxwaGFXcmFwLGEubWFwQWxwaGFBbmlzb3Ryb3B5KTthLm1hcEJ1bXBTY2FsZSYmKGguYnVtcFNjYWxlPWEubWFwQnVtcFNjYWxlKTthLm1hcE5vcm1hbEZhY3RvciYmKGgubm9ybWFsU2NhbGU9bmV3IFRIUkVFLlZlY3RvcjIoYS5tYXBOb3JtYWxGYWN0b3IsYS5tYXBOb3JtYWxGYWN0b3IpKTtnPW5ldyBUSFJFRVtnXShoKTt2b2lkIDAhPT1hLkRiZ05hbWUmJihnLm5hbWU9YS5EYmdOYW1lKTtyZXR1cm4gZ319O1xuVEhSRUUuTG9hZGVyLkhhbmRsZXJzPXtoYW5kbGVyczpbXSxhZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmhhbmRsZXJzLnB1c2goYSxiKX0sZ2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5oYW5kbGVycy5sZW5ndGg7YjxjO2IrPTIpe3ZhciBkPXRoaXMuaGFuZGxlcnNbYisxXTtpZih0aGlzLmhhbmRsZXJzW2JdLnRlc3QoYSkpcmV0dXJuIGR9cmV0dXJuIG51bGx9fTtUSFJFRS5YSFJMb2FkZXI9ZnVuY3Rpb24oYSl7dGhpcy5tYW5hZ2VyPXZvaWQgMCE9PWE/YTpUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXJ9O1xuVEhSRUUuWEhSTG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuWEhSTG9hZGVyLGxvYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcyxmPVRIUkVFLkNhY2hlLmdldChhKTt2b2lkIDAhPT1mP2ImJmIoZik6KGY9bmV3IFhNTEh0dHBSZXF1ZXN0LGYub3BlbihcIkdFVFwiLGEsITApLGYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihjKXtUSFJFRS5DYWNoZS5hZGQoYSx0aGlzLnJlc3BvbnNlKTtiJiZiKHRoaXMucmVzcG9uc2UpO2UubWFuYWdlci5pdGVtRW5kKGEpfSwhMSksdm9pZCAwIT09YyYmZi5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihhKXtjKGEpfSwhMSksdm9pZCAwIT09ZCYmZi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbihhKXtkKGEpfSwhMSksdm9pZCAwIT09dGhpcy5jcm9zc09yaWdpbiYmKGYuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksdm9pZCAwIT09dGhpcy5yZXNwb25zZVR5cGUmJihmLnJlc3BvbnNlVHlwZT1cbnRoaXMucmVzcG9uc2VUeXBlKSxmLnNlbmQobnVsbCksZS5tYW5hZ2VyLml0ZW1TdGFydChhKSl9LHNldFJlc3BvbnNlVHlwZTpmdW5jdGlvbihhKXt0aGlzLnJlc3BvbnNlVHlwZT1hfSxzZXRDcm9zc09yaWdpbjpmdW5jdGlvbihhKXt0aGlzLmNyb3NzT3JpZ2luPWF9fTtUSFJFRS5JbWFnZUxvYWRlcj1mdW5jdGlvbihhKXt0aGlzLm1hbmFnZXI9dm9pZCAwIT09YT9hOlRIUkVFLkRlZmF1bHRMb2FkaW5nTWFuYWdlcn07XG5USFJFRS5JbWFnZUxvYWRlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkltYWdlTG9hZGVyLGxvYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcyxmPVRIUkVFLkNhY2hlLmdldChhKTtpZih2b2lkIDAhPT1mKWIoZik7ZWxzZSByZXR1cm4gZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbihjKXtUSFJFRS5DYWNoZS5hZGQoYSx0aGlzKTtiJiZiKHRoaXMpO2UubWFuYWdlci5pdGVtRW5kKGEpfSwhMSksdm9pZCAwIT09YyYmZi5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIixmdW5jdGlvbihhKXtjKGEpfSwhMSksdm9pZCAwIT09ZCYmZi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixmdW5jdGlvbihhKXtkKGEpfSwhMSksdm9pZCAwIT09dGhpcy5jcm9zc09yaWdpbiYmKGYuY3Jvc3NPcmlnaW49dGhpcy5jcm9zc09yaWdpbiksZi5zcmM9YSxlLm1hbmFnZXIuaXRlbVN0YXJ0KGEpLGZ9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uKGEpe3RoaXMuY3Jvc3NPcmlnaW49XG5hfX07VEhSRUUuSlNPTkxvYWRlcj1mdW5jdGlvbihhKXtUSFJFRS5Mb2FkZXIuY2FsbCh0aGlzLGEpO3RoaXMud2l0aENyZWRlbnRpYWxzPSExfTtUSFJFRS5KU09OTG9hZGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkxvYWRlci5wcm90b3R5cGUpO1RIUkVFLkpTT05Mb2FkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkpTT05Mb2FkZXI7VEhSRUUuSlNPTkxvYWRlci5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhLGIsYyl7Yz1jJiZcInN0cmluZ1wiPT09dHlwZW9mIGM/Yzp0aGlzLmV4dHJhY3RVcmxCYXNlKGEpO3RoaXMub25Mb2FkU3RhcnQoKTt0aGlzLmxvYWRBamF4SlNPTih0aGlzLGEsYixjKX07XG5USFJFRS5KU09OTG9hZGVyLnByb3RvdHlwZS5sb2FkQWpheEpTT049ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3QsZz0wO2Yub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZi5yZWFkeVN0YXRlPT09Zi5ET05FKWlmKDIwMD09PWYuc3RhdHVzfHwwPT09Zi5zdGF0dXMpe2lmKGYucmVzcG9uc2VUZXh0KXt2YXIgaD1KU09OLnBhcnNlKGYucmVzcG9uc2VUZXh0KSxrPWgubWV0YWRhdGE7aWYodm9pZCAwIT09ayl7aWYoXCJvYmplY3RcIj09PWsudHlwZSl7VEhSRUUuZXJyb3IoXCJUSFJFRS5KU09OTG9hZGVyOiBcIitiK1wiIHNob3VsZCBiZSBsb2FkZWQgd2l0aCBUSFJFRS5PYmplY3RMb2FkZXIgaW5zdGVhZC5cIik7cmV0dXJufWlmKFwic2NlbmVcIj09PWsudHlwZSl7VEhSRUUuZXJyb3IoXCJUSFJFRS5KU09OTG9hZGVyOiBcIitiK1wiIHNlZW1zIHRvIGJlIGEgU2NlbmUuIFVzZSBUSFJFRS5TY2VuZUxvYWRlciBpbnN0ZWFkLlwiKTtyZXR1cm59fWg9YS5wYXJzZShoLFxuZCk7YyhoLmdlb21ldHJ5LGgubWF0ZXJpYWxzKX1lbHNlIFRIUkVFLmVycm9yKFwiVEhSRUUuSlNPTkxvYWRlcjogXCIrYitcIiBzZWVtcyB0byBiZSB1bnJlYWNoYWJsZSBvciB0aGUgZmlsZSBpcyBlbXB0eS5cIik7YS5vbkxvYWRDb21wbGV0ZSgpfWVsc2UgVEhSRUUuZXJyb3IoXCJUSFJFRS5KU09OTG9hZGVyOiBDb3VsZG4ndCBsb2FkIFwiK2IrXCIgKFwiK2Yuc3RhdHVzK1wiKVwiKTtlbHNlIGYucmVhZHlTdGF0ZT09PWYuTE9BRElORz9lJiYoMD09PWcmJihnPWYuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUxlbmd0aFwiKSksZSh7dG90YWw6Zyxsb2FkZWQ6Zi5yZXNwb25zZVRleHQubGVuZ3RofSkpOmYucmVhZHlTdGF0ZT09PWYuSEVBREVSU19SRUNFSVZFRCYmdm9pZCAwIT09ZSYmKGc9Zi5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtTGVuZ3RoXCIpKX07Zi5vcGVuKFwiR0VUXCIsYiwhMCk7Zi53aXRoQ3JlZGVudGlhbHM9dGhpcy53aXRoQ3JlZGVudGlhbHM7Zi5zZW5kKG51bGwpfTtcblRIUkVFLkpTT05Mb2FkZXIucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IFRIUkVFLkdlb21ldHJ5LGQ9dm9pZCAwIT09YS5zY2FsZT8xL2Euc2NhbGU6MTsoZnVuY3Rpb24oYil7dmFyIGQsZyxoLGssbCxwLHEsbix0LHIscyx1LHYseD1hLmZhY2VzO3A9YS52ZXJ0aWNlczt2YXIgRD1hLm5vcm1hbHMsdz1hLmNvbG9ycyx5PTA7aWYodm9pZCAwIT09YS51dnMpe2ZvcihkPTA7ZDxhLnV2cy5sZW5ndGg7ZCsrKWEudXZzW2RdLmxlbmd0aCYmeSsrO2ZvcihkPTA7ZDx5O2QrKyljLmZhY2VWZXJ0ZXhVdnNbZF09W119az0wO2ZvcihsPXAubGVuZ3RoO2s8bDspZD1uZXcgVEhSRUUuVmVjdG9yMyxkLng9cFtrKytdKmIsZC55PXBbaysrXSpiLGQuej1wW2srK10qYixjLnZlcnRpY2VzLnB1c2goZCk7az0wO2ZvcihsPXgubGVuZ3RoO2s8bDspaWYoYj14W2srK10sdD1iJjEsaD1iJjIsZD1iJjgscT1iJjE2LHI9YiYzMixwPWImNjQsYiY9MTI4LHQpe3Q9bmV3IFRIUkVFLkZhY2UzO1xudC5hPXhba107dC5iPXhbaysxXTt0LmM9eFtrKzNdO3M9bmV3IFRIUkVFLkZhY2UzO3MuYT14W2srMV07cy5iPXhbaysyXTtzLmM9eFtrKzNdO2srPTQ7aCYmKGg9eFtrKytdLHQubWF0ZXJpYWxJbmRleD1oLHMubWF0ZXJpYWxJbmRleD1oKTtoPWMuZmFjZXMubGVuZ3RoO2lmKGQpZm9yKGQ9MDtkPHk7ZCsrKWZvcih1PWEudXZzW2RdLGMuZmFjZVZlcnRleFV2c1tkXVtoXT1bXSxjLmZhY2VWZXJ0ZXhVdnNbZF1baCsxXT1bXSxnPTA7ND5nO2crKyluPXhbaysrXSx2PXVbMipuXSxuPXVbMipuKzFdLHY9bmV3IFRIUkVFLlZlY3RvcjIodixuKSwyIT09ZyYmYy5mYWNlVmVydGV4VXZzW2RdW2hdLnB1c2godiksMCE9PWcmJmMuZmFjZVZlcnRleFV2c1tkXVtoKzFdLnB1c2godik7cSYmKHE9Myp4W2srK10sdC5ub3JtYWwuc2V0KERbcSsrXSxEW3ErK10sRFtxXSkscy5ub3JtYWwuY29weSh0Lm5vcm1hbCkpO2lmKHIpZm9yKGQ9MDs0PmQ7ZCsrKXE9Myp4W2srK10scj1uZXcgVEhSRUUuVmVjdG9yMyhEW3ErK10sXG5EW3ErK10sRFtxXSksMiE9PWQmJnQudmVydGV4Tm9ybWFscy5wdXNoKHIpLDAhPT1kJiZzLnZlcnRleE5vcm1hbHMucHVzaChyKTtwJiYocD14W2srK10scD13W3BdLHQuY29sb3Iuc2V0SGV4KHApLHMuY29sb3Iuc2V0SGV4KHApKTtpZihiKWZvcihkPTA7ND5kO2QrKylwPXhbaysrXSxwPXdbcF0sMiE9PWQmJnQudmVydGV4Q29sb3JzLnB1c2gobmV3IFRIUkVFLkNvbG9yKHApKSwwIT09ZCYmcy52ZXJ0ZXhDb2xvcnMucHVzaChuZXcgVEhSRUUuQ29sb3IocCkpO2MuZmFjZXMucHVzaCh0KTtjLmZhY2VzLnB1c2gocyl9ZWxzZXt0PW5ldyBUSFJFRS5GYWNlMzt0LmE9eFtrKytdO3QuYj14W2srK107dC5jPXhbaysrXTtoJiYoaD14W2srK10sdC5tYXRlcmlhbEluZGV4PWgpO2g9Yy5mYWNlcy5sZW5ndGg7aWYoZClmb3IoZD0wO2Q8eTtkKyspZm9yKHU9YS51dnNbZF0sYy5mYWNlVmVydGV4VXZzW2RdW2hdPVtdLGc9MDszPmc7ZysrKW49eFtrKytdLHY9dVsyKm5dLG49dVsyKm4rMV0sXG52PW5ldyBUSFJFRS5WZWN0b3IyKHYsbiksYy5mYWNlVmVydGV4VXZzW2RdW2hdLnB1c2godik7cSYmKHE9Myp4W2srK10sdC5ub3JtYWwuc2V0KERbcSsrXSxEW3ErK10sRFtxXSkpO2lmKHIpZm9yKGQ9MDszPmQ7ZCsrKXE9Myp4W2srK10scj1uZXcgVEhSRUUuVmVjdG9yMyhEW3ErK10sRFtxKytdLERbcV0pLHQudmVydGV4Tm9ybWFscy5wdXNoKHIpO3AmJihwPXhbaysrXSx0LmNvbG9yLnNldEhleCh3W3BdKSk7aWYoYilmb3IoZD0wOzM+ZDtkKyspcD14W2srK10sdC52ZXJ0ZXhDb2xvcnMucHVzaChuZXcgVEhSRUUuQ29sb3Iod1twXSkpO2MuZmFjZXMucHVzaCh0KX19KShkKTsoZnVuY3Rpb24oKXt2YXIgYj12b2lkIDAhPT1hLmluZmx1ZW5jZXNQZXJWZXJ0ZXg/YS5pbmZsdWVuY2VzUGVyVmVydGV4OjI7aWYoYS5za2luV2VpZ2h0cylmb3IodmFyIGQ9MCxnPWEuc2tpbldlaWdodHMubGVuZ3RoO2Q8ZztkKz1iKWMuc2tpbldlaWdodHMucHVzaChuZXcgVEhSRUUuVmVjdG9yNChhLnNraW5XZWlnaHRzW2RdLFxuMTxiP2Euc2tpbldlaWdodHNbZCsxXTowLDI8Yj9hLnNraW5XZWlnaHRzW2QrMl06MCwzPGI/YS5za2luV2VpZ2h0c1tkKzNdOjApKTtpZihhLnNraW5JbmRpY2VzKWZvcihkPTAsZz1hLnNraW5JbmRpY2VzLmxlbmd0aDtkPGc7ZCs9YiljLnNraW5JbmRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjQoYS5za2luSW5kaWNlc1tkXSwxPGI/YS5za2luSW5kaWNlc1tkKzFdOjAsMjxiP2Euc2tpbkluZGljZXNbZCsyXTowLDM8Yj9hLnNraW5JbmRpY2VzW2QrM106MCkpO2MuYm9uZXM9YS5ib25lcztjLmJvbmVzJiYwPGMuYm9uZXMubGVuZ3RoJiYoYy5za2luV2VpZ2h0cy5sZW5ndGghPT1jLnNraW5JbmRpY2VzLmxlbmd0aHx8Yy5za2luSW5kaWNlcy5sZW5ndGghPT1jLnZlcnRpY2VzLmxlbmd0aCkmJlRIUkVFLndhcm4oXCJUSFJFRS5KU09OTG9hZGVyOiBXaGVuIHNraW5uaW5nLCBudW1iZXIgb2YgdmVydGljZXMgKFwiK2MudmVydGljZXMubGVuZ3RoK1wiKSwgc2tpbkluZGljZXMgKFwiK1xuYy5za2luSW5kaWNlcy5sZW5ndGgrXCIpLCBhbmQgc2tpbldlaWdodHMgKFwiK2Muc2tpbldlaWdodHMubGVuZ3RoK1wiKSBzaG91bGQgbWF0Y2guXCIpO2MuYW5pbWF0aW9uPWEuYW5pbWF0aW9uO2MuYW5pbWF0aW9ucz1hLmFuaW1hdGlvbnN9KSgpOyhmdW5jdGlvbihiKXtpZih2b2lkIDAhPT1hLm1vcnBoVGFyZ2V0cyl7dmFyIGQsZyxoLGssbCxwO2Q9MDtmb3IoZz1hLm1vcnBoVGFyZ2V0cy5sZW5ndGg7ZDxnO2QrKylmb3IoYy5tb3JwaFRhcmdldHNbZF09e30sYy5tb3JwaFRhcmdldHNbZF0ubmFtZT1hLm1vcnBoVGFyZ2V0c1tkXS5uYW1lLGMubW9ycGhUYXJnZXRzW2RdLnZlcnRpY2VzPVtdLGw9Yy5tb3JwaFRhcmdldHNbZF0udmVydGljZXMscD1hLm1vcnBoVGFyZ2V0c1tkXS52ZXJ0aWNlcyxoPTAsaz1wLmxlbmd0aDtoPGs7aCs9Myl7dmFyIHE9bmV3IFRIUkVFLlZlY3RvcjM7cS54PXBbaF0qYjtxLnk9cFtoKzFdKmI7cS56PXBbaCsyXSpiO2wucHVzaChxKX19aWYodm9pZCAwIT09XG5hLm1vcnBoQ29sb3JzKWZvcihkPTAsZz1hLm1vcnBoQ29sb3JzLmxlbmd0aDtkPGc7ZCsrKWZvcihjLm1vcnBoQ29sb3JzW2RdPXt9LGMubW9ycGhDb2xvcnNbZF0ubmFtZT1hLm1vcnBoQ29sb3JzW2RdLm5hbWUsYy5tb3JwaENvbG9yc1tkXS5jb2xvcnM9W10saz1jLm1vcnBoQ29sb3JzW2RdLmNvbG9ycyxsPWEubW9ycGhDb2xvcnNbZF0uY29sb3JzLGI9MCxoPWwubGVuZ3RoO2I8aDtiKz0zKXA9bmV3IFRIUkVFLkNvbG9yKDE2NzU1MjAwKSxwLnNldFJHQihsW2JdLGxbYisxXSxsW2IrMl0pLGsucHVzaChwKX0pKGQpO2MuY29tcHV0ZUZhY2VOb3JtYWxzKCk7Yy5jb21wdXRlQm91bmRpbmdTcGhlcmUoKTtpZih2b2lkIDA9PT1hLm1hdGVyaWFsc3x8MD09PWEubWF0ZXJpYWxzLmxlbmd0aClyZXR1cm57Z2VvbWV0cnk6Y307ZD10aGlzLmluaXRNYXRlcmlhbHMoYS5tYXRlcmlhbHMsYik7dGhpcy5uZWVkc1RhbmdlbnRzKGQpJiZjLmNvbXB1dGVUYW5nZW50cygpO3JldHVybntnZW9tZXRyeTpjLFxubWF0ZXJpYWxzOmR9fTtUSFJFRS5Mb2FkaW5nTWFuYWdlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPTAsZj0wO3RoaXMub25Mb2FkPWE7dGhpcy5vblByb2dyZXNzPWI7dGhpcy5vbkVycm9yPWM7dGhpcy5pdGVtU3RhcnQ9ZnVuY3Rpb24oYSl7ZisrfTt0aGlzLml0ZW1FbmQ9ZnVuY3Rpb24oYSl7ZSsrO2lmKHZvaWQgMCE9PWQub25Qcm9ncmVzcylkLm9uUHJvZ3Jlc3MoYSxlLGYpO2lmKGU9PT1mJiZ2b2lkIDAhPT1kLm9uTG9hZClkLm9uTG9hZCgpfX07VEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyPW5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcjtUSFJFRS5CdWZmZXJHZW9tZXRyeUxvYWRlcj1mdW5jdGlvbihhKXt0aGlzLm1hbmFnZXI9dm9pZCAwIT09YT9hOlRIUkVFLkRlZmF1bHRMb2FkaW5nTWFuYWdlcn07XG5USFJFRS5CdWZmZXJHZW9tZXRyeUxvYWRlci5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkJ1ZmZlckdlb21ldHJ5TG9hZGVyLGxvYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcyxmPW5ldyBUSFJFRS5YSFJMb2FkZXIoZS5tYW5hZ2VyKTtmLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2YubG9hZChhLGZ1bmN0aW9uKGEpe2IoZS5wYXJzZShKU09OLnBhcnNlKGEpKSl9LGMsZCl9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uKGEpe3RoaXMuY3Jvc3NPcmlnaW49YX0scGFyc2U6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5LGM9YS5kYXRhLmF0dHJpYnV0ZXMsZDtmb3IoZCBpbiBjKXt2YXIgZT1jW2RdLGY9bmV3IHNlbGZbZS50eXBlXShlLmFycmF5KTtiLmFkZEF0dHJpYnV0ZShkLG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoZixlLml0ZW1TaXplKSl9Yz1hLmRhdGEub2Zmc2V0czt2b2lkIDAhPT1jJiYoYi5vZmZzZXRzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpKTtcbmE9YS5kYXRhLmJvdW5kaW5nU3BoZXJlO3ZvaWQgMCE9PWEmJihjPW5ldyBUSFJFRS5WZWN0b3IzLHZvaWQgMCE9PWEuY2VudGVyJiZjLmZyb21BcnJheShhLmNlbnRlciksYi5ib3VuZGluZ1NwaGVyZT1uZXcgVEhSRUUuU3BoZXJlKGMsYS5yYWRpdXMpKTtyZXR1cm4gYn19O1RIUkVFLk1hdGVyaWFsTG9hZGVyPWZ1bmN0aW9uKGEpe3RoaXMubWFuYWdlcj12b2lkIDAhPT1hP2E6VEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyfTtcblRIUkVFLk1hdGVyaWFsTG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTWF0ZXJpYWxMb2FkZXIsbG9hZDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLGY9bmV3IFRIUkVFLlhIUkxvYWRlcihlLm1hbmFnZXIpO2Yuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7Zi5sb2FkKGEsZnVuY3Rpb24oYSl7YihlLnBhcnNlKEpTT04ucGFyc2UoYSkpKX0sYyxkKX0sc2V0Q3Jvc3NPcmlnaW46ZnVuY3Rpb24oYSl7dGhpcy5jcm9zc09yaWdpbj1hfSxwYXJzZTpmdW5jdGlvbihhKXt2YXIgYj1uZXcgVEhSRUVbYS50eXBlXTt2b2lkIDAhPT1hLmNvbG9yJiZiLmNvbG9yLnNldEhleChhLmNvbG9yKTt2b2lkIDAhPT1hLmVtaXNzaXZlJiZiLmVtaXNzaXZlLnNldEhleChhLmVtaXNzaXZlKTt2b2lkIDAhPT1hLnNwZWN1bGFyJiZiLnNwZWN1bGFyLnNldEhleChhLnNwZWN1bGFyKTt2b2lkIDAhPT1hLnNoaW5pbmVzcyYmKGIuc2hpbmluZXNzPWEuc2hpbmluZXNzKTtcbnZvaWQgMCE9PWEudW5pZm9ybXMmJihiLnVuaWZvcm1zPWEudW5pZm9ybXMpO3ZvaWQgMCE9PWEudmVydGV4U2hhZGVyJiYoYi52ZXJ0ZXhTaGFkZXI9YS52ZXJ0ZXhTaGFkZXIpO3ZvaWQgMCE9PWEuZnJhZ21lbnRTaGFkZXImJihiLmZyYWdtZW50U2hhZGVyPWEuZnJhZ21lbnRTaGFkZXIpO3ZvaWQgMCE9PWEudmVydGV4Q29sb3JzJiYoYi52ZXJ0ZXhDb2xvcnM9YS52ZXJ0ZXhDb2xvcnMpO3ZvaWQgMCE9PWEuc2hhZGluZyYmKGIuc2hhZGluZz1hLnNoYWRpbmcpO3ZvaWQgMCE9PWEuYmxlbmRpbmcmJihiLmJsZW5kaW5nPWEuYmxlbmRpbmcpO3ZvaWQgMCE9PWEuc2lkZSYmKGIuc2lkZT1hLnNpZGUpO3ZvaWQgMCE9PWEub3BhY2l0eSYmKGIub3BhY2l0eT1hLm9wYWNpdHkpO3ZvaWQgMCE9PWEudHJhbnNwYXJlbnQmJihiLnRyYW5zcGFyZW50PWEudHJhbnNwYXJlbnQpO3ZvaWQgMCE9PWEud2lyZWZyYW1lJiYoYi53aXJlZnJhbWU9YS53aXJlZnJhbWUpO3ZvaWQgMCE9PWEuc2l6ZSYmXG4oYi5zaXplPWEuc2l6ZSk7dm9pZCAwIT09YS5zaXplQXR0ZW51YXRpb24mJihiLnNpemVBdHRlbnVhdGlvbj1hLnNpemVBdHRlbnVhdGlvbik7aWYodm9pZCAwIT09YS5tYXRlcmlhbHMpZm9yKHZhciBjPTAsZD1hLm1hdGVyaWFscy5sZW5ndGg7YzxkO2MrKyliLm1hdGVyaWFscy5wdXNoKHRoaXMucGFyc2UoYS5tYXRlcmlhbHNbY10pKTtyZXR1cm4gYn19O1RIUkVFLk9iamVjdExvYWRlcj1mdW5jdGlvbihhKXt0aGlzLm1hbmFnZXI9dm9pZCAwIT09YT9hOlRIUkVFLkRlZmF1bHRMb2FkaW5nTWFuYWdlcjt0aGlzLnRleHR1cmVQYXRoPVwiXCJ9O1xuVEhSRUUuT2JqZWN0TG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuT2JqZWN0TG9hZGVyLGxvYWQ6ZnVuY3Rpb24oYSxiLGMsZCl7XCJcIj09PXRoaXMudGV4dHVyZVBhdGgmJih0aGlzLnRleHR1cmVQYXRoPWEuc3Vic3RyaW5nKDAsYS5sYXN0SW5kZXhPZihcIi9cIikrMSkpO3ZhciBlPXRoaXMsZj1uZXcgVEhSRUUuWEhSTG9hZGVyKGUubWFuYWdlcik7Zi5zZXRDcm9zc09yaWdpbih0aGlzLmNyb3NzT3JpZ2luKTtmLmxvYWQoYSxmdW5jdGlvbihhKXtlLnBhcnNlKEpTT04ucGFyc2UoYSksYil9LGMsZCl9LHNldFRleHR1cmVQYXRoOmZ1bmN0aW9uKGEpe3RoaXMudGV4dHVyZVBhdGg9YX0sc2V0Q3Jvc3NPcmlnaW46ZnVuY3Rpb24oYSl7dGhpcy5jcm9zc09yaWdpbj1hfSxwYXJzZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucGFyc2VHZW9tZXRyaWVzKGEuZ2VvbWV0cmllcyksZD10aGlzLnBhcnNlSW1hZ2VzKGEuaW1hZ2VzLGZ1bmN0aW9uKCl7dm9pZCAwIT09YiYmYihlKX0pLFxuZD10aGlzLnBhcnNlVGV4dHVyZXMoYS50ZXh0dXJlcyxkKSxkPXRoaXMucGFyc2VNYXRlcmlhbHMoYS5tYXRlcmlhbHMsZCksZT10aGlzLnBhcnNlT2JqZWN0KGEub2JqZWN0LGMsZCk7dm9pZCAwIT09YS5pbWFnZXMmJjAhPT1hLmltYWdlcy5sZW5ndGh8fHZvaWQgMD09PWJ8fGIoZSk7cmV0dXJuIGV9LHBhcnNlR2VvbWV0cmllczpmdW5jdGlvbihhKXt2YXIgYj17fTtpZih2b2lkIDAhPT1hKWZvcih2YXIgYz1uZXcgVEhSRUUuSlNPTkxvYWRlcixkPW5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeUxvYWRlcixlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZyxoPWFbZV07c3dpdGNoKGgudHlwZSl7Y2FzZSBcIlBsYW5lR2VvbWV0cnlcIjpjYXNlIFwiUGxhbmVCdWZmZXJHZW9tZXRyeVwiOmc9bmV3IFRIUkVFW2gudHlwZV0oaC53aWR0aCxoLmhlaWdodCxoLndpZHRoU2VnbWVudHMsaC5oZWlnaHRTZWdtZW50cyk7YnJlYWs7Y2FzZSBcIkJveEdlb21ldHJ5XCI6Y2FzZSBcIkN1YmVHZW9tZXRyeVwiOmc9XG5uZXcgVEhSRUUuQm94R2VvbWV0cnkoaC53aWR0aCxoLmhlaWdodCxoLmRlcHRoLGgud2lkdGhTZWdtZW50cyxoLmhlaWdodFNlZ21lbnRzLGguZGVwdGhTZWdtZW50cyk7YnJlYWs7Y2FzZSBcIkNpcmNsZUdlb21ldHJ5XCI6Zz1uZXcgVEhSRUUuQ2lyY2xlR2VvbWV0cnkoaC5yYWRpdXMsaC5zZWdtZW50cyk7YnJlYWs7Y2FzZSBcIkN5bGluZGVyR2VvbWV0cnlcIjpnPW5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KGgucmFkaXVzVG9wLGgucmFkaXVzQm90dG9tLGguaGVpZ2h0LGgucmFkaWFsU2VnbWVudHMsaC5oZWlnaHRTZWdtZW50cyxoLm9wZW5FbmRlZCk7YnJlYWs7Y2FzZSBcIlNwaGVyZUdlb21ldHJ5XCI6Zz1uZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoaC5yYWRpdXMsaC53aWR0aFNlZ21lbnRzLGguaGVpZ2h0U2VnbWVudHMsaC5waGlTdGFydCxoLnBoaUxlbmd0aCxoLnRoZXRhU3RhcnQsaC50aGV0YUxlbmd0aCk7YnJlYWs7Y2FzZSBcIkljb3NhaGVkcm9uR2VvbWV0cnlcIjpnPW5ldyBUSFJFRS5JY29zYWhlZHJvbkdlb21ldHJ5KGgucmFkaXVzLFxuaC5kZXRhaWwpO2JyZWFrO2Nhc2UgXCJUb3J1c0dlb21ldHJ5XCI6Zz1uZXcgVEhSRUUuVG9ydXNHZW9tZXRyeShoLnJhZGl1cyxoLnR1YmUsaC5yYWRpYWxTZWdtZW50cyxoLnR1YnVsYXJTZWdtZW50cyxoLmFyYyk7YnJlYWs7Y2FzZSBcIlRvcnVzS25vdEdlb21ldHJ5XCI6Zz1uZXcgVEhSRUUuVG9ydXNLbm90R2VvbWV0cnkoaC5yYWRpdXMsaC50dWJlLGgucmFkaWFsU2VnbWVudHMsaC50dWJ1bGFyU2VnbWVudHMsaC5wLGgucSxoLmhlaWdodFNjYWxlKTticmVhaztjYXNlIFwiQnVmZmVyR2VvbWV0cnlcIjpnPWQucGFyc2UoaCk7YnJlYWs7Y2FzZSBcIkdlb21ldHJ5XCI6Zz1jLnBhcnNlKGguZGF0YSkuZ2VvbWV0cnl9Zy51dWlkPWgudXVpZDt2b2lkIDAhPT1oLm5hbWUmJihnLm5hbWU9aC5uYW1lKTtiW2gudXVpZF09Z31yZXR1cm4gYn0scGFyc2VNYXRlcmlhbHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtpZih2b2lkIDAhPT1hKWZvcih2YXIgZD1mdW5jdGlvbihhKXt2b2lkIDA9PT1iW2FdJiZcblRIUkVFLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCB0ZXh0dXJlXCIsYSk7cmV0dXJuIGJbYV19LGU9bmV3IFRIUkVFLk1hdGVyaWFsTG9hZGVyLGY9MCxnPWEubGVuZ3RoO2Y8ZztmKyspe3ZhciBoPWFbZl0saz1lLnBhcnNlKGgpO2sudXVpZD1oLnV1aWQ7dm9pZCAwIT09aC5uYW1lJiYoay5uYW1lPWgubmFtZSk7dm9pZCAwIT09aC5tYXAmJihrLm1hcD1kKGgubWFwKSk7dm9pZCAwIT09aC5idW1wTWFwJiYoay5idW1wTWFwPWQoaC5idW1wTWFwKSxoLmJ1bXBTY2FsZSYmKGsuYnVtcFNjYWxlPW5ldyBUSFJFRS5WZWN0b3IyKGguYnVtcFNjYWxlLGguYnVtcFNjYWxlKSkpO3ZvaWQgMCE9PWguYWxwaGFNYXAmJihrLmFscGhhTWFwPWQoaC5hbHBoYU1hcCkpO3ZvaWQgMCE9PWguZW52TWFwJiYoay5lbnZNYXA9ZChoLmVudk1hcCkpO3ZvaWQgMCE9PWgubm9ybWFsTWFwJiYoay5ub3JtYWxNYXA9ZChoLm5vcm1hbE1hcCksaC5ub3JtYWxTY2FsZSYmKGsubm9ybWFsU2NhbGU9XG5uZXcgVEhSRUUuVmVjdG9yMihoLm5vcm1hbFNjYWxlLGgubm9ybWFsU2NhbGUpKSk7dm9pZCAwIT09aC5saWdodE1hcCYmKGsubGlnaHRNYXA9ZChoLmxpZ2h0TWFwKSk7dm9pZCAwIT09aC5zcGVjdWxhck1hcCYmKGsuc3BlY3VsYXJNYXA9ZChoLnNwZWN1bGFyTWFwKSk7Y1toLnV1aWRdPWt9cmV0dXJuIGN9LHBhcnNlSW1hZ2VzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXt9O2lmKHZvaWQgMCE9PWEmJjA8YS5sZW5ndGgpe3ZhciBlPW5ldyBUSFJFRS5Mb2FkaW5nTWFuYWdlcihiKSxmPW5ldyBUSFJFRS5JbWFnZUxvYWRlcihlKTtmLnNldENyb3NzT3JpZ2luKHRoaXMuY3Jvc3NPcmlnaW4pO2Zvcih2YXIgZT1mdW5jdGlvbihhKXtjLm1hbmFnZXIuaXRlbVN0YXJ0KGEpO3JldHVybiBmLmxvYWQoYSxmdW5jdGlvbigpe2MubWFuYWdlci5pdGVtRW5kKGEpfSl9LGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspe3ZhciBrPWFbZ10sbD0vXihcXC9cXC8pfChbYS16XSs6KFxcL1xcLyk/KS9pLnRlc3Qoay51cmwpP1xuay51cmw6Yy50ZXh0dXJlUGF0aCtrLnVybDtkW2sudXVpZF09ZShsKX19cmV0dXJuIGR9LHBhcnNlVGV4dHVyZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtpZih2b2lkIDAhPT1hKWZvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9YVtkXTt2b2lkIDA9PT1mLmltYWdlJiZUSFJFRS53YXJuKCdUSFJFRS5PYmplY3RMb2FkZXI6IE5vIFwiaW1hZ2VcIiBzcGVmaWNpZWQgZm9yJyxmLnV1aWQpO3ZvaWQgMD09PWJbZi5pbWFnZV0mJlRIUkVFLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBpbWFnZVwiLGYuaW1hZ2UpO3ZhciBnPW5ldyBUSFJFRS5UZXh0dXJlKGJbZi5pbWFnZV0pO2cubmVlZHNVcGRhdGU9ITA7Zy51dWlkPWYudXVpZDt2b2lkIDAhPT1mLm5hbWUmJihnLm5hbWU9Zi5uYW1lKTt2b2lkIDAhPT1mLnJlcGVhdCYmKGcucmVwZWF0PW5ldyBUSFJFRS5WZWN0b3IyKGYucmVwZWF0WzBdLGYucmVwZWF0WzFdKSk7dm9pZCAwIT09Zi5taW5GaWx0ZXImJlxuKGcubWluRmlsdGVyPVRIUkVFW2YubWluRmlsdGVyXSk7dm9pZCAwIT09Zi5tYWdGaWx0ZXImJihnLm1hZ0ZpbHRlcj1USFJFRVtmLm1hZ0ZpbHRlcl0pO3ZvaWQgMCE9PWYuYW5pc290cm9weSYmKGcuYW5pc290cm9weT1mLmFuaXNvdHJvcHkpO2Yud3JhcCBpbnN0YW5jZW9mIEFycmF5JiYoZy53cmFwUz1USFJFRVtmLndyYXBbMF1dLGcud3JhcFQ9VEhSRUVbZi53cmFwWzFdXSk7Y1tmLnV1aWRdPWd9cmV0dXJuIGN9LHBhcnNlT2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1hdHJpeDQ7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXt2YXIgZTtlPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWNbYV0mJlRIUkVFLndhcm4oXCJUSFJFRS5PYmplY3RMb2FkZXI6IFVuZGVmaW5lZCBnZW9tZXRyeVwiLGEpO3JldHVybiBjW2FdfTt2YXIgZj1mdW5jdGlvbihhKXt2b2lkIDA9PT1kW2FdJiZUSFJFRS53YXJuKFwiVEhSRUUuT2JqZWN0TG9hZGVyOiBVbmRlZmluZWQgbWF0ZXJpYWxcIixhKTtyZXR1cm4gZFthXX07XG5zd2l0Y2goYi50eXBlKXtjYXNlIFwiU2NlbmVcIjplPW5ldyBUSFJFRS5TY2VuZTticmVhaztjYXNlIFwiUGVyc3BlY3RpdmVDYW1lcmFcIjplPW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShiLmZvdixiLmFzcGVjdCxiLm5lYXIsYi5mYXIpO2JyZWFrO2Nhc2UgXCJPcnRob2dyYXBoaWNDYW1lcmFcIjplPW5ldyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEoYi5sZWZ0LGIucmlnaHQsYi50b3AsYi5ib3R0b20sYi5uZWFyLGIuZmFyKTticmVhaztjYXNlIFwiQW1iaWVudExpZ2h0XCI6ZT1uZXcgVEhSRUUuQW1iaWVudExpZ2h0KGIuY29sb3IpO2JyZWFrO2Nhc2UgXCJEaXJlY3Rpb25hbExpZ2h0XCI6ZT1uZXcgVEhSRUUuRGlyZWN0aW9uYWxMaWdodChiLmNvbG9yLGIuaW50ZW5zaXR5KTticmVhaztjYXNlIFwiUG9pbnRMaWdodFwiOmU9bmV3IFRIUkVFLlBvaW50TGlnaHQoYi5jb2xvcixiLmludGVuc2l0eSxiLmRpc3RhbmNlLGIuZGVjYXkpO2JyZWFrO2Nhc2UgXCJTcG90TGlnaHRcIjplPW5ldyBUSFJFRS5TcG90TGlnaHQoYi5jb2xvcixcbmIuaW50ZW5zaXR5LGIuZGlzdGFuY2UsYi5hbmdsZSxiLmV4cG9uZW50LGIuZGVjYXkpO2JyZWFrO2Nhc2UgXCJIZW1pc3BoZXJlTGlnaHRcIjplPW5ldyBUSFJFRS5IZW1pc3BoZXJlTGlnaHQoYi5jb2xvcixiLmdyb3VuZENvbG9yLGIuaW50ZW5zaXR5KTticmVhaztjYXNlIFwiTWVzaFwiOmU9bmV3IFRIUkVFLk1lc2goZShiLmdlb21ldHJ5KSxmKGIubWF0ZXJpYWwpKTticmVhaztjYXNlIFwiTGluZVwiOmU9bmV3IFRIUkVFLkxpbmUoZShiLmdlb21ldHJ5KSxmKGIubWF0ZXJpYWwpLGIubW9kZSk7YnJlYWs7Y2FzZSBcIlBvaW50Q2xvdWRcIjplPW5ldyBUSFJFRS5Qb2ludENsb3VkKGUoYi5nZW9tZXRyeSksZihiLm1hdGVyaWFsKSk7YnJlYWs7Y2FzZSBcIlNwcml0ZVwiOmU9bmV3IFRIUkVFLlNwcml0ZShmKGIubWF0ZXJpYWwpKTticmVhaztjYXNlIFwiR3JvdXBcIjplPW5ldyBUSFJFRS5Hcm91cDticmVhaztkZWZhdWx0OmU9bmV3IFRIUkVFLk9iamVjdDNEfWUudXVpZD1iLnV1aWQ7dm9pZCAwIT09XG5iLm5hbWUmJihlLm5hbWU9Yi5uYW1lKTt2b2lkIDAhPT1iLm1hdHJpeD8oYS5mcm9tQXJyYXkoYi5tYXRyaXgpLGEuZGVjb21wb3NlKGUucG9zaXRpb24sZS5xdWF0ZXJuaW9uLGUuc2NhbGUpKToodm9pZCAwIT09Yi5wb3NpdGlvbiYmZS5wb3NpdGlvbi5mcm9tQXJyYXkoYi5wb3NpdGlvbiksdm9pZCAwIT09Yi5yb3RhdGlvbiYmZS5yb3RhdGlvbi5mcm9tQXJyYXkoYi5yb3RhdGlvbiksdm9pZCAwIT09Yi5zY2FsZSYmZS5zY2FsZS5mcm9tQXJyYXkoYi5zY2FsZSkpO3ZvaWQgMCE9PWIudmlzaWJsZSYmKGUudmlzaWJsZT1iLnZpc2libGUpO3ZvaWQgMCE9PWIudXNlckRhdGEmJihlLnVzZXJEYXRhPWIudXNlckRhdGEpO2lmKHZvaWQgMCE9PWIuY2hpbGRyZW4pZm9yKHZhciBnIGluIGIuY2hpbGRyZW4pZS5hZGQodGhpcy5wYXJzZU9iamVjdChiLmNoaWxkcmVuW2ddLGMsZCkpO3JldHVybiBlfX0oKX07XG5USFJFRS5UZXh0dXJlTG9hZGVyPWZ1bmN0aW9uKGEpe3RoaXMubWFuYWdlcj12b2lkIDAhPT1hP2E6VEhSRUUuRGVmYXVsdExvYWRpbmdNYW5hZ2VyfTtUSFJFRS5UZXh0dXJlTG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuVGV4dHVyZUxvYWRlcixsb2FkOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBUSFJFRS5JbWFnZUxvYWRlcih0aGlzLm1hbmFnZXIpO2Uuc2V0Q3Jvc3NPcmlnaW4odGhpcy5jcm9zc09yaWdpbik7ZS5sb2FkKGEsZnVuY3Rpb24oYSl7YT1uZXcgVEhSRUUuVGV4dHVyZShhKTthLm5lZWRzVXBkYXRlPSEwO3ZvaWQgMCE9PWImJmIoYSl9LGMsZCl9LHNldENyb3NzT3JpZ2luOmZ1bmN0aW9uKGEpe3RoaXMuY3Jvc3NPcmlnaW49YX19O1RIUkVFLkRhdGFUZXh0dXJlTG9hZGVyPVRIUkVFLkJpbmFyeVRleHR1cmVMb2FkZXI9ZnVuY3Rpb24oKXt0aGlzLl9wYXJzZXI9bnVsbH07XG5USFJFRS5CaW5hcnlUZXh0dXJlTG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuQmluYXJ5VGV4dHVyZUxvYWRlcixsb2FkOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMsZj1uZXcgVEhSRUUuRGF0YVRleHR1cmUsZz1uZXcgVEhSRUUuWEhSTG9hZGVyO2cuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIik7Zy5sb2FkKGEsZnVuY3Rpb24oYSl7aWYoYT1lLl9wYXJzZXIoYSkpdm9pZCAwIT09YS5pbWFnZT9mLmltYWdlPWEuaW1hZ2U6dm9pZCAwIT09YS5kYXRhJiYoZi5pbWFnZS53aWR0aD1hLndpZHRoLGYuaW1hZ2UuaGVpZ2h0PWEuaGVpZ2h0LGYuaW1hZ2UuZGF0YT1hLmRhdGEpLGYud3JhcFM9dm9pZCAwIT09YS53cmFwUz9hLndyYXBTOlRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcsZi53cmFwVD12b2lkIDAhPT1hLndyYXBUP2Eud3JhcFQ6VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZyxmLm1hZ0ZpbHRlcj12b2lkIDAhPT1hLm1hZ0ZpbHRlcj9hLm1hZ0ZpbHRlcjpcblRIUkVFLkxpbmVhckZpbHRlcixmLm1pbkZpbHRlcj12b2lkIDAhPT1hLm1pbkZpbHRlcj9hLm1pbkZpbHRlcjpUSFJFRS5MaW5lYXJNaXBNYXBMaW5lYXJGaWx0ZXIsZi5hbmlzb3Ryb3B5PXZvaWQgMCE9PWEuYW5pc290cm9weT9hLmFuaXNvdHJvcHk6MSx2b2lkIDAhPT1hLmZvcm1hdCYmKGYuZm9ybWF0PWEuZm9ybWF0KSx2b2lkIDAhPT1hLnR5cGUmJihmLnR5cGU9YS50eXBlKSx2b2lkIDAhPT1hLm1pcG1hcHMmJihmLm1pcG1hcHM9YS5taXBtYXBzKSwxPT09YS5taXBtYXBDb3VudCYmKGYubWluRmlsdGVyPVRIUkVFLkxpbmVhckZpbHRlciksZi5uZWVkc1VwZGF0ZT0hMCxiJiZiKGYsYSl9LGMsZCk7cmV0dXJuIGZ9fTtUSFJFRS5Db21wcmVzc2VkVGV4dHVyZUxvYWRlcj1mdW5jdGlvbigpe3RoaXMuX3BhcnNlcj1udWxsfTtcblRIUkVFLkNvbXByZXNzZWRUZXh0dXJlTG9hZGVyLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuQ29tcHJlc3NlZFRleHR1cmVMb2FkZXIsbG9hZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPVtdLGY9bmV3IFRIUkVFLkNvbXByZXNzZWRUZXh0dXJlO2YuaW1hZ2U9ZTt2YXIgZz1uZXcgVEhSRUUuWEhSTG9hZGVyO2cuc2V0UmVzcG9uc2VUeXBlKFwiYXJyYXlidWZmZXJcIik7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXt2YXIgaD0wO2M9ZnVuY3Rpb24oYyl7Zy5sb2FkKGFbY10sZnVuY3Rpb24oYSl7YT1kLl9wYXJzZXIoYSwhMCk7ZVtjXT17d2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHQsZm9ybWF0OmEuZm9ybWF0LG1pcG1hcHM6YS5taXBtYXBzfTtoKz0xOzY9PT1oJiYoMT09YS5taXBtYXBDb3VudCYmKGYubWluRmlsdGVyPVRIUkVFLkxpbmVhckZpbHRlciksZi5mb3JtYXQ9YS5mb3JtYXQsZi5uZWVkc1VwZGF0ZT0hMCxiJiZiKGYpKX0pfTtmb3IodmFyIGs9MCxsPVxuYS5sZW5ndGg7azxsOysrayljKGspfWVsc2UgZy5sb2FkKGEsZnVuY3Rpb24oYSl7YT1kLl9wYXJzZXIoYSwhMCk7aWYoYS5pc0N1YmVtYXApZm9yKHZhciBjPWEubWlwbWFwcy5sZW5ndGgvYS5taXBtYXBDb3VudCxnPTA7ZzxjO2crKyl7ZVtnXT17bWlwbWFwczpbXX07Zm9yKHZhciBoPTA7aDxhLm1pcG1hcENvdW50O2grKyllW2ddLm1pcG1hcHMucHVzaChhLm1pcG1hcHNbZyphLm1pcG1hcENvdW50K2hdKSxlW2ddLmZvcm1hdD1hLmZvcm1hdCxlW2ddLndpZHRoPWEud2lkdGgsZVtnXS5oZWlnaHQ9YS5oZWlnaHR9ZWxzZSBmLmltYWdlLndpZHRoPWEud2lkdGgsZi5pbWFnZS5oZWlnaHQ9YS5oZWlnaHQsZi5taXBtYXBzPWEubWlwbWFwczsxPT09YS5taXBtYXBDb3VudCYmKGYubWluRmlsdGVyPVRIUkVFLkxpbmVhckZpbHRlcik7Zi5mb3JtYXQ9YS5mb3JtYXQ7Zi5uZWVkc1VwZGF0ZT0hMDtiJiZiKGYpfSk7cmV0dXJuIGZ9fTtcblRIUkVFLk1hdGVyaWFsPWZ1bmN0aW9uKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJpZFwiLHt2YWx1ZTpUSFJFRS5NYXRlcmlhbElkQ291bnQrK30pO3RoaXMudXVpZD1USFJFRS5NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMubmFtZT1cIlwiO3RoaXMudHlwZT1cIk1hdGVyaWFsXCI7dGhpcy5zaWRlPVRIUkVFLkZyb250U2lkZTt0aGlzLm9wYWNpdHk9MTt0aGlzLnRyYW5zcGFyZW50PSExO3RoaXMuYmxlbmRpbmc9VEhSRUUuTm9ybWFsQmxlbmRpbmc7dGhpcy5ibGVuZFNyYz1USFJFRS5TcmNBbHBoYUZhY3Rvcjt0aGlzLmJsZW5kRHN0PVRIUkVFLk9uZU1pbnVzU3JjQWxwaGFGYWN0b3I7dGhpcy5ibGVuZEVxdWF0aW9uPVRIUkVFLkFkZEVxdWF0aW9uO3RoaXMuYmxlbmRFcXVhdGlvbkFscGhhPXRoaXMuYmxlbmREc3RBbHBoYT10aGlzLmJsZW5kU3JjQWxwaGE9bnVsbDt0aGlzLmNvbG9yV3JpdGU9dGhpcy5kZXB0aFdyaXRlPXRoaXMuZGVwdGhUZXN0PSEwO3RoaXMucG9seWdvbk9mZnNldD1cbiExO3RoaXMub3ZlcmRyYXc9dGhpcy5hbHBoYVRlc3Q9dGhpcy5wb2x5Z29uT2Zmc2V0VW5pdHM9dGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yPTA7dGhpcy5fbmVlZHNVcGRhdGU9dGhpcy52aXNpYmxlPSEwfTtcblRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTWF0ZXJpYWwsZ2V0IG5lZWRzVXBkYXRlKCl7cmV0dXJuIHRoaXMuX25lZWRzVXBkYXRlfSxzZXQgbmVlZHNVcGRhdGUoYSl7ITA9PT1hJiZ0aGlzLnVwZGF0ZSgpO3RoaXMuX25lZWRzVXBkYXRlPWF9LHNldFZhbHVlczpmdW5jdGlvbihhKXtpZih2b2lkIDAhPT1hKWZvcih2YXIgYiBpbiBhKXt2YXIgYz1hW2JdO2lmKHZvaWQgMD09PWMpVEhSRUUud2FybihcIlRIUkVFLk1hdGVyaWFsOiAnXCIrYitcIicgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZC5cIik7ZWxzZSBpZihiIGluIHRoaXMpe3ZhciBkPXRoaXNbYl07ZCBpbnN0YW5jZW9mIFRIUkVFLkNvbG9yP2Quc2V0KGMpOmQgaW5zdGFuY2VvZiBUSFJFRS5WZWN0b3IzJiZjIGluc3RhbmNlb2YgVEhSRUUuVmVjdG9yMz9kLmNvcHkoYyk6dGhpc1tiXT1cIm92ZXJkcmF3XCI9PWI/TnVtYmVyKGMpOmN9fX0sdG9KU09OOmZ1bmN0aW9uKCl7dmFyIGE9e21ldGFkYXRhOnt2ZXJzaW9uOjQuMixcbnR5cGU6XCJtYXRlcmlhbFwiLGdlbmVyYXRvcjpcIk1hdGVyaWFsRXhwb3J0ZXJcIn0sdXVpZDp0aGlzLnV1aWQsdHlwZTp0aGlzLnR5cGV9O1wiXCIhPT10aGlzLm5hbWUmJihhLm5hbWU9dGhpcy5uYW1lKTt0aGlzIGluc3RhbmNlb2YgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWw/KGEuY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKSx0aGlzLnZlcnRleENvbG9ycyE9PVRIUkVFLk5vQ29sb3JzJiYoYS52ZXJ0ZXhDb2xvcnM9dGhpcy52ZXJ0ZXhDb2xvcnMpLHRoaXMuYmxlbmRpbmchPT1USFJFRS5Ob3JtYWxCbGVuZGluZyYmKGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZyksdGhpcy5zaWRlIT09VEhSRUUuRnJvbnRTaWRlJiYoYS5zaWRlPXRoaXMuc2lkZSkpOnRoaXMgaW5zdGFuY2VvZiBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsPyhhLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksYS5lbWlzc2l2ZT10aGlzLmVtaXNzaXZlLmdldEhleCgpLHRoaXMudmVydGV4Q29sb3JzIT09VEhSRUUuTm9Db2xvcnMmJlxuKGEudmVydGV4Q29sb3JzPXRoaXMudmVydGV4Q29sb3JzKSx0aGlzLnNoYWRpbmchPT1USFJFRS5TbW9vdGhTaGFkaW5nJiYoYS5zaGFkaW5nPXRoaXMuc2hhZGluZyksdGhpcy5ibGVuZGluZyE9PVRIUkVFLk5vcm1hbEJsZW5kaW5nJiYoYS5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSx0aGlzLnNpZGUhPT1USFJFRS5Gcm9udFNpZGUmJihhLnNpZGU9dGhpcy5zaWRlKSk6dGhpcyBpbnN0YW5jZW9mIFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsPyhhLmNvbG9yPXRoaXMuY29sb3IuZ2V0SGV4KCksYS5lbWlzc2l2ZT10aGlzLmVtaXNzaXZlLmdldEhleCgpLGEuc3BlY3VsYXI9dGhpcy5zcGVjdWxhci5nZXRIZXgoKSxhLnNoaW5pbmVzcz10aGlzLnNoaW5pbmVzcyx0aGlzLnZlcnRleENvbG9ycyE9PVRIUkVFLk5vQ29sb3JzJiYoYS52ZXJ0ZXhDb2xvcnM9dGhpcy52ZXJ0ZXhDb2xvcnMpLHRoaXMuc2hhZGluZyE9PVRIUkVFLlNtb290aFNoYWRpbmcmJihhLnNoYWRpbmc9dGhpcy5zaGFkaW5nKSxcbnRoaXMuYmxlbmRpbmchPT1USFJFRS5Ob3JtYWxCbGVuZGluZyYmKGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZyksdGhpcy5zaWRlIT09VEhSRUUuRnJvbnRTaWRlJiYoYS5zaWRlPXRoaXMuc2lkZSkpOnRoaXMgaW5zdGFuY2VvZiBUSFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWw/KHRoaXMuYmxlbmRpbmchPT1USFJFRS5Ob3JtYWxCbGVuZGluZyYmKGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZyksdGhpcy5zaWRlIT09VEhSRUUuRnJvbnRTaWRlJiYoYS5zaWRlPXRoaXMuc2lkZSkpOnRoaXMgaW5zdGFuY2VvZiBUSFJFRS5NZXNoRGVwdGhNYXRlcmlhbD8odGhpcy5ibGVuZGluZyE9PVRIUkVFLk5vcm1hbEJsZW5kaW5nJiYoYS5ibGVuZGluZz10aGlzLmJsZW5kaW5nKSx0aGlzLnNpZGUhPT1USFJFRS5Gcm9udFNpZGUmJihhLnNpZGU9dGhpcy5zaWRlKSk6dGhpcyBpbnN0YW5jZW9mIFRIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbD8oYS5zaXplPXRoaXMuc2l6ZSxhLnNpemVBdHRlbnVhdGlvbj1cbnRoaXMuc2l6ZUF0dGVudWF0aW9uLGEuY29sb3I9dGhpcy5jb2xvci5nZXRIZXgoKSx0aGlzLnZlcnRleENvbG9ycyE9PVRIUkVFLk5vQ29sb3JzJiYoYS52ZXJ0ZXhDb2xvcnM9dGhpcy52ZXJ0ZXhDb2xvcnMpLHRoaXMuYmxlbmRpbmchPT1USFJFRS5Ob3JtYWxCbGVuZGluZyYmKGEuYmxlbmRpbmc9dGhpcy5ibGVuZGluZykpOnRoaXMgaW5zdGFuY2VvZiBUSFJFRS5TaGFkZXJNYXRlcmlhbD8oYS51bmlmb3Jtcz10aGlzLnVuaWZvcm1zLGEudmVydGV4U2hhZGVyPXRoaXMudmVydGV4U2hhZGVyLGEuZnJhZ21lbnRTaGFkZXI9dGhpcy5mcmFnbWVudFNoYWRlcik6dGhpcyBpbnN0YW5jZW9mIFRIUkVFLlNwcml0ZU1hdGVyaWFsJiYoYS5jb2xvcj10aGlzLmNvbG9yLmdldEhleCgpKTsxPnRoaXMub3BhY2l0eSYmKGEub3BhY2l0eT10aGlzLm9wYWNpdHkpOyExIT09dGhpcy50cmFuc3BhcmVudCYmKGEudHJhbnNwYXJlbnQ9dGhpcy50cmFuc3BhcmVudCk7ITEhPT10aGlzLndpcmVmcmFtZSYmXG4oYS53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWUpO3JldHVybiBhfSxjbG9uZTpmdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuTWF0ZXJpYWwpO2EubmFtZT10aGlzLm5hbWU7YS5zaWRlPXRoaXMuc2lkZTthLm9wYWNpdHk9dGhpcy5vcGFjaXR5O2EudHJhbnNwYXJlbnQ9dGhpcy50cmFuc3BhcmVudDthLmJsZW5kaW5nPXRoaXMuYmxlbmRpbmc7YS5ibGVuZFNyYz10aGlzLmJsZW5kU3JjO2EuYmxlbmREc3Q9dGhpcy5ibGVuZERzdDthLmJsZW5kRXF1YXRpb249dGhpcy5ibGVuZEVxdWF0aW9uO2EuYmxlbmRTcmNBbHBoYT10aGlzLmJsZW5kU3JjQWxwaGE7YS5ibGVuZERzdEFscGhhPXRoaXMuYmxlbmREc3RBbHBoYTthLmJsZW5kRXF1YXRpb25BbHBoYT10aGlzLmJsZW5kRXF1YXRpb25BbHBoYTthLmRlcHRoVGVzdD10aGlzLmRlcHRoVGVzdDthLmRlcHRoV3JpdGU9dGhpcy5kZXB0aFdyaXRlO2EucG9seWdvbk9mZnNldD10aGlzLnBvbHlnb25PZmZzZXQ7YS5wb2x5Z29uT2Zmc2V0RmFjdG9yPVxudGhpcy5wb2x5Z29uT2Zmc2V0RmFjdG9yO2EucG9seWdvbk9mZnNldFVuaXRzPXRoaXMucG9seWdvbk9mZnNldFVuaXRzO2EuYWxwaGFUZXN0PXRoaXMuYWxwaGFUZXN0O2Eub3ZlcmRyYXc9dGhpcy5vdmVyZHJhdzthLnZpc2libGU9dGhpcy52aXNpYmxlO3JldHVybiBhfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJ1cGRhdGVcIn0pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fTtUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFwcGx5KFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7VEhSRUUuTWF0ZXJpYWxJZENvdW50PTA7XG5USFJFRS5MaW5lQmFzaWNNYXRlcmlhbD1mdW5jdGlvbihhKXtUSFJFRS5NYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkxpbmVCYXNpY01hdGVyaWFsXCI7dGhpcy5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoMTY3NzcyMTUpO3RoaXMubGluZXdpZHRoPTE7dGhpcy5saW5lam9pbj10aGlzLmxpbmVjYXA9XCJyb3VuZFwiO3RoaXMudmVydGV4Q29sb3JzPVRIUkVFLk5vQ29sb3JzO3RoaXMuZm9nPSEwO3RoaXMuc2V0VmFsdWVzKGEpfTtUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUpO1RIUkVFLkxpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5MaW5lQmFzaWNNYXRlcmlhbDtcblRIUkVFLkxpbmVCYXNpY01hdGVyaWFsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbDtUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2EuY29sb3IuY29weSh0aGlzLmNvbG9yKTthLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aDthLmxpbmVjYXA9dGhpcy5saW5lY2FwO2EubGluZWpvaW49dGhpcy5saW5lam9pbjthLnZlcnRleENvbG9ycz10aGlzLnZlcnRleENvbG9yczthLmZvZz10aGlzLmZvZztyZXR1cm4gYX07XG5USFJFRS5MaW5lRGFzaGVkTWF0ZXJpYWw9ZnVuY3Rpb24oYSl7VEhSRUUuTWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJMaW5lRGFzaGVkTWF0ZXJpYWxcIjt0aGlzLmNvbG9yPW5ldyBUSFJFRS5Db2xvcigxNjc3NzIxNSk7dGhpcy5zY2FsZT10aGlzLmxpbmV3aWR0aD0xO3RoaXMuZGFzaFNpemU9Mzt0aGlzLmdhcFNpemU9MTt0aGlzLnZlcnRleENvbG9ycz0hMTt0aGlzLmZvZz0hMDt0aGlzLnNldFZhbHVlcyhhKX07VEhSRUUuTGluZURhc2hlZE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7VEhSRUUuTGluZURhc2hlZE1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5MaW5lRGFzaGVkTWF0ZXJpYWw7XG5USFJFRS5MaW5lRGFzaGVkTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLkxpbmVEYXNoZWRNYXRlcmlhbDtUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2EuY29sb3IuY29weSh0aGlzLmNvbG9yKTthLmxpbmV3aWR0aD10aGlzLmxpbmV3aWR0aDthLnNjYWxlPXRoaXMuc2NhbGU7YS5kYXNoU2l6ZT10aGlzLmRhc2hTaXplO2EuZ2FwU2l6ZT10aGlzLmdhcFNpemU7YS52ZXJ0ZXhDb2xvcnM9dGhpcy52ZXJ0ZXhDb2xvcnM7YS5mb2c9dGhpcy5mb2c7cmV0dXJuIGF9O1xuVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWw9ZnVuY3Rpb24oYSl7VEhSRUUuTWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJNZXNoQmFzaWNNYXRlcmlhbFwiO3RoaXMuY29sb3I9bmV3IFRIUkVFLkNvbG9yKDE2Nzc3MjE1KTt0aGlzLmVudk1hcD10aGlzLmFscGhhTWFwPXRoaXMuc3BlY3VsYXJNYXA9dGhpcy5saWdodE1hcD10aGlzLm1hcD1udWxsO3RoaXMuY29tYmluZT1USFJFRS5NdWx0aXBseU9wZXJhdGlvbjt0aGlzLnJlZmxlY3Rpdml0eT0xO3RoaXMucmVmcmFjdGlvblJhdGlvPS45ODt0aGlzLmZvZz0hMDt0aGlzLnNoYWRpbmc9VEhSRUUuU21vb3RoU2hhZGluZzt0aGlzLndpcmVmcmFtZT0hMTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xO3RoaXMud2lyZWZyYW1lTGluZWpvaW49dGhpcy53aXJlZnJhbWVMaW5lY2FwPVwicm91bmRcIjt0aGlzLnZlcnRleENvbG9ycz1USFJFRS5Ob0NvbG9yczt0aGlzLm1vcnBoVGFyZ2V0cz10aGlzLnNraW5uaW5nPSExO3RoaXMuc2V0VmFsdWVzKGEpfTtcblRIUkVFLk1lc2hCYXNpY01hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7VEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk1lc2hCYXNpY01hdGVyaWFsO1xuVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsO1RIUkVFLk1hdGVyaWFsLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7YS5jb2xvci5jb3B5KHRoaXMuY29sb3IpO2EubWFwPXRoaXMubWFwO2EubGlnaHRNYXA9dGhpcy5saWdodE1hcDthLnNwZWN1bGFyTWFwPXRoaXMuc3BlY3VsYXJNYXA7YS5hbHBoYU1hcD10aGlzLmFscGhhTWFwO2EuZW52TWFwPXRoaXMuZW52TWFwO2EuY29tYmluZT10aGlzLmNvbWJpbmU7YS5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHk7YS5yZWZyYWN0aW9uUmF0aW89dGhpcy5yZWZyYWN0aW9uUmF0aW87YS5mb2c9dGhpcy5mb2c7YS5zaGFkaW5nPXRoaXMuc2hhZGluZzthLndpcmVmcmFtZT10aGlzLndpcmVmcmFtZTthLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aDthLndpcmVmcmFtZUxpbmVjYXA9dGhpcy53aXJlZnJhbWVMaW5lY2FwO1xuYS53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luO2EudmVydGV4Q29sb3JzPXRoaXMudmVydGV4Q29sb3JzO2Euc2tpbm5pbmc9dGhpcy5za2lubmluZzthLm1vcnBoVGFyZ2V0cz10aGlzLm1vcnBoVGFyZ2V0cztyZXR1cm4gYX07XG5USFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsPWZ1bmN0aW9uKGEpe1RIUkVFLk1hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPVwiTWVzaExhbWJlcnRNYXRlcmlhbFwiO3RoaXMuY29sb3I9bmV3IFRIUkVFLkNvbG9yKDE2Nzc3MjE1KTt0aGlzLmVtaXNzaXZlPW5ldyBUSFJFRS5Db2xvcigwKTt0aGlzLndyYXBBcm91bmQ9ITE7dGhpcy53cmFwUkdCPW5ldyBUSFJFRS5WZWN0b3IzKDEsMSwxKTt0aGlzLmVudk1hcD10aGlzLmFscGhhTWFwPXRoaXMuc3BlY3VsYXJNYXA9dGhpcy5saWdodE1hcD10aGlzLm1hcD1udWxsO3RoaXMuY29tYmluZT1USFJFRS5NdWx0aXBseU9wZXJhdGlvbjt0aGlzLnJlZmxlY3Rpdml0eT0xO3RoaXMucmVmcmFjdGlvblJhdGlvPS45ODt0aGlzLmZvZz0hMDt0aGlzLnNoYWRpbmc9VEhSRUUuU21vb3RoU2hhZGluZzt0aGlzLndpcmVmcmFtZT0hMTt0aGlzLndpcmVmcmFtZUxpbmV3aWR0aD0xO3RoaXMud2lyZWZyYW1lTGluZWpvaW49dGhpcy53aXJlZnJhbWVMaW5lY2FwPVxuXCJyb3VuZFwiO3RoaXMudmVydGV4Q29sb3JzPVRIUkVFLk5vQ29sb3JzO3RoaXMubW9ycGhOb3JtYWxzPXRoaXMubW9ycGhUYXJnZXRzPXRoaXMuc2tpbm5pbmc9ITE7dGhpcy5zZXRWYWx1ZXMoYSl9O1RIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlKTtUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsO1xuVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbDtUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2EuY29sb3IuY29weSh0aGlzLmNvbG9yKTthLmVtaXNzaXZlLmNvcHkodGhpcy5lbWlzc2l2ZSk7YS53cmFwQXJvdW5kPXRoaXMud3JhcEFyb3VuZDthLndyYXBSR0IuY29weSh0aGlzLndyYXBSR0IpO2EubWFwPXRoaXMubWFwO2EubGlnaHRNYXA9dGhpcy5saWdodE1hcDthLnNwZWN1bGFyTWFwPXRoaXMuc3BlY3VsYXJNYXA7YS5hbHBoYU1hcD10aGlzLmFscGhhTWFwO2EuZW52TWFwPXRoaXMuZW52TWFwO2EuY29tYmluZT10aGlzLmNvbWJpbmU7YS5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHk7YS5yZWZyYWN0aW9uUmF0aW89dGhpcy5yZWZyYWN0aW9uUmF0aW87YS5mb2c9dGhpcy5mb2c7YS5zaGFkaW5nPXRoaXMuc2hhZGluZzthLndpcmVmcmFtZT1cbnRoaXMud2lyZWZyYW1lO2Eud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoO2Eud2lyZWZyYW1lTGluZWNhcD10aGlzLndpcmVmcmFtZUxpbmVjYXA7YS53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVqb2luO2EudmVydGV4Q29sb3JzPXRoaXMudmVydGV4Q29sb3JzO2Euc2tpbm5pbmc9dGhpcy5za2lubmluZzthLm1vcnBoVGFyZ2V0cz10aGlzLm1vcnBoVGFyZ2V0czthLm1vcnBoTm9ybWFscz10aGlzLm1vcnBoTm9ybWFscztyZXR1cm4gYX07XG5USFJFRS5NZXNoUGhvbmdNYXRlcmlhbD1mdW5jdGlvbihhKXtUSFJFRS5NYXRlcmlhbC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIk1lc2hQaG9uZ01hdGVyaWFsXCI7dGhpcy5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoMTY3NzcyMTUpO3RoaXMuZW1pc3NpdmU9bmV3IFRIUkVFLkNvbG9yKDApO3RoaXMuc3BlY3VsYXI9bmV3IFRIUkVFLkNvbG9yKDExMTg0ODEpO3RoaXMuc2hpbmluZXNzPTMwO3RoaXMud3JhcEFyb3VuZD10aGlzLm1ldGFsPSExO3RoaXMud3JhcFJHQj1uZXcgVEhSRUUuVmVjdG9yMygxLDEsMSk7dGhpcy5idW1wTWFwPXRoaXMubGlnaHRNYXA9dGhpcy5tYXA9bnVsbDt0aGlzLmJ1bXBTY2FsZT0xO3RoaXMubm9ybWFsTWFwPW51bGw7dGhpcy5ub3JtYWxTY2FsZT1uZXcgVEhSRUUuVmVjdG9yMigxLDEpO3RoaXMuZW52TWFwPXRoaXMuYWxwaGFNYXA9dGhpcy5zcGVjdWxhck1hcD1udWxsO3RoaXMuY29tYmluZT1USFJFRS5NdWx0aXBseU9wZXJhdGlvbjt0aGlzLnJlZmxlY3Rpdml0eT1cbjE7dGhpcy5yZWZyYWN0aW9uUmF0aW89Ljk4O3RoaXMuZm9nPSEwO3RoaXMuc2hhZGluZz1USFJFRS5TbW9vdGhTaGFkaW5nO3RoaXMud2lyZWZyYW1lPSExO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPTE7dGhpcy53aXJlZnJhbWVMaW5lam9pbj10aGlzLndpcmVmcmFtZUxpbmVjYXA9XCJyb3VuZFwiO3RoaXMudmVydGV4Q29sb3JzPVRIUkVFLk5vQ29sb3JzO3RoaXMubW9ycGhOb3JtYWxzPXRoaXMubW9ycGhUYXJnZXRzPXRoaXMuc2tpbm5pbmc9ITE7dGhpcy5zZXRWYWx1ZXMoYSl9O1RIUkVFLk1lc2hQaG9uZ01hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7VEhSRUUuTWVzaFBob25nTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsO1xuVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsO1RIUkVFLk1hdGVyaWFsLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7YS5jb2xvci5jb3B5KHRoaXMuY29sb3IpO2EuZW1pc3NpdmUuY29weSh0aGlzLmVtaXNzaXZlKTthLnNwZWN1bGFyLmNvcHkodGhpcy5zcGVjdWxhcik7YS5zaGluaW5lc3M9dGhpcy5zaGluaW5lc3M7YS5tZXRhbD10aGlzLm1ldGFsO2Eud3JhcEFyb3VuZD10aGlzLndyYXBBcm91bmQ7YS53cmFwUkdCLmNvcHkodGhpcy53cmFwUkdCKTthLm1hcD10aGlzLm1hcDthLmxpZ2h0TWFwPXRoaXMubGlnaHRNYXA7YS5idW1wTWFwPXRoaXMuYnVtcE1hcDthLmJ1bXBTY2FsZT10aGlzLmJ1bXBTY2FsZTthLm5vcm1hbE1hcD10aGlzLm5vcm1hbE1hcDthLm5vcm1hbFNjYWxlLmNvcHkodGhpcy5ub3JtYWxTY2FsZSk7YS5zcGVjdWxhck1hcD10aGlzLnNwZWN1bGFyTWFwO1xuYS5hbHBoYU1hcD10aGlzLmFscGhhTWFwO2EuZW52TWFwPXRoaXMuZW52TWFwO2EuY29tYmluZT10aGlzLmNvbWJpbmU7YS5yZWZsZWN0aXZpdHk9dGhpcy5yZWZsZWN0aXZpdHk7YS5yZWZyYWN0aW9uUmF0aW89dGhpcy5yZWZyYWN0aW9uUmF0aW87YS5mb2c9dGhpcy5mb2c7YS5zaGFkaW5nPXRoaXMuc2hhZGluZzthLndpcmVmcmFtZT10aGlzLndpcmVmcmFtZTthLndpcmVmcmFtZUxpbmV3aWR0aD10aGlzLndpcmVmcmFtZUxpbmV3aWR0aDthLndpcmVmcmFtZUxpbmVjYXA9dGhpcy53aXJlZnJhbWVMaW5lY2FwO2Eud2lyZWZyYW1lTGluZWpvaW49dGhpcy53aXJlZnJhbWVMaW5lam9pbjthLnZlcnRleENvbG9ycz10aGlzLnZlcnRleENvbG9yczthLnNraW5uaW5nPXRoaXMuc2tpbm5pbmc7YS5tb3JwaFRhcmdldHM9dGhpcy5tb3JwaFRhcmdldHM7YS5tb3JwaE5vcm1hbHM9dGhpcy5tb3JwaE5vcm1hbHM7cmV0dXJuIGF9O1xuVEhSRUUuTWVzaERlcHRoTWF0ZXJpYWw9ZnVuY3Rpb24oYSl7VEhSRUUuTWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJNZXNoRGVwdGhNYXRlcmlhbFwiO3RoaXMud2lyZWZyYW1lPXRoaXMubW9ycGhUYXJnZXRzPSExO3RoaXMud2lyZWZyYW1lTGluZXdpZHRoPTE7dGhpcy5zZXRWYWx1ZXMoYSl9O1RIUkVFLk1lc2hEZXB0aE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7VEhSRUUuTWVzaERlcHRoTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk1lc2hEZXB0aE1hdGVyaWFsO1xuVEhSRUUuTWVzaERlcHRoTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1lc2hEZXB0aE1hdGVyaWFsO1RIUkVFLk1hdGVyaWFsLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7YS53aXJlZnJhbWU9dGhpcy53aXJlZnJhbWU7YS53aXJlZnJhbWVMaW5ld2lkdGg9dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg7cmV0dXJuIGF9O1RIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbD1mdW5jdGlvbihhKXtUSFJFRS5NYXRlcmlhbC5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPVwiTWVzaE5vcm1hbE1hdGVyaWFsXCI7dGhpcy53aXJlZnJhbWU9ITE7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MTt0aGlzLm1vcnBoVGFyZ2V0cz0hMTt0aGlzLnNldFZhbHVlcyhhKX07VEhSRUUuTWVzaE5vcm1hbE1hdGVyaWFsLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1hdGVyaWFsLnByb3RvdHlwZSk7XG5USFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbDtUSFJFRS5NZXNoTm9ybWFsTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbDtUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO2Eud2lyZWZyYW1lPXRoaXMud2lyZWZyYW1lO2Eud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoO3JldHVybiBhfTtUSFJFRS5NZXNoRmFjZU1hdGVyaWFsPWZ1bmN0aW9uKGEpe3RoaXMudXVpZD1USFJFRS5NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMudHlwZT1cIk1lc2hGYWNlTWF0ZXJpYWxcIjt0aGlzLm1hdGVyaWFscz1hIGluc3RhbmNlb2YgQXJyYXk/YTpbXX07XG5USFJFRS5NZXNoRmFjZU1hdGVyaWFsLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuTWVzaEZhY2VNYXRlcmlhbCx0b0pTT046ZnVuY3Rpb24oKXtmb3IodmFyIGE9e21ldGFkYXRhOnt2ZXJzaW9uOjQuMix0eXBlOlwibWF0ZXJpYWxcIixnZW5lcmF0b3I6XCJNYXRlcmlhbEV4cG9ydGVyXCJ9LHV1aWQ6dGhpcy51dWlkLHR5cGU6dGhpcy50eXBlLG1hdGVyaWFsczpbXX0sYj0wLGM9dGhpcy5tYXRlcmlhbHMubGVuZ3RoO2I8YztiKyspYS5tYXRlcmlhbHMucHVzaCh0aGlzLm1hdGVyaWFsc1tiXS50b0pTT04oKSk7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPW5ldyBUSFJFRS5NZXNoRmFjZU1hdGVyaWFsLGI9MDtiPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtiKyspYS5tYXRlcmlhbHMucHVzaCh0aGlzLm1hdGVyaWFsc1tiXS5jbG9uZSgpKTtyZXR1cm4gYX19O1xuVEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsPWZ1bmN0aW9uKGEpe1RIUkVFLk1hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPVwiUG9pbnRDbG91ZE1hdGVyaWFsXCI7dGhpcy5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoMTY3NzcyMTUpO3RoaXMubWFwPW51bGw7dGhpcy5zaXplPTE7dGhpcy5zaXplQXR0ZW51YXRpb249ITA7dGhpcy52ZXJ0ZXhDb2xvcnM9VEhSRUUuTm9Db2xvcnM7dGhpcy5mb2c9ITA7dGhpcy5zZXRWYWx1ZXMoYSl9O1RIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5NYXRlcmlhbC5wcm90b3R5cGUpO1RIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsO1xuVEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWw7VEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmNvbG9yLmNvcHkodGhpcy5jb2xvcik7YS5tYXA9dGhpcy5tYXA7YS5zaXplPXRoaXMuc2l6ZTthLnNpemVBdHRlbnVhdGlvbj10aGlzLnNpemVBdHRlbnVhdGlvbjthLnZlcnRleENvbG9ycz10aGlzLnZlcnRleENvbG9yczthLmZvZz10aGlzLmZvZztyZXR1cm4gYX07VEhSRUUuUGFydGljbGVCYXNpY01hdGVyaWFsPWZ1bmN0aW9uKGEpe1RIUkVFLndhcm4oXCJUSFJFRS5QYXJ0aWNsZUJhc2ljTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwuXCIpO3JldHVybiBuZXcgVEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsKGEpfTtcblRIUkVFLlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWw9ZnVuY3Rpb24oYSl7VEhSRUUud2FybihcIlRIUkVFLlBhcnRpY2xlU3lzdGVtTWF0ZXJpYWwgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwuXCIpO3JldHVybiBuZXcgVEhSRUUuUG9pbnRDbG91ZE1hdGVyaWFsKGEpfTtcblRIUkVFLlNoYWRlck1hdGVyaWFsPWZ1bmN0aW9uKGEpe1RIUkVFLk1hdGVyaWFsLmNhbGwodGhpcyk7dGhpcy50eXBlPVwiU2hhZGVyTWF0ZXJpYWxcIjt0aGlzLmRlZmluZXM9e307dGhpcy51bmlmb3Jtcz17fTt0aGlzLmF0dHJpYnV0ZXM9bnVsbDt0aGlzLnZlcnRleFNoYWRlcj1cInZvaWQgbWFpbigpIHtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxufVwiO3RoaXMuZnJhZ21lbnRTaGFkZXI9XCJ2b2lkIG1haW4oKSB7XFxuXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggMS4wLCAwLjAsIDAuMCwgMS4wICk7XFxufVwiO3RoaXMuc2hhZGluZz1USFJFRS5TbW9vdGhTaGFkaW5nO3RoaXMubGluZXdpZHRoPTE7dGhpcy53aXJlZnJhbWU9ITE7dGhpcy53aXJlZnJhbWVMaW5ld2lkdGg9MTt0aGlzLmxpZ2h0cz10aGlzLmZvZz0hMTt0aGlzLnZlcnRleENvbG9ycz1USFJFRS5Ob0NvbG9yczt0aGlzLm1vcnBoTm9ybWFscz1cbnRoaXMubW9ycGhUYXJnZXRzPXRoaXMuc2tpbm5pbmc9ITE7dGhpcy5kZWZhdWx0QXR0cmlidXRlVmFsdWVzPXtjb2xvcjpbMSwxLDFdLHV2OlswLDBdLHV2MjpbMCwwXX07dGhpcy5pbmRleDBBdHRyaWJ1dGVOYW1lPXZvaWQgMDt0aGlzLnNldFZhbHVlcyhhKX07VEhSRUUuU2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlKTtUSFJFRS5TaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuU2hhZGVyTWF0ZXJpYWw7XG5USFJFRS5TaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWw7VEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmZyYWdtZW50U2hhZGVyPXRoaXMuZnJhZ21lbnRTaGFkZXI7YS52ZXJ0ZXhTaGFkZXI9dGhpcy52ZXJ0ZXhTaGFkZXI7YS51bmlmb3Jtcz1USFJFRS5Vbmlmb3Jtc1V0aWxzLmNsb25lKHRoaXMudW5pZm9ybXMpO2EuYXR0cmlidXRlcz10aGlzLmF0dHJpYnV0ZXM7YS5kZWZpbmVzPXRoaXMuZGVmaW5lczthLnNoYWRpbmc9dGhpcy5zaGFkaW5nO2Eud2lyZWZyYW1lPXRoaXMud2lyZWZyYW1lO2Eud2lyZWZyYW1lTGluZXdpZHRoPXRoaXMud2lyZWZyYW1lTGluZXdpZHRoO2EuZm9nPXRoaXMuZm9nO2EubGlnaHRzPXRoaXMubGlnaHRzO2EudmVydGV4Q29sb3JzPXRoaXMudmVydGV4Q29sb3JzO2Euc2tpbm5pbmc9dGhpcy5za2lubmluZzthLm1vcnBoVGFyZ2V0cz1cbnRoaXMubW9ycGhUYXJnZXRzO2EubW9ycGhOb3JtYWxzPXRoaXMubW9ycGhOb3JtYWxzO3JldHVybiBhfTtUSFJFRS5SYXdTaGFkZXJNYXRlcmlhbD1mdW5jdGlvbihhKXtUSFJFRS5TaGFkZXJNYXRlcmlhbC5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPVwiUmF3U2hhZGVyTWF0ZXJpYWxcIn07VEhSRUUuUmF3U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuU2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlKTtUSFJFRS5SYXdTaGFkZXJNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUmF3U2hhZGVyTWF0ZXJpYWw7VEhSRUUuUmF3U2hhZGVyTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlJhd1NoYWRlck1hdGVyaWFsO1RIUkVFLlNoYWRlck1hdGVyaWFsLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1xuVEhSRUUuU3ByaXRlTWF0ZXJpYWw9ZnVuY3Rpb24oYSl7VEhSRUUuTWF0ZXJpYWwuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJTcHJpdGVNYXRlcmlhbFwiO3RoaXMuY29sb3I9bmV3IFRIUkVFLkNvbG9yKDE2Nzc3MjE1KTt0aGlzLm1hcD1udWxsO3RoaXMucm90YXRpb249MDt0aGlzLmZvZz0hMTt0aGlzLnNldFZhbHVlcyhhKX07VEhSRUUuU3ByaXRlTWF0ZXJpYWwucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlKTtUSFJFRS5TcHJpdGVNYXRlcmlhbC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuU3ByaXRlTWF0ZXJpYWw7XG5USFJFRS5TcHJpdGVNYXRlcmlhbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuU3ByaXRlTWF0ZXJpYWw7VEhSRUUuTWF0ZXJpYWwucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmNvbG9yLmNvcHkodGhpcy5jb2xvcik7YS5tYXA9dGhpcy5tYXA7YS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uO2EuZm9nPXRoaXMuZm9nO3JldHVybiBhfTtcblRIUkVFLlRleHR1cmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGspe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiaWRcIix7dmFsdWU6VEhSRUUuVGV4dHVyZUlkQ291bnQrK30pO3RoaXMudXVpZD1USFJFRS5NYXRoLmdlbmVyYXRlVVVJRCgpO3RoaXMuc291cmNlRmlsZT10aGlzLm5hbWU9XCJcIjt0aGlzLmltYWdlPXZvaWQgMCE9PWE/YTpUSFJFRS5UZXh0dXJlLkRFRkFVTFRfSU1BR0U7dGhpcy5taXBtYXBzPVtdO3RoaXMubWFwcGluZz12b2lkIDAhPT1iP2I6VEhSRUUuVGV4dHVyZS5ERUZBVUxUX01BUFBJTkc7dGhpcy53cmFwUz12b2lkIDAhPT1jP2M6VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZzt0aGlzLndyYXBUPXZvaWQgMCE9PWQ/ZDpUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nO3RoaXMubWFnRmlsdGVyPXZvaWQgMCE9PWU/ZTpUSFJFRS5MaW5lYXJGaWx0ZXI7dGhpcy5taW5GaWx0ZXI9dm9pZCAwIT09Zj9mOlRIUkVFLkxpbmVhck1pcE1hcExpbmVhckZpbHRlcjtcbnRoaXMuYW5pc290cm9weT12b2lkIDAhPT1rP2s6MTt0aGlzLmZvcm1hdD12b2lkIDAhPT1nP2c6VEhSRUUuUkdCQUZvcm1hdDt0aGlzLnR5cGU9dm9pZCAwIT09aD9oOlRIUkVFLlVuc2lnbmVkQnl0ZVR5cGU7dGhpcy5vZmZzZXQ9bmV3IFRIUkVFLlZlY3RvcjIoMCwwKTt0aGlzLnJlcGVhdD1uZXcgVEhSRUUuVmVjdG9yMigxLDEpO3RoaXMuZ2VuZXJhdGVNaXBtYXBzPSEwO3RoaXMucHJlbXVsdGlwbHlBbHBoYT0hMTt0aGlzLmZsaXBZPSEwO3RoaXMudW5wYWNrQWxpZ25tZW50PTQ7dGhpcy5fbmVlZHNVcGRhdGU9ITE7dGhpcy5vblVwZGF0ZT1udWxsfTtUSFJFRS5UZXh0dXJlLkRFRkFVTFRfSU1BR0U9dm9pZCAwO1RIUkVFLlRleHR1cmUuREVGQVVMVF9NQVBQSU5HPVRIUkVFLlVWTWFwcGluZztcblRIUkVFLlRleHR1cmUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpUSFJFRS5UZXh0dXJlLGdldCBuZWVkc1VwZGF0ZSgpe3JldHVybiB0aGlzLl9uZWVkc1VwZGF0ZX0sc2V0IG5lZWRzVXBkYXRlKGEpeyEwPT09YSYmdGhpcy51cGRhdGUoKTt0aGlzLl9uZWVkc1VwZGF0ZT1hfSxjbG9uZTpmdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuVGV4dHVyZSk7YS5pbWFnZT10aGlzLmltYWdlO2EubWlwbWFwcz10aGlzLm1pcG1hcHMuc2xpY2UoMCk7YS5tYXBwaW5nPXRoaXMubWFwcGluZzthLndyYXBTPXRoaXMud3JhcFM7YS53cmFwVD10aGlzLndyYXBUO2EubWFnRmlsdGVyPXRoaXMubWFnRmlsdGVyO2EubWluRmlsdGVyPXRoaXMubWluRmlsdGVyO2EuYW5pc290cm9weT10aGlzLmFuaXNvdHJvcHk7YS5mb3JtYXQ9dGhpcy5mb3JtYXQ7YS50eXBlPXRoaXMudHlwZTthLm9mZnNldC5jb3B5KHRoaXMub2Zmc2V0KTthLnJlcGVhdC5jb3B5KHRoaXMucmVwZWF0KTthLmdlbmVyYXRlTWlwbWFwcz1cbnRoaXMuZ2VuZXJhdGVNaXBtYXBzO2EucHJlbXVsdGlwbHlBbHBoYT10aGlzLnByZW11bHRpcGx5QWxwaGE7YS5mbGlwWT10aGlzLmZsaXBZO2EudW5wYWNrQWxpZ25tZW50PXRoaXMudW5wYWNrQWxpZ25tZW50O3JldHVybiBhfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJ1cGRhdGVcIn0pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOlwiZGlzcG9zZVwifSl9fTtUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlLmFwcGx5KFRIUkVFLlRleHR1cmUucHJvdG90eXBlKTtUSFJFRS5UZXh0dXJlSWRDb3VudD0wO1RIUkVFLkN1YmVUZXh0dXJlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxrKXtiPXZvaWQgMCE9PWI/YjpUSFJFRS5DdWJlUmVmbGVjdGlvbk1hcHBpbmc7VEhSRUUuVGV4dHVyZS5jYWxsKHRoaXMsYSxiLGMsZCxlLGYsZyxoLGspO3RoaXMuaW1hZ2VzPWF9O1xuVEhSRUUuQ3ViZVRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuVGV4dHVyZS5wcm90b3R5cGUpO1RIUkVFLkN1YmVUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5DdWJlVGV4dHVyZTtUSFJFRS5DdWJlVGV4dHVyZS5jbG9uZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuQ3ViZVRleHR1cmUpO1RIUkVFLlRleHR1cmUucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTthLmltYWdlcz10aGlzLmltYWdlcztyZXR1cm4gYX07VEhSRUUuQ29tcHJlc3NlZFRleHR1cmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGssbCxwKXtUSFJFRS5UZXh0dXJlLmNhbGwodGhpcyxudWxsLGYsZyxoLGssbCxkLGUscCk7dGhpcy5pbWFnZT17d2lkdGg6YixoZWlnaHQ6Y307dGhpcy5taXBtYXBzPWE7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9dGhpcy5mbGlwWT0hMX07VEhSRUUuQ29tcHJlc3NlZFRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuVGV4dHVyZS5wcm90b3R5cGUpO1xuVEhSRUUuQ29tcHJlc3NlZFRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkNvbXByZXNzZWRUZXh0dXJlO1RIUkVFLkNvbXByZXNzZWRUZXh0dXJlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5Db21wcmVzc2VkVGV4dHVyZTtUSFJFRS5UZXh0dXJlLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1RIUkVFLkRhdGFUZXh0dXJlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxrLGwscCl7VEhSRUUuVGV4dHVyZS5jYWxsKHRoaXMsbnVsbCxmLGcsaCxrLGwsZCxlLHApO3RoaXMuaW1hZ2U9e2RhdGE6YSx3aWR0aDpiLGhlaWdodDpjfX07VEhSRUUuRGF0YVRleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuVGV4dHVyZS5wcm90b3R5cGUpO1RIUkVFLkRhdGFUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5EYXRhVGV4dHVyZTtcblRIUkVFLkRhdGFUZXh0dXJlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5EYXRhVGV4dHVyZTtUSFJFRS5UZXh0dXJlLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1RIUkVFLlZpZGVvVGV4dHVyZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7VEhSRUUuVGV4dHVyZS5jYWxsKHRoaXMsYSxiLGMsZCxlLGYsZyxoLGspO3RoaXMuZ2VuZXJhdGVNaXBtYXBzPSExO3ZhciBsPXRoaXMscD1mdW5jdGlvbigpe3JlcXVlc3RBbmltYXRpb25GcmFtZShwKTthLnJlYWR5U3RhdGU9PT1hLkhBVkVfRU5PVUdIX0RBVEEmJihsLm5lZWRzVXBkYXRlPSEwKX07cCgpfTtUSFJFRS5WaWRlb1RleHR1cmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuVGV4dHVyZS5wcm90b3R5cGUpO1RIUkVFLlZpZGVvVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuVmlkZW9UZXh0dXJlO1xuVEhSRUUuR3JvdXA9ZnVuY3Rpb24oKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkdyb3VwXCJ9O1RIUkVFLkdyb3VwLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuR3JvdXAucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkdyb3VwO1RIUkVFLlBvaW50Q2xvdWQ9ZnVuY3Rpb24oYSxiKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIlBvaW50Q2xvdWRcIjt0aGlzLmdlb21ldHJ5PXZvaWQgMCE9PWE/YTpuZXcgVEhSRUUuR2VvbWV0cnk7dGhpcy5tYXRlcmlhbD12b2lkIDAhPT1iP2I6bmV3IFRIUkVFLlBvaW50Q2xvdWRNYXRlcmlhbCh7Y29sb3I6MTY3NzcyMTUqTWF0aC5yYW5kb20oKX0pfTtUSFJFRS5Qb2ludENsb3VkLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuUG9pbnRDbG91ZC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUG9pbnRDbG91ZDtcblRIUkVFLlBvaW50Q2xvdWQucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuTWF0cml4NCxiPW5ldyBUSFJFRS5SYXk7cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9dGhpcyxmPWUuZ2VvbWV0cnksZz1jLnBhcmFtcy5Qb2ludENsb3VkLnRocmVzaG9sZDthLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCk7Yi5jb3B5KGMucmF5KS5hcHBseU1hdHJpeDQoYSk7aWYobnVsbD09PWYuYm91bmRpbmdCb3h8fCExIT09Yi5pc0ludGVyc2VjdGlvbkJveChmLmJvdW5kaW5nQm94KSl7dmFyIGg9Zy8oKHRoaXMuc2NhbGUueCt0aGlzLnNjYWxlLnkrdGhpcy5zY2FsZS56KS8zKSxrPW5ldyBUSFJFRS5WZWN0b3IzLGc9ZnVuY3Rpb24oYSxmKXt2YXIgZz1iLmRpc3RhbmNlVG9Qb2ludChhKTtpZihnPGgpe3ZhciBrPWIuY2xvc2VzdFBvaW50VG9Qb2ludChhKTtrLmFwcGx5TWF0cml4NChlLm1hdHJpeFdvcmxkKTt2YXIgbj1jLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhrKTtcbmQucHVzaCh7ZGlzdGFuY2U6bixkaXN0YW5jZVRvUmF5OmcscG9pbnQ6ay5jbG9uZSgpLGluZGV4OmYsZmFjZTpudWxsLG9iamVjdDplfSl9fTtpZihmIGluc3RhbmNlb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnkpe3ZhciBsPWYuYXR0cmlidXRlcyxwPWwucG9zaXRpb24uYXJyYXk7aWYodm9pZCAwIT09bC5pbmRleCl7dmFyIGw9bC5pbmRleC5hcnJheSxxPWYub2Zmc2V0czswPT09cS5sZW5ndGgmJihxPVt7c3RhcnQ6MCxjb3VudDpsLmxlbmd0aCxpbmRleDowfV0pO2Zvcih2YXIgbj0wLHQ9cS5sZW5ndGg7bjx0Oysrbilmb3IodmFyIHI9cVtuXS5zdGFydCxzPXFbbl0uaW5kZXgsZj1yLHI9citxW25dLmNvdW50O2Y8cjtmKyspe3ZhciB1PXMrbFtmXTtrLmZyb21BcnJheShwLDMqdSk7ZyhrLHUpfX1lbHNlIGZvcihsPXAubGVuZ3RoLzMsZj0wO2Y8bDtmKyspay5zZXQocFszKmZdLHBbMypmKzFdLHBbMypmKzJdKSxnKGssZil9ZWxzZSBmb3Ioaz10aGlzLmdlb21ldHJ5LnZlcnRpY2VzLFxuZj0wO2Y8ay5sZW5ndGg7ZisrKWcoa1tmXSxmKX19fSgpO1RIUkVFLlBvaW50Q2xvdWQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5Qb2ludENsb3VkKHRoaXMuZ2VvbWV0cnksdGhpcy5tYXRlcmlhbCkpO1RIUkVFLk9iamVjdDNELnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1RIUkVFLlBhcnRpY2xlU3lzdGVtPWZ1bmN0aW9uKGEsYil7VEhSRUUud2FybihcIlRIUkVFLlBhcnRpY2xlU3lzdGVtIGhhcyBiZWVuIHJlbmFtZWQgdG8gVEhSRUUuUG9pbnRDbG91ZC5cIik7cmV0dXJuIG5ldyBUSFJFRS5Qb2ludENsb3VkKGEsYil9O1xuVEhSRUUuTGluZT1mdW5jdGlvbihhLGIsYyl7VEhSRUUuT2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJMaW5lXCI7dGhpcy5nZW9tZXRyeT12b2lkIDAhPT1hP2E6bmV3IFRIUkVFLkdlb21ldHJ5O3RoaXMubWF0ZXJpYWw9dm9pZCAwIT09Yj9iOm5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6MTY3NzcyMTUqTWF0aC5yYW5kb20oKX0pO3RoaXMubW9kZT12b2lkIDAhPT1jP2M6VEhSRUUuTGluZVN0cmlwfTtUSFJFRS5MaW5lU3RyaXA9MDtUSFJFRS5MaW5lUGllY2VzPTE7VEhSRUUuTGluZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUpO1RIUkVFLkxpbmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkxpbmU7XG5USFJFRS5MaW5lLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLk1hdHJpeDQsYj1uZXcgVEhSRUUuUmF5LGM9bmV3IFRIUkVFLlNwaGVyZTtyZXR1cm4gZnVuY3Rpb24oZCxlKXt2YXIgZj1kLmxpbmVQcmVjaXNpb24sZj1mKmYsZz10aGlzLmdlb21ldHJ5O251bGw9PT1nLmJvdW5kaW5nU3BoZXJlJiZnLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO2MuY29weShnLmJvdW5kaW5nU3BoZXJlKTtjLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtpZighMSE9PWQucmF5LmlzSW50ZXJzZWN0aW9uU3BoZXJlKGMpKXthLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCk7Yi5jb3B5KGQucmF5KS5hcHBseU1hdHJpeDQoYSk7dmFyIGg9bmV3IFRIUkVFLlZlY3RvcjMsaz1uZXcgVEhSRUUuVmVjdG9yMyxsPW5ldyBUSFJFRS5WZWN0b3IzLHA9bmV3IFRIUkVFLlZlY3RvcjMscT10aGlzLm1vZGU9PT1USFJFRS5MaW5lU3RyaXA/MToyO2lmKGcgaW5zdGFuY2VvZlxuVEhSRUUuQnVmZmVyR2VvbWV0cnkpe3ZhciBuPWcuYXR0cmlidXRlcztpZih2b2lkIDAhPT1uLmluZGV4KXt2YXIgdD1uLmluZGV4LmFycmF5LG49bi5wb3NpdGlvbi5hcnJheSxyPWcub2Zmc2V0czswPT09ci5sZW5ndGgmJihyPVt7c3RhcnQ6MCxjb3VudDp0Lmxlbmd0aCxpbmRleDowfV0pO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKWZvcih2YXIgdT1yW3NdLnN0YXJ0LHY9cltzXS5jb3VudCx4PXJbc10uaW5kZXgsZz11O2c8dSt2LTE7Zys9cSl7dmFyIEQ9eCt0W2crMV07aC5mcm9tQXJyYXkobiwzKih4K3RbZ10pKTtrLmZyb21BcnJheShuLDMqRCk7RD1iLmRpc3RhbmNlU3FUb1NlZ21lbnQoaCxrLHAsbCk7RD5mfHwoRD1iLm9yaWdpbi5kaXN0YW5jZVRvKHApLEQ8ZC5uZWFyfHxEPmQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOkQscG9pbnQ6bC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpnLG9mZnNldEluZGV4OnMsZmFjZTpudWxsLGZhY2VJbmRleDpudWxsLFxub2JqZWN0OnRoaXN9KSl9fWVsc2UgZm9yKG49bi5wb3NpdGlvbi5hcnJheSxnPTA7ZzxuLmxlbmd0aC8zLTE7Zys9cSloLmZyb21BcnJheShuLDMqZyksay5mcm9tQXJyYXkobiwzKmcrMyksRD1iLmRpc3RhbmNlU3FUb1NlZ21lbnQoaCxrLHAsbCksRD5mfHwoRD1iLm9yaWdpbi5kaXN0YW5jZVRvKHApLEQ8ZC5uZWFyfHxEPmQuZmFyfHxlLnB1c2goe2Rpc3RhbmNlOkQscG9pbnQ6bC5jbG9uZSgpLmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKSxpbmRleDpnLGZhY2U6bnVsbCxmYWNlSW5kZXg6bnVsbCxvYmplY3Q6dGhpc30pKX1lbHNlIGlmKGcgaW5zdGFuY2VvZiBUSFJFRS5HZW9tZXRyeSlmb3IoaD1nLnZlcnRpY2VzLGs9aC5sZW5ndGgsZz0wO2c8ay0xO2crPXEpRD1iLmRpc3RhbmNlU3FUb1NlZ21lbnQoaFtnXSxoW2crMV0scCxsKSxEPmZ8fChEPWIub3JpZ2luLmRpc3RhbmNlVG8ocCksRDxkLm5lYXJ8fEQ+ZC5mYXJ8fGUucHVzaCh7ZGlzdGFuY2U6RCxwb2ludDpsLmNsb25lKCkuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpLFxuaW5kZXg6ZyxmYWNlOm51bGwsZmFjZUluZGV4Om51bGwsb2JqZWN0OnRoaXN9KSl9fX0oKTtUSFJFRS5MaW5lLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuTGluZSh0aGlzLmdlb21ldHJ5LHRoaXMubWF0ZXJpYWwsdGhpcy5tb2RlKSk7VEhSRUUuT2JqZWN0M0QucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTtyZXR1cm4gYX07VEhSRUUuTWVzaD1mdW5jdGlvbihhLGIpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPVwiTWVzaFwiO3RoaXMuZ2VvbWV0cnk9dm9pZCAwIT09YT9hOm5ldyBUSFJFRS5HZW9tZXRyeTt0aGlzLm1hdGVyaWFsPXZvaWQgMCE9PWI/YjpuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe2NvbG9yOjE2Nzc3MjE1Kk1hdGgucmFuZG9tKCl9KTt0aGlzLnVwZGF0ZU1vcnBoVGFyZ2V0cygpfTtUSFJFRS5NZXNoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7XG5USFJFRS5NZXNoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5NZXNoO1RIUkVFLk1lc2gucHJvdG90eXBlLnVwZGF0ZU1vcnBoVGFyZ2V0cz1mdW5jdGlvbigpe2lmKHZvaWQgMCE9PXRoaXMuZ2VvbWV0cnkubW9ycGhUYXJnZXRzJiYwPHRoaXMuZ2VvbWV0cnkubW9ycGhUYXJnZXRzLmxlbmd0aCl7dGhpcy5tb3JwaFRhcmdldEJhc2U9LTE7dGhpcy5tb3JwaFRhcmdldEZvcmNlZE9yZGVyPVtdO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzPVtdO3RoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5PXt9O2Zvcih2YXIgYT0wLGI9dGhpcy5nZW9tZXRyeS5tb3JwaFRhcmdldHMubGVuZ3RoO2E8YjthKyspdGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMucHVzaCgwKSx0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVt0aGlzLmdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1thXS5uYW1lXT1hfX07XG5USFJFRS5NZXNoLnByb3RvdHlwZS5nZXRNb3JwaFRhcmdldEluZGV4QnlOYW1lPWZ1bmN0aW9uKGEpe2lmKHZvaWQgMCE9PXRoaXMubW9ycGhUYXJnZXREaWN0aW9uYXJ5W2FdKXJldHVybiB0aGlzLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVthXTtUSFJFRS53YXJuKFwiVEhSRUUuTWVzaC5nZXRNb3JwaFRhcmdldEluZGV4QnlOYW1lOiBtb3JwaCB0YXJnZXQgXCIrYStcIiBkb2VzIG5vdCBleGlzdC4gUmV0dXJuaW5nIDAuXCIpO3JldHVybiAwfTtcblRIUkVFLk1lc2gucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuTWF0cml4NCxiPW5ldyBUSFJFRS5SYXksYz1uZXcgVEhSRUUuU3BoZXJlLGQ9bmV3IFRIUkVFLlZlY3RvcjMsZT1uZXcgVEhSRUUuVmVjdG9yMyxmPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihnLGgpe3ZhciBrPXRoaXMuZ2VvbWV0cnk7bnVsbD09PWsuYm91bmRpbmdTcGhlcmUmJmsuY29tcHV0ZUJvdW5kaW5nU3BoZXJlKCk7Yy5jb3B5KGsuYm91bmRpbmdTcGhlcmUpO2MuYXBwbHlNYXRyaXg0KHRoaXMubWF0cml4V29ybGQpO2lmKCExIT09Zy5yYXkuaXNJbnRlcnNlY3Rpb25TcGhlcmUoYykmJihhLmdldEludmVyc2UodGhpcy5tYXRyaXhXb3JsZCksYi5jb3B5KGcucmF5KS5hcHBseU1hdHJpeDQoYSksbnVsbD09PWsuYm91bmRpbmdCb3h8fCExIT09Yi5pc0ludGVyc2VjdGlvbkJveChrLmJvdW5kaW5nQm94KSkpaWYoayBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5KXt2YXIgbD1cbnRoaXMubWF0ZXJpYWw7aWYodm9pZCAwIT09bCl7dmFyIHA9ay5hdHRyaWJ1dGVzLHEsbix0PWcucHJlY2lzaW9uO2lmKHZvaWQgMCE9PXAuaW5kZXgpe3ZhciByPXAuaW5kZXguYXJyYXkscz1wLnBvc2l0aW9uLmFycmF5LHU9ay5vZmZzZXRzOzA9PT11Lmxlbmd0aCYmKHU9W3tzdGFydDowLGNvdW50OnIubGVuZ3RoLGluZGV4OjB9XSk7Zm9yKHZhciB2PTAseD11Lmxlbmd0aDt2PHg7Kyt2KWZvcih2YXIgcD11W3ZdLnN0YXJ0LEQ9dVt2XS5pbmRleCxrPXAsdz1wK3Vbdl0uY291bnQ7azx3O2srPTMpe3A9RCtyW2tdO3E9RCtyW2srMV07bj1EK3JbaysyXTtkLmZyb21BcnJheShzLDMqcCk7ZS5mcm9tQXJyYXkocywzKnEpO2YuZnJvbUFycmF5KHMsMypuKTt2YXIgeT1sLnNpZGU9PT1USFJFRS5CYWNrU2lkZT9iLmludGVyc2VjdFRyaWFuZ2xlKGYsZSxkLCEwKTpiLmludGVyc2VjdFRyaWFuZ2xlKGQsZSxmLGwuc2lkZSE9PVRIUkVFLkRvdWJsZVNpZGUpO2lmKG51bGwhPT15KXt5LmFwcGx5TWF0cml4NCh0aGlzLm1hdHJpeFdvcmxkKTtcbnZhciBBPWcucmF5Lm9yaWdpbi5kaXN0YW5jZVRvKHkpO0E8dHx8QTxnLm5lYXJ8fEE+Zy5mYXJ8fGgucHVzaCh7ZGlzdGFuY2U6QSxwb2ludDp5LGZhY2U6bmV3IFRIUkVFLkZhY2UzKHAscSxuLFRIUkVFLlRyaWFuZ2xlLm5vcm1hbChkLGUsZikpLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSl9fX1lbHNlIGZvcihzPXAucG9zaXRpb24uYXJyYXkscj1rPTAsdz1zLmxlbmd0aDtrPHc7ays9MyxyKz05KXA9ayxxPWsrMSxuPWsrMixkLmZyb21BcnJheShzLHIpLGUuZnJvbUFycmF5KHMsciszKSxmLmZyb21BcnJheShzLHIrNikseT1sLnNpZGU9PT1USFJFRS5CYWNrU2lkZT9iLmludGVyc2VjdFRyaWFuZ2xlKGYsZSxkLCEwKTpiLmludGVyc2VjdFRyaWFuZ2xlKGQsZSxmLGwuc2lkZSE9PVRIUkVFLkRvdWJsZVNpZGUpLG51bGwhPT15JiYoeS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksQT1nLnJheS5vcmlnaW4uZGlzdGFuY2VUbyh5KSxBPHR8fEE8Zy5uZWFyfHxBPlxuZy5mYXJ8fGgucHVzaCh7ZGlzdGFuY2U6QSxwb2ludDp5LGZhY2U6bmV3IFRIUkVFLkZhY2UzKHAscSxuLFRIUkVFLlRyaWFuZ2xlLm5vcm1hbChkLGUsZikpLGZhY2VJbmRleDpudWxsLG9iamVjdDp0aGlzfSkpfX1lbHNlIGlmKGsgaW5zdGFuY2VvZiBUSFJFRS5HZW9tZXRyeSlmb3Iocj10aGlzLm1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbCxzPSEwPT09cj90aGlzLm1hdGVyaWFsLm1hdGVyaWFsczpudWxsLHQ9Zy5wcmVjaXNpb24sdT1rLnZlcnRpY2VzLHY9MCx4PWsuZmFjZXMubGVuZ3RoO3Y8eDt2KyspaWYoRD1rLmZhY2VzW3ZdLGw9ITA9PT1yP3NbRC5tYXRlcmlhbEluZGV4XTp0aGlzLm1hdGVyaWFsLHZvaWQgMCE9PWwpe3A9dVtELmFdO3E9dVtELmJdO249dVtELmNdO2lmKCEwPT09bC5tb3JwaFRhcmdldHMpe3k9ay5tb3JwaFRhcmdldHM7QT10aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztkLnNldCgwLDAsMCk7ZS5zZXQoMCwwLDApO2Yuc2V0KDAsXG4wLDApO2Zvcih2YXIgdz0wLEU9eS5sZW5ndGg7dzxFO3crKyl7dmFyIEc9QVt3XTtpZigwIT09Ryl7dmFyIEY9eVt3XS52ZXJ0aWNlcztkLngrPShGW0QuYV0ueC1wLngpKkc7ZC55Kz0oRltELmFdLnktcC55KSpHO2Queis9KEZbRC5hXS56LXAueikqRztlLngrPShGW0QuYl0ueC1xLngpKkc7ZS55Kz0oRltELmJdLnktcS55KSpHO2Uueis9KEZbRC5iXS56LXEueikqRztmLngrPShGW0QuY10ueC1uLngpKkc7Zi55Kz0oRltELmNdLnktbi55KSpHO2Yueis9KEZbRC5jXS56LW4ueikqR319ZC5hZGQocCk7ZS5hZGQocSk7Zi5hZGQobik7cD1kO3E9ZTtuPWZ9eT1sLnNpZGU9PT1USFJFRS5CYWNrU2lkZT9iLmludGVyc2VjdFRyaWFuZ2xlKG4scSxwLCEwKTpiLmludGVyc2VjdFRyaWFuZ2xlKHAscSxuLGwuc2lkZSE9PVRIUkVFLkRvdWJsZVNpZGUpO251bGwhPT15JiYoeS5hcHBseU1hdHJpeDQodGhpcy5tYXRyaXhXb3JsZCksQT1nLnJheS5vcmlnaW4uZGlzdGFuY2VUbyh5KSxBPHR8fFxuQTxnLm5lYXJ8fEE+Zy5mYXJ8fGgucHVzaCh7ZGlzdGFuY2U6QSxwb2ludDp5LGZhY2U6RCxmYWNlSW5kZXg6dixvYmplY3Q6dGhpc30pKX19fSgpO1RIUkVFLk1lc2gucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YSYmKGE9bmV3IFRIUkVFLk1lc2godGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsKSk7VEhSRUUuT2JqZWN0M0QucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhLGIpO3JldHVybiBhfTtUSFJFRS5Cb25lPWZ1bmN0aW9uKGEpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPVwiQm9uZVwiO3RoaXMuc2tpbj1hfTtUSFJFRS5Cb25lLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuQm9uZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQm9uZTtcblRIUkVFLlNrZWxldG9uPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnVzZVZlcnRleFRleHR1cmU9dm9pZCAwIT09Yz9jOiEwO3RoaXMuaWRlbnRpdHlNYXRyaXg9bmV3IFRIUkVFLk1hdHJpeDQ7YT1hfHxbXTt0aGlzLmJvbmVzPWEuc2xpY2UoMCk7dGhpcy51c2VWZXJ0ZXhUZXh0dXJlPyh0aGlzLmJvbmVUZXh0dXJlSGVpZ2h0PXRoaXMuYm9uZVRleHR1cmVXaWR0aD1hPTI1Njx0aGlzLmJvbmVzLmxlbmd0aD82NDo2NDx0aGlzLmJvbmVzLmxlbmd0aD8zMjoxNjx0aGlzLmJvbmVzLmxlbmd0aD8xNjo4LHRoaXMuYm9uZU1hdHJpY2VzPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5ib25lVGV4dHVyZVdpZHRoKnRoaXMuYm9uZVRleHR1cmVIZWlnaHQqNCksdGhpcy5ib25lVGV4dHVyZT1uZXcgVEhSRUUuRGF0YVRleHR1cmUodGhpcy5ib25lTWF0cmljZXMsdGhpcy5ib25lVGV4dHVyZVdpZHRoLHRoaXMuYm9uZVRleHR1cmVIZWlnaHQsVEhSRUUuUkdCQUZvcm1hdCxUSFJFRS5GbG9hdFR5cGUpLFxudGhpcy5ib25lVGV4dHVyZS5taW5GaWx0ZXI9VEhSRUUuTmVhcmVzdEZpbHRlcix0aGlzLmJvbmVUZXh0dXJlLm1hZ0ZpbHRlcj1USFJFRS5OZWFyZXN0RmlsdGVyLHRoaXMuYm9uZVRleHR1cmUuZ2VuZXJhdGVNaXBtYXBzPSExLHRoaXMuYm9uZVRleHR1cmUuZmxpcFk9ITEpOnRoaXMuYm9uZU1hdHJpY2VzPW5ldyBGbG9hdDMyQXJyYXkoMTYqdGhpcy5ib25lcy5sZW5ndGgpO2lmKHZvaWQgMD09PWIpdGhpcy5jYWxjdWxhdGVJbnZlcnNlcygpO2Vsc2UgaWYodGhpcy5ib25lcy5sZW5ndGg9PT1iLmxlbmd0aCl0aGlzLmJvbmVJbnZlcnNlcz1iLnNsaWNlKDApO2Vsc2UgZm9yKFRIUkVFLndhcm4oXCJUSFJFRS5Ta2VsZXRvbiBib25JbnZlcnNlcyBpcyB0aGUgd3JvbmcgbGVuZ3RoLlwiKSx0aGlzLmJvbmVJbnZlcnNlcz1bXSxiPTAsYT10aGlzLmJvbmVzLmxlbmd0aDtiPGE7YisrKXRoaXMuYm9uZUludmVyc2VzLnB1c2gobmV3IFRIUkVFLk1hdHJpeDQpfTtcblRIUkVFLlNrZWxldG9uLnByb3RvdHlwZS5jYWxjdWxhdGVJbnZlcnNlcz1mdW5jdGlvbigpe3RoaXMuYm9uZUludmVyc2VzPVtdO2Zvcih2YXIgYT0wLGI9dGhpcy5ib25lcy5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9bmV3IFRIUkVFLk1hdHJpeDQ7dGhpcy5ib25lc1thXSYmYy5nZXRJbnZlcnNlKHRoaXMuYm9uZXNbYV0ubWF0cml4V29ybGQpO3RoaXMuYm9uZUludmVyc2VzLnB1c2goYyl9fTtcblRIUkVFLlNrZWxldG9uLnByb3RvdHlwZS5wb3NlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MCxjPXRoaXMuYm9uZXMubGVuZ3RoO2I8YztiKyspKGE9dGhpcy5ib25lc1tiXSkmJmEubWF0cml4V29ybGQuZ2V0SW52ZXJzZSh0aGlzLmJvbmVJbnZlcnNlc1tiXSk7Yj0wO2ZvcihjPXRoaXMuYm9uZXMubGVuZ3RoO2I8YztiKyspaWYoYT10aGlzLmJvbmVzW2JdKWEucGFyZW50PyhhLm1hdHJpeC5nZXRJbnZlcnNlKGEucGFyZW50Lm1hdHJpeFdvcmxkKSxhLm1hdHJpeC5tdWx0aXBseShhLm1hdHJpeFdvcmxkKSk6YS5tYXRyaXguY29weShhLm1hdHJpeFdvcmxkKSxhLm1hdHJpeC5kZWNvbXBvc2UoYS5wb3NpdGlvbixhLnF1YXRlcm5pb24sYS5zY2FsZSl9O1xuVEhSRUUuU2tlbGV0b24ucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5NYXRyaXg0O3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgYj0wLGM9dGhpcy5ib25lcy5sZW5ndGg7YjxjO2IrKylhLm11bHRpcGx5TWF0cmljZXModGhpcy5ib25lc1tiXT90aGlzLmJvbmVzW2JdLm1hdHJpeFdvcmxkOnRoaXMuaWRlbnRpdHlNYXRyaXgsdGhpcy5ib25lSW52ZXJzZXNbYl0pLGEuZmxhdHRlblRvQXJyYXlPZmZzZXQodGhpcy5ib25lTWF0cmljZXMsMTYqYik7dGhpcy51c2VWZXJ0ZXhUZXh0dXJlJiYodGhpcy5ib25lVGV4dHVyZS5uZWVkc1VwZGF0ZT0hMCl9fSgpO1xuVEhSRUUuU2tpbm5lZE1lc2g9ZnVuY3Rpb24oYSxiLGMpe1RIUkVFLk1lc2guY2FsbCh0aGlzLGEsYik7dGhpcy50eXBlPVwiU2tpbm5lZE1lc2hcIjt0aGlzLmJpbmRNb2RlPVwiYXR0YWNoZWRcIjt0aGlzLmJpbmRNYXRyaXg9bmV3IFRIUkVFLk1hdHJpeDQ7dGhpcy5iaW5kTWF0cml4SW52ZXJzZT1uZXcgVEhSRUUuTWF0cml4NDthPVtdO2lmKHRoaXMuZ2VvbWV0cnkmJnZvaWQgMCE9PXRoaXMuZ2VvbWV0cnkuYm9uZXMpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaz10aGlzLmdlb21ldHJ5LmJvbmVzLmxlbmd0aDtoPGs7KytoKWQ9dGhpcy5nZW9tZXRyeS5ib25lc1toXSxlPWQucG9zLGY9ZC5yb3RxLGc9ZC5zY2wsYj1uZXcgVEhSRUUuQm9uZSh0aGlzKSxhLnB1c2goYiksYi5uYW1lPWQubmFtZSxiLnBvc2l0aW9uLnNldChlWzBdLGVbMV0sZVsyXSksYi5xdWF0ZXJuaW9uLnNldChmWzBdLGZbMV0sZlsyXSxmWzNdKSx2b2lkIDAhPT1nP2Iuc2NhbGUuc2V0KGdbMF0sZ1sxXSxnWzJdKTpiLnNjYWxlLnNldCgxLFxuMSwxKTtoPTA7Zm9yKGs9dGhpcy5nZW9tZXRyeS5ib25lcy5sZW5ndGg7aDxrOysraClkPXRoaXMuZ2VvbWV0cnkuYm9uZXNbaF0sLTEhPT1kLnBhcmVudD9hW2QucGFyZW50XS5hZGQoYVtoXSk6dGhpcy5hZGQoYVtoXSl9dGhpcy5ub3JtYWxpemVTa2luV2VpZ2h0cygpO3RoaXMudXBkYXRlTWF0cml4V29ybGQoITApO3RoaXMuYmluZChuZXcgVEhSRUUuU2tlbGV0b24oYSx2b2lkIDAsYykpfTtUSFJFRS5Ta2lubmVkTWVzaC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5NZXNoLnByb3RvdHlwZSk7VEhSRUUuU2tpbm5lZE1lc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlNraW5uZWRNZXNoO1RIUkVFLlNraW5uZWRNZXNoLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5za2VsZXRvbj1hO3ZvaWQgMD09PWImJih0aGlzLnVwZGF0ZU1hdHJpeFdvcmxkKCEwKSxiPXRoaXMubWF0cml4V29ybGQpO3RoaXMuYmluZE1hdHJpeC5jb3B5KGIpO3RoaXMuYmluZE1hdHJpeEludmVyc2UuZ2V0SW52ZXJzZShiKX07XG5USFJFRS5Ta2lubmVkTWVzaC5wcm90b3R5cGUucG9zZT1mdW5jdGlvbigpe3RoaXMuc2tlbGV0b24ucG9zZSgpfTtUSFJFRS5Ta2lubmVkTWVzaC5wcm90b3R5cGUubm9ybWFsaXplU2tpbldlaWdodHM9ZnVuY3Rpb24oKXtpZih0aGlzLmdlb21ldHJ5IGluc3RhbmNlb2YgVEhSRUUuR2VvbWV0cnkpZm9yKHZhciBhPTA7YTx0aGlzLmdlb21ldHJ5LnNraW5JbmRpY2VzLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuZ2VvbWV0cnkuc2tpbldlaWdodHNbYV0sYz0xL2IubGVuZ3RoTWFuaGF0dGFuKCk7SW5maW5pdHkhPT1jP2IubXVsdGlwbHlTY2FsYXIoYyk6Yi5zZXQoMSl9fTtcblRIUkVFLlNraW5uZWRNZXNoLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbihhKXtUSFJFRS5NZXNoLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZC5jYWxsKHRoaXMsITApO1wiYXR0YWNoZWRcIj09PXRoaXMuYmluZE1vZGU/dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5nZXRJbnZlcnNlKHRoaXMubWF0cml4V29ybGQpOlwiZGV0YWNoZWRcIj09PXRoaXMuYmluZE1vZGU/dGhpcy5iaW5kTWF0cml4SW52ZXJzZS5nZXRJbnZlcnNlKHRoaXMuYmluZE1hdHJpeCk6VEhSRUUud2FybihcIlRIUkVFLlNraW5uZWRNZXNoIHVucmVja29nbml6ZWQgYmluZE1vZGU6IFwiK3RoaXMuYmluZE1vZGUpfTtcblRIUkVFLlNraW5uZWRNZXNoLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuU2tpbm5lZE1lc2godGhpcy5nZW9tZXRyeSx0aGlzLm1hdGVyaWFsLHRoaXMudXNlVmVydGV4VGV4dHVyZSkpO1RIUkVFLk1lc2gucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTtyZXR1cm4gYX07VEhSRUUuTW9ycGhBbmltTWVzaD1mdW5jdGlvbihhLGIpe1RIUkVFLk1lc2guY2FsbCh0aGlzLGEsYik7dGhpcy50eXBlPVwiTW9ycGhBbmltTWVzaFwiO3RoaXMuZHVyYXRpb249MUUzO3RoaXMubWlycm9yZWRMb29wPSExO3RoaXMuY3VycmVudEtleWZyYW1lPXRoaXMubGFzdEtleWZyYW1lPXRoaXMudGltZT0wO3RoaXMuZGlyZWN0aW9uPTE7dGhpcy5kaXJlY3Rpb25CYWNrd2FyZHM9ITE7dGhpcy5zZXRGcmFtZVJhbmdlKDAsdGhpcy5nZW9tZXRyeS5tb3JwaFRhcmdldHMubGVuZ3RoLTEpfTtUSFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1lc2gucHJvdG90eXBlKTtcblRIUkVFLk1vcnBoQW5pbU1lc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLk1vcnBoQW5pbU1lc2g7VEhSRUUuTW9ycGhBbmltTWVzaC5wcm90b3R5cGUuc2V0RnJhbWVSYW5nZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRLZXlmcmFtZT1hO3RoaXMuZW5kS2V5ZnJhbWU9Yjt0aGlzLmxlbmd0aD10aGlzLmVuZEtleWZyYW1lLXRoaXMuc3RhcnRLZXlmcmFtZSsxfTtUSFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS5zZXREaXJlY3Rpb25Gb3J3YXJkPWZ1bmN0aW9uKCl7dGhpcy5kaXJlY3Rpb249MTt0aGlzLmRpcmVjdGlvbkJhY2t3YXJkcz0hMX07VEhSRUUuTW9ycGhBbmltTWVzaC5wcm90b3R5cGUuc2V0RGlyZWN0aW9uQmFja3dhcmQ9ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbj0tMTt0aGlzLmRpcmVjdGlvbkJhY2t3YXJkcz0hMH07XG5USFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS5wYXJzZUFuaW1hdGlvbnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdlb21ldHJ5O2EuYW5pbWF0aW9uc3x8KGEuYW5pbWF0aW9ucz17fSk7Zm9yKHZhciBiLGM9YS5hbmltYXRpb25zLGQ9LyhbYS16XSspXz8oXFxkKykvLGU9MCxmPWEubW9ycGhUYXJnZXRzLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZz1hLm1vcnBoVGFyZ2V0c1tlXS5uYW1lLm1hdGNoKGQpO2lmKGcmJjE8Zy5sZW5ndGgpe2c9Z1sxXTtjW2ddfHwoY1tnXT17c3RhcnQ6SW5maW5pdHksZW5kOi1JbmZpbml0eX0pO3ZhciBoPWNbZ107ZTxoLnN0YXJ0JiYoaC5zdGFydD1lKTtlPmguZW5kJiYoaC5lbmQ9ZSk7Ynx8KGI9Zyl9fWEuZmlyc3RBbmltYXRpb249Yn07XG5USFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS5zZXRBbmltYXRpb25MYWJlbD1mdW5jdGlvbihhLGIsYyl7dGhpcy5nZW9tZXRyeS5hbmltYXRpb25zfHwodGhpcy5nZW9tZXRyeS5hbmltYXRpb25zPXt9KTt0aGlzLmdlb21ldHJ5LmFuaW1hdGlvbnNbYV09e3N0YXJ0OmIsZW5kOmN9fTtUSFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS5wbGF5QW5pbWF0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZW9tZXRyeS5hbmltYXRpb25zW2FdO2M/KHRoaXMuc2V0RnJhbWVSYW5nZShjLnN0YXJ0LGMuZW5kKSx0aGlzLmR1cmF0aW9uPShjLmVuZC1jLnN0YXJ0KS9iKjFFMyx0aGlzLnRpbWU9MCk6VEhSRUUud2FybihcIlRIUkVFLk1vcnBoQW5pbU1lc2g6IGFuaW1hdGlvbltcIithK1wiXSB1bmRlZmluZWQgaW4gLnBsYXlBbmltYXRpb24oKVwiKX07XG5USFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5kdXJhdGlvbi90aGlzLmxlbmd0aDt0aGlzLnRpbWUrPXRoaXMuZGlyZWN0aW9uKmE7aWYodGhpcy5taXJyb3JlZExvb3Ape2lmKHRoaXMudGltZT50aGlzLmR1cmF0aW9ufHwwPnRoaXMudGltZSl0aGlzLmRpcmVjdGlvbio9LTEsdGhpcy50aW1lPnRoaXMuZHVyYXRpb24mJih0aGlzLnRpbWU9dGhpcy5kdXJhdGlvbix0aGlzLmRpcmVjdGlvbkJhY2t3YXJkcz0hMCksMD50aGlzLnRpbWUmJih0aGlzLnRpbWU9MCx0aGlzLmRpcmVjdGlvbkJhY2t3YXJkcz0hMSl9ZWxzZSB0aGlzLnRpbWUlPXRoaXMuZHVyYXRpb24sMD50aGlzLnRpbWUmJih0aGlzLnRpbWUrPXRoaXMuZHVyYXRpb24pO2E9dGhpcy5zdGFydEtleWZyYW1lK1RIUkVFLk1hdGguY2xhbXAoTWF0aC5mbG9vcih0aGlzLnRpbWUvYiksMCx0aGlzLmxlbmd0aC0xKTthIT09dGhpcy5jdXJyZW50S2V5ZnJhbWUmJlxuKHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW3RoaXMubGFzdEtleWZyYW1lXT0wLHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW3RoaXMuY3VycmVudEtleWZyYW1lXT0xLHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2FdPTAsdGhpcy5sYXN0S2V5ZnJhbWU9dGhpcy5jdXJyZW50S2V5ZnJhbWUsdGhpcy5jdXJyZW50S2V5ZnJhbWU9YSk7Yj10aGlzLnRpbWUlYi9iO3RoaXMuZGlyZWN0aW9uQmFja3dhcmRzJiYoYj0xLWIpO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW3RoaXMuY3VycmVudEtleWZyYW1lXT1iO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW3RoaXMubGFzdEtleWZyYW1lXT0xLWJ9O1xuVEhSRUUuTW9ycGhBbmltTWVzaC5wcm90b3R5cGUuaW50ZXJwb2xhdGVUYXJnZXRzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMsZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKylkW2VdPTA7LTE8YSYmKGRbYV09MS1jKTstMTxiJiYoZFtiXT1jKX07XG5USFJFRS5Nb3JwaEFuaW1NZXNoLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuTW9ycGhBbmltTWVzaCh0aGlzLmdlb21ldHJ5LHRoaXMubWF0ZXJpYWwpKTthLmR1cmF0aW9uPXRoaXMuZHVyYXRpb247YS5taXJyb3JlZExvb3A9dGhpcy5taXJyb3JlZExvb3A7YS50aW1lPXRoaXMudGltZTthLmxhc3RLZXlmcmFtZT10aGlzLmxhc3RLZXlmcmFtZTthLmN1cnJlbnRLZXlmcmFtZT10aGlzLmN1cnJlbnRLZXlmcmFtZTthLmRpcmVjdGlvbj10aGlzLmRpcmVjdGlvbjthLmRpcmVjdGlvbkJhY2t3YXJkcz10aGlzLmRpcmVjdGlvbkJhY2t3YXJkcztUSFJFRS5NZXNoLnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7cmV0dXJuIGF9O1RIUkVFLkxPRD1mdW5jdGlvbigpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy5vYmplY3RzPVtdfTtUSFJFRS5MT0QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtcblRIUkVFLkxPRC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuTE9EO1RIUkVFLkxPRC5wcm90b3R5cGUuYWRkTGV2ZWw9ZnVuY3Rpb24oYSxiKXt2b2lkIDA9PT1iJiYoYj0wKTtiPU1hdGguYWJzKGIpO2Zvcih2YXIgYz0wO2M8dGhpcy5vYmplY3RzLmxlbmd0aCYmIShiPHRoaXMub2JqZWN0c1tjXS5kaXN0YW5jZSk7YysrKTt0aGlzLm9iamVjdHMuc3BsaWNlKGMsMCx7ZGlzdGFuY2U6YixvYmplY3Q6YX0pO3RoaXMuYWRkKGEpfTtUSFJFRS5MT0QucHJvdG90eXBlLmdldE9iamVjdEZvckRpc3RhbmNlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0xLGM9dGhpcy5vYmplY3RzLmxlbmd0aDtiPGMmJiEoYTx0aGlzLm9iamVjdHNbYl0uZGlzdGFuY2UpO2IrKyk7cmV0dXJuIHRoaXMub2JqZWN0c1tiLTFdLm9iamVjdH07XG5USFJFRS5MT0QucHJvdG90eXBlLnJheWNhc3Q9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYixjKXthLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLm1hdHJpeFdvcmxkKTt2YXIgZD1iLnJheS5vcmlnaW4uZGlzdGFuY2VUbyhhKTt0aGlzLmdldE9iamVjdEZvckRpc3RhbmNlKGQpLnJheWNhc3QoYixjKX19KCk7XG5USFJFRS5MT0QucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDE8dGhpcy5vYmplY3RzLmxlbmd0aCl7YS5zZXRGcm9tTWF0cml4UG9zaXRpb24oYy5tYXRyaXhXb3JsZCk7Yi5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7Yz1hLmRpc3RhbmNlVG8oYik7dGhpcy5vYmplY3RzWzBdLm9iamVjdC52aXNpYmxlPSEwO2Zvcih2YXIgZD0xLGU9dGhpcy5vYmplY3RzLmxlbmd0aDtkPGU7ZCsrKWlmKGM+PXRoaXMub2JqZWN0c1tkXS5kaXN0YW5jZSl0aGlzLm9iamVjdHNbZC0xXS5vYmplY3QudmlzaWJsZT0hMSx0aGlzLm9iamVjdHNbZF0ub2JqZWN0LnZpc2libGU9ITA7ZWxzZSBicmVhaztmb3IoO2Q8ZTtkKyspdGhpcy5vYmplY3RzW2RdLm9iamVjdC52aXNpYmxlPSExfX19KCk7XG5USFJFRS5MT0QucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5MT0QpO1RIUkVFLk9iamVjdDNELnByb3RvdHlwZS5jbG9uZS5jYWxsKHRoaXMsYSk7Zm9yKHZhciBiPTAsYz10aGlzLm9iamVjdHMubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMub2JqZWN0c1tiXS5vYmplY3QuY2xvbmUoKTtkLnZpc2libGU9MD09PWI7YS5hZGRMZXZlbChkLHRoaXMub2JqZWN0c1tiXS5kaXN0YW5jZSl9cmV0dXJuIGF9O1xuVEhSRUUuU3ByaXRlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFVpbnQxNkFycmF5KFswLDEsMiwwLDIsM10pLGI9bmV3IEZsb2F0MzJBcnJheShbLS41LC0uNSwwLC41LC0uNSwwLC41LC41LDAsLS41LC41LDBdKSxjPW5ldyBGbG9hdDMyQXJyYXkoWzAsMCwxLDAsMSwxLDAsMV0pLGQ9bmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5O2QuYWRkQXR0cmlidXRlKFwiaW5kZXhcIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGEsMSkpO2QuYWRkQXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGIsMykpO2QuYWRkQXR0cmlidXRlKFwidXZcIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGMsMikpO3JldHVybiBmdW5jdGlvbihhKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIlNwcml0ZVwiO3RoaXMuZ2VvbWV0cnk9ZDt0aGlzLm1hdGVyaWFsPXZvaWQgMCE9PWE/YTpuZXcgVEhSRUUuU3ByaXRlTWF0ZXJpYWx9fSgpO1xuVEhSRUUuU3ByaXRlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5TcHJpdGU7VEhSRUUuU3ByaXRlLnByb3RvdHlwZS5yYXljYXN0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjM7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7YS5zZXRGcm9tTWF0cml4UG9zaXRpb24odGhpcy5tYXRyaXhXb3JsZCk7dmFyIGQ9Yi5yYXkuZGlzdGFuY2VUb1BvaW50KGEpO2Q+dGhpcy5zY2FsZS54fHxjLnB1c2goe2Rpc3RhbmNlOmQscG9pbnQ6dGhpcy5wb3NpdGlvbixmYWNlOm51bGwsb2JqZWN0OnRoaXN9KX19KCk7VEhSRUUuU3ByaXRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihhKXt2b2lkIDA9PT1hJiYoYT1uZXcgVEhSRUUuU3ByaXRlKHRoaXMubWF0ZXJpYWwpKTtUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUuY2xvbmUuY2FsbCh0aGlzLGEpO3JldHVybiBhfTtcblRIUkVFLlBhcnRpY2xlPVRIUkVFLlNwcml0ZTtUSFJFRS5MZW5zRmxhcmU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMubGVuc0ZsYXJlcz1bXTt0aGlzLnBvc2l0aW9uU2NyZWVuPW5ldyBUSFJFRS5WZWN0b3IzO3RoaXMuY3VzdG9tVXBkYXRlQ2FsbGJhY2s9dm9pZCAwO3ZvaWQgMCE9PWEmJnRoaXMuYWRkKGEsYixjLGQsZSl9O1RIUkVFLkxlbnNGbGFyZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUpO1RIUkVFLkxlbnNGbGFyZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuTGVuc0ZsYXJlO1xuVEhSRUUuTGVuc0ZsYXJlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZvaWQgMD09PWImJihiPS0xKTt2b2lkIDA9PT1jJiYoYz0wKTt2b2lkIDA9PT1mJiYoZj0xKTt2b2lkIDA9PT1lJiYoZT1uZXcgVEhSRUUuQ29sb3IoMTY3NzcyMTUpKTt2b2lkIDA9PT1kJiYoZD1USFJFRS5Ob3JtYWxCbGVuZGluZyk7Yz1NYXRoLm1pbihjLE1hdGgubWF4KDAsYykpO3RoaXMubGVuc0ZsYXJlcy5wdXNoKHt0ZXh0dXJlOmEsc2l6ZTpiLGRpc3RhbmNlOmMseDowLHk6MCx6OjAsc2NhbGU6MSxyb3RhdGlvbjoxLG9wYWNpdHk6Zixjb2xvcjplLGJsZW5kaW5nOmR9KX07XG5USFJFRS5MZW5zRmxhcmUucHJvdG90eXBlLnVwZGF0ZUxlbnNGbGFyZXM9ZnVuY3Rpb24oKXt2YXIgYSxiPXRoaXMubGVuc0ZsYXJlcy5sZW5ndGgsYyxkPTIqLXRoaXMucG9zaXRpb25TY3JlZW4ueCxlPTIqLXRoaXMucG9zaXRpb25TY3JlZW4ueTtmb3IoYT0wO2E8YjthKyspYz10aGlzLmxlbnNGbGFyZXNbYV0sYy54PXRoaXMucG9zaXRpb25TY3JlZW4ueCtkKmMuZGlzdGFuY2UsYy55PXRoaXMucG9zaXRpb25TY3JlZW4ueStlKmMuZGlzdGFuY2UsYy53YW50ZWRSb3RhdGlvbj1jLngqTWF0aC5QSSouMjUsYy5yb3RhdGlvbis9LjI1KihjLndhbnRlZFJvdGF0aW9uLWMucm90YXRpb24pfTtUSFJFRS5TY2VuZT1mdW5jdGlvbigpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPVwiU2NlbmVcIjt0aGlzLm92ZXJyaWRlTWF0ZXJpYWw9dGhpcy5mb2c9bnVsbDt0aGlzLmF1dG9VcGRhdGU9ITB9O1RIUkVFLlNjZW5lLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7XG5USFJFRS5TY2VuZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuU2NlbmU7VEhSRUUuU2NlbmUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEmJihhPW5ldyBUSFJFRS5TY2VuZSk7VEhSRUUuT2JqZWN0M0QucHJvdG90eXBlLmNsb25lLmNhbGwodGhpcyxhKTtudWxsIT09dGhpcy5mb2cmJihhLmZvZz10aGlzLmZvZy5jbG9uZSgpKTtudWxsIT09dGhpcy5vdmVycmlkZU1hdGVyaWFsJiYoYS5vdmVycmlkZU1hdGVyaWFsPXRoaXMub3ZlcnJpZGVNYXRlcmlhbC5jbG9uZSgpKTthLmF1dG9VcGRhdGU9dGhpcy5hdXRvVXBkYXRlO2EubWF0cml4QXV0b1VwZGF0ZT10aGlzLm1hdHJpeEF1dG9VcGRhdGU7cmV0dXJuIGF9O1RIUkVFLkZvZz1mdW5jdGlvbihhLGIsYyl7dGhpcy5uYW1lPVwiXCI7dGhpcy5jb2xvcj1uZXcgVEhSRUUuQ29sb3IoYSk7dGhpcy5uZWFyPXZvaWQgMCE9PWI/YjoxO3RoaXMuZmFyPXZvaWQgMCE9PWM/YzoxRTN9O1xuVEhSRUUuRm9nLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVEhSRUUuRm9nKHRoaXMuY29sb3IuZ2V0SGV4KCksdGhpcy5uZWFyLHRoaXMuZmFyKX07VEhSRUUuRm9nRXhwMj1mdW5jdGlvbihhLGIpe3RoaXMubmFtZT1cIlwiO3RoaXMuY29sb3I9bmV3IFRIUkVFLkNvbG9yKGEpO3RoaXMuZGVuc2l0eT12b2lkIDAhPT1iP2I6Mi41RS00fTtUSFJFRS5Gb2dFeHAyLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgVEhSRUUuRm9nRXhwMih0aGlzLmNvbG9yLmdldEhleCgpLHRoaXMuZGVuc2l0eSl9O1RIUkVFLlNoYWRlckNodW5rPXt9O1RIUkVFLlNoYWRlckNodW5rLmNvbW1vbj1cIiNkZWZpbmUgUEkgMy4xNDE1OVxcbiNkZWZpbmUgUEkyIDYuMjgzMThcXG4jZGVmaW5lIFJFQ0lQUk9DQUxfUEkyIDAuMTU5MTU0OTRcXG4jZGVmaW5lIExPRzIgMS40NDI2OTVcXG4jZGVmaW5lIEVQU0lMT04gMWUtNlxcblxcbmZsb2F0IHNxdWFyZSggaW4gZmxvYXQgYSApIHsgcmV0dXJuIGEqYTsgfVxcbnZlYzIgIHNxdWFyZSggaW4gdmVjMiBhICkgIHsgcmV0dXJuIHZlYzIoIGEueCphLngsIGEueSphLnkgKTsgfVxcbnZlYzMgIHNxdWFyZSggaW4gdmVjMyBhICkgIHsgcmV0dXJuIHZlYzMoIGEueCphLngsIGEueSphLnksIGEueiphLnogKTsgfVxcbnZlYzQgIHNxdWFyZSggaW4gdmVjNCBhICkgIHsgcmV0dXJuIHZlYzQoIGEueCphLngsIGEueSphLnksIGEueiphLnosIGEudyphLncgKTsgfVxcbmZsb2F0IHNhdHVyYXRlKCBpbiBmbG9hdCBhICkgeyByZXR1cm4gY2xhbXAoIGEsIDAuMCwgMS4wICk7IH1cXG52ZWMyICBzYXR1cmF0ZSggaW4gdmVjMiBhICkgIHsgcmV0dXJuIGNsYW1wKCBhLCAwLjAsIDEuMCApOyB9XFxudmVjMyAgc2F0dXJhdGUoIGluIHZlYzMgYSApICB7IHJldHVybiBjbGFtcCggYSwgMC4wLCAxLjAgKTsgfVxcbnZlYzQgIHNhdHVyYXRlKCBpbiB2ZWM0IGEgKSAgeyByZXR1cm4gY2xhbXAoIGEsIDAuMCwgMS4wICk7IH1cXG5mbG9hdCBhdmVyYWdlKCBpbiBmbG9hdCBhICkgeyByZXR1cm4gYTsgfVxcbmZsb2F0IGF2ZXJhZ2UoIGluIHZlYzIgYSApICB7IHJldHVybiAoIGEueCArIGEueSkgKiAwLjU7IH1cXG5mbG9hdCBhdmVyYWdlKCBpbiB2ZWMzIGEgKSAgeyByZXR1cm4gKCBhLnggKyBhLnkgKyBhLnopIC8gMy4wOyB9XFxuZmxvYXQgYXZlcmFnZSggaW4gdmVjNCBhICkgIHsgcmV0dXJuICggYS54ICsgYS55ICsgYS56ICsgYS53KSAqIDAuMjU7IH1cXG5mbG9hdCB3aGl0ZUNvbXBsaW1lbnQoIGluIGZsb2F0IGEgKSB7IHJldHVybiBzYXR1cmF0ZSggMS4wIC0gYSApOyB9XFxudmVjMiAgd2hpdGVDb21wbGltZW50KCBpbiB2ZWMyIGEgKSAgeyByZXR1cm4gc2F0dXJhdGUoIHZlYzIoMS4wKSAtIGEgKTsgfVxcbnZlYzMgIHdoaXRlQ29tcGxpbWVudCggaW4gdmVjMyBhICkgIHsgcmV0dXJuIHNhdHVyYXRlKCB2ZWMzKDEuMCkgLSBhICk7IH1cXG52ZWM0ICB3aGl0ZUNvbXBsaW1lbnQoIGluIHZlYzQgYSApICB7IHJldHVybiBzYXR1cmF0ZSggdmVjNCgxLjApIC0gYSApOyB9XFxudmVjMyB0cmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgbm9ybWFsLCBpbiBtYXQ0IG1hdHJpeCApIHtcXG5cXHRyZXR1cm4gbm9ybWFsaXplKCAoIG1hdHJpeCAqIHZlYzQoIG5vcm1hbCwgMC4wICkgKS54eXogKTtcXG59XFxuLy8gaHR0cDovL2VuLndpa2lib29rcy5vcmcvd2lraS9HTFNMX1Byb2dyYW1taW5nL0FwcGx5aW5nX01hdHJpeF9UcmFuc2Zvcm1hdGlvbnNcXG52ZWMzIGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIGluIHZlYzMgbm9ybWFsLCBpbiBtYXQ0IG1hdHJpeCApIHtcXG5cXHRyZXR1cm4gbm9ybWFsaXplKCAoIHZlYzQoIG5vcm1hbCwgMC4wICkgKiBtYXRyaXggKS54eXogKTtcXG59XFxudmVjMyBwcm9qZWN0T25QbGFuZShpbiB2ZWMzIHBvaW50LCBpbiB2ZWMzIHBvaW50T25QbGFuZSwgaW4gdmVjMyBwbGFuZU5vcm1hbCkge1xcblxcdGZsb2F0IGRpc3RhbmNlID0gZG90KCBwbGFuZU5vcm1hbCwgcG9pbnQtcG9pbnRPblBsYW5lICk7XFxuXFx0cmV0dXJuIHBvaW50IC0gZGlzdGFuY2UgKiBwbGFuZU5vcm1hbDtcXG59XFxuZmxvYXQgc2lkZU9mUGxhbmUoIGluIHZlYzMgcG9pbnQsIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xcblxcdHJldHVybiBzaWduKCBkb3QoIHBvaW50IC0gcG9pbnRPblBsYW5lLCBwbGFuZU5vcm1hbCApICk7XFxufVxcbnZlYzMgbGluZVBsYW5lSW50ZXJzZWN0KCBpbiB2ZWMzIHBvaW50T25MaW5lLCBpbiB2ZWMzIGxpbmVEaXJlY3Rpb24sIGluIHZlYzMgcG9pbnRPblBsYW5lLCBpbiB2ZWMzIHBsYW5lTm9ybWFsICkge1xcblxcdHJldHVybiBwb2ludE9uTGluZSArIGxpbmVEaXJlY3Rpb24gKiAoIGRvdCggcGxhbmVOb3JtYWwsIHBvaW50T25QbGFuZSAtIHBvaW50T25MaW5lICkgLyBkb3QoIHBsYW5lTm9ybWFsLCBsaW5lRGlyZWN0aW9uICkgKTtcXG59XFxuZmxvYXQgY2FsY0xpZ2h0QXR0ZW51YXRpb24oIGZsb2F0IGxpZ2h0RGlzdGFuY2UsIGZsb2F0IGN1dG9mZkRpc3RhbmNlLCBmbG9hdCBkZWNheUV4cG9uZW50ICkge1xcblxcdGlmICggZGVjYXlFeHBvbmVudCA+IDAuMCApIHtcXG5cXHQgIHJldHVybiBwb3coIHNhdHVyYXRlKCAxLjAgLSBsaWdodERpc3RhbmNlIC8gY3V0b2ZmRGlzdGFuY2UgKSwgZGVjYXlFeHBvbmVudCApO1xcblxcdH1cXG5cXHRyZXR1cm4gMS4wO1xcbn1cXG5cXG52ZWMzIGlucHV0VG9MaW5lYXIoIGluIHZlYzMgYSApIHtcXG4jaWZkZWYgR0FNTUFfSU5QVVRcXG5cXHRyZXR1cm4gcG93KCBhLCB2ZWMzKCBmbG9hdCggR0FNTUFfRkFDVE9SICkgKSApO1xcbiNlbHNlXFxuXFx0cmV0dXJuIGE7XFxuI2VuZGlmXFxufVxcbnZlYzMgbGluZWFyVG9PdXRwdXQoIGluIHZlYzMgYSApIHtcXG4jaWZkZWYgR0FNTUFfT1VUUFVUXFxuXFx0cmV0dXJuIHBvdyggYSwgdmVjMyggMS4wIC8gZmxvYXQoIEdBTU1BX0ZBQ1RPUiApICkgKTtcXG4jZWxzZVxcblxcdHJldHVybiBhO1xcbiNlbmRpZlxcbn1cXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLmFscGhhdGVzdF9mcmFnbWVudD1cIiNpZmRlZiBBTFBIQVRFU1RcXG5cXG5cXHRpZiAoIGRpZmZ1c2VDb2xvci5hIDwgQUxQSEFURVNUICkgZGlzY2FyZDtcXG5cXG4jZW5kaWZcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5saWdodHNfbGFtYmVydF92ZXJ0ZXg9XCJ2TGlnaHRGcm9udCA9IHZlYzMoIDAuMCApO1xcblxcbiNpZmRlZiBET1VCTEVfU0lERURcXG5cXG5cXHR2TGlnaHRCYWNrID0gdmVjMyggMC4wICk7XFxuXFxuI2VuZGlmXFxuXFxudHJhbnNmb3JtZWROb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XFxuXFxuI2lmIE1BWF9ESVJfTElHSFRTID4gMFxcblxcbmZvciggaW50IGkgPSAwOyBpIDwgTUFYX0RJUl9MSUdIVFM7IGkgKysgKSB7XFxuXFxuXFx0dmVjMyBkaXJWZWN0b3IgPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIGRpcmVjdGlvbmFsTGlnaHREaXJlY3Rpb25bIGkgXSwgdmlld01hdHJpeCApO1xcblxcblxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIHRyYW5zZm9ybWVkTm9ybWFsLCBkaXJWZWN0b3IgKTtcXG5cXHR2ZWMzIGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmcgPSB2ZWMzKCBtYXgoIGRvdFByb2R1Y3QsIDAuMCApICk7XFxuXFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdHZlYzMgZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZ0JhY2sgPSB2ZWMzKCBtYXgoIC1kb3RQcm9kdWN0LCAwLjAgKSApO1xcblxcblxcdFxcdCNpZmRlZiBXUkFQX0FST1VORFxcblxcblxcdFxcdFxcdHZlYzMgZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZ0hhbGZCYWNrID0gdmVjMyggbWF4KCAtMC41ICogZG90UHJvZHVjdCArIDAuNSwgMC4wICkgKTtcXG5cXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWZkZWYgV1JBUF9BUk9VTkRcXG5cXG5cXHRcXHR2ZWMzIGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmdIYWxmID0gdmVjMyggbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKSApO1xcblxcdFxcdGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmcgPSBtaXgoIGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmcsIGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmdIYWxmLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdGRpcmVjdGlvbmFsTGlnaHRXZWlnaHRpbmdCYWNrID0gbWl4KCBkaXJlY3Rpb25hbExpZ2h0V2VpZ2h0aW5nQmFjaywgZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZ0hhbGZCYWNrLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0I2VuZGlmXFxuXFxuXFx0I2VuZGlmXFxuXFxuXFx0dkxpZ2h0RnJvbnQgKz0gZGlyZWN0aW9uYWxMaWdodENvbG9yWyBpIF0gKiBkaXJlY3Rpb25hbExpZ2h0V2VpZ2h0aW5nO1xcblxcblxcdCNpZmRlZiBET1VCTEVfU0lERURcXG5cXG5cXHRcXHR2TGlnaHRCYWNrICs9IGRpcmVjdGlvbmFsTGlnaHRDb2xvclsgaSBdICogZGlyZWN0aW9uYWxMaWdodFdlaWdodGluZ0JhY2s7XFxuXFxuXFx0I2VuZGlmXFxuXFxufVxcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfUE9JTlRfTElHSFRTID4gMFxcblxcblxcdGZvciggaW50IGkgPSAwOyBpIDwgTUFYX1BPSU5UX0xJR0hUUzsgaSArKyApIHtcXG5cXG5cXHRcXHR2ZWM0IGxQb3NpdGlvbiA9IHZpZXdNYXRyaXggKiB2ZWM0KCBwb2ludExpZ2h0UG9zaXRpb25bIGkgXSwgMS4wICk7XFxuXFx0XFx0dmVjMyBsVmVjdG9yID0gbFBvc2l0aW9uLnh5eiAtIG12UG9zaXRpb24ueHl6O1xcblxcblxcdFxcdGZsb2F0IGF0dGVudWF0aW9uID0gY2FsY0xpZ2h0QXR0ZW51YXRpb24oIGxlbmd0aCggbFZlY3RvciApLCBwb2ludExpZ2h0RGlzdGFuY2VbIGkgXSwgcG9pbnRMaWdodERlY2F5WyBpIF0gKTtcXG5cXG5cXHRcXHRsVmVjdG9yID0gbm9ybWFsaXplKCBsVmVjdG9yICk7XFxuXFx0XFx0ZmxvYXQgZG90UHJvZHVjdCA9IGRvdCggdHJhbnNmb3JtZWROb3JtYWwsIGxWZWN0b3IgKTtcXG5cXG5cXHRcXHR2ZWMzIHBvaW50TGlnaHRXZWlnaHRpbmcgPSB2ZWMzKCBtYXgoIGRvdFByb2R1Y3QsIDAuMCApICk7XFxuXFxuXFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdHZlYzMgcG9pbnRMaWdodFdlaWdodGluZ0JhY2sgPSB2ZWMzKCBtYXgoIC1kb3RQcm9kdWN0LCAwLjAgKSApO1xcblxcblxcdFxcdFxcdCNpZmRlZiBXUkFQX0FST1VORFxcblxcblxcdFxcdFxcdFxcdHZlYzMgcG9pbnRMaWdodFdlaWdodGluZ0hhbGZCYWNrID0gdmVjMyggbWF4KCAtMC41ICogZG90UHJvZHVjdCArIDAuNSwgMC4wICkgKTtcXG5cXG5cXHRcXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHQjaWZkZWYgV1JBUF9BUk9VTkRcXG5cXG5cXHRcXHRcXHR2ZWMzIHBvaW50TGlnaHRXZWlnaHRpbmdIYWxmID0gdmVjMyggbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKSApO1xcblxcdFxcdFxcdHBvaW50TGlnaHRXZWlnaHRpbmcgPSBtaXgoIHBvaW50TGlnaHRXZWlnaHRpbmcsIHBvaW50TGlnaHRXZWlnaHRpbmdIYWxmLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdFxcdHBvaW50TGlnaHRXZWlnaHRpbmdCYWNrID0gbWl4KCBwb2ludExpZ2h0V2VpZ2h0aW5nQmFjaywgcG9pbnRMaWdodFdlaWdodGluZ0hhbGZCYWNrLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0dkxpZ2h0RnJvbnQgKz0gcG9pbnRMaWdodENvbG9yWyBpIF0gKiBwb2ludExpZ2h0V2VpZ2h0aW5nICogYXR0ZW51YXRpb247XFxuXFxuXFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdHZMaWdodEJhY2sgKz0gcG9pbnRMaWdodENvbG9yWyBpIF0gKiBwb2ludExpZ2h0V2VpZ2h0aW5nQmFjayAqIGF0dGVudWF0aW9uO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdH1cXG5cXG4jZW5kaWZcXG5cXG4jaWYgTUFYX1NQT1RfTElHSFRTID4gMFxcblxcblxcdGZvciggaW50IGkgPSAwOyBpIDwgTUFYX1NQT1RfTElHSFRTOyBpICsrICkge1xcblxcblxcdFxcdHZlYzQgbFBvc2l0aW9uID0gdmlld01hdHJpeCAqIHZlYzQoIHNwb3RMaWdodFBvc2l0aW9uWyBpIF0sIDEuMCApO1xcblxcdFxcdHZlYzMgbFZlY3RvciA9IGxQb3NpdGlvbi54eXogLSBtdlBvc2l0aW9uLnh5ejtcXG5cXG5cXHRcXHRmbG9hdCBzcG90RWZmZWN0ID0gZG90KCBzcG90TGlnaHREaXJlY3Rpb25bIGkgXSwgbm9ybWFsaXplKCBzcG90TGlnaHRQb3NpdGlvblsgaSBdIC0gd29ybGRQb3NpdGlvbi54eXogKSApO1xcblxcblxcdFxcdGlmICggc3BvdEVmZmVjdCA+IHNwb3RMaWdodEFuZ2xlQ29zWyBpIF0gKSB7XFxuXFxuXFx0XFx0XFx0c3BvdEVmZmVjdCA9IG1heCggcG93KCBtYXgoIHNwb3RFZmZlY3QsIDAuMCApLCBzcG90TGlnaHRFeHBvbmVudFsgaSBdICksIDAuMCApO1xcblxcblxcdFxcdFxcdGZsb2F0IGF0dGVudWF0aW9uID0gY2FsY0xpZ2h0QXR0ZW51YXRpb24oIGxlbmd0aCggbFZlY3RvciApLCBzcG90TGlnaHREaXN0YW5jZVsgaSBdLCBzcG90TGlnaHREZWNheVsgaSBdICk7XFxuXFxuXFx0XFx0XFx0bFZlY3RvciA9IG5vcm1hbGl6ZSggbFZlY3RvciApO1xcblxcblxcdFxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIHRyYW5zZm9ybWVkTm9ybWFsLCBsVmVjdG9yICk7XFxuXFx0XFx0XFx0dmVjMyBzcG90TGlnaHRXZWlnaHRpbmcgPSB2ZWMzKCBtYXgoIGRvdFByb2R1Y3QsIDAuMCApICk7XFxuXFxuXFx0XFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdFxcdHZlYzMgc3BvdExpZ2h0V2VpZ2h0aW5nQmFjayA9IHZlYzMoIG1heCggLWRvdFByb2R1Y3QsIDAuMCApICk7XFxuXFxuXFx0XFx0XFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0XFx0XFx0dmVjMyBzcG90TGlnaHRXZWlnaHRpbmdIYWxmQmFjayA9IHZlYzMoIG1heCggLTAuNSAqIGRvdFByb2R1Y3QgKyAwLjUsIDAuMCApICk7XFxuXFxuXFx0XFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0XFx0dmVjMyBzcG90TGlnaHRXZWlnaHRpbmdIYWxmID0gdmVjMyggbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKSApO1xcblxcdFxcdFxcdFxcdHNwb3RMaWdodFdlaWdodGluZyA9IG1peCggc3BvdExpZ2h0V2VpZ2h0aW5nLCBzcG90TGlnaHRXZWlnaHRpbmdIYWxmLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0XFx0XFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdFxcdFxcdFxcdHNwb3RMaWdodFdlaWdodGluZ0JhY2sgPSBtaXgoIHNwb3RMaWdodFdlaWdodGluZ0JhY2ssIHNwb3RMaWdodFdlaWdodGluZ0hhbGZCYWNrLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0XFx0dkxpZ2h0RnJvbnQgKz0gc3BvdExpZ2h0Q29sb3JbIGkgXSAqIHNwb3RMaWdodFdlaWdodGluZyAqIGF0dGVudWF0aW9uICogc3BvdEVmZmVjdDtcXG5cXG5cXHRcXHRcXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFxuXFx0XFx0XFx0XFx0dkxpZ2h0QmFjayArPSBzcG90TGlnaHRDb2xvclsgaSBdICogc3BvdExpZ2h0V2VpZ2h0aW5nQmFjayAqIGF0dGVudWF0aW9uICogc3BvdEVmZmVjdDtcXG5cXG5cXHRcXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHR9XFxuXFxuXFx0fVxcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfSEVNSV9MSUdIVFMgPiAwXFxuXFxuXFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBNQVhfSEVNSV9MSUdIVFM7IGkgKysgKSB7XFxuXFxuXFx0XFx0dmVjMyBsVmVjdG9yID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBoZW1pc3BoZXJlTGlnaHREaXJlY3Rpb25bIGkgXSwgdmlld01hdHJpeCApO1xcblxcblxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIHRyYW5zZm9ybWVkTm9ybWFsLCBsVmVjdG9yICk7XFxuXFxuXFx0XFx0ZmxvYXQgaGVtaURpZmZ1c2VXZWlnaHQgPSAwLjUgKiBkb3RQcm9kdWN0ICsgMC41O1xcblxcdFxcdGZsb2F0IGhlbWlEaWZmdXNlV2VpZ2h0QmFjayA9IC0wLjUgKiBkb3RQcm9kdWN0ICsgMC41O1xcblxcblxcdFxcdHZMaWdodEZyb250ICs9IG1peCggaGVtaXNwaGVyZUxpZ2h0R3JvdW5kQ29sb3JbIGkgXSwgaGVtaXNwaGVyZUxpZ2h0U2t5Q29sb3JbIGkgXSwgaGVtaURpZmZ1c2VXZWlnaHQgKTtcXG5cXG5cXHRcXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFxuXFx0XFx0XFx0dkxpZ2h0QmFjayArPSBtaXgoIGhlbWlzcGhlcmVMaWdodEdyb3VuZENvbG9yWyBpIF0sIGhlbWlzcGhlcmVMaWdodFNreUNvbG9yWyBpIF0sIGhlbWlEaWZmdXNlV2VpZ2h0QmFjayApO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdH1cXG5cXG4jZW5kaWZcXG5cXG52TGlnaHRGcm9udCArPSBhbWJpZW50TGlnaHRDb2xvcjtcXG5cXG4jaWZkZWYgRE9VQkxFX1NJREVEXFxuXFxuXFx0dkxpZ2h0QmFjayArPSBhbWJpZW50TGlnaHRDb2xvcjtcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLm1hcF9wYXJ0aWNsZV9wYXJzX2ZyYWdtZW50PVwiI2lmZGVmIFVTRV9NQVBcXG5cXG5cXHR1bmlmb3JtIHZlYzQgb2Zmc2V0UmVwZWF0O1xcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG1hcDtcXG5cXG4jZW5kaWZcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5kZWZhdWx0X3ZlcnRleD1cIiNpZmRlZiBVU0VfU0tJTk5JTkdcXG5cXG5cXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiBza2lubmVkO1xcblxcbiNlbGlmIGRlZmluZWQoIFVTRV9NT1JQSFRBUkdFVFMgKVxcblxcblxcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIG1vcnBoZWQsIDEuMCApO1xcblxcbiNlbHNlXFxuXFxuXFx0dmVjNCBtdlBvc2l0aW9uID0gbW9kZWxWaWV3TWF0cml4ICogdmVjNCggcG9zaXRpb24sIDEuMCApO1xcblxcbiNlbmRpZlxcblxcbmdsX1Bvc2l0aW9uID0gcHJvamVjdGlvbk1hdHJpeCAqIG12UG9zaXRpb247XFxuXCI7XG5USFJFRS5TaGFkZXJDaHVuay5tYXBfcGFyc19mcmFnbWVudD1cIiNpZiBkZWZpbmVkKCBVU0VfTUFQICkgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfTk9STUFMTUFQICkgfHwgZGVmaW5lZCggVVNFX1NQRUNVTEFSTUFQICkgfHwgZGVmaW5lZCggVVNFX0FMUEhBTUFQIClcXG5cXG5cXHR2YXJ5aW5nIHZlYzIgdlV2O1xcblxcbiNlbmRpZlxcblxcbiNpZmRlZiBVU0VfTUFQXFxuXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcblxcbiNlbmRpZlwiO1RIUkVFLlNoYWRlckNodW5rLnNraW5ub3JtYWxfdmVydGV4PVwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcblxcdG1hdDQgc2tpbk1hdHJpeCA9IG1hdDQoIDAuMCApO1xcblxcdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC54ICogYm9uZU1hdFg7XFxuXFx0c2tpbk1hdHJpeCArPSBza2luV2VpZ2h0LnkgKiBib25lTWF0WTtcXG5cXHRza2luTWF0cml4ICs9IHNraW5XZWlnaHQueiAqIGJvbmVNYXRaO1xcblxcdHNraW5NYXRyaXggKz0gc2tpbldlaWdodC53ICogYm9uZU1hdFc7XFxuXFx0c2tpbk1hdHJpeCAgPSBiaW5kTWF0cml4SW52ZXJzZSAqIHNraW5NYXRyaXggKiBiaW5kTWF0cml4O1xcblxcblxcdCNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXFxuXFxuXFx0dmVjNCBza2lubmVkTm9ybWFsID0gc2tpbk1hdHJpeCAqIHZlYzQoIG1vcnBoZWROb3JtYWwsIDAuMCApO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0dmVjNCBza2lubmVkTm9ybWFsID0gc2tpbk1hdHJpeCAqIHZlYzQoIG5vcm1hbCwgMC4wICk7XFxuXFxuXFx0I2VuZGlmXFxuXFxuI2VuZGlmXFxuXCI7XG5USFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleD1cIiNpZmRlZiBVU0VfTE9HREVQVEhCVUZcXG5cXG5cXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxcblxcblxcdFxcdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcXG5cXG5cXHQjZW5kaWZcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IGxvZ0RlcHRoQnVmRkM7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRtYXBfcGFyc192ZXJ0ZXg9XCIjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFxuXFx0dmFyeWluZyB2ZWMyIHZVdjI7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRzX3Bob25nX2ZyYWdtZW50PVwiI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcblxcdHZlYzMgbm9ybWFsID0gbm9ybWFsaXplKCB2Tm9ybWFsICk7XFxuXFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcblxcdFxcdG5vcm1hbCA9IG5vcm1hbCAqICggLTEuMCArIDIuMCAqIGZsb2F0KCBnbF9Gcm9udEZhY2luZyApICk7XFxuXFxuXFx0I2VuZGlmXFxuXFxuI2Vsc2VcXG5cXG5cXHR2ZWMzIGZkeCA9IGRGZHgoIHZWaWV3UG9zaXRpb24gKTtcXG5cXHR2ZWMzIGZkeSA9IGRGZHkoIHZWaWV3UG9zaXRpb24gKTtcXG5cXHR2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSggY3Jvc3MoIGZkeCwgZmR5ICkgKTtcXG5cXG4jZW5kaWZcXG5cXG52ZWMzIHZpZXdQb3NpdGlvbiA9IG5vcm1hbGl6ZSggdlZpZXdQb3NpdGlvbiApO1xcblxcbiNpZmRlZiBVU0VfTk9STUFMTUFQXFxuXFxuXFx0bm9ybWFsID0gcGVydHVyYk5vcm1hbDJBcmIoIC12Vmlld1Bvc2l0aW9uLCBub3JtYWwgKTtcXG5cXG4jZWxpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApXFxuXFxuXFx0bm9ybWFsID0gcGVydHVyYk5vcm1hbEFyYiggLXZWaWV3UG9zaXRpb24sIG5vcm1hbCwgZEhkeHlfZndkKCkgKTtcXG5cXG4jZW5kaWZcXG5cXG52ZWMzIHRvdGFsRGlmZnVzZUxpZ2h0ID0gdmVjMyggMC4wICk7XFxudmVjMyB0b3RhbFNwZWN1bGFyTGlnaHQgPSB2ZWMzKCAwLjAgKTtcXG5cXG4jaWYgTUFYX1BPSU5UX0xJR0hUUyA+IDBcXG5cXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBNQVhfUE9JTlRfTElHSFRTOyBpICsrICkge1xcblxcblxcdFxcdHZlYzQgbFBvc2l0aW9uID0gdmlld01hdHJpeCAqIHZlYzQoIHBvaW50TGlnaHRQb3NpdGlvblsgaSBdLCAxLjAgKTtcXG5cXHRcXHR2ZWMzIGxWZWN0b3IgPSBsUG9zaXRpb24ueHl6ICsgdlZpZXdQb3NpdGlvbi54eXo7XFxuXFxuXFx0XFx0ZmxvYXQgYXR0ZW51YXRpb24gPSBjYWxjTGlnaHRBdHRlbnVhdGlvbiggbGVuZ3RoKCBsVmVjdG9yICksIHBvaW50TGlnaHREaXN0YW5jZVsgaSBdLCBwb2ludExpZ2h0RGVjYXlbIGkgXSApO1xcblxcblxcdFxcdGxWZWN0b3IgPSBub3JtYWxpemUoIGxWZWN0b3IgKTtcXG5cXG5cXHRcXHQvLyBkaWZmdXNlXFxuXFxuXFx0XFx0ZmxvYXQgZG90UHJvZHVjdCA9IGRvdCggbm9ybWFsLCBsVmVjdG9yICk7XFxuXFxuXFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0ZmxvYXQgcG9pbnREaWZmdXNlV2VpZ2h0RnVsbCA9IG1heCggZG90UHJvZHVjdCwgMC4wICk7XFxuXFx0XFx0XFx0ZmxvYXQgcG9pbnREaWZmdXNlV2VpZ2h0SGFsZiA9IG1heCggMC41ICogZG90UHJvZHVjdCArIDAuNSwgMC4wICk7XFxuXFxuXFx0XFx0XFx0dmVjMyBwb2ludERpZmZ1c2VXZWlnaHQgPSBtaXgoIHZlYzMoIHBvaW50RGlmZnVzZVdlaWdodEZ1bGwgKSwgdmVjMyggcG9pbnREaWZmdXNlV2VpZ2h0SGFsZiApLCB3cmFwUkdCICk7XFxuXFxuXFx0XFx0I2Vsc2VcXG5cXG5cXHRcXHRcXHRmbG9hdCBwb2ludERpZmZ1c2VXZWlnaHQgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdHRvdGFsRGlmZnVzZUxpZ2h0ICs9IHBvaW50TGlnaHRDb2xvclsgaSBdICogcG9pbnREaWZmdXNlV2VpZ2h0ICogYXR0ZW51YXRpb247XFxuXFxuXFx0XFx0XFx0XFx0Ly8gc3BlY3VsYXJcXG5cXG5cXHRcXHR2ZWMzIHBvaW50SGFsZlZlY3RvciA9IG5vcm1hbGl6ZSggbFZlY3RvciArIHZpZXdQb3NpdGlvbiApO1xcblxcdFxcdGZsb2F0IHBvaW50RG90Tm9ybWFsSGFsZiA9IG1heCggZG90KCBub3JtYWwsIHBvaW50SGFsZlZlY3RvciApLCAwLjAgKTtcXG5cXHRcXHRmbG9hdCBwb2ludFNwZWN1bGFyV2VpZ2h0ID0gc3BlY3VsYXJTdHJlbmd0aCAqIG1heCggcG93KCBwb2ludERvdE5vcm1hbEhhbGYsIHNoaW5pbmVzcyApLCAwLjAgKTtcXG5cXG5cXHRcXHRmbG9hdCBzcGVjdWxhck5vcm1hbGl6YXRpb24gPSAoIHNoaW5pbmVzcyArIDIuMCApIC8gOC4wO1xcblxcblxcdFxcdHZlYzMgc2NobGljayA9IHNwZWN1bGFyICsgdmVjMyggMS4wIC0gc3BlY3VsYXIgKSAqIHBvdyggbWF4KCAxLjAgLSBkb3QoIGxWZWN0b3IsIHBvaW50SGFsZlZlY3RvciApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0dG90YWxTcGVjdWxhckxpZ2h0ICs9IHNjaGxpY2sgKiBwb2ludExpZ2h0Q29sb3JbIGkgXSAqIHBvaW50U3BlY3VsYXJXZWlnaHQgKiBwb2ludERpZmZ1c2VXZWlnaHQgKiBhdHRlbnVhdGlvbiAqIHNwZWN1bGFyTm9ybWFsaXphdGlvbjtcXG5cXG5cXHR9XFxuXFxuI2VuZGlmXFxuXFxuI2lmIE1BWF9TUE9UX0xJR0hUUyA+IDBcXG5cXG5cXHRmb3IgKCBpbnQgaSA9IDA7IGkgPCBNQVhfU1BPVF9MSUdIVFM7IGkgKysgKSB7XFxuXFxuXFx0XFx0dmVjNCBsUG9zaXRpb24gPSB2aWV3TWF0cml4ICogdmVjNCggc3BvdExpZ2h0UG9zaXRpb25bIGkgXSwgMS4wICk7XFxuXFx0XFx0dmVjMyBsVmVjdG9yID0gbFBvc2l0aW9uLnh5eiArIHZWaWV3UG9zaXRpb24ueHl6O1xcblxcblxcdFxcdGZsb2F0IGF0dGVudWF0aW9uID0gY2FsY0xpZ2h0QXR0ZW51YXRpb24oIGxlbmd0aCggbFZlY3RvciApLCBzcG90TGlnaHREaXN0YW5jZVsgaSBdLCBzcG90TGlnaHREZWNheVsgaSBdICk7XFxuXFxuXFx0XFx0bFZlY3RvciA9IG5vcm1hbGl6ZSggbFZlY3RvciApO1xcblxcblxcdFxcdGZsb2F0IHNwb3RFZmZlY3QgPSBkb3QoIHNwb3RMaWdodERpcmVjdGlvblsgaSBdLCBub3JtYWxpemUoIHNwb3RMaWdodFBvc2l0aW9uWyBpIF0gLSB2V29ybGRQb3NpdGlvbiApICk7XFxuXFxuXFx0XFx0aWYgKCBzcG90RWZmZWN0ID4gc3BvdExpZ2h0QW5nbGVDb3NbIGkgXSApIHtcXG5cXG5cXHRcXHRcXHRzcG90RWZmZWN0ID0gbWF4KCBwb3coIG1heCggc3BvdEVmZmVjdCwgMC4wICksIHNwb3RMaWdodEV4cG9uZW50WyBpIF0gKSwgMC4wICk7XFxuXFxuXFx0XFx0XFx0Ly8gZGlmZnVzZVxcblxcblxcdFxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIG5vcm1hbCwgbFZlY3RvciApO1xcblxcblxcdFxcdFxcdCNpZmRlZiBXUkFQX0FST1VORFxcblxcblxcdFxcdFxcdFxcdGZsb2F0IHNwb3REaWZmdXNlV2VpZ2h0RnVsbCA9IG1heCggZG90UHJvZHVjdCwgMC4wICk7XFxuXFx0XFx0XFx0XFx0ZmxvYXQgc3BvdERpZmZ1c2VXZWlnaHRIYWxmID0gbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKTtcXG5cXG5cXHRcXHRcXHRcXHR2ZWMzIHNwb3REaWZmdXNlV2VpZ2h0ID0gbWl4KCB2ZWMzKCBzcG90RGlmZnVzZVdlaWdodEZ1bGwgKSwgdmVjMyggc3BvdERpZmZ1c2VXZWlnaHRIYWxmICksIHdyYXBSR0IgKTtcXG5cXG5cXHRcXHRcXHQjZWxzZVxcblxcblxcdFxcdFxcdFxcdGZsb2F0IHNwb3REaWZmdXNlV2VpZ2h0ID0gbWF4KCBkb3RQcm9kdWN0LCAwLjAgKTtcXG5cXG5cXHRcXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHRcXHR0b3RhbERpZmZ1c2VMaWdodCArPSBzcG90TGlnaHRDb2xvclsgaSBdICogc3BvdERpZmZ1c2VXZWlnaHQgKiBhdHRlbnVhdGlvbiAqIHNwb3RFZmZlY3Q7XFxuXFxuXFx0XFx0XFx0Ly8gc3BlY3VsYXJcXG5cXG5cXHRcXHRcXHR2ZWMzIHNwb3RIYWxmVmVjdG9yID0gbm9ybWFsaXplKCBsVmVjdG9yICsgdmlld1Bvc2l0aW9uICk7XFxuXFx0XFx0XFx0ZmxvYXQgc3BvdERvdE5vcm1hbEhhbGYgPSBtYXgoIGRvdCggbm9ybWFsLCBzcG90SGFsZlZlY3RvciApLCAwLjAgKTtcXG5cXHRcXHRcXHRmbG9hdCBzcG90U3BlY3VsYXJXZWlnaHQgPSBzcGVjdWxhclN0cmVuZ3RoICogbWF4KCBwb3coIHNwb3REb3ROb3JtYWxIYWxmLCBzaGluaW5lc3MgKSwgMC4wICk7XFxuXFxuXFx0XFx0XFx0ZmxvYXQgc3BlY3VsYXJOb3JtYWxpemF0aW9uID0gKCBzaGluaW5lc3MgKyAyLjAgKSAvIDguMDtcXG5cXG5cXHRcXHRcXHR2ZWMzIHNjaGxpY2sgPSBzcGVjdWxhciArIHZlYzMoIDEuMCAtIHNwZWN1bGFyICkgKiBwb3coIG1heCggMS4wIC0gZG90KCBsVmVjdG9yLCBzcG90SGFsZlZlY3RvciApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0XFx0dG90YWxTcGVjdWxhckxpZ2h0ICs9IHNjaGxpY2sgKiBzcG90TGlnaHRDb2xvclsgaSBdICogc3BvdFNwZWN1bGFyV2VpZ2h0ICogc3BvdERpZmZ1c2VXZWlnaHQgKiBhdHRlbnVhdGlvbiAqIHNwZWN1bGFyTm9ybWFsaXphdGlvbiAqIHNwb3RFZmZlY3Q7XFxuXFxuXFx0XFx0fVxcblxcblxcdH1cXG5cXG4jZW5kaWZcXG5cXG4jaWYgTUFYX0RJUl9MSUdIVFMgPiAwXFxuXFxuXFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBNQVhfRElSX0xJR0hUUzsgaSArKyApIHtcXG5cXG5cXHRcXHR2ZWMzIGRpclZlY3RvciA9IHRyYW5zZm9ybURpcmVjdGlvbiggZGlyZWN0aW9uYWxMaWdodERpcmVjdGlvblsgaSBdLCB2aWV3TWF0cml4ICk7XFxuXFxuXFx0XFx0Ly8gZGlmZnVzZVxcblxcblxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIG5vcm1hbCwgZGlyVmVjdG9yICk7XFxuXFxuXFx0XFx0I2lmZGVmIFdSQVBfQVJPVU5EXFxuXFxuXFx0XFx0XFx0ZmxvYXQgZGlyRGlmZnVzZVdlaWdodEZ1bGwgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcdFxcdFxcdGZsb2F0IGRpckRpZmZ1c2VXZWlnaHRIYWxmID0gbWF4KCAwLjUgKiBkb3RQcm9kdWN0ICsgMC41LCAwLjAgKTtcXG5cXG5cXHRcXHRcXHR2ZWMzIGRpckRpZmZ1c2VXZWlnaHQgPSBtaXgoIHZlYzMoIGRpckRpZmZ1c2VXZWlnaHRGdWxsICksIHZlYzMoIGRpckRpZmZ1c2VXZWlnaHRIYWxmICksIHdyYXBSR0IgKTtcXG5cXG5cXHRcXHQjZWxzZVxcblxcblxcdFxcdFxcdGZsb2F0IGRpckRpZmZ1c2VXZWlnaHQgPSBtYXgoIGRvdFByb2R1Y3QsIDAuMCApO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdHRvdGFsRGlmZnVzZUxpZ2h0ICs9IGRpcmVjdGlvbmFsTGlnaHRDb2xvclsgaSBdICogZGlyRGlmZnVzZVdlaWdodDtcXG5cXG5cXHRcXHQvLyBzcGVjdWxhclxcblxcblxcdFxcdHZlYzMgZGlySGFsZlZlY3RvciA9IG5vcm1hbGl6ZSggZGlyVmVjdG9yICsgdmlld1Bvc2l0aW9uICk7XFxuXFx0XFx0ZmxvYXQgZGlyRG90Tm9ybWFsSGFsZiA9IG1heCggZG90KCBub3JtYWwsIGRpckhhbGZWZWN0b3IgKSwgMC4wICk7XFxuXFx0XFx0ZmxvYXQgZGlyU3BlY3VsYXJXZWlnaHQgPSBzcGVjdWxhclN0cmVuZ3RoICogbWF4KCBwb3coIGRpckRvdE5vcm1hbEhhbGYsIHNoaW5pbmVzcyApLCAwLjAgKTtcXG5cXG5cXHRcXHQvKlxcblxcdFxcdC8vIGZyZXNuZWwgdGVybSBmcm9tIHNraW4gc2hhZGVyXFxuXFx0XFx0Y29uc3QgZmxvYXQgRjAgPSAwLjEyODtcXG5cXG5cXHRcXHRmbG9hdCBiYXNlID0gMS4wIC0gZG90KCB2aWV3UG9zaXRpb24sIGRpckhhbGZWZWN0b3IgKTtcXG5cXHRcXHRmbG9hdCBleHBvbmVudGlhbCA9IHBvdyggYmFzZSwgNS4wICk7XFxuXFxuXFx0XFx0ZmxvYXQgZnJlc25lbCA9IGV4cG9uZW50aWFsICsgRjAgKiAoIDEuMCAtIGV4cG9uZW50aWFsICk7XFxuXFx0XFx0Ki9cXG5cXG5cXHRcXHQvKlxcblxcdFxcdC8vIGZyZXNuZWwgdGVybSBmcm9tIGZyZXNuZWwgc2hhZGVyXFxuXFx0XFx0Y29uc3QgZmxvYXQgbUZyZXNuZWxCaWFzID0gMC4wODtcXG5cXHRcXHRjb25zdCBmbG9hdCBtRnJlc25lbFNjYWxlID0gMC4zO1xcblxcdFxcdGNvbnN0IGZsb2F0IG1GcmVzbmVsUG93ZXIgPSA1LjA7XFxuXFxuXFx0XFx0ZmxvYXQgZnJlc25lbCA9IG1GcmVzbmVsQmlhcyArIG1GcmVzbmVsU2NhbGUgKiBwb3coIDEuMCArIGRvdCggbm9ybWFsaXplKCAtdmlld1Bvc2l0aW9uICksIG5vcm1hbCApLCBtRnJlc25lbFBvd2VyICk7XFxuXFx0XFx0Ki9cXG5cXG5cXHRcXHRmbG9hdCBzcGVjdWxhck5vcm1hbGl6YXRpb24gPSAoIHNoaW5pbmVzcyArIDIuMCApIC8gOC4wO1xcblxcblxcdFxcdC8vIFxcdFxcdGRpclNwZWN1bGFyICs9IHNwZWN1bGFyICogZGlyZWN0aW9uYWxMaWdodENvbG9yWyBpIF0gKiBkaXJTcGVjdWxhcldlaWdodCAqIGRpckRpZmZ1c2VXZWlnaHQgKiBzcGVjdWxhck5vcm1hbGl6YXRpb24gKiBmcmVzbmVsO1xcblxcblxcdFxcdHZlYzMgc2NobGljayA9IHNwZWN1bGFyICsgdmVjMyggMS4wIC0gc3BlY3VsYXIgKSAqIHBvdyggbWF4KCAxLjAgLSBkb3QoIGRpclZlY3RvciwgZGlySGFsZlZlY3RvciApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0dG90YWxTcGVjdWxhckxpZ2h0ICs9IHNjaGxpY2sgKiBkaXJlY3Rpb25hbExpZ2h0Q29sb3JbIGkgXSAqIGRpclNwZWN1bGFyV2VpZ2h0ICogZGlyRGlmZnVzZVdlaWdodCAqIHNwZWN1bGFyTm9ybWFsaXphdGlvbjtcXG5cXG5cXG5cXHR9XFxuXFxuI2VuZGlmXFxuXFxuI2lmIE1BWF9IRU1JX0xJR0hUUyA+IDBcXG5cXG5cXHRmb3IoIGludCBpID0gMDsgaSA8IE1BWF9IRU1JX0xJR0hUUzsgaSArKyApIHtcXG5cXG5cXHRcXHR2ZWMzIGxWZWN0b3IgPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIGhlbWlzcGhlcmVMaWdodERpcmVjdGlvblsgaSBdLCB2aWV3TWF0cml4ICk7XFxuXFxuXFx0XFx0Ly8gZGlmZnVzZVxcblxcblxcdFxcdGZsb2F0IGRvdFByb2R1Y3QgPSBkb3QoIG5vcm1hbCwgbFZlY3RvciApO1xcblxcdFxcdGZsb2F0IGhlbWlEaWZmdXNlV2VpZ2h0ID0gMC41ICogZG90UHJvZHVjdCArIDAuNTtcXG5cXG5cXHRcXHR2ZWMzIGhlbWlDb2xvciA9IG1peCggaGVtaXNwaGVyZUxpZ2h0R3JvdW5kQ29sb3JbIGkgXSwgaGVtaXNwaGVyZUxpZ2h0U2t5Q29sb3JbIGkgXSwgaGVtaURpZmZ1c2VXZWlnaHQgKTtcXG5cXG5cXHRcXHR0b3RhbERpZmZ1c2VMaWdodCArPSBoZW1pQ29sb3I7XFxuXFxuXFx0XFx0Ly8gc3BlY3VsYXIgKHNreSBsaWdodClcXG5cXG5cXHRcXHR2ZWMzIGhlbWlIYWxmVmVjdG9yU2t5ID0gbm9ybWFsaXplKCBsVmVjdG9yICsgdmlld1Bvc2l0aW9uICk7XFxuXFx0XFx0ZmxvYXQgaGVtaURvdE5vcm1hbEhhbGZTa3kgPSAwLjUgKiBkb3QoIG5vcm1hbCwgaGVtaUhhbGZWZWN0b3JTa3kgKSArIDAuNTtcXG5cXHRcXHRmbG9hdCBoZW1pU3BlY3VsYXJXZWlnaHRTa3kgPSBzcGVjdWxhclN0cmVuZ3RoICogbWF4KCBwb3coIG1heCggaGVtaURvdE5vcm1hbEhhbGZTa3ksIDAuMCApLCBzaGluaW5lc3MgKSwgMC4wICk7XFxuXFxuXFx0XFx0Ly8gc3BlY3VsYXIgKGdyb3VuZCBsaWdodClcXG5cXG5cXHRcXHR2ZWMzIGxWZWN0b3JHcm91bmQgPSAtbFZlY3RvcjtcXG5cXG5cXHRcXHR2ZWMzIGhlbWlIYWxmVmVjdG9yR3JvdW5kID0gbm9ybWFsaXplKCBsVmVjdG9yR3JvdW5kICsgdmlld1Bvc2l0aW9uICk7XFxuXFx0XFx0ZmxvYXQgaGVtaURvdE5vcm1hbEhhbGZHcm91bmQgPSAwLjUgKiBkb3QoIG5vcm1hbCwgaGVtaUhhbGZWZWN0b3JHcm91bmQgKSArIDAuNTtcXG5cXHRcXHRmbG9hdCBoZW1pU3BlY3VsYXJXZWlnaHRHcm91bmQgPSBzcGVjdWxhclN0cmVuZ3RoICogbWF4KCBwb3coIG1heCggaGVtaURvdE5vcm1hbEhhbGZHcm91bmQsIDAuMCApLCBzaGluaW5lc3MgKSwgMC4wICk7XFxuXFxuXFx0XFx0ZmxvYXQgZG90UHJvZHVjdEdyb3VuZCA9IGRvdCggbm9ybWFsLCBsVmVjdG9yR3JvdW5kICk7XFxuXFxuXFx0XFx0ZmxvYXQgc3BlY3VsYXJOb3JtYWxpemF0aW9uID0gKCBzaGluaW5lc3MgKyAyLjAgKSAvIDguMDtcXG5cXG5cXHRcXHR2ZWMzIHNjaGxpY2tTa3kgPSBzcGVjdWxhciArIHZlYzMoIDEuMCAtIHNwZWN1bGFyICkgKiBwb3coIG1heCggMS4wIC0gZG90KCBsVmVjdG9yLCBoZW1pSGFsZlZlY3RvclNreSApLCAwLjAgKSwgNS4wICk7XFxuXFx0XFx0dmVjMyBzY2hsaWNrR3JvdW5kID0gc3BlY3VsYXIgKyB2ZWMzKCAxLjAgLSBzcGVjdWxhciApICogcG93KCBtYXgoIDEuMCAtIGRvdCggbFZlY3Rvckdyb3VuZCwgaGVtaUhhbGZWZWN0b3JHcm91bmQgKSwgMC4wICksIDUuMCApO1xcblxcdFxcdHRvdGFsU3BlY3VsYXJMaWdodCArPSBoZW1pQ29sb3IgKiBzcGVjdWxhck5vcm1hbGl6YXRpb24gKiAoIHNjaGxpY2tTa3kgKiBoZW1pU3BlY3VsYXJXZWlnaHRTa3kgKiBtYXgoIGRvdFByb2R1Y3QsIDAuMCApICsgc2NobGlja0dyb3VuZCAqIGhlbWlTcGVjdWxhcldlaWdodEdyb3VuZCAqIG1heCggZG90UHJvZHVjdEdyb3VuZCwgMC4wICkgKTtcXG5cXG5cXHR9XFxuXFxuI2VuZGlmXFxuXFxuI2lmZGVmIE1FVEFMXFxuXFxuXFx0b3V0Z29pbmdMaWdodCArPSBkaWZmdXNlQ29sb3IucmdiICogKCB0b3RhbERpZmZ1c2VMaWdodCArIGFtYmllbnRMaWdodENvbG9yICkgKiBzcGVjdWxhciArIHRvdGFsU3BlY3VsYXJMaWdodCArIGVtaXNzaXZlO1xcblxcbiNlbHNlXFxuXFxuXFx0b3V0Z29pbmdMaWdodCArPSBkaWZmdXNlQ29sb3IucmdiICogKCB0b3RhbERpZmZ1c2VMaWdodCArIGFtYmllbnRMaWdodENvbG9yICkgKyB0b3RhbFNwZWN1bGFyTGlnaHQgKyBlbWlzc2l2ZTtcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLmZvZ19wYXJzX2ZyYWdtZW50PVwiI2lmZGVmIFVTRV9GT0dcXG5cXG5cXHR1bmlmb3JtIHZlYzMgZm9nQ29sb3I7XFxuXFxuXFx0I2lmZGVmIEZPR19FWFAyXFxuXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBmb2dEZW5zaXR5O1xcblxcblxcdCNlbHNlXFxuXFxuXFx0XFx0dW5pZm9ybSBmbG9hdCBmb2dOZWFyO1xcblxcdFxcdHVuaWZvcm0gZmxvYXQgZm9nRmFyO1xcblxcdCNlbmRpZlxcblxcbiNlbmRpZlwiO1RIUkVFLlNoYWRlckNodW5rLm1vcnBobm9ybWFsX3ZlcnRleD1cIiNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXFxuXFxuXFx0dmVjMyBtb3JwaGVkTm9ybWFsID0gdmVjMyggMC4wICk7XFxuXFxuXFx0bW9ycGhlZE5vcm1hbCArPSAoIG1vcnBoTm9ybWFsMCAtIG5vcm1hbCApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XFxuXFx0bW9ycGhlZE5vcm1hbCArPSAoIG1vcnBoTm9ybWFsMSAtIG5vcm1hbCApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAxIF07XFxuXFx0bW9ycGhlZE5vcm1hbCArPSAoIG1vcnBoTm9ybWFsMiAtIG5vcm1hbCApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAyIF07XFxuXFx0bW9ycGhlZE5vcm1hbCArPSAoIG1vcnBoTm9ybWFsMyAtIG5vcm1hbCApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XFxuXFxuXFx0bW9ycGhlZE5vcm1hbCArPSBub3JtYWw7XFxuXFxuI2VuZGlmXCI7XG5USFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfcGFyc19mcmFnbWVudD1cIiNpZmRlZiBVU0VfRU5WTUFQXFxuXFxuXFx0dW5pZm9ybSBmbG9hdCByZWZsZWN0aXZpdHk7XFxuXFx0I2lmZGVmIEVOVk1BUF9UWVBFX0NVQkVcXG5cXHRcXHR1bmlmb3JtIHNhbXBsZXJDdWJlIGVudk1hcDtcXG5cXHQjZWxzZVxcblxcdFxcdHVuaWZvcm0gc2FtcGxlcjJEIGVudk1hcDtcXG5cXHQjZW5kaWZcXG5cXHR1bmlmb3JtIGZsb2F0IGZsaXBFbnZNYXA7XFxuXFxuXFx0I2lmIGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApIHx8IGRlZmluZWQoIFBIT05HIClcXG5cXG5cXHRcXHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcXG5cXG5cXHQjZWxzZVxcblxcblxcdFxcdHZhcnlpbmcgdmVjMyB2UmVmbGVjdDtcXG5cXG5cXHQjZW5kaWZcXG5cXG4jZW5kaWZcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9mcmFnbWVudD1cIiNpZiBkZWZpbmVkKFVTRV9MT0dERVBUSEJVRikgJiYgZGVmaW5lZChVU0VfTE9HREVQVEhCVUZfRVhUKVxcblxcblxcdGdsX0ZyYWdEZXB0aEVYVCA9IGxvZzIodkZyYWdEZXB0aCkgKiBsb2dEZXB0aEJ1ZkZDICogMC41O1xcblxcbiNlbmRpZlwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsubm9ybWFsbWFwX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX05PUk1BTE1BUFxcblxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIG5vcm1hbE1hcDtcXG5cXHR1bmlmb3JtIHZlYzIgbm9ybWFsU2NhbGU7XFxuXFxuXFx0Ly8gUGVyLVBpeGVsIFRhbmdlbnQgU3BhY2UgTm9ybWFsIE1hcHBpbmdcXG5cXHQvLyBodHRwOi8vaGFja3NvZmxpZmUuYmxvZ3Nwb3QuY2gvMjAwOS8xMS9wZXItcGl4ZWwtdGFuZ2VudC1zcGFjZS1ub3JtYWwtbWFwcGluZy5odG1sXFxuXFxuXFx0dmVjMyBwZXJ0dXJiTm9ybWFsMkFyYiggdmVjMyBleWVfcG9zLCB2ZWMzIHN1cmZfbm9ybSApIHtcXG5cXG5cXHRcXHR2ZWMzIHEwID0gZEZkeCggZXllX3Bvcy54eXogKTtcXG5cXHRcXHR2ZWMzIHExID0gZEZkeSggZXllX3Bvcy54eXogKTtcXG5cXHRcXHR2ZWMyIHN0MCA9IGRGZHgoIHZVdi5zdCApO1xcblxcdFxcdHZlYzIgc3QxID0gZEZkeSggdlV2LnN0ICk7XFxuXFxuXFx0XFx0dmVjMyBTID0gbm9ybWFsaXplKCBxMCAqIHN0MS50IC0gcTEgKiBzdDAudCApO1xcblxcdFxcdHZlYzMgVCA9IG5vcm1hbGl6ZSggLXEwICogc3QxLnMgKyBxMSAqIHN0MC5zICk7XFxuXFx0XFx0dmVjMyBOID0gbm9ybWFsaXplKCBzdXJmX25vcm0gKTtcXG5cXG5cXHRcXHR2ZWMzIG1hcE4gPSB0ZXh0dXJlMkQoIG5vcm1hbE1hcCwgdlV2ICkueHl6ICogMi4wIC0gMS4wO1xcblxcdFxcdG1hcE4ueHkgPSBub3JtYWxTY2FsZSAqIG1hcE4ueHk7XFxuXFx0XFx0bWF0MyB0c24gPSBtYXQzKCBTLCBULCBOICk7XFxuXFx0XFx0cmV0dXJuIG5vcm1hbGl6ZSggdHNuICogbWFwTiApO1xcblxcblxcdH1cXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLmxpZ2h0c19waG9uZ19wYXJzX3ZlcnRleD1cIiNpZiBNQVhfU1BPVF9MSUdIVFMgPiAwIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX0VOVk1BUCApXFxuXFxuXFx0dmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcblxcbiNlbmRpZlxcblwiO1RIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFxuXFx0dmFyeWluZyB2ZWMyIHZVdjI7XFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgbGlnaHRNYXA7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3ZlcnRleD1cIiNpZmRlZiBVU0VfU0hBRE9XTUFQXFxuXFxuXFx0Zm9yKCBpbnQgaSA9IDA7IGkgPCBNQVhfU0hBRE9XUzsgaSArKyApIHtcXG5cXG5cXHRcXHR2U2hhZG93Q29vcmRbIGkgXSA9IHNoYWRvd01hdHJpeFsgaSBdICogd29ybGRQb3NpdGlvbjtcXG5cXG5cXHR9XFxuXFxuI2VuZGlmXCI7XG5USFJFRS5TaGFkZXJDaHVuay5saWdodHNfcGhvbmdfdmVydGV4PVwiI2lmIE1BWF9TUE9UX0xJR0hUUyA+IDAgfHwgZGVmaW5lZCggVVNFX0JVTVBNQVAgKSB8fCBkZWZpbmVkKCBVU0VfRU5WTUFQIClcXG5cXG5cXHR2V29ybGRQb3NpdGlvbiA9IHdvcmxkUG9zaXRpb24ueHl6O1xcblxcbiNlbmRpZlwiO1RIUkVFLlNoYWRlckNodW5rLm1hcF9mcmFnbWVudD1cIiNpZmRlZiBVU0VfTUFQXFxuXFxuXFx0dmVjNCB0ZXhlbENvbG9yID0gdGV4dHVyZTJEKCBtYXAsIHZVdiApO1xcblxcblxcdHRleGVsQ29sb3IueHl6ID0gaW5wdXRUb0xpbmVhciggdGV4ZWxDb2xvci54eXogKTtcXG5cXG5cXHRkaWZmdXNlQ29sb3IgKj0gdGV4ZWxDb2xvcjtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF92ZXJ0ZXg9XCIjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFxuXFx0dlV2MiA9IHV2MjtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5tYXBfcGFydGljbGVfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX01BUFxcblxcblxcdGRpZmZ1c2VDb2xvciAqPSB0ZXh0dXJlMkQoIG1hcCwgdmVjMiggZ2xfUG9pbnRDb29yZC54LCAxLjAgLSBnbF9Qb2ludENvb3JkLnkgKSAqIG9mZnNldFJlcGVhdC56dyArIG9mZnNldFJlcGVhdC54eSApO1xcblxcbiNlbmRpZlxcblwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc19mcmFnbWVudD1cIiNpZmRlZiBVU0VfQ09MT1JcXG5cXG5cXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xcblxcbiNlbmRpZlxcblwiO1RIUkVFLlNoYWRlckNodW5rLmNvbG9yX3ZlcnRleD1cIiNpZmRlZiBVU0VfQ09MT1JcXG5cXG5cXHR2Q29sb3IueHl6ID0gaW5wdXRUb0xpbmVhciggY29sb3IueHl6ICk7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsuc2tpbm5pbmdfdmVydGV4PVwiI2lmZGVmIFVTRV9TS0lOTklOR1xcblxcblxcdCNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXFxuXFxuXFx0dmVjNCBza2luVmVydGV4ID0gYmluZE1hdHJpeCAqIHZlYzQoIG1vcnBoZWQsIDEuMCApO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0dmVjNCBza2luVmVydGV4ID0gYmluZE1hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG5cXG5cXHQjZW5kaWZcXG5cXG5cXHR2ZWM0IHNraW5uZWQgPSB2ZWM0KCAwLjAgKTtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRYICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueDtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRZICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQueTtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRaICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQuejtcXG5cXHRza2lubmVkICs9IGJvbmVNYXRXICogc2tpblZlcnRleCAqIHNraW5XZWlnaHQudztcXG5cXHRza2lubmVkICA9IGJpbmRNYXRyaXhJbnZlcnNlICogc2tpbm5lZDtcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLmVudm1hcF9wYXJzX3ZlcnRleD1cIiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgISBkZWZpbmVkKCBVU0VfQlVNUE1BUCApICYmICEgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApICYmICEgZGVmaW5lZCggUEhPTkcgKVxcblxcblxcdHZhcnlpbmcgdmVjMyB2UmVmbGVjdDtcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IHJlZnJhY3Rpb25SYXRpbztcXG5cXG4jZW5kaWZcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5saW5lYXJfdG9fZ2FtbWFfZnJhZ21lbnQ9XCJcXG5cXHRvdXRnb2luZ0xpZ2h0ID0gbGluZWFyVG9PdXRwdXQoIG91dGdvaW5nTGlnaHQgKTtcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl9wYXJzX3ZlcnRleD1cIiNpZmRlZiBVU0VfQ09MT1JcXG5cXG5cXHR2YXJ5aW5nIHZlYzMgdkNvbG9yO1xcblxcbiNlbmRpZlwiO1RIUkVFLlNoYWRlckNodW5rLmxpZ2h0c19sYW1iZXJ0X3BhcnNfdmVydGV4PVwidW5pZm9ybSB2ZWMzIGFtYmllbnRMaWdodENvbG9yO1xcblxcbiNpZiBNQVhfRElSX0xJR0hUUyA+IDBcXG5cXG5cXHR1bmlmb3JtIHZlYzMgZGlyZWN0aW9uYWxMaWdodENvbG9yWyBNQVhfRElSX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBkaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9uWyBNQVhfRElSX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfSEVNSV9MSUdIVFMgPiAwXFxuXFxuXFx0dW5pZm9ybSB2ZWMzIGhlbWlzcGhlcmVMaWdodFNreUNvbG9yWyBNQVhfSEVNSV9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIHZlYzMgaGVtaXNwaGVyZUxpZ2h0R3JvdW5kQ29sb3JbIE1BWF9IRU1JX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBoZW1pc3BoZXJlTGlnaHREaXJlY3Rpb25bIE1BWF9IRU1JX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfUE9JTlRfTElHSFRTID4gMFxcblxcblxcdHVuaWZvcm0gdmVjMyBwb2ludExpZ2h0Q29sb3JbIE1BWF9QT0lOVF9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIHZlYzMgcG9pbnRMaWdodFBvc2l0aW9uWyBNQVhfUE9JTlRfTElHSFRTIF07XFxuXFx0dW5pZm9ybSBmbG9hdCBwb2ludExpZ2h0RGlzdGFuY2VbIE1BWF9QT0lOVF9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIGZsb2F0IHBvaW50TGlnaHREZWNheVsgTUFYX1BPSU5UX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfU1BPVF9MSUdIVFMgPiAwXFxuXFxuXFx0dW5pZm9ybSB2ZWMzIHNwb3RMaWdodENvbG9yWyBNQVhfU1BPVF9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIHZlYzMgc3BvdExpZ2h0UG9zaXRpb25bIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBzcG90TGlnaHREaXJlY3Rpb25bIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RGlzdGFuY2VbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0QW5nbGVDb3NbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RXhwb25lbnRbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RGVjYXlbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZmRlZiBXUkFQX0FST1VORFxcblxcblxcdHVuaWZvcm0gdmVjMyB3cmFwUkdCO1xcblxcbiNlbmRpZlxcblwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsubWFwX3BhcnNfdmVydGV4PVwiI2lmIGRlZmluZWQoIFVTRV9NQVAgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBVU0VfU1BFQ1VMQVJNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQUxQSEFNQVAgKVxcblxcblxcdHZhcnlpbmcgdmVjMiB2VXY7XFxuXFx0dW5pZm9ybSB2ZWM0IG9mZnNldFJlcGVhdDtcXG5cXG4jZW5kaWZcXG5cIjtUSFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX0VOVk1BUFxcblxcblxcdCNpZiBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApXFxuXFxuXFx0XFx0dmVjMyBjYW1lcmFUb1ZlcnRleCA9IG5vcm1hbGl6ZSggdldvcmxkUG9zaXRpb24gLSBjYW1lcmFQb3NpdGlvbiApO1xcblxcblxcdFxcdC8vIFRyYW5zZm9ybWluZyBOb3JtYWwgVmVjdG9ycyB3aXRoIHRoZSBJbnZlcnNlIFRyYW5zZm9ybWF0aW9uXFxuXFx0XFx0dmVjMyB3b3JsZE5vcm1hbCA9IGludmVyc2VUcmFuc2Zvcm1EaXJlY3Rpb24oIG5vcm1hbCwgdmlld01hdHJpeCApO1xcblxcblxcdFxcdCNpZmRlZiBFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXFxuXFxuXFx0XFx0XFx0dmVjMyByZWZsZWN0VmVjID0gcmVmbGVjdCggY2FtZXJhVG9WZXJ0ZXgsIHdvcmxkTm9ybWFsICk7XFxuXFxuXFx0XFx0I2Vsc2VcXG5cXG5cXHRcXHRcXHR2ZWMzIHJlZmxlY3RWZWMgPSByZWZyYWN0KCBjYW1lcmFUb1ZlcnRleCwgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdCNlbHNlXFxuXFxuXFx0XFx0dmVjMyByZWZsZWN0VmVjID0gdlJlZmxlY3Q7XFxuXFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmZGVmIERPVUJMRV9TSURFRFxcblxcdFxcdGZsb2F0IGZsaXBOb3JtYWwgPSAoIC0xLjAgKyAyLjAgKiBmbG9hdCggZ2xfRnJvbnRGYWNpbmcgKSApO1xcblxcdCNlbHNlXFxuXFx0XFx0ZmxvYXQgZmxpcE5vcm1hbCA9IDEuMDtcXG5cXHQjZW5kaWZcXG5cXG5cXHQjaWZkZWYgRU5WTUFQX1RZUEVfQ1VCRVxcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlQ3ViZSggZW52TWFwLCBmbGlwTm9ybWFsICogdmVjMyggZmxpcEVudk1hcCAqIHJlZmxlY3RWZWMueCwgcmVmbGVjdFZlYy55eiApICk7XFxuXFxuXFx0I2VsaWYgZGVmaW5lZCggRU5WTUFQX1RZUEVfRVFVSVJFQyApXFxuXFx0XFx0dmVjMiBzYW1wbGVVVjtcXG5cXHRcXHRzYW1wbGVVVi55ID0gc2F0dXJhdGUoIGZsaXBOb3JtYWwgKiByZWZsZWN0VmVjLnkgKiAwLjUgKyAwLjUgKTtcXG5cXHRcXHRzYW1wbGVVVi54ID0gYXRhbiggZmxpcE5vcm1hbCAqIHJlZmxlY3RWZWMueiwgZmxpcE5vcm1hbCAqIHJlZmxlY3RWZWMueCApICogUkVDSVBST0NBTF9QSTIgKyAwLjU7XFxuXFx0XFx0dmVjNCBlbnZDb2xvciA9IHRleHR1cmUyRCggZW52TWFwLCBzYW1wbGVVViApO1xcblxcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9UWVBFX1NQSEVSRSApXFxuXFx0XFx0dmVjMyByZWZsZWN0VmlldyA9IGZsaXBOb3JtYWwgKiBub3JtYWxpemUoKHZpZXdNYXRyaXggKiB2ZWM0KCByZWZsZWN0VmVjLCAwLjAgKSkueHl6ICsgdmVjMygwLjAsMC4wLDEuMCkpO1xcblxcdFxcdHZlYzQgZW52Q29sb3IgPSB0ZXh0dXJlMkQoIGVudk1hcCwgcmVmbGVjdFZpZXcueHkgKiAwLjUgKyAwLjUgKTtcXG5cXHQjZW5kaWZcXG5cXG5cXHRlbnZDb2xvci54eXogPSBpbnB1dFRvTGluZWFyKCBlbnZDb2xvci54eXogKTtcXG5cXG5cXHQjaWZkZWYgRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZXFxuXFxuXFx0XFx0b3V0Z29pbmdMaWdodCA9IG1peCggb3V0Z29pbmdMaWdodCwgb3V0Z29pbmdMaWdodCAqIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xcblxcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19NSVggKVxcblxcblxcdFxcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGVudkNvbG9yLnh5eiwgc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eSApO1xcblxcblxcdCNlbGlmIGRlZmluZWQoIEVOVk1BUF9CTEVORElOR19BREQgKVxcblxcblxcdFxcdG91dGdvaW5nTGlnaHQgKz0gZW52Q29sb3IueHl6ICogc3BlY3VsYXJTdHJlbmd0aCAqIHJlZmxlY3Rpdml0eTtcXG5cXG5cXHQjZW5kaWZcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLnNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX1NQRUNVTEFSTUFQXFxuXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgc3BlY3VsYXJNYXA7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfdmVydGV4PVwiI2lmZGVmIFVTRV9MT0dERVBUSEJVRlxcblxcblxcdGdsX1Bvc2l0aW9uLnogPSBsb2cyKG1heCggRVBTSUxPTiwgZ2xfUG9zaXRpb24udyArIDEuMCApKSAqIGxvZ0RlcHRoQnVmRkM7XFxuXFxuXFx0I2lmZGVmIFVTRV9MT0dERVBUSEJVRl9FWFRcXG5cXG5cXHRcXHR2RnJhZ0RlcHRoID0gMS4wICsgZ2xfUG9zaXRpb24udztcXG5cXG4jZWxzZVxcblxcblxcdFxcdGdsX1Bvc2l0aW9uLnogPSAoZ2xfUG9zaXRpb24ueiAtIDEuMCkgKiBnbF9Qb3NpdGlvbi53O1xcblxcblxcdCNlbmRpZlxcblxcbiNlbmRpZlwiO1RIUkVFLlNoYWRlckNodW5rLm1vcnBodGFyZ2V0X3BhcnNfdmVydGV4PVwiI2lmZGVmIFVTRV9NT1JQSFRBUkdFVFNcXG5cXG5cXHQjaWZuZGVmIFVTRV9NT1JQSE5PUk1BTFNcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgOCBdO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0dW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcXG5cXG5cXHQjZW5kaWZcXG5cXG4jZW5kaWZcIjtcblRIUkVFLlNoYWRlckNodW5rLnNwZWN1bGFybWFwX2ZyYWdtZW50PVwiZmxvYXQgc3BlY3VsYXJTdHJlbmd0aDtcXG5cXG4jaWZkZWYgVVNFX1NQRUNVTEFSTUFQXFxuXFxuXFx0dmVjNCB0ZXhlbFNwZWN1bGFyID0gdGV4dHVyZTJEKCBzcGVjdWxhck1hcCwgdlV2ICk7XFxuXFx0c3BlY3VsYXJTdHJlbmd0aCA9IHRleGVsU3BlY3VsYXIucjtcXG5cXG4jZWxzZVxcblxcblxcdHNwZWN1bGFyU3RyZW5ndGggPSAxLjA7XFxuXFxuI2VuZGlmXCI7VEhSRUUuU2hhZGVyQ2h1bmsuZm9nX2ZyYWdtZW50PVwiI2lmZGVmIFVTRV9GT0dcXG5cXG5cXHQjaWZkZWYgVVNFX0xPR0RFUFRIQlVGX0VYVFxcblxcblxcdFxcdGZsb2F0IGRlcHRoID0gZ2xfRnJhZ0RlcHRoRVhUIC8gZ2xfRnJhZ0Nvb3JkLnc7XFxuXFxuXFx0I2Vsc2VcXG5cXG5cXHRcXHRmbG9hdCBkZXB0aCA9IGdsX0ZyYWdDb29yZC56IC8gZ2xfRnJhZ0Nvb3JkLnc7XFxuXFxuXFx0I2VuZGlmXFxuXFxuXFx0I2lmZGVmIEZPR19FWFAyXFxuXFxuXFx0XFx0ZmxvYXQgZm9nRmFjdG9yID0gZXhwMiggLSBzcXVhcmUoIGZvZ0RlbnNpdHkgKSAqIHNxdWFyZSggZGVwdGggKSAqIExPRzIgKTtcXG5cXHRcXHRmb2dGYWN0b3IgPSB3aGl0ZUNvbXBsaW1lbnQoIGZvZ0ZhY3RvciApO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0XFx0ZmxvYXQgZm9nRmFjdG9yID0gc21vb3Roc3RlcCggZm9nTmVhciwgZm9nRmFyLCBkZXB0aCApO1xcblxcblxcdCNlbmRpZlxcblxcdFxcblxcdG91dGdvaW5nTGlnaHQgPSBtaXgoIG91dGdvaW5nTGlnaHQsIGZvZ0NvbG9yLCBmb2dGYWN0b3IgKTtcXG5cXG4jZW5kaWZcIjtcblRIUkVFLlNoYWRlckNodW5rLmJ1bXBtYXBfcGFyc19mcmFnbWVudD1cIiNpZmRlZiBVU0VfQlVNUE1BUFxcblxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIGJ1bXBNYXA7XFxuXFx0dW5pZm9ybSBmbG9hdCBidW1wU2NhbGU7XFxuXFxuXFx0Ly8gRGVyaXZhdGl2ZSBtYXBzIC0gYnVtcCBtYXBwaW5nIHVucGFyYW1ldHJpemVkIHN1cmZhY2VzIGJ5IE1vcnRlbiBNaWtrZWxzZW5cXG5cXHQvLyBodHRwOi8vbW1pa2tlbHNlbjNkLmJsb2dzcG90LnNrLzIwMTEvMDcvZGVyaXZhdGl2ZS1tYXBzLmh0bWxcXG5cXG5cXHQvLyBFdmFsdWF0ZSB0aGUgZGVyaXZhdGl2ZSBvZiB0aGUgaGVpZ2h0IHcuci50LiBzY3JlZW4tc3BhY2UgdXNpbmcgZm9yd2FyZCBkaWZmZXJlbmNpbmcgKGxpc3RpbmcgMilcXG5cXG5cXHR2ZWMyIGRIZHh5X2Z3ZCgpIHtcXG5cXG5cXHRcXHR2ZWMyIGRTVGR4ID0gZEZkeCggdlV2ICk7XFxuXFx0XFx0dmVjMiBkU1RkeSA9IGRGZHkoIHZVdiApO1xcblxcblxcdFxcdGZsb2F0IEhsbCA9IGJ1bXBTY2FsZSAqIHRleHR1cmUyRCggYnVtcE1hcCwgdlV2ICkueDtcXG5cXHRcXHRmbG9hdCBkQnggPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR4ICkueCAtIEhsbDtcXG5cXHRcXHRmbG9hdCBkQnkgPSBidW1wU2NhbGUgKiB0ZXh0dXJlMkQoIGJ1bXBNYXAsIHZVdiArIGRTVGR5ICkueCAtIEhsbDtcXG5cXG5cXHRcXHRyZXR1cm4gdmVjMiggZEJ4LCBkQnkgKTtcXG5cXG5cXHR9XFxuXFxuXFx0dmVjMyBwZXJ0dXJiTm9ybWFsQXJiKCB2ZWMzIHN1cmZfcG9zLCB2ZWMzIHN1cmZfbm9ybSwgdmVjMiBkSGR4eSApIHtcXG5cXG5cXHRcXHR2ZWMzIHZTaWdtYVggPSBkRmR4KCBzdXJmX3BvcyApO1xcblxcdFxcdHZlYzMgdlNpZ21hWSA9IGRGZHkoIHN1cmZfcG9zICk7XFxuXFx0XFx0dmVjMyB2TiA9IHN1cmZfbm9ybTtcXHRcXHQvLyBub3JtYWxpemVkXFxuXFxuXFx0XFx0dmVjMyBSMSA9IGNyb3NzKCB2U2lnbWFZLCB2TiApO1xcblxcdFxcdHZlYzMgUjIgPSBjcm9zcyggdk4sIHZTaWdtYVggKTtcXG5cXG5cXHRcXHRmbG9hdCBmRGV0ID0gZG90KCB2U2lnbWFYLCBSMSApO1xcblxcblxcdFxcdHZlYzMgdkdyYWQgPSBzaWduKCBmRGV0ICkgKiAoIGRIZHh5LnggKiBSMSArIGRIZHh5LnkgKiBSMiApO1xcblxcdFxcdHJldHVybiBub3JtYWxpemUoIGFicyggZkRldCApICogc3VyZl9ub3JtIC0gdkdyYWQgKTtcXG5cXG5cXHR9XFxuXFxuI2VuZGlmXFxuXCI7XG5USFJFRS5TaGFkZXJDaHVuay5kZWZhdWx0bm9ybWFsX3ZlcnRleD1cIiNpZmRlZiBVU0VfU0tJTk5JTkdcXG5cXG5cXHR2ZWMzIG9iamVjdE5vcm1hbCA9IHNraW5uZWROb3JtYWwueHl6O1xcblxcbiNlbGlmIGRlZmluZWQoIFVTRV9NT1JQSE5PUk1BTFMgKVxcblxcblxcdHZlYzMgb2JqZWN0Tm9ybWFsID0gbW9ycGhlZE5vcm1hbDtcXG5cXG4jZWxzZVxcblxcblxcdHZlYzMgb2JqZWN0Tm9ybWFsID0gbm9ybWFsO1xcblxcbiNlbmRpZlxcblxcbiNpZmRlZiBGTElQX1NJREVEXFxuXFxuXFx0b2JqZWN0Tm9ybWFsID0gLW9iamVjdE5vcm1hbDtcXG5cXG4jZW5kaWZcXG5cXG52ZWMzIHRyYW5zZm9ybWVkTm9ybWFsID0gbm9ybWFsTWF0cml4ICogb2JqZWN0Tm9ybWFsO1xcblwiO1RIUkVFLlNoYWRlckNodW5rLmxpZ2h0c19waG9uZ19wYXJzX2ZyYWdtZW50PVwidW5pZm9ybSB2ZWMzIGFtYmllbnRMaWdodENvbG9yO1xcblxcbiNpZiBNQVhfRElSX0xJR0hUUyA+IDBcXG5cXG5cXHR1bmlmb3JtIHZlYzMgZGlyZWN0aW9uYWxMaWdodENvbG9yWyBNQVhfRElSX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBkaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9uWyBNQVhfRElSX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfSEVNSV9MSUdIVFMgPiAwXFxuXFxuXFx0dW5pZm9ybSB2ZWMzIGhlbWlzcGhlcmVMaWdodFNreUNvbG9yWyBNQVhfSEVNSV9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIHZlYzMgaGVtaXNwaGVyZUxpZ2h0R3JvdW5kQ29sb3JbIE1BWF9IRU1JX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBoZW1pc3BoZXJlTGlnaHREaXJlY3Rpb25bIE1BWF9IRU1JX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfUE9JTlRfTElHSFRTID4gMFxcblxcblxcdHVuaWZvcm0gdmVjMyBwb2ludExpZ2h0Q29sb3JbIE1BWF9QT0lOVF9MSUdIVFMgXTtcXG5cXG5cXHR1bmlmb3JtIHZlYzMgcG9pbnRMaWdodFBvc2l0aW9uWyBNQVhfUE9JTlRfTElHSFRTIF07XFxuXFx0dW5pZm9ybSBmbG9hdCBwb2ludExpZ2h0RGlzdGFuY2VbIE1BWF9QT0lOVF9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIGZsb2F0IHBvaW50TGlnaHREZWNheVsgTUFYX1BPSU5UX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfU1BPVF9MSUdIVFMgPiAwXFxuXFxuXFx0dW5pZm9ybSB2ZWMzIHNwb3RMaWdodENvbG9yWyBNQVhfU1BPVF9MSUdIVFMgXTtcXG5cXHR1bmlmb3JtIHZlYzMgc3BvdExpZ2h0UG9zaXRpb25bIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gdmVjMyBzcG90TGlnaHREaXJlY3Rpb25bIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0QW5nbGVDb3NbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RXhwb25lbnRbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RGlzdGFuY2VbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc3BvdExpZ2h0RGVjYXlbIE1BWF9TUE9UX0xJR0hUUyBdO1xcblxcbiNlbmRpZlxcblxcbiNpZiBNQVhfU1BPVF9MSUdIVFMgPiAwIHx8IGRlZmluZWQoIFVTRV9CVU1QTUFQICkgfHwgZGVmaW5lZCggVVNFX0VOVk1BUCApXFxuXFxuXFx0dmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1xcblxcbiNlbmRpZlxcblxcbiNpZmRlZiBXUkFQX0FST1VORFxcblxcblxcdHVuaWZvcm0gdmVjMyB3cmFwUkdCO1xcblxcbiNlbmRpZlxcblxcbnZhcnlpbmcgdmVjMyB2Vmlld1Bvc2l0aW9uO1xcblxcbiNpZm5kZWYgRkxBVF9TSEFERURcXG5cXG5cXHR2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLnNraW5iYXNlX3ZlcnRleD1cIiNpZmRlZiBVU0VfU0tJTk5JTkdcXG5cXG5cXHRtYXQ0IGJvbmVNYXRYID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnggKTtcXG5cXHRtYXQ0IGJvbmVNYXRZID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnkgKTtcXG5cXHRtYXQ0IGJvbmVNYXRaID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LnogKTtcXG5cXHRtYXQ0IGJvbmVNYXRXID0gZ2V0Qm9uZU1hdHJpeCggc2tpbkluZGV4LncgKTtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5tYXBfdmVydGV4PVwiI2lmIGRlZmluZWQoIFVTRV9NQVAgKSB8fCBkZWZpbmVkKCBVU0VfQlVNUE1BUCApIHx8IGRlZmluZWQoIFVTRV9OT1JNQUxNQVAgKSB8fCBkZWZpbmVkKCBVU0VfU1BFQ1VMQVJNQVAgKSB8fCBkZWZpbmVkKCBVU0VfQUxQSEFNQVAgKVxcblxcblxcdHZVdiA9IHV2ICogb2Zmc2V0UmVwZWF0Lnp3ICsgb2Zmc2V0UmVwZWF0Lnh5O1xcblxcbiNlbmRpZlwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRtYXBfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX0xJR0hUTUFQXFxuXFxuXFx0b3V0Z29pbmdMaWdodCAqPSBkaWZmdXNlQ29sb3IueHl6ICogdGV4dHVyZTJEKCBsaWdodE1hcCwgdlV2MiApLnh5ejtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfcGFyc192ZXJ0ZXg9XCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcblxcdHZhcnlpbmcgdmVjNCB2U2hhZG93Q29vcmRbIE1BWF9TSEFET1dTIF07XFxuXFx0dW5pZm9ybSBtYXQ0IHNoYWRvd01hdHJpeFsgTUFYX1NIQURPV1MgXTtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl9mcmFnbWVudD1cIiNpZmRlZiBVU0VfQ09MT1JcXG5cXG5cXHRkaWZmdXNlQ29sb3IucmdiICo9IHZDb2xvcjtcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5tb3JwaHRhcmdldF92ZXJ0ZXg9XCIjaWZkZWYgVVNFX01PUlBIVEFSR0VUU1xcblxcblxcdHZlYzMgbW9ycGhlZCA9IHZlYzMoIDAuMCApO1xcblxcdG1vcnBoZWQgKz0gKCBtb3JwaFRhcmdldDAgLSBwb3NpdGlvbiApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAwIF07XFxuXFx0bW9ycGhlZCArPSAoIG1vcnBoVGFyZ2V0MSAtIHBvc2l0aW9uICkgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDEgXTtcXG5cXHRtb3JwaGVkICs9ICggbW9ycGhUYXJnZXQyIC0gcG9zaXRpb24gKSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgMiBdO1xcblxcdG1vcnBoZWQgKz0gKCBtb3JwaFRhcmdldDMgLSBwb3NpdGlvbiApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyAzIF07XFxuXFxuXFx0I2lmbmRlZiBVU0VfTU9SUEhOT1JNQUxTXFxuXFxuXFx0bW9ycGhlZCArPSAoIG1vcnBoVGFyZ2V0NCAtIHBvc2l0aW9uICkgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDQgXTtcXG5cXHRtb3JwaGVkICs9ICggbW9ycGhUYXJnZXQ1IC0gcG9zaXRpb24gKSAqIG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1sgNSBdO1xcblxcdG1vcnBoZWQgKz0gKCBtb3JwaFRhcmdldDYgLSBwb3NpdGlvbiApICogbW9ycGhUYXJnZXRJbmZsdWVuY2VzWyA2IF07XFxuXFx0bW9ycGhlZCArPSAoIG1vcnBoVGFyZ2V0NyAtIHBvc2l0aW9uICkgKiBtb3JwaFRhcmdldEluZmx1ZW5jZXNbIDcgXTtcXG5cXG5cXHQjZW5kaWZcXG5cXG5cXHRtb3JwaGVkICs9IHBvc2l0aW9uO1xcblxcbiNlbmRpZlwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsuZW52bWFwX3ZlcnRleD1cIiNpZiBkZWZpbmVkKCBVU0VfRU5WTUFQICkgJiYgISBkZWZpbmVkKCBVU0VfQlVNUE1BUCApICYmICEgZGVmaW5lZCggVVNFX05PUk1BTE1BUCApICYmICEgZGVmaW5lZCggUEhPTkcgKVxcblxcblxcdHZlYzMgd29ybGROb3JtYWwgPSB0cmFuc2Zvcm1EaXJlY3Rpb24oIG9iamVjdE5vcm1hbCwgbW9kZWxNYXRyaXggKTtcXG5cXG5cXHR2ZWMzIGNhbWVyYVRvVmVydGV4ID0gbm9ybWFsaXplKCB3b3JsZFBvc2l0aW9uLnh5eiAtIGNhbWVyYVBvc2l0aW9uICk7XFxuXFxuXFx0I2lmZGVmIEVOVk1BUF9NT0RFX1JFRkxFQ1RJT05cXG5cXG5cXHRcXHR2UmVmbGVjdCA9IHJlZmxlY3QoIGNhbWVyYVRvVmVydGV4LCB3b3JsZE5vcm1hbCApO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0XFx0dlJlZmxlY3QgPSByZWZyYWN0KCBjYW1lcmFUb1ZlcnRleCwgd29ybGROb3JtYWwsIHJlZnJhY3Rpb25SYXRpbyApO1xcblxcblxcdCNlbmRpZlxcblxcbiNlbmRpZlxcblwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX2ZyYWdtZW50PVwiI2lmZGVmIFVTRV9TSEFET1dNQVBcXG5cXG5cXHQjaWZkZWYgU0hBRE9XTUFQX0RFQlVHXFxuXFxuXFx0XFx0dmVjMyBmcnVzdHVtQ29sb3JzWzNdO1xcblxcdFxcdGZydXN0dW1Db2xvcnNbMF0gPSB2ZWMzKCAxLjAsIDAuNSwgMC4wICk7XFxuXFx0XFx0ZnJ1c3R1bUNvbG9yc1sxXSA9IHZlYzMoIDAuMCwgMS4wLCAwLjggKTtcXG5cXHRcXHRmcnVzdHVtQ29sb3JzWzJdID0gdmVjMyggMC4wLCAwLjUsIDEuMCApO1xcblxcblxcdCNlbmRpZlxcblxcblxcdCNpZmRlZiBTSEFET1dNQVBfQ0FTQ0FERVxcblxcblxcdFxcdGludCBpbkZydXN0dW1Db3VudCA9IDA7XFxuXFxuXFx0I2VuZGlmXFxuXFxuXFx0ZmxvYXQgZkRlcHRoO1xcblxcdHZlYzMgc2hhZG93Q29sb3IgPSB2ZWMzKCAxLjAgKTtcXG5cXG5cXHRmb3IoIGludCBpID0gMDsgaSA8IE1BWF9TSEFET1dTOyBpICsrICkge1xcblxcblxcdFxcdHZlYzMgc2hhZG93Q29vcmQgPSB2U2hhZG93Q29vcmRbIGkgXS54eXogLyB2U2hhZG93Q29vcmRbIGkgXS53O1xcblxcblxcdFxcdFxcdFxcdC8vIGlmICggc29tZXRoaW5nICYmIHNvbWV0aGluZyApIGJyZWFrcyBBVEkgT3BlbkdMIHNoYWRlciBjb21waWxlclxcblxcdFxcdFxcdFxcdC8vIGlmICggYWxsKCBzb21ldGhpbmcsIHNvbWV0aGluZyApICkgdXNpbmcgdGhpcyBpbnN0ZWFkXFxuXFxuXFx0XFx0YnZlYzQgaW5GcnVzdHVtVmVjID0gYnZlYzQgKCBzaGFkb3dDb29yZC54ID49IDAuMCwgc2hhZG93Q29vcmQueCA8PSAxLjAsIHNoYWRvd0Nvb3JkLnkgPj0gMC4wLCBzaGFkb3dDb29yZC55IDw9IDEuMCApO1xcblxcdFxcdGJvb2wgaW5GcnVzdHVtID0gYWxsKCBpbkZydXN0dW1WZWMgKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBkb24ndCBzaGFkb3cgcGl4ZWxzIG91dHNpZGUgb2YgbGlnaHQgZnJ1c3R1bVxcblxcdFxcdFxcdFxcdC8vIHVzZSBqdXN0IGZpcnN0IGZydXN0dW0gKGZvciBjYXNjYWRlcylcXG5cXHRcXHRcXHRcXHQvLyBkb24ndCBzaGFkb3cgcGl4ZWxzIGJlaGluZCBmYXIgcGxhbmUgb2YgbGlnaHQgZnJ1c3R1bVxcblxcblxcdFxcdCNpZmRlZiBTSEFET1dNQVBfQ0FTQ0FERVxcblxcblxcdFxcdFxcdGluRnJ1c3R1bUNvdW50ICs9IGludCggaW5GcnVzdHVtICk7XFxuXFx0XFx0XFx0YnZlYzMgZnJ1c3R1bVRlc3RWZWMgPSBidmVjMyggaW5GcnVzdHVtLCBpbkZydXN0dW1Db3VudCA9PSAxLCBzaGFkb3dDb29yZC56IDw9IDEuMCApO1xcblxcblxcdFxcdCNlbHNlXFxuXFxuXFx0XFx0XFx0YnZlYzIgZnJ1c3R1bVRlc3RWZWMgPSBidmVjMiggaW5GcnVzdHVtLCBzaGFkb3dDb29yZC56IDw9IDEuMCApO1xcblxcblxcdFxcdCNlbmRpZlxcblxcblxcdFxcdGJvb2wgZnJ1c3R1bVRlc3QgPSBhbGwoIGZydXN0dW1UZXN0VmVjICk7XFxuXFxuXFx0XFx0aWYgKCBmcnVzdHVtVGVzdCApIHtcXG5cXG5cXHRcXHRcXHRzaGFkb3dDb29yZC56ICs9IHNoYWRvd0JpYXNbIGkgXTtcXG5cXG5cXHRcXHRcXHQjaWYgZGVmaW5lZCggU0hBRE9XTUFQX1RZUEVfUENGIClcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBQZXJjZW50YWdlLWNsb3NlIGZpbHRlcmluZ1xcblxcdFxcdFxcdFxcdFxcdFxcdC8vICg5IHBpeGVsIGtlcm5lbClcXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBodHRwOi8vZmFiaWVuc2FuZ2xhcmQubmV0L3NoYWRvd21hcHBpbmdQQ0YvXFxuXFxuXFx0XFx0XFx0XFx0ZmxvYXQgc2hhZG93ID0gMC4wO1xcblxcblxcdFxcdC8qXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gbmVzdGVkIGxvb3BzIGJyZWFrcyBzaGFkZXIgY29tcGlsZXIgLyB2YWxpZGF0b3Igb24gc29tZSBBVEkgY2FyZHMgd2hlbiB1c2luZyBPcGVuR0xcXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBtdXN0IGVucm9sbCBsb29wIG1hbnVhbGx5XFxuXFxuXFx0XFx0XFx0XFx0Zm9yICggZmxvYXQgeSA9IC0xLjI1OyB5IDw9IDEuMjU7IHkgKz0gMS4yNSApXFxuXFx0XFx0XFx0XFx0XFx0Zm9yICggZmxvYXQgeCA9IC0xLjI1OyB4IDw9IDEuMjU7IHggKz0gMS4yNSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHR2ZWM0IHJnYmFEZXB0aCA9IHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHZlYzIoIHggKiB4UGl4ZWxPZmZzZXQsIHkgKiB5UGl4ZWxPZmZzZXQgKSArIHNoYWRvd0Nvb3JkLnh5ICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gZG9lc24ndCBzZWVtIHRvIHByb2R1Y2UgYW55IG5vdGljZWFibGUgdmlzdWFsIGRpZmZlcmVuY2UgY29tcGFyZWQgdG8gc2ltcGxlIHRleHR1cmUyRCBsb29rdXBcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvL3ZlYzQgcmdiYURlcHRoID0gdGV4dHVyZTJEUHJvaiggc2hhZG93TWFwWyBpIF0sIHZlYzQoIHZTaGFkb3dDb29yZFsgaSBdLncgKiAoIHZlYzIoIHggKiB4UGl4ZWxPZmZzZXQsIHkgKiB5UGl4ZWxPZmZzZXQgKSArIHNoYWRvd0Nvb3JkLnh5ICksIDAuMDUsIHZTaGFkb3dDb29yZFsgaSBdLncgKSApO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdGZsb2F0IGZEZXB0aCA9IHVucGFja0RlcHRoKCByZ2JhRGVwdGggKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGZEZXB0aCA8IHNoYWRvd0Nvb3JkLnogKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHNoYWRvdyArPSAxLjA7XFxuXFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdHNoYWRvdyAvPSA5LjA7XFxuXFxuXFx0XFx0Ki9cXG5cXG5cXHRcXHRcXHRcXHRjb25zdCBmbG9hdCBzaGFkb3dEZWx0YSA9IDEuMCAvIDkuMDtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCB4UGl4ZWxPZmZzZXQgPSAxLjAgLyBzaGFkb3dNYXBTaXplWyBpIF0ueDtcXG5cXHRcXHRcXHRcXHRmbG9hdCB5UGl4ZWxPZmZzZXQgPSAxLjAgLyBzaGFkb3dNYXBTaXplWyBpIF0ueTtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCBkeDAgPSAtMS4yNSAqIHhQaXhlbE9mZnNldDtcXG5cXHRcXHRcXHRcXHRmbG9hdCBkeTAgPSAtMS4yNSAqIHlQaXhlbE9mZnNldDtcXG5cXHRcXHRcXHRcXHRmbG9hdCBkeDEgPSAxLjI1ICogeFBpeGVsT2Zmc2V0O1xcblxcdFxcdFxcdFxcdGZsb2F0IGR5MSA9IDEuMjUgKiB5UGl4ZWxPZmZzZXQ7XFxuXFxuXFx0XFx0XFx0XFx0ZkRlcHRoID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSApICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBmRGVwdGggPCBzaGFkb3dDb29yZC56ICkgc2hhZG93ICs9IHNoYWRvd0RlbHRhO1xcblxcblxcdFxcdFxcdFxcdGZEZXB0aCA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIDAuMCwgZHkwICkgKSApO1xcblxcdFxcdFxcdFxcdGlmICggZkRlcHRoIDwgc2hhZG93Q29vcmQueiApIHNoYWRvdyArPSBzaGFkb3dEZWx0YTtcXG5cXG5cXHRcXHRcXHRcXHRmRGVwdGggPSB1bnBhY2tEZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXBbIGkgXSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApICkgKTtcXG5cXHRcXHRcXHRcXHRpZiAoIGZEZXB0aCA8IHNoYWRvd0Nvb3JkLnogKSBzaGFkb3cgKz0gc2hhZG93RGVsdGE7XFxuXFxuXFx0XFx0XFx0XFx0ZkRlcHRoID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCAwLjAgKSApICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBmRGVwdGggPCBzaGFkb3dDb29yZC56ICkgc2hhZG93ICs9IHNoYWRvd0RlbHRhO1xcblxcblxcdFxcdFxcdFxcdGZEZXB0aCA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSApICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBmRGVwdGggPCBzaGFkb3dDb29yZC56ICkgc2hhZG93ICs9IHNoYWRvd0RlbHRhO1xcblxcblxcdFxcdFxcdFxcdGZEZXB0aCA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICkgKSApO1xcblxcdFxcdFxcdFxcdGlmICggZkRlcHRoIDwgc2hhZG93Q29vcmQueiApIHNoYWRvdyArPSBzaGFkb3dEZWx0YTtcXG5cXG5cXHRcXHRcXHRcXHRmRGVwdGggPSB1bnBhY2tEZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXBbIGkgXSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIGR5MSApICkgKTtcXG5cXHRcXHRcXHRcXHRpZiAoIGZEZXB0aCA8IHNoYWRvd0Nvb3JkLnogKSBzaGFkb3cgKz0gc2hhZG93RGVsdGE7XFxuXFxuXFx0XFx0XFx0XFx0ZkRlcHRoID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTEgKSApICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBmRGVwdGggPCBzaGFkb3dDb29yZC56ICkgc2hhZG93ICs9IHNoYWRvd0RlbHRhO1xcblxcblxcdFxcdFxcdFxcdGZEZXB0aCA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgZHkxICkgKSApO1xcblxcdFxcdFxcdFxcdGlmICggZkRlcHRoIDwgc2hhZG93Q29vcmQueiApIHNoYWRvdyArPSBzaGFkb3dEZWx0YTtcXG5cXG5cXHRcXHRcXHRcXHRzaGFkb3dDb2xvciA9IHNoYWRvd0NvbG9yICogdmVjMyggKCAxLjAgLSBzaGFkb3dEYXJrbmVzc1sgaSBdICogc2hhZG93ICkgKTtcXG5cXG5cXHRcXHRcXHQjZWxpZiBkZWZpbmVkKCBTSEFET1dNQVBfVFlQRV9QQ0ZfU09GVCApXFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gUGVyY2VudGFnZS1jbG9zZSBmaWx0ZXJpbmdcXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyAoOSBwaXhlbCBrZXJuZWwpXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gaHR0cDovL2ZhYmllbnNhbmdsYXJkLm5ldC9zaGFkb3dtYXBwaW5nUENGL1xcblxcblxcdFxcdFxcdFxcdGZsb2F0IHNoYWRvdyA9IDAuMDtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCB4UGl4ZWxPZmZzZXQgPSAxLjAgLyBzaGFkb3dNYXBTaXplWyBpIF0ueDtcXG5cXHRcXHRcXHRcXHRmbG9hdCB5UGl4ZWxPZmZzZXQgPSAxLjAgLyBzaGFkb3dNYXBTaXplWyBpIF0ueTtcXG5cXG5cXHRcXHRcXHRcXHRmbG9hdCBkeDAgPSAtMS4wICogeFBpeGVsT2Zmc2V0O1xcblxcdFxcdFxcdFxcdGZsb2F0IGR5MCA9IC0xLjAgKiB5UGl4ZWxPZmZzZXQ7XFxuXFx0XFx0XFx0XFx0ZmxvYXQgZHgxID0gMS4wICogeFBpeGVsT2Zmc2V0O1xcblxcdFxcdFxcdFxcdGZsb2F0IGR5MSA9IDEuMCAqIHlQaXhlbE9mZnNldDtcXG5cXG5cXHRcXHRcXHRcXHRtYXQzIHNoYWRvd0tlcm5lbDtcXG5cXHRcXHRcXHRcXHRtYXQzIGRlcHRoS2VybmVsO1xcblxcblxcdFxcdFxcdFxcdGRlcHRoS2VybmVsWzBdWzBdID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgwLCBkeTAgKSApICk7XFxuXFx0XFx0XFx0XFx0ZGVwdGhLZXJuZWxbMF1bMV0gPSB1bnBhY2tEZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXBbIGkgXSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDAsIDAuMCApICkgKTtcXG5cXHRcXHRcXHRcXHRkZXB0aEtlcm5lbFswXVsyXSA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MCwgZHkxICkgKSApO1xcblxcdFxcdFxcdFxcdGRlcHRoS2VybmVsWzFdWzBdID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTAgKSApICk7XFxuXFx0XFx0XFx0XFx0ZGVwdGhLZXJuZWxbMV1bMV0gPSB1bnBhY2tEZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXBbIGkgXSwgc2hhZG93Q29vcmQueHkgKSApO1xcblxcdFxcdFxcdFxcdGRlcHRoS2VybmVsWzFdWzJdID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggMC4wLCBkeTEgKSApICk7XFxuXFx0XFx0XFx0XFx0ZGVwdGhLZXJuZWxbMl1bMF0gPSB1bnBhY2tEZXB0aCggdGV4dHVyZTJEKCBzaGFkb3dNYXBbIGkgXSwgc2hhZG93Q29vcmQueHkgKyB2ZWMyKCBkeDEsIGR5MCApICkgKTtcXG5cXHRcXHRcXHRcXHRkZXB0aEtlcm5lbFsyXVsxXSA9IHVucGFja0RlcHRoKCB0ZXh0dXJlMkQoIHNoYWRvd01hcFsgaSBdLCBzaGFkb3dDb29yZC54eSArIHZlYzIoIGR4MSwgMC4wICkgKSApO1xcblxcdFxcdFxcdFxcdGRlcHRoS2VybmVsWzJdWzJdID0gdW5wYWNrRGVwdGgoIHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICsgdmVjMiggZHgxLCBkeTEgKSApICk7XFxuXFxuXFx0XFx0XFx0XFx0dmVjMyBzaGFkb3daID0gdmVjMyggc2hhZG93Q29vcmQueiApO1xcblxcdFxcdFxcdFxcdHNoYWRvd0tlcm5lbFswXSA9IHZlYzMobGVzc1RoYW4oZGVwdGhLZXJuZWxbMF0sIHNoYWRvd1ogKSk7XFxuXFx0XFx0XFx0XFx0c2hhZG93S2VybmVsWzBdICo9IHZlYzMoMC4yNSk7XFxuXFxuXFx0XFx0XFx0XFx0c2hhZG93S2VybmVsWzFdID0gdmVjMyhsZXNzVGhhbihkZXB0aEtlcm5lbFsxXSwgc2hhZG93WiApKTtcXG5cXHRcXHRcXHRcXHRzaGFkb3dLZXJuZWxbMV0gKj0gdmVjMygwLjI1KTtcXG5cXG5cXHRcXHRcXHRcXHRzaGFkb3dLZXJuZWxbMl0gPSB2ZWMzKGxlc3NUaGFuKGRlcHRoS2VybmVsWzJdLCBzaGFkb3daICkpO1xcblxcdFxcdFxcdFxcdHNoYWRvd0tlcm5lbFsyXSAqPSB2ZWMzKDAuMjUpO1xcblxcblxcdFxcdFxcdFxcdHZlYzIgZnJhY3Rpb25hbENvb3JkID0gMS4wIC0gZnJhY3QoIHNoYWRvd0Nvb3JkLnh5ICogc2hhZG93TWFwU2l6ZVtpXS54eSApO1xcblxcblxcdFxcdFxcdFxcdHNoYWRvd0tlcm5lbFswXSA9IG1peCggc2hhZG93S2VybmVsWzFdLCBzaGFkb3dLZXJuZWxbMF0sIGZyYWN0aW9uYWxDb29yZC54ICk7XFxuXFx0XFx0XFx0XFx0c2hhZG93S2VybmVsWzFdID0gbWl4KCBzaGFkb3dLZXJuZWxbMl0sIHNoYWRvd0tlcm5lbFsxXSwgZnJhY3Rpb25hbENvb3JkLnggKTtcXG5cXG5cXHRcXHRcXHRcXHR2ZWM0IHNoYWRvd1ZhbHVlcztcXG5cXHRcXHRcXHRcXHRzaGFkb3dWYWx1ZXMueCA9IG1peCggc2hhZG93S2VybmVsWzBdWzFdLCBzaGFkb3dLZXJuZWxbMF1bMF0sIGZyYWN0aW9uYWxDb29yZC55ICk7XFxuXFx0XFx0XFx0XFx0c2hhZG93VmFsdWVzLnkgPSBtaXgoIHNoYWRvd0tlcm5lbFswXVsyXSwgc2hhZG93S2VybmVsWzBdWzFdLCBmcmFjdGlvbmFsQ29vcmQueSApO1xcblxcdFxcdFxcdFxcdHNoYWRvd1ZhbHVlcy56ID0gbWl4KCBzaGFkb3dLZXJuZWxbMV1bMV0sIHNoYWRvd0tlcm5lbFsxXVswXSwgZnJhY3Rpb25hbENvb3JkLnkgKTtcXG5cXHRcXHRcXHRcXHRzaGFkb3dWYWx1ZXMudyA9IG1peCggc2hhZG93S2VybmVsWzFdWzJdLCBzaGFkb3dLZXJuZWxbMV1bMV0sIGZyYWN0aW9uYWxDb29yZC55ICk7XFxuXFxuXFx0XFx0XFx0XFx0c2hhZG93ID0gZG90KCBzaGFkb3dWYWx1ZXMsIHZlYzQoIDEuMCApICk7XFxuXFxuXFx0XFx0XFx0XFx0c2hhZG93Q29sb3IgPSBzaGFkb3dDb2xvciAqIHZlYzMoICggMS4wIC0gc2hhZG93RGFya25lc3NbIGkgXSAqIHNoYWRvdyApICk7XFxuXFxuXFx0XFx0XFx0I2Vsc2VcXG5cXG5cXHRcXHRcXHRcXHR2ZWM0IHJnYmFEZXB0aCA9IHRleHR1cmUyRCggc2hhZG93TWFwWyBpIF0sIHNoYWRvd0Nvb3JkLnh5ICk7XFxuXFx0XFx0XFx0XFx0ZmxvYXQgZkRlcHRoID0gdW5wYWNrRGVwdGgoIHJnYmFEZXB0aCApO1xcblxcblxcdFxcdFxcdFxcdGlmICggZkRlcHRoIDwgc2hhZG93Q29vcmQueiApXFxuXFxuXFx0XFx0Ly8gc3BvdCB3aXRoIG11bHRpcGxlIHNoYWRvd3MgaXMgZGFya2VyXFxuXFxuXFx0XFx0XFx0XFx0XFx0c2hhZG93Q29sb3IgPSBzaGFkb3dDb2xvciAqIHZlYzMoIDEuMCAtIHNoYWRvd0RhcmtuZXNzWyBpIF0gKTtcXG5cXG5cXHRcXHQvLyBzcG90IHdpdGggbXVsdGlwbGUgc2hhZG93cyBoYXMgdGhlIHNhbWUgY29sb3IgYXMgc2luZ2xlIHNoYWRvdyBzcG90XFxuXFxuXFx0XFx0Ly8gXFx0XFx0XFx0XFx0XFx0c2hhZG93Q29sb3IgPSBtaW4oIHNoYWRvd0NvbG9yLCB2ZWMzKCBzaGFkb3dEYXJrbmVzc1sgaSBdICkgKTtcXG5cXG5cXHRcXHRcXHQjZW5kaWZcXG5cXG5cXHRcXHR9XFxuXFxuXFxuXFx0XFx0I2lmZGVmIFNIQURPV01BUF9ERUJVR1xcblxcblxcdFxcdFxcdCNpZmRlZiBTSEFET1dNQVBfQ0FTQ0FERVxcblxcblxcdFxcdFxcdFxcdGlmICggaW5GcnVzdHVtICYmIGluRnJ1c3R1bUNvdW50ID09IDEgKSBvdXRnb2luZ0xpZ2h0ICo9IGZydXN0dW1Db2xvcnNbIGkgXTtcXG5cXG5cXHRcXHRcXHQjZWxzZVxcblxcblxcdFxcdFxcdFxcdGlmICggaW5GcnVzdHVtICkgb3V0Z29pbmdMaWdodCAqPSBmcnVzdHVtQ29sb3JzWyBpIF07XFxuXFxuXFx0XFx0XFx0I2VuZGlmXFxuXFxuXFx0XFx0I2VuZGlmXFxuXFxuXFx0fVxcblxcblxcdC8vIE5PVEU6IEkgYW0gdW5zdXJlIGlmIHRoaXMgaXMgY29ycmVjdCBpbiBsaW5lYXIgc3BhY2UuICAtYmhvdXN0b24sIERlYyAyOSwgMjAxNFxcblxcdHNoYWRvd0NvbG9yID0gaW5wdXRUb0xpbmVhciggc2hhZG93Q29sb3IgKTtcXG5cXG5cXHRvdXRnb2luZ0xpZ2h0ID0gb3V0Z29pbmdMaWdodCAqIHNoYWRvd0NvbG9yO1xcblxcbiNlbmRpZlxcblwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsud29ybGRwb3NfdmVydGV4PVwiI2lmIGRlZmluZWQoIFVTRV9FTlZNQVAgKSB8fCBkZWZpbmVkKCBQSE9ORyApIHx8IGRlZmluZWQoIExBTUJFUlQgKSB8fCBkZWZpbmVkICggVVNFX1NIQURPV01BUCApXFxuXFxuXFx0I2lmZGVmIFVTRV9TS0lOTklOR1xcblxcblxcdFxcdHZlYzQgd29ybGRQb3NpdGlvbiA9IG1vZGVsTWF0cml4ICogc2tpbm5lZDtcXG5cXG5cXHQjZWxpZiBkZWZpbmVkKCBVU0VfTU9SUEhUQVJHRVRTIClcXG5cXG5cXHRcXHR2ZWM0IHdvcmxkUG9zaXRpb24gPSBtb2RlbE1hdHJpeCAqIHZlYzQoIG1vcnBoZWQsIDEuMCApO1xcblxcblxcdCNlbHNlXFxuXFxuXFx0XFx0dmVjNCB3b3JsZFBvc2l0aW9uID0gbW9kZWxNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuXFxuXFx0I2VuZGlmXFxuXFxuI2VuZGlmXFxuXCI7VEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX1NIQURPV01BUFxcblxcblxcdHVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd01hcFsgTUFYX1NIQURPV1MgXTtcXG5cXHR1bmlmb3JtIHZlYzIgc2hhZG93TWFwU2l6ZVsgTUFYX1NIQURPV1MgXTtcXG5cXG5cXHR1bmlmb3JtIGZsb2F0IHNoYWRvd0RhcmtuZXNzWyBNQVhfU0hBRE9XUyBdO1xcblxcdHVuaWZvcm0gZmxvYXQgc2hhZG93Qmlhc1sgTUFYX1NIQURPV1MgXTtcXG5cXG5cXHR2YXJ5aW5nIHZlYzQgdlNoYWRvd0Nvb3JkWyBNQVhfU0hBRE9XUyBdO1xcblxcblxcdGZsb2F0IHVucGFja0RlcHRoKCBjb25zdCBpbiB2ZWM0IHJnYmFfZGVwdGggKSB7XFxuXFxuXFx0XFx0Y29uc3QgdmVjNCBiaXRfc2hpZnQgPSB2ZWM0KCAxLjAgLyAoIDI1Ni4wICogMjU2LjAgKiAyNTYuMCApLCAxLjAgLyAoIDI1Ni4wICogMjU2LjAgKSwgMS4wIC8gMjU2LjAsIDEuMCApO1xcblxcdFxcdGZsb2F0IGRlcHRoID0gZG90KCByZ2JhX2RlcHRoLCBiaXRfc2hpZnQgKTtcXG5cXHRcXHRyZXR1cm4gZGVwdGg7XFxuXFxuXFx0fVxcblxcbiNlbmRpZlwiO1xuVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbm5pbmdfcGFyc192ZXJ0ZXg9XCIjaWZkZWYgVVNFX1NLSU5OSU5HXFxuXFxuXFx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXg7XFxuXFx0dW5pZm9ybSBtYXQ0IGJpbmRNYXRyaXhJbnZlcnNlO1xcblxcblxcdCNpZmRlZiBCT05FX1RFWFRVUkVcXG5cXG5cXHRcXHR1bmlmb3JtIHNhbXBsZXIyRCBib25lVGV4dHVyZTtcXG5cXHRcXHR1bmlmb3JtIGludCBib25lVGV4dHVyZVdpZHRoO1xcblxcdFxcdHVuaWZvcm0gaW50IGJvbmVUZXh0dXJlSGVpZ2h0O1xcblxcblxcdFxcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcXG5cXG5cXHRcXHRcXHRmbG9hdCBqID0gaSAqIDQuMDtcXG5cXHRcXHRcXHRmbG9hdCB4ID0gbW9kKCBqLCBmbG9hdCggYm9uZVRleHR1cmVXaWR0aCApICk7XFxuXFx0XFx0XFx0ZmxvYXQgeSA9IGZsb29yKCBqIC8gZmxvYXQoIGJvbmVUZXh0dXJlV2lkdGggKSApO1xcblxcblxcdFxcdFxcdGZsb2F0IGR4ID0gMS4wIC8gZmxvYXQoIGJvbmVUZXh0dXJlV2lkdGggKTtcXG5cXHRcXHRcXHRmbG9hdCBkeSA9IDEuMCAvIGZsb2F0KCBib25lVGV4dHVyZUhlaWdodCApO1xcblxcblxcdFxcdFxcdHkgPSBkeSAqICggeSArIDAuNSApO1xcblxcblxcdFxcdFxcdHZlYzQgdjEgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDAuNSApLCB5ICkgKTtcXG5cXHRcXHRcXHR2ZWM0IHYyID0gdGV4dHVyZTJEKCBib25lVGV4dHVyZSwgdmVjMiggZHggKiAoIHggKyAxLjUgKSwgeSApICk7XFxuXFx0XFx0XFx0dmVjNCB2MyA9IHRleHR1cmUyRCggYm9uZVRleHR1cmUsIHZlYzIoIGR4ICogKCB4ICsgMi41ICksIHkgKSApO1xcblxcdFxcdFxcdHZlYzQgdjQgPSB0ZXh0dXJlMkQoIGJvbmVUZXh0dXJlLCB2ZWMyKCBkeCAqICggeCArIDMuNSApLCB5ICkgKTtcXG5cXG5cXHRcXHRcXHRtYXQ0IGJvbmUgPSBtYXQ0KCB2MSwgdjIsIHYzLCB2NCApO1xcblxcblxcdFxcdFxcdHJldHVybiBib25lO1xcblxcblxcdFxcdH1cXG5cXG5cXHQjZWxzZVxcblxcblxcdFxcdHVuaWZvcm0gbWF0NCBib25lR2xvYmFsTWF0cmljZXNbIE1BWF9CT05FUyBdO1xcblxcblxcdFxcdG1hdDQgZ2V0Qm9uZU1hdHJpeCggY29uc3QgaW4gZmxvYXQgaSApIHtcXG5cXG5cXHRcXHRcXHRtYXQ0IGJvbmUgPSBib25lR2xvYmFsTWF0cmljZXNbIGludChpKSBdO1xcblxcdFxcdFxcdHJldHVybiBib25lO1xcblxcblxcdFxcdH1cXG5cXG5cXHQjZW5kaWZcXG5cXG4jZW5kaWZcXG5cIjtcblRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX0xPR0RFUFRIQlVGXFxuXFxuXFx0dW5pZm9ybSBmbG9hdCBsb2dEZXB0aEJ1ZkZDO1xcblxcblxcdCNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUXFxuXFxuXFx0XFx0I2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZVxcblxcdFxcdHZhcnlpbmcgZmxvYXQgdkZyYWdEZXB0aDtcXG5cXG5cXHQjZW5kaWZcXG5cXG4jZW5kaWZcIjtUSFJFRS5TaGFkZXJDaHVuay5hbHBoYW1hcF9mcmFnbWVudD1cIiNpZmRlZiBVU0VfQUxQSEFNQVBcXG5cXG5cXHRkaWZmdXNlQ29sb3IuYSAqPSB0ZXh0dXJlMkQoIGFscGhhTWFwLCB2VXYgKS5nO1xcblxcbiNlbmRpZlxcblwiO1RIUkVFLlNoYWRlckNodW5rLmFscGhhbWFwX3BhcnNfZnJhZ21lbnQ9XCIjaWZkZWYgVVNFX0FMUEhBTUFQXFxuXFxuXFx0dW5pZm9ybSBzYW1wbGVyMkQgYWxwaGFNYXA7XFxuXFxuI2VuZGlmXFxuXCI7XG5USFJFRS5Vbmlmb3Jtc1V0aWxzPXttZXJnZTpmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmNsb25lKGFbY10pLGU7Zm9yKGUgaW4gZCliW2VdPWRbZV19cmV0dXJuIGJ9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSl7YltjXT17fTtmb3IodmFyIGQgaW4gYVtjXSl7dmFyIGU9YVtjXVtkXTtiW2NdW2RdPWUgaW5zdGFuY2VvZiBUSFJFRS5Db2xvcnx8ZSBpbnN0YW5jZW9mIFRIUkVFLlZlY3RvcjJ8fGUgaW5zdGFuY2VvZiBUSFJFRS5WZWN0b3IzfHxlIGluc3RhbmNlb2YgVEhSRUUuVmVjdG9yNHx8ZSBpbnN0YW5jZW9mIFRIUkVFLk1hdHJpeDR8fGUgaW5zdGFuY2VvZiBUSFJFRS5UZXh0dXJlP2UuY2xvbmUoKTplIGluc3RhbmNlb2YgQXJyYXk/ZS5zbGljZSgpOmV9fXJldHVybiBifX07XG5USFJFRS5Vbmlmb3Jtc0xpYj17Y29tbW9uOntkaWZmdXNlOnt0eXBlOlwiY1wiLHZhbHVlOm5ldyBUSFJFRS5Db2xvcigxNTY1ODczNCl9LG9wYWNpdHk6e3R5cGU6XCJmXCIsdmFsdWU6MX0sbWFwOnt0eXBlOlwidFwiLHZhbHVlOm51bGx9LG9mZnNldFJlcGVhdDp7dHlwZTpcInY0XCIsdmFsdWU6bmV3IFRIUkVFLlZlY3RvcjQoMCwwLDEsMSl9LGxpZ2h0TWFwOnt0eXBlOlwidFwiLHZhbHVlOm51bGx9LHNwZWN1bGFyTWFwOnt0eXBlOlwidFwiLHZhbHVlOm51bGx9LGFscGhhTWFwOnt0eXBlOlwidFwiLHZhbHVlOm51bGx9LGVudk1hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSxmbGlwRW52TWFwOnt0eXBlOlwiZlwiLHZhbHVlOi0xfSxyZWZsZWN0aXZpdHk6e3R5cGU6XCJmXCIsdmFsdWU6MX0scmVmcmFjdGlvblJhdGlvOnt0eXBlOlwiZlwiLHZhbHVlOi45OH0sbW9ycGhUYXJnZXRJbmZsdWVuY2VzOnt0eXBlOlwiZlwiLHZhbHVlOjB9fSxidW1wOntidW1wTWFwOnt0eXBlOlwidFwiLHZhbHVlOm51bGx9LGJ1bXBTY2FsZTp7dHlwZTpcImZcIixcbnZhbHVlOjF9fSxub3JtYWxtYXA6e25vcm1hbE1hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSxub3JtYWxTY2FsZTp7dHlwZTpcInYyXCIsdmFsdWU6bmV3IFRIUkVFLlZlY3RvcjIoMSwxKX19LGZvZzp7Zm9nRGVuc2l0eTp7dHlwZTpcImZcIix2YWx1ZToyLjVFLTR9LGZvZ05lYXI6e3R5cGU6XCJmXCIsdmFsdWU6MX0sZm9nRmFyOnt0eXBlOlwiZlwiLHZhbHVlOjJFM30sZm9nQ29sb3I6e3R5cGU6XCJjXCIsdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDE2Nzc3MjE1KX19LGxpZ2h0czp7YW1iaWVudExpZ2h0Q29sb3I6e3R5cGU6XCJmdlwiLHZhbHVlOltdfSxkaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9uOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0sZGlyZWN0aW9uYWxMaWdodENvbG9yOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0saGVtaXNwaGVyZUxpZ2h0RGlyZWN0aW9uOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0saGVtaXNwaGVyZUxpZ2h0U2t5Q29sb3I6e3R5cGU6XCJmdlwiLHZhbHVlOltdfSxoZW1pc3BoZXJlTGlnaHRHcm91bmRDb2xvcjp7dHlwZTpcImZ2XCIsXG52YWx1ZTpbXX0scG9pbnRMaWdodENvbG9yOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0scG9pbnRMaWdodFBvc2l0aW9uOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0scG9pbnRMaWdodERpc3RhbmNlOnt0eXBlOlwiZnYxXCIsdmFsdWU6W119LHBvaW50TGlnaHREZWNheTp7dHlwZTpcImZ2MVwiLHZhbHVlOltdfSxzcG90TGlnaHRDb2xvcjp7dHlwZTpcImZ2XCIsdmFsdWU6W119LHNwb3RMaWdodFBvc2l0aW9uOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0sc3BvdExpZ2h0RGlyZWN0aW9uOnt0eXBlOlwiZnZcIix2YWx1ZTpbXX0sc3BvdExpZ2h0RGlzdGFuY2U6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX0sc3BvdExpZ2h0QW5nbGVDb3M6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX0sc3BvdExpZ2h0RXhwb25lbnQ6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX0sc3BvdExpZ2h0RGVjYXk6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX19LHBhcnRpY2xlOntwc0NvbG9yOnt0eXBlOlwiY1wiLHZhbHVlOm5ldyBUSFJFRS5Db2xvcigxNTY1ODczNCl9LG9wYWNpdHk6e3R5cGU6XCJmXCIsXG52YWx1ZToxfSxzaXplOnt0eXBlOlwiZlwiLHZhbHVlOjF9LHNjYWxlOnt0eXBlOlwiZlwiLHZhbHVlOjF9LG1hcDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSxvZmZzZXRSZXBlYXQ6e3R5cGU6XCJ2NFwiLHZhbHVlOm5ldyBUSFJFRS5WZWN0b3I0KDAsMCwxLDEpfSxmb2dEZW5zaXR5Ont0eXBlOlwiZlwiLHZhbHVlOjIuNUUtNH0sZm9nTmVhcjp7dHlwZTpcImZcIix2YWx1ZToxfSxmb2dGYXI6e3R5cGU6XCJmXCIsdmFsdWU6MkUzfSxmb2dDb2xvcjp7dHlwZTpcImNcIix2YWx1ZTpuZXcgVEhSRUUuQ29sb3IoMTY3NzcyMTUpfX0sc2hhZG93bWFwOntzaGFkb3dNYXA6e3R5cGU6XCJ0dlwiLHZhbHVlOltdfSxzaGFkb3dNYXBTaXplOnt0eXBlOlwidjJ2XCIsdmFsdWU6W119LHNoYWRvd0JpYXM6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX0sc2hhZG93RGFya25lc3M6e3R5cGU6XCJmdjFcIix2YWx1ZTpbXX0sc2hhZG93TWF0cml4Ont0eXBlOlwibTR2XCIsdmFsdWU6W119fX07XG5USFJFRS5TaGFkZXJMaWI9e2Jhc2ljOnt1bmlmb3JtczpUSFJFRS5Vbmlmb3Jtc1V0aWxzLm1lcmdlKFtUSFJFRS5Vbmlmb3Jtc0xpYi5jb21tb24sVEhSRUUuVW5pZm9ybXNMaWIuZm9nLFRIUkVFLlVuaWZvcm1zTGliLnNoYWRvd21hcF0pLHZlcnRleFNoYWRlcjpbVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLm1hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbm5pbmdfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4LFwidm9pZCBtYWluKCkge1wiLFxuVEhSRUUuU2hhZGVyQ2h1bmsubWFwX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5iYXNlX3ZlcnRleCxcIlxcdCNpZmRlZiBVU0VfRU5WTUFQXCIsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGhub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5ub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmRlZmF1bHRub3JtYWxfdmVydGV4LFwiXFx0I2VuZGlmXCIsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5uaW5nX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5kZWZhdWx0X3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsud29ybGRwb3NfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmVudm1hcF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3ZlcnRleCxcblwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcInVuaWZvcm0gdmVjMyBkaWZmdXNlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcIixUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5tYXBfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5hbHBoYW1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuZW52bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuZm9nX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuc3BlY3VsYXJtYXBfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50LFwidm9pZCBtYWluKCkge1xcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1wiLFxuVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubWFwX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmFscGhhbWFwX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmFscGhhdGVzdF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5zcGVjdWxhcm1hcF9mcmFnbWVudCxcIlxcdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1wiLFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmVudm1hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubGluZWFyX3RvX2dhbW1hX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmZvZ19mcmFnbWVudCxcIlxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIG91dGdvaW5nTGlnaHQsIGRpZmZ1c2VDb2xvci5hICk7XFxufVwiXS5qb2luKFwiXFxuXCIpfSxcbmxhbWJlcnQ6e3VuaWZvcm1zOlRIUkVFLlVuaWZvcm1zVXRpbHMubWVyZ2UoW1RIUkVFLlVuaWZvcm1zTGliLmNvbW1vbixUSFJFRS5Vbmlmb3Jtc0xpYi5mb2csVEhSRUUuVW5pZm9ybXNMaWIubGlnaHRzLFRIUkVFLlVuaWZvcm1zTGliLnNoYWRvd21hcCx7ZW1pc3NpdmU6e3R5cGU6XCJjXCIsdmFsdWU6bmV3IFRIUkVFLkNvbG9yKDApfSx3cmFwUkdCOnt0eXBlOlwidjNcIix2YWx1ZTpuZXcgVEhSRUUuVmVjdG9yMygxLDEsMSl9fV0pLHZlcnRleFNoYWRlcjpbXCIjZGVmaW5lIExBTUJFUlRcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XFxuI2lmZGVmIERPVUJMRV9TSURFRFxcblxcdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xcbiNlbmRpZlwiLFRIUkVFLlNoYWRlckNodW5rLmNvbW1vbixUSFJFRS5TaGFkZXJDaHVuay5tYXBfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRtYXBfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuZW52bWFwX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0c19sYW1iZXJ0X3BhcnNfdmVydGV4LFxuVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbm5pbmdfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4LFwidm9pZCBtYWluKCkge1wiLFRIUkVFLlNoYWRlckNodW5rLm1hcF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRtYXBfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5tb3JwaG5vcm1hbF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbmJhc2VfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5ub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmRlZmF1bHRub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLm1vcnBodGFyZ2V0X3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5za2lubmluZ192ZXJ0ZXgsXG5USFJFRS5TaGFkZXJDaHVuay5kZWZhdWx0X3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsud29ybGRwb3NfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmVudm1hcF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRzX2xhbWJlcnRfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF92ZXJ0ZXgsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzMgdkxpZ2h0RnJvbnQ7XFxuI2lmZGVmIERPVUJMRV9TSURFRFxcblxcdHZhcnlpbmcgdmVjMyB2TGlnaHRCYWNrO1xcbiNlbmRpZlwiLFRIUkVFLlNoYWRlckNodW5rLmNvbW1vbixUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLm1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmFscGhhbWFwX3BhcnNfZnJhZ21lbnQsXG5USFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmVudm1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmZvZ19wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLnNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxcInZvaWQgbWFpbigpIHtcXG5cXHR2ZWMzIG91dGdvaW5nTGlnaHQgPSB2ZWMzKCAwLjAgKTtcXG5cXHR2ZWM0IGRpZmZ1c2VDb2xvciA9IHZlYzQoIGRpZmZ1c2UsIG9wYWNpdHkgKTtcIixUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5tYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuYWxwaGFtYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuYWxwaGF0ZXN0X2ZyYWdtZW50LFxuVEhSRUUuU2hhZGVyQ2h1bmsuc3BlY3VsYXJtYXBfZnJhZ21lbnQsXCJcXHQjaWZkZWYgRE9VQkxFX1NJREVEXFxuXFx0XFx0aWYgKCBnbF9Gcm9udEZhY2luZyApXFxuXFx0XFx0XFx0b3V0Z29pbmdMaWdodCArPSBkaWZmdXNlQ29sb3IucmdiICogdkxpZ2h0RnJvbnQgKyBlbWlzc2l2ZTtcXG5cXHRcXHRlbHNlXFxuXFx0XFx0XFx0b3V0Z29pbmdMaWdodCArPSBkaWZmdXNlQ29sb3IucmdiICogdkxpZ2h0QmFjayArIGVtaXNzaXZlO1xcblxcdCNlbHNlXFxuXFx0XFx0b3V0Z29pbmdMaWdodCArPSBkaWZmdXNlQ29sb3IucmdiICogdkxpZ2h0RnJvbnQgKyBlbWlzc2l2ZTtcXG5cXHQjZW5kaWZcIixUSFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmxpbmVhcl90b19nYW1tYV9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5mb2dfZnJhZ21lbnQsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcbn1cIl0uam9pbihcIlxcblwiKX0sXG5waG9uZzp7dW5pZm9ybXM6VEhSRUUuVW5pZm9ybXNVdGlscy5tZXJnZShbVEhSRUUuVW5pZm9ybXNMaWIuY29tbW9uLFRIUkVFLlVuaWZvcm1zTGliLmJ1bXAsVEhSRUUuVW5pZm9ybXNMaWIubm9ybWFsbWFwLFRIUkVFLlVuaWZvcm1zTGliLmZvZyxUSFJFRS5Vbmlmb3Jtc0xpYi5saWdodHMsVEhSRUUuVW5pZm9ybXNMaWIuc2hhZG93bWFwLHtlbWlzc2l2ZTp7dHlwZTpcImNcIix2YWx1ZTpuZXcgVEhSRUUuQ29sb3IoMCl9LHNwZWN1bGFyOnt0eXBlOlwiY1wiLHZhbHVlOm5ldyBUSFJFRS5Db2xvcigxMTE4NDgxKX0sc2hpbmluZXNzOnt0eXBlOlwiZlwiLHZhbHVlOjMwfSx3cmFwUkdCOnt0eXBlOlwidjNcIix2YWx1ZTpuZXcgVEhSRUUuVmVjdG9yMygxLDEsMSl9fV0pLHZlcnRleFNoYWRlcjpbXCIjZGVmaW5lIFBIT05HXFxudmFyeWluZyB2ZWMzIHZWaWV3UG9zaXRpb247XFxuI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZhcnlpbmcgdmVjMyB2Tm9ybWFsO1xcbiNlbmRpZlwiLFRIUkVFLlNoYWRlckNodW5rLmNvbW1vbixcblRIUkVFLlNoYWRlckNodW5rLm1hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5saWdodG1hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRzX3Bob25nX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLm1vcnBodGFyZ2V0X3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5uaW5nX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleCxcInZvaWQgbWFpbigpIHtcIixUSFJFRS5TaGFkZXJDaHVuay5tYXBfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGhub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5iYXNlX3ZlcnRleCxcblRIUkVFLlNoYWRlckNodW5rLnNraW5ub3JtYWxfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmRlZmF1bHRub3JtYWxfdmVydGV4LFwiI2lmbmRlZiBGTEFUX1NIQURFRFxcblxcdHZOb3JtYWwgPSBub3JtYWxpemUoIHRyYW5zZm9ybWVkTm9ybWFsICk7XFxuI2VuZGlmXCIsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNraW5uaW5nX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5kZWZhdWx0X3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl92ZXJ0ZXgsXCJcXHR2Vmlld1Bvc2l0aW9uID0gLW12UG9zaXRpb24ueHl6O1wiLFRIUkVFLlNoYWRlckNodW5rLndvcmxkcG9zX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5lbnZtYXBfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0c19waG9uZ192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3ZlcnRleCxcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCIjZGVmaW5lIFBIT05HXFxudW5pZm9ybSB2ZWMzIGRpZmZ1c2U7XFxudW5pZm9ybSB2ZWMzIGVtaXNzaXZlO1xcbnVuaWZvcm0gdmVjMyBzcGVjdWxhcjtcXG51bmlmb3JtIGZsb2F0IHNoaW5pbmVzcztcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsXG5USFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5tYXBfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5hbHBoYW1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuZW52bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuZm9nX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRzX3Bob25nX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuc2hhZG93bWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuYnVtcG1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLm5vcm1hbG1hcF9wYXJzX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLnNwZWN1bGFybWFwX3BhcnNfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxcblwidm9pZCBtYWluKCkge1xcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLm1hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5hbHBoYW1hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5hbHBoYXRlc3RfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsuc3BlY3VsYXJtYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubGlnaHRzX3Bob25nX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmxpZ2h0bWFwX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmVudm1hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubGluZWFyX3RvX2dhbW1hX2ZyYWdtZW50LFxuVEhSRUUuU2hhZGVyQ2h1bmsuZm9nX2ZyYWdtZW50LFwiXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG59XCJdLmpvaW4oXCJcXG5cIil9LHBhcnRpY2xlX2Jhc2ljOnt1bmlmb3JtczpUSFJFRS5Vbmlmb3Jtc1V0aWxzLm1lcmdlKFtUSFJFRS5Vbmlmb3Jtc0xpYi5wYXJ0aWNsZSxUSFJFRS5Vbmlmb3Jtc0xpYi5zaGFkb3dtYXBdKSx2ZXJ0ZXhTaGFkZXI6W1widW5pZm9ybSBmbG9hdCBzaXplO1xcbnVuaWZvcm0gZmxvYXQgc2NhbGU7XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX3BhcnNfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF9wYXJzX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX3ZlcnRleCxcInZvaWQgbWFpbigpIHtcIixUSFJFRS5TaGFkZXJDaHVuay5jb2xvcl92ZXJ0ZXgsXCJcXHR2ZWM0IG12UG9zaXRpb24gPSBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XFxuXFx0I2lmZGVmIFVTRV9TSVpFQVRURU5VQVRJT05cXG5cXHRcXHRnbF9Qb2ludFNpemUgPSBzaXplICogKCBzY2FsZSAvIGxlbmd0aCggbXZQb3NpdGlvbi54eXogKSApO1xcblxcdCNlbHNlXFxuXFx0XFx0Z2xfUG9pbnRTaXplID0gc2l6ZTtcXG5cXHQjZW5kaWZcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1wiLFxuVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLndvcmxkcG9zX3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfdmVydGV4LFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcInVuaWZvcm0gdmVjMyBwc0NvbG9yO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcIixUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5tYXBfcGFydGljbGVfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5mb2dfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5zaGFkb3dtYXBfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50LFwidm9pZCBtYWluKCkge1xcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggcHNDb2xvciwgb3BhY2l0eSApO1wiLFxuVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfZnJhZ21lbnQsVEhSRUUuU2hhZGVyQ2h1bmsubWFwX3BhcnRpY2xlX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmFscGhhdGVzdF9mcmFnbWVudCxcIlxcdG91dGdvaW5nTGlnaHQgPSBkaWZmdXNlQ29sb3IucmdiO1wiLFRIUkVFLlNoYWRlckNodW5rLnNoYWRvd21hcF9mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5mb2dfZnJhZ21lbnQsXCJcXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCBvdXRnb2luZ0xpZ2h0LCBkaWZmdXNlQ29sb3IuYSApO1xcbn1cIl0uam9pbihcIlxcblwiKX0sZGFzaGVkOnt1bmlmb3JtczpUSFJFRS5Vbmlmb3Jtc1V0aWxzLm1lcmdlKFtUSFJFRS5Vbmlmb3Jtc0xpYi5jb21tb24sVEhSRUUuVW5pZm9ybXNMaWIuZm9nLHtzY2FsZTp7dHlwZTpcImZcIix2YWx1ZToxfSxkYXNoU2l6ZTp7dHlwZTpcImZcIix2YWx1ZToxfSx0b3RhbFNpemU6e3R5cGU6XCJmXCIsdmFsdWU6Mn19XSksXG52ZXJ0ZXhTaGFkZXI6W1widW5pZm9ybSBmbG9hdCBzY2FsZTtcXG5hdHRyaWJ1dGUgZmxvYXQgbGluZURpc3RhbmNlO1xcbnZhcnlpbmcgZmxvYXQgdkxpbmVEaXN0YW5jZTtcIixUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc192ZXJ0ZXgsXCJ2b2lkIG1haW4oKSB7XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfdmVydGV4LFwiXFx0dkxpbmVEaXN0YW5jZSA9IHNjYWxlICogbGluZURpc3RhbmNlO1xcblxcdHZlYzQgbXZQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIHBvc2l0aW9uLCAxLjAgKTtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtdlBvc2l0aW9uO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3ZlcnRleCxcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIHZlYzMgZGlmZnVzZTtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XFxudW5pZm9ybSBmbG9hdCBkYXNoU2l6ZTtcXG51bmlmb3JtIGZsb2F0IHRvdGFsU2l6ZTtcXG52YXJ5aW5nIGZsb2F0IHZMaW5lRGlzdGFuY2U7XCIsXG5USFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsuY29sb3JfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5mb2dfcGFyc19mcmFnbWVudCxUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50LFwidm9pZCBtYWluKCkge1xcblxcdGlmICggbW9kKCB2TGluZURpc3RhbmNlLCB0b3RhbFNpemUgKSA+IGRhc2hTaXplICkge1xcblxcdFxcdGRpc2NhcmQ7XFxuXFx0fVxcblxcdHZlYzMgb3V0Z29pbmdMaWdodCA9IHZlYzMoIDAuMCApO1xcblxcdHZlYzQgZGlmZnVzZUNvbG9yID0gdmVjNCggZGlmZnVzZSwgb3BhY2l0eSApO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX2ZyYWdtZW50LFRIUkVFLlNoYWRlckNodW5rLmNvbG9yX2ZyYWdtZW50LFwiXFx0b3V0Z29pbmdMaWdodCA9IGRpZmZ1c2VDb2xvci5yZ2I7XCIsVEhSRUUuU2hhZGVyQ2h1bmsuZm9nX2ZyYWdtZW50LFwiXFx0Z2xfRnJhZ0NvbG9yID0gdmVjNCggb3V0Z29pbmdMaWdodCwgZGlmZnVzZUNvbG9yLmEgKTtcXG59XCJdLmpvaW4oXCJcXG5cIil9LFxuZGVwdGg6e3VuaWZvcm1zOnttTmVhcjp7dHlwZTpcImZcIix2YWx1ZToxfSxtRmFyOnt0eXBlOlwiZlwiLHZhbHVlOjJFM30sb3BhY2l0eTp7dHlwZTpcImZcIix2YWx1ZToxfX0sdmVydGV4U2hhZGVyOltUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc192ZXJ0ZXgsXCJ2b2lkIG1haW4oKSB7XCIsVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmRlZmF1bHRfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3ZlcnRleCxcIn1cIl0uam9pbihcIlxcblwiKSxmcmFnbWVudFNoYWRlcjpbXCJ1bmlmb3JtIGZsb2F0IG1OZWFyO1xcbnVuaWZvcm0gZmxvYXQgbUZhcjtcXG51bmlmb3JtIGZsb2F0IG9wYWNpdHk7XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQsXG5cInZvaWQgbWFpbigpIHtcIixUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9mcmFnbWVudCxcIlxcdCNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUXFxuXFx0XFx0ZmxvYXQgZGVwdGggPSBnbF9GcmFnRGVwdGhFWFQgLyBnbF9GcmFnQ29vcmQudztcXG5cXHQjZWxzZVxcblxcdFxcdGZsb2F0IGRlcHRoID0gZ2xfRnJhZ0Nvb3JkLnogLyBnbF9GcmFnQ29vcmQudztcXG5cXHQjZW5kaWZcXG5cXHRmbG9hdCBjb2xvciA9IDEuMCAtIHNtb290aHN0ZXAoIG1OZWFyLCBtRmFyLCBkZXB0aCApO1xcblxcdGdsX0ZyYWdDb2xvciA9IHZlYzQoIHZlYzMoIGNvbG9yICksIG9wYWNpdHkgKTtcXG59XCJdLmpvaW4oXCJcXG5cIil9LG5vcm1hbDp7dW5pZm9ybXM6e29wYWNpdHk6e3R5cGU6XCJmXCIsdmFsdWU6MX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzMgdk5vcm1hbDtcIixUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc192ZXJ0ZXgsXG5cInZvaWQgbWFpbigpIHtcXG5cXHR2Tm9ybWFsID0gbm9ybWFsaXplKCBub3JtYWxNYXRyaXggKiBub3JtYWwgKTtcIixUSFJFRS5TaGFkZXJDaHVuay5tb3JwaHRhcmdldF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuZGVmYXVsdF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfdmVydGV4LFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcInVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG52YXJ5aW5nIHZlYzMgdk5vcm1hbDtcIixUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxcInZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB2ZWM0KCAwLjUgKiBub3JtYWxpemUoIHZOb3JtYWwgKSArIDAuNSwgb3BhY2l0eSApO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX2ZyYWdtZW50LFwifVwiXS5qb2luKFwiXFxuXCIpfSxjdWJlOnt1bmlmb3Jtczp7dEN1YmU6e3R5cGU6XCJ0XCIsdmFsdWU6bnVsbH0sXG50RmxpcDp7dHlwZTpcImZcIix2YWx1ZTotMX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4LFwidm9pZCBtYWluKCkge1xcblxcdHZXb3JsZFBvc2l0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfdmVydGV4LFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltcInVuaWZvcm0gc2FtcGxlckN1YmUgdEN1YmU7XFxudW5pZm9ybSBmbG9hdCB0RmxpcDtcXG52YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfZnJhZ21lbnQsXG5cInZvaWQgbWFpbigpIHtcXG5cXHRnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlQ3ViZSggdEN1YmUsIHZlYzMoIHRGbGlwICogdldvcmxkUG9zaXRpb24ueCwgdldvcmxkUG9zaXRpb24ueXogKSApO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX2ZyYWdtZW50LFwifVwiXS5qb2luKFwiXFxuXCIpfSxlcXVpcmVjdDp7dW5pZm9ybXM6e3RFcXVpcmVjdDp7dHlwZTpcInRcIix2YWx1ZTpudWxsfSx0RmxpcDp7dHlwZTpcImZcIix2YWx1ZTotMX19LHZlcnRleFNoYWRlcjpbXCJ2YXJ5aW5nIHZlYzMgdldvcmxkUG9zaXRpb247XCIsVEhSRUUuU2hhZGVyQ2h1bmsuY29tbW9uLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX3BhcnNfdmVydGV4LFwidm9pZCBtYWluKCkge1xcblxcdHZXb3JsZFBvc2l0aW9uID0gdHJhbnNmb3JtRGlyZWN0aW9uKCBwb3NpdGlvbiwgbW9kZWxNYXRyaXggKTtcXG5cXHRnbF9Qb3NpdGlvbiA9IHByb2plY3Rpb25NYXRyaXggKiBtb2RlbFZpZXdNYXRyaXggKiB2ZWM0KCBwb3NpdGlvbiwgMS4wICk7XCIsXG5USFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl92ZXJ0ZXgsXCJ9XCJdLmpvaW4oXCJcXG5cIiksZnJhZ21lbnRTaGFkZXI6W1widW5pZm9ybSBzYW1wbGVyMkQgdEVxdWlyZWN0O1xcbnVuaWZvcm0gZmxvYXQgdEZsaXA7XFxudmFyeWluZyB2ZWMzIHZXb3JsZFBvc2l0aW9uO1wiLFRIUkVFLlNoYWRlckNodW5rLmNvbW1vbixUSFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9wYXJzX2ZyYWdtZW50LFwidm9pZCBtYWluKCkge1xcbnZlYzMgZGlyZWN0aW9uID0gbm9ybWFsaXplKCB2V29ybGRQb3NpdGlvbiApO1xcbnZlYzIgc2FtcGxlVVY7XFxuc2FtcGxlVVYueSA9IHNhdHVyYXRlKCB0RmxpcCAqIGRpcmVjdGlvbi55ICogLTAuNSArIDAuNSApO1xcbnNhbXBsZVVWLnggPSBhdGFuKCBkaXJlY3Rpb24ueiwgZGlyZWN0aW9uLnggKSAqIFJFQ0lQUk9DQUxfUEkyICsgMC41O1xcbmdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggdEVxdWlyZWN0LCBzYW1wbGVVViApO1wiLFRIUkVFLlNoYWRlckNodW5rLmxvZ2RlcHRoYnVmX2ZyYWdtZW50LFxuXCJ9XCJdLmpvaW4oXCJcXG5cIil9LGRlcHRoUkdCQTp7dW5pZm9ybXM6e30sdmVydGV4U2hhZGVyOltUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsubW9ycGh0YXJnZXRfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbm5pbmdfcGFyc192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc192ZXJ0ZXgsXCJ2b2lkIG1haW4oKSB7XCIsVEhSRUUuU2hhZGVyQ2h1bmsuc2tpbmJhc2VfdmVydGV4LFRIUkVFLlNoYWRlckNodW5rLm1vcnBodGFyZ2V0X3ZlcnRleCxUSFJFRS5TaGFkZXJDaHVuay5za2lubmluZ192ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsuZGVmYXVsdF92ZXJ0ZXgsVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfdmVydGV4LFwifVwiXS5qb2luKFwiXFxuXCIpLGZyYWdtZW50U2hhZGVyOltUSFJFRS5TaGFkZXJDaHVuay5jb21tb24sVEhSRUUuU2hhZGVyQ2h1bmsubG9nZGVwdGhidWZfcGFyc19mcmFnbWVudCxcInZlYzQgcGFja19kZXB0aCggY29uc3QgaW4gZmxvYXQgZGVwdGggKSB7XFxuXFx0Y29uc3QgdmVjNCBiaXRfc2hpZnQgPSB2ZWM0KCAyNTYuMCAqIDI1Ni4wICogMjU2LjAsIDI1Ni4wICogMjU2LjAsIDI1Ni4wLCAxLjAgKTtcXG5cXHRjb25zdCB2ZWM0IGJpdF9tYXNrID0gdmVjNCggMC4wLCAxLjAgLyAyNTYuMCwgMS4wIC8gMjU2LjAsIDEuMCAvIDI1Ni4wICk7XFxuXFx0dmVjNCByZXMgPSBtb2QoIGRlcHRoICogYml0X3NoaWZ0ICogdmVjNCggMjU1ICksIHZlYzQoIDI1NiApICkgLyB2ZWM0KCAyNTUgKTtcXG5cXHRyZXMgLT0gcmVzLnh4eXogKiBiaXRfbWFzaztcXG5cXHRyZXR1cm4gcmVzO1xcbn1cXG52b2lkIG1haW4oKSB7XCIsXG5USFJFRS5TaGFkZXJDaHVuay5sb2dkZXB0aGJ1Zl9mcmFnbWVudCxcIlxcdCNpZmRlZiBVU0VfTE9HREVQVEhCVUZfRVhUXFxuXFx0XFx0Z2xfRnJhZ0RhdGFbIDAgXSA9IHBhY2tfZGVwdGgoIGdsX0ZyYWdEZXB0aEVYVCApO1xcblxcdCNlbHNlXFxuXFx0XFx0Z2xfRnJhZ0RhdGFbIDAgXSA9IHBhY2tfZGVwdGgoIGdsX0ZyYWdDb29yZC56ICk7XFxuXFx0I2VuZGlmXFxufVwiXS5qb2luKFwiXFxuXCIpfX07XG5USFJFRS5XZWJHTFJlbmRlcmVyPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS5nZW9tZXRyeTthPWEubWF0ZXJpYWw7dmFyIGM9Yi52ZXJ0aWNlcy5sZW5ndGg7aWYoYS5hdHRyaWJ1dGVzKXt2b2lkIDA9PT1iLl9fd2ViZ2xDdXN0b21BdHRyaWJ1dGVzTGlzdCYmKGIuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0PVtdKTtmb3IodmFyIGQgaW4gYS5hdHRyaWJ1dGVzKXt2YXIgZT1hLmF0dHJpYnV0ZXNbZF07aWYoIWUuX193ZWJnbEluaXRpYWxpemVkfHxlLmNyZWF0ZVVuaXF1ZUJ1ZmZlcnMpe2UuX193ZWJnbEluaXRpYWxpemVkPSEwO3ZhciBmPTE7XCJ2MlwiPT09ZS50eXBlP2Y9MjpcInYzXCI9PT1lLnR5cGU/Zj0zOlwidjRcIj09PWUudHlwZT9mPTQ6XCJjXCI9PT1lLnR5cGUmJihmPTMpO2Uuc2l6ZT1mO2UuYXJyYXk9bmV3IEZsb2F0MzJBcnJheShjKmYpO2UuYnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7ZS5idWZmZXIuYmVsb25nc1RvQXR0cmlidXRlPWQ7ZS5uZWVkc1VwZGF0ZT1cbiEwfWIuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0LnB1c2goZSl9fX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEubWF0ZXJpYWwgaW5zdGFuY2VvZiBUSFJFRS5NZXNoRmFjZU1hdGVyaWFsP2EubWF0ZXJpYWwubWF0ZXJpYWxzW2IubWF0ZXJpYWxJbmRleF06YS5tYXRlcmlhbH1mdW5jdGlvbiBkKGEsYixjLGQpe2M9Yy5hdHRyaWJ1dGVzO3ZhciBlPWIuYXR0cmlidXRlcztiPWIuYXR0cmlidXRlc0tleXM7Zm9yKHZhciBmPTAsZz1iLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1iW2ZdLGs9ZVtoXTtpZigwPD1rKXt2YXIgbj1jW2hdO3ZvaWQgMCE9PW4/KGg9bi5pdGVtU2l6ZSxtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsbi5idWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGspLG0udmVydGV4QXR0cmliUG9pbnRlcihrLGgsbS5GTE9BVCwhMSwwLGQqaCo0KSk6dm9pZCAwIT09YS5kZWZhdWx0QXR0cmlidXRlVmFsdWVzJiYoMj09PWEuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc1toXS5sZW5ndGg/XG5tLnZlcnRleEF0dHJpYjJmdihrLGEuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc1toXSk6Mz09PWEuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc1toXS5sZW5ndGgmJm0udmVydGV4QXR0cmliM2Z2KGssYS5kZWZhdWx0QXR0cmlidXRlVmFsdWVzW2hdKSl9fVcuZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXMoKX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGEub2JqZWN0LnJlbmRlck9yZGVyIT09Yi5vYmplY3QucmVuZGVyT3JkZXI/YS5vYmplY3QucmVuZGVyT3JkZXItYi5vYmplY3QucmVuZGVyT3JkZXI6YS5tYXRlcmlhbC5pZCE9PWIubWF0ZXJpYWwuaWQ/YS5tYXRlcmlhbC5pZC1iLm1hdGVyaWFsLmlkOmEueiE9PWIuej9hLnotYi56OmEuaWQtYi5pZH1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEub2JqZWN0LnJlbmRlck9yZGVyIT09Yi5vYmplY3QucmVuZGVyT3JkZXI/YS5vYmplY3QucmVuZGVyT3JkZXItYi5vYmplY3QucmVuZGVyT3JkZXI6YS56IT09Yi56P2Iuei1hLno6YS5pZC1iLmlkfWZ1bmN0aW9uIGcoYSxcbmIpe3JldHVybiBiWzBdLWFbMF19ZnVuY3Rpb24gaChhKXtpZighMSE9PWEudmlzaWJsZSl7aWYoIShhIGluc3RhbmNlb2YgVEhSRUUuU2NlbmV8fGEgaW5zdGFuY2VvZiBUSFJFRS5Hcm91cCkpe3ZvaWQgMD09PWEuX193ZWJnbEluaXQmJihhLl9fd2ViZ2xJbml0PSEwLGEuX21vZGVsVmlld01hdHJpeD1uZXcgVEhSRUUuTWF0cml4NCxhLl9ub3JtYWxNYXRyaXg9bmV3IFRIUkVFLk1hdHJpeDMsYS5hZGRFdmVudExpc3RlbmVyKFwicmVtb3ZlZFwiLHdiKSk7dmFyIGM9YS5nZW9tZXRyeTtpZih2b2lkIDAhPT1jJiZ2b2lkIDA9PT1jLl9fd2ViZ2xJbml0KWlmKGMuX193ZWJnbEluaXQ9ITAsYy5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGpiKSxjIGluc3RhbmNlb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnkpQi5pbmZvLm1lbW9yeS5nZW9tZXRyaWVzKys7ZWxzZSBpZihhIGluc3RhbmNlb2YgVEhSRUUuTWVzaClxKGEsYyk7ZWxzZSBpZihhIGluc3RhbmNlb2YgVEhSRUUuTGluZSl7aWYodm9pZCAwPT09XG5jLl9fd2ViZ2xWZXJ0ZXhCdWZmZXIpe2MuX193ZWJnbFZlcnRleEJ1ZmZlcj1tLmNyZWF0ZUJ1ZmZlcigpO2MuX193ZWJnbENvbG9yQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7Yy5fX3dlYmdsTGluZURpc3RhbmNlQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7Qi5pbmZvLm1lbW9yeS5nZW9tZXRyaWVzKys7dmFyIGQ9Yy52ZXJ0aWNlcy5sZW5ndGg7Yy5fX3ZlcnRleEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMypkKTtjLl9fY29sb3JBcnJheT1uZXcgRmxvYXQzMkFycmF5KDMqZCk7Yy5fX2xpbmVEaXN0YW5jZUFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMSpkKTtjLl9fd2ViZ2xMaW5lQ291bnQ9ZDtiKGEpO2MudmVydGljZXNOZWVkVXBkYXRlPSEwO2MuY29sb3JzTmVlZFVwZGF0ZT0hMDtjLmxpbmVEaXN0YW5jZXNOZWVkVXBkYXRlPSEwfX1lbHNlIGEgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludENsb3VkJiZ2b2lkIDA9PT1jLl9fd2ViZ2xWZXJ0ZXhCdWZmZXImJihjLl9fd2ViZ2xWZXJ0ZXhCdWZmZXI9XG5tLmNyZWF0ZUJ1ZmZlcigpLGMuX193ZWJnbENvbG9yQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCksQi5pbmZvLm1lbW9yeS5nZW9tZXRyaWVzKyssZD1jLnZlcnRpY2VzLmxlbmd0aCxjLl9fdmVydGV4QXJyYXk9bmV3IEZsb2F0MzJBcnJheSgzKmQpLGMuX19jb2xvckFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMypkKSxjLl9fd2ViZ2xQYXJ0aWNsZUNvdW50PWQsYihhKSxjLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMCxjLmNvbG9yc05lZWRVcGRhdGU9ITApO2lmKHZvaWQgMD09PWEuX193ZWJnbEFjdGl2ZSlpZihhLl9fd2ViZ2xBY3RpdmU9ITAsYSBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpaWYoYyBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5KW4oYmEsYyxhKTtlbHNle2lmKGMgaW5zdGFuY2VvZiBUSFJFRS5HZW9tZXRyeSlmb3IodmFyIGM9VWFbYy5pZF0sZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKyluKGJhLGNbZF0sYSl9ZWxzZSBhIGluc3RhbmNlb2YgVEhSRUUuTGluZXx8YSBpbnN0YW5jZW9mXG5USFJFRS5Qb2ludENsb3VkP24oYmEsYyxhKTooYSBpbnN0YW5jZW9mIFRIUkVFLkltbWVkaWF0ZVJlbmRlck9iamVjdHx8YS5pbW1lZGlhdGVSZW5kZXJDYWxsYmFjaykmJnFhLnB1c2goe2lkOm51bGwsb2JqZWN0OmEsb3BhcXVlOm51bGwsdHJhbnNwYXJlbnQ6bnVsbCx6OjB9KTtpZihhIGluc3RhbmNlb2YgVEhSRUUuTGlnaHQpY2EucHVzaChhKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBUSFJFRS5TcHJpdGUpWGEucHVzaChhKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBUSFJFRS5MZW5zRmxhcmUpWWEucHVzaChhKTtlbHNlIGlmKChjPWJhW2EuaWRdKSYmKCExPT09YS5mcnVzdHVtQ3VsbGVkfHwhMD09PWNiLmludGVyc2VjdHNPYmplY3QoYSkpKWZvcihkPTAsZT1jLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1jW2RdLGc9ZixrPWcub2JqZWN0LGw9Zy5idWZmZXIscD1rLmdlb21ldHJ5LGs9ay5tYXRlcmlhbDtrIGluc3RhbmNlb2YgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbD8oaz1rLm1hdGVyaWFsc1twIGluc3RhbmNlb2ZcblRIUkVFLkJ1ZmZlckdlb21ldHJ5PzA6bC5tYXRlcmlhbEluZGV4XSxnLm1hdGVyaWFsPWssay50cmFuc3BhcmVudD9RYS5wdXNoKGcpOkthLnB1c2goZykpOmsmJihnLm1hdGVyaWFsPWssay50cmFuc3BhcmVudD9RYS5wdXNoKGcpOkthLnB1c2goZykpO2YucmVuZGVyPSEwOyEwPT09Qi5zb3J0T2JqZWN0cyYmKHdhLnNldEZyb21NYXRyaXhQb3NpdGlvbihhLm1hdHJpeFdvcmxkKSx3YS5hcHBseVByb2plY3Rpb24oZGIpLGYuej13YS56KX19ZD0wO2ZvcihlPWEuY2hpbGRyZW4ubGVuZ3RoO2Q8ZTtkKyspaChhLmNoaWxkcmVuW2RdKX19ZnVuY3Rpb24gayhhLGIsYyxkLGUpe2Zvcih2YXIgZixnPTAsaD1hLmxlbmd0aDtnPGg7ZysrKXtmPWFbZ107dmFyIGs9Zi5vYmplY3QsbT1mLmJ1ZmZlcjt3KGssYik7aWYoZSlmPWU7ZWxzZXtmPWYubWF0ZXJpYWw7aWYoIWYpY29udGludWU7dShmKX1CLnNldE1hdGVyaWFsRmFjZXMoZik7bSBpbnN0YW5jZW9mIFRIUkVFLkJ1ZmZlckdlb21ldHJ5P1xuQi5yZW5kZXJCdWZmZXJEaXJlY3QoYixjLGQsZixtLGspOkIucmVuZGVyQnVmZmVyKGIsYyxkLGYsbSxrKX19ZnVuY3Rpb24gbChhLGIsYyxkLGUsZil7Zm9yKHZhciBnLGg9MCxrPWEubGVuZ3RoO2g8aztoKyspe2c9YVtoXTt2YXIgbT1nLm9iamVjdDtpZihtLnZpc2libGUpe2lmKGYpZz1mO2Vsc2V7Zz1nW2JdO2lmKCFnKWNvbnRpbnVlO3UoZyl9Qi5yZW5kZXJJbW1lZGlhdGVPYmplY3QoYyxkLGUsZyxtKX19fWZ1bmN0aW9uIHAoYSl7dmFyIGI9YS5vYmplY3QubWF0ZXJpYWw7Yi50cmFuc3BhcmVudD8oYS50cmFuc3BhcmVudD1iLGEub3BhcXVlPW51bGwpOihhLm9wYXF1ZT1iLGEudHJhbnNwYXJlbnQ9bnVsbCl9ZnVuY3Rpb24gcShhLGIpe3ZhciBkPWEubWF0ZXJpYWwsZT0hMTtpZih2b2lkIDA9PT1VYVtiLmlkXXx8ITA9PT1iLmdyb3Vwc05lZWRVcGRhdGUpe2RlbGV0ZSBiYVthLmlkXTtmb3IodmFyIGY9VWEsZz1iLmlkLGQ9ZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hGYWNlTWF0ZXJpYWwsXG5oPWRhLmdldChcIk9FU19lbGVtZW50X2luZGV4X3VpbnRcIik/NDI5NDk2NzI5Njo2NTUzNSxrLGU9e30sbD1iLm1vcnBoVGFyZ2V0cy5sZW5ndGgscD1iLm1vcnBoTm9ybWFscy5sZW5ndGgscSxzPXt9LHQ9W10scj0wLHc9Yi5mYWNlcy5sZW5ndGg7cjx3O3IrKyl7az1iLmZhY2VzW3JdO3ZhciB1PWQ/ay5tYXRlcmlhbEluZGV4OjA7dSBpbiBlfHwoZVt1XT17aGFzaDp1LGNvdW50ZXI6MH0pO2s9ZVt1XS5oYXNoK1wiX1wiK2VbdV0uY291bnRlcjtrIGluIHN8fChxPXtpZDpRYisrLGZhY2VzMzpbXSxtYXRlcmlhbEluZGV4OnUsdmVydGljZXM6MCxudW1Nb3JwaFRhcmdldHM6bCxudW1Nb3JwaE5vcm1hbHM6cH0sc1trXT1xLHQucHVzaChxKSk7c1trXS52ZXJ0aWNlcyszPmgmJihlW3VdLmNvdW50ZXIrPTEsaz1lW3VdLmhhc2grXCJfXCIrZVt1XS5jb3VudGVyLGsgaW4gc3x8KHE9e2lkOlFiKyssZmFjZXMzOltdLG1hdGVyaWFsSW5kZXg6dSx2ZXJ0aWNlczowLG51bU1vcnBoVGFyZ2V0czpsLFxubnVtTW9ycGhOb3JtYWxzOnB9LHNba109cSx0LnB1c2gocSkpKTtzW2tdLmZhY2VzMy5wdXNoKHIpO3Nba10udmVydGljZXMrPTN9ZltnXT10O2IuZ3JvdXBzTmVlZFVwZGF0ZT0hMX1mPVVhW2IuaWRdO2c9MDtmb3IoZD1mLmxlbmd0aDtnPGQ7ZysrKXtoPWZbZ107aWYodm9pZCAwPT09aC5fX3dlYmdsVmVydGV4QnVmZmVyKXtlPWg7ZS5fX3dlYmdsVmVydGV4QnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7ZS5fX3dlYmdsTm9ybWFsQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7ZS5fX3dlYmdsVGFuZ2VudEJ1ZmZlcj1tLmNyZWF0ZUJ1ZmZlcigpO2UuX193ZWJnbENvbG9yQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7ZS5fX3dlYmdsVVZCdWZmZXI9bS5jcmVhdGVCdWZmZXIoKTtlLl9fd2ViZ2xVVjJCdWZmZXI9bS5jcmVhdGVCdWZmZXIoKTtlLl9fd2ViZ2xTa2luSW5kaWNlc0J1ZmZlcj1tLmNyZWF0ZUJ1ZmZlcigpO2UuX193ZWJnbFNraW5XZWlnaHRzQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7XG5lLl9fd2ViZ2xGYWNlQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCk7ZS5fX3dlYmdsTGluZUJ1ZmZlcj1tLmNyZWF0ZUJ1ZmZlcigpO2lmKHA9ZS5udW1Nb3JwaFRhcmdldHMpZm9yKGUuX193ZWJnbE1vcnBoVGFyZ2V0c0J1ZmZlcnM9W10sbD0wO2w8cDtsKyspZS5fX3dlYmdsTW9ycGhUYXJnZXRzQnVmZmVycy5wdXNoKG0uY3JlYXRlQnVmZmVyKCkpO2lmKHA9ZS5udW1Nb3JwaE5vcm1hbHMpZm9yKGUuX193ZWJnbE1vcnBoTm9ybWFsc0J1ZmZlcnM9W10sbD0wO2w8cDtsKyspZS5fX3dlYmdsTW9ycGhOb3JtYWxzQnVmZmVycy5wdXNoKG0uY3JlYXRlQnVmZmVyKCkpO0IuaW5mby5tZW1vcnkuZ2VvbWV0cmllcysrO2U9aDtyPWE7dz1yLmdlb21ldHJ5O3A9ZS5mYWNlczM7bD0zKnAubGVuZ3RoO3M9MSpwLmxlbmd0aDt0PTMqcC5sZW5ndGg7cD1jKHIsZSk7ZS5fX3ZlcnRleEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMypsKTtlLl9fbm9ybWFsQXJyYXk9bmV3IEZsb2F0MzJBcnJheSgzKmwpO1xuZS5fX2NvbG9yQXJyYXk9bmV3IEZsb2F0MzJBcnJheSgzKmwpO2UuX191dkFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMipsKTsxPHcuZmFjZVZlcnRleFV2cy5sZW5ndGgmJihlLl9fdXYyQXJyYXk9bmV3IEZsb2F0MzJBcnJheSgyKmwpKTt3Lmhhc1RhbmdlbnRzJiYoZS5fX3RhbmdlbnRBcnJheT1uZXcgRmxvYXQzMkFycmF5KDQqbCkpO3IuZ2VvbWV0cnkuc2tpbldlaWdodHMubGVuZ3RoJiZyLmdlb21ldHJ5LnNraW5JbmRpY2VzLmxlbmd0aCYmKGUuX19za2luSW5kZXhBcnJheT1uZXcgRmxvYXQzMkFycmF5KDQqbCksZS5fX3NraW5XZWlnaHRBcnJheT1uZXcgRmxvYXQzMkFycmF5KDQqbCkpO3I9bnVsbCE9PWRhLmdldChcIk9FU19lbGVtZW50X2luZGV4X3VpbnRcIikmJjIxODQ1PHM/VWludDMyQXJyYXk6VWludDE2QXJyYXk7ZS5fX3R5cGVBcnJheT1yO2UuX19mYWNlQXJyYXk9bmV3IHIoMypzKTtlLl9fbGluZUFycmF5PW5ldyByKDIqdCk7aWYodz1lLm51bU1vcnBoVGFyZ2V0cylmb3IoZS5fX21vcnBoVGFyZ2V0c0FycmF5cz1cbltdLHI9MDtyPHc7cisrKWUuX19tb3JwaFRhcmdldHNBcnJheXMucHVzaChuZXcgRmxvYXQzMkFycmF5KDMqbCkpO2lmKHc9ZS5udW1Nb3JwaE5vcm1hbHMpZm9yKGUuX19tb3JwaE5vcm1hbHNBcnJheXM9W10scj0wO3I8dztyKyspZS5fX21vcnBoTm9ybWFsc0FycmF5cy5wdXNoKG5ldyBGbG9hdDMyQXJyYXkoMypsKSk7ZS5fX3dlYmdsRmFjZUNvdW50PTMqcztlLl9fd2ViZ2xMaW5lQ291bnQ9Mip0O2lmKHAuYXR0cmlidXRlcylmb3IocyBpbiB2b2lkIDA9PT1lLl9fd2ViZ2xDdXN0b21BdHRyaWJ1dGVzTGlzdCYmKGUuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0PVtdKSxzPXZvaWQgMCxwLmF0dHJpYnV0ZXMpe3ZhciB0PXAuYXR0cmlidXRlc1tzXSxyPXt9LHY7Zm9yKHYgaW4gdClyW3ZdPXRbdl07aWYoIXIuX193ZWJnbEluaXRpYWxpemVkfHxyLmNyZWF0ZVVuaXF1ZUJ1ZmZlcnMpci5fX3dlYmdsSW5pdGlhbGl6ZWQ9ITAsdz0xLFwidjJcIj09PXIudHlwZT93PTI6XCJ2M1wiPT09XG5yLnR5cGU/dz0zOlwidjRcIj09PXIudHlwZT93PTQ6XCJjXCI9PT1yLnR5cGUmJih3PTMpLHIuc2l6ZT13LHIuYXJyYXk9bmV3IEZsb2F0MzJBcnJheShsKncpLHIuYnVmZmVyPW0uY3JlYXRlQnVmZmVyKCksci5idWZmZXIuYmVsb25nc1RvQXR0cmlidXRlPXMsdC5uZWVkc1VwZGF0ZT0hMCxyLl9fb3JpZ2luYWw9dDtlLl9fd2ViZ2xDdXN0b21BdHRyaWJ1dGVzTGlzdC5wdXNoKHIpfWUuX19pbml0dGVkQXJyYXlzPSEwO2IudmVydGljZXNOZWVkVXBkYXRlPSEwO2IubW9ycGhUYXJnZXRzTmVlZFVwZGF0ZT0hMDtiLmVsZW1lbnRzTmVlZFVwZGF0ZT0hMDtiLnV2c05lZWRVcGRhdGU9ITA7Yi5ub3JtYWxzTmVlZFVwZGF0ZT0hMDtiLnRhbmdlbnRzTmVlZFVwZGF0ZT0hMDtlPWIuY29sb3JzTmVlZFVwZGF0ZT0hMH1lbHNlIGU9ITE7KGV8fHZvaWQgMD09PWEuX193ZWJnbEFjdGl2ZSkmJm4oYmEsaCxhKX1hLl9fd2ViZ2xBY3RpdmU9ITB9ZnVuY3Rpb24gbihhLGIsYyl7dmFyIGQ9Yy5pZDthW2RdPVxuYVtkXXx8W107YVtkXS5wdXNoKHtpZDpkLGJ1ZmZlcjpiLG9iamVjdDpjLG1hdGVyaWFsOm51bGwsejowfSl9ZnVuY3Rpb24gdChhKXt2YXIgYj1hLmdlb21ldHJ5O2lmKGIgaW5zdGFuY2VvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeSlmb3IodmFyIGQ9Yi5hdHRyaWJ1dGVzLGU9Yi5hdHRyaWJ1dGVzS2V5cyxmPTAsZz1lLmxlbmd0aDtmPGc7ZisrKXt2YXIgaD1lW2ZdLGs9ZFtoXSxuPVwiaW5kZXhcIj09PWg/bS5FTEVNRU5UX0FSUkFZX0JVRkZFUjptLkFSUkFZX0JVRkZFUjt2b2lkIDA9PT1rLmJ1ZmZlcj8oay5idWZmZXI9bS5jcmVhdGVCdWZmZXIoKSxtLmJpbmRCdWZmZXIobixrLmJ1ZmZlciksbS5idWZmZXJEYXRhKG4say5hcnJheSxrIGluc3RhbmNlb2YgVEhSRUUuRHluYW1pY0J1ZmZlckF0dHJpYnV0ZT9tLkRZTkFNSUNfRFJBVzptLlNUQVRJQ19EUkFXKSxrLm5lZWRzVXBkYXRlPSExKTohMD09PWsubmVlZHNVcGRhdGUmJihtLmJpbmRCdWZmZXIobixrLmJ1ZmZlciksdm9pZCAwPT09XG5rLnVwZGF0ZVJhbmdlfHwtMT09PWsudXBkYXRlUmFuZ2UuY291bnQ/bS5idWZmZXJTdWJEYXRhKG4sMCxrLmFycmF5KTowPT09ay51cGRhdGVSYW5nZS5jb3VudD9jb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlci51cGRhdGVPYmplY3Q6IHVzaW5nIHVwZGF0ZVJhbmdlIGZvciBUSFJFRS5EeW5hbWljQnVmZmVyQXR0cmlidXRlIGFuZCBtYXJrZWQgYXMgbmVlZHNVcGRhdGUgYnV0IGNvdW50IGlzIDAsIGVuc3VyZSB5b3UgYXJlIHVzaW5nIHNldCBtZXRob2RzIG9yIHVwZGF0aW5nIG1hbnVhbGx5LlwiKToobS5idWZmZXJTdWJEYXRhKG4say51cGRhdGVSYW5nZS5vZmZzZXQqay5hcnJheS5CWVRFU19QRVJfRUxFTUVOVCxrLmFycmF5LnN1YmFycmF5KGsudXBkYXRlUmFuZ2Uub2Zmc2V0LGsudXBkYXRlUmFuZ2Uub2Zmc2V0K2sudXBkYXRlUmFuZ2UuY291bnQpKSxrLnVwZGF0ZVJhbmdlLmNvdW50PTApLGsubmVlZHNVcGRhdGU9ITEpfWVsc2UgaWYoYSBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpeyEwPT09XG5iLmdyb3Vwc05lZWRVcGRhdGUmJnEoYSxiKTtmb3IodmFyIGw9VWFbYi5pZF0sZj0wLHA9bC5sZW5ndGg7ZjxwO2YrKyl7dmFyIHQ9bFtmXSx3PWMoYSx0KSx1PXcuYXR0cmlidXRlcyYmcih3KTtpZihiLnZlcnRpY2VzTmVlZFVwZGF0ZXx8Yi5tb3JwaFRhcmdldHNOZWVkVXBkYXRlfHxiLmVsZW1lbnRzTmVlZFVwZGF0ZXx8Yi51dnNOZWVkVXBkYXRlfHxiLm5vcm1hbHNOZWVkVXBkYXRlfHxiLmNvbG9yc05lZWRVcGRhdGV8fGIudGFuZ2VudHNOZWVkVXBkYXRlfHx1KXt2YXIgdj10LHg9YSxEPW0uRFlOQU1JQ19EUkFXLEE9IWIuZHluYW1pYyxFPXc7aWYodi5fX2luaXR0ZWRBcnJheXMpe3ZhciBHPSExPT09RSBpbnN0YW5jZW9mIFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsJiZFLnNoYWRpbmc9PT1USFJFRS5GbGF0U2hhZGluZyx5PXZvaWQgMCx6PXZvaWQgMCxGPXZvaWQgMCxCPXZvaWQgMCxJPXZvaWQgMCxIPXZvaWQgMCxNPXZvaWQgMCxSPXZvaWQgMCxQPXZvaWQgMCxVPXZvaWQgMCxcbk89dm9pZCAwLEo9dm9pZCAwLEw9dm9pZCAwLE49dm9pZCAwLEthPXZvaWQgMCxWPXZvaWQgMCxXPXZvaWQgMCxRYT12b2lkIDAsWWE9dm9pZCAwLFhhPXZvaWQgMCxkYT12b2lkIDAsYmE9dm9pZCAwLGphPXZvaWQgMCxQYT12b2lkIDAsa2E9dm9pZCAwLFE9dm9pZCAwLGhhPXZvaWQgMCxpYT12b2lkIDAsb2I9dm9pZCAwLFk9dm9pZCAwLHViPXZvaWQgMCxwYT12b2lkIDAsYWI9dm9pZCAwLG9hPXZvaWQgMCxjYT12b2lkIDAscWE9dm9pZCAwLENhPXZvaWQgMCx0YT12b2lkIDAsbmE9dm9pZCAwLHdhPXZvaWQgMCxMYT0wLE1hPTAsa2I9MCx5Yj0wLHpiPTAsUmE9MCxBYT0wLGViPTAsSGE9MCxsYT0wLHJhPTAsSz0wLHphPXZvaWQgMCxTYT12Ll9fdmVydGV4QXJyYXksQWI9di5fX3V2QXJyYXksbGI9di5fX3V2MkFycmF5LE5hPXYuX19ub3JtYWxBcnJheSxzYT12Ll9fdGFuZ2VudEFycmF5LERhPXYuX19jb2xvckFycmF5LEVhPXYuX19za2luSW5kZXhBcnJheSxGYT12Ll9fc2tpbldlaWdodEFycmF5LFxuR2I9di5fX21vcnBoVGFyZ2V0c0FycmF5cyxCYj12Ll9fbW9ycGhOb3JtYWxzQXJyYXlzLG1iPXYuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0LEM9dm9pZCAwLFZhPXYuX19mYWNlQXJyYXksVGE9di5fX2xpbmVBcnJheSxlYT14Lmdlb21ldHJ5LGZiPWVhLmVsZW1lbnRzTmVlZFVwZGF0ZSx2Yj1lYS51dnNOZWVkVXBkYXRlLE1iPWVhLm5vcm1hbHNOZWVkVXBkYXRlLE9iPWVhLnRhbmdlbnRzTmVlZFVwZGF0ZSxpYj1lYS5jb2xvcnNOZWVkVXBkYXRlLHNiPWVhLm1vcnBoVGFyZ2V0c05lZWRVcGRhdGUsQ2I9ZWEudmVydGljZXMsJD12LmZhY2VzMyx4YT1lYS5mYWNlcyxIYj1lYS5mYWNlVmVydGV4VXZzWzBdLE9hPWVhLmZhY2VWZXJ0ZXhVdnNbMV0sJGE9ZWEuc2tpbkluZGljZXMsR2E9ZWEuc2tpbldlaWdodHMsbmI9ZWEubW9ycGhUYXJnZXRzLGJiPWVhLm1vcnBoTm9ybWFscztpZihlYS52ZXJ0aWNlc05lZWRVcGRhdGUpe3k9MDtmb3Ioej0kLmxlbmd0aDt5PHo7eSsrKUI9XG54YVskW3ldXSxKPUNiW0IuYV0sTD1DYltCLmJdLE49Q2JbQi5jXSxTYVtNYV09Si54LFNhW01hKzFdPUoueSxTYVtNYSsyXT1KLnosU2FbTWErM109TC54LFNhW01hKzRdPUwueSxTYVtNYSs1XT1MLnosU2FbTWErNl09Ti54LFNhW01hKzddPU4ueSxTYVtNYSs4XT1OLnosTWErPTk7bS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLHYuX193ZWJnbFZlcnRleEJ1ZmZlcik7bS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLFNhLEQpfWlmKHNiKWZvcihjYT0wLHFhPW5iLmxlbmd0aDtjYTxxYTtjYSsrKXt5PXJhPTA7Zm9yKHo9JC5sZW5ndGg7eTx6O3krKyluYT0kW3ldLEI9eGFbbmFdLEo9bmJbY2FdLnZlcnRpY2VzW0IuYV0sTD1uYltjYV0udmVydGljZXNbQi5iXSxOPW5iW2NhXS52ZXJ0aWNlc1tCLmNdLENhPUdiW2NhXSxDYVtyYV09Si54LENhW3JhKzFdPUoueSxDYVtyYSsyXT1KLnosQ2FbcmErM109TC54LENhW3JhKzRdPUwueSxDYVtyYSs1XT1MLnosQ2FbcmErNl09Ti54LENhW3JhK1xuN109Ti55LENhW3JhKzhdPU4ueixFLm1vcnBoTm9ybWFscyYmKEc/WGE9WWE9UWE9YmJbY2FdLmZhY2VOb3JtYWxzW25hXTood2E9YmJbY2FdLnZlcnRleE5vcm1hbHNbbmFdLFFhPXdhLmEsWWE9d2EuYixYYT13YS5jKSx0YT1CYltjYV0sdGFbcmFdPVFhLngsdGFbcmErMV09UWEueSx0YVtyYSsyXT1RYS56LHRhW3JhKzNdPVlhLngsdGFbcmErNF09WWEueSx0YVtyYSs1XT1ZYS56LHRhW3JhKzZdPVhhLngsdGFbcmErN109WGEueSx0YVtyYSs4XT1YYS56KSxyYSs9OTttLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsdi5fX3dlYmdsTW9ycGhUYXJnZXRzQnVmZmVyc1tjYV0pO20uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixHYltjYV0sRCk7RS5tb3JwaE5vcm1hbHMmJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsdi5fX3dlYmdsTW9ycGhOb3JtYWxzQnVmZmVyc1tjYV0pLG0uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixCYltjYV0sRCkpfWlmKEdhLmxlbmd0aCl7eT0wO1xuZm9yKHo9JC5sZW5ndGg7eTx6O3krKylCPXhhWyRbeV1dLFBhPUdhW0IuYV0sa2E9R2FbQi5iXSxRPUdhW0IuY10sRmFbbGFdPVBhLngsRmFbbGErMV09UGEueSxGYVtsYSsyXT1QYS56LEZhW2xhKzNdPVBhLncsRmFbbGErNF09a2EueCxGYVtsYSs1XT1rYS55LEZhW2xhKzZdPWthLnosRmFbbGErN109a2EudyxGYVtsYSs4XT1RLngsRmFbbGErOV09US55LEZhW2xhKzEwXT1RLnosRmFbbGErMTFdPVEudyxoYT0kYVtCLmFdLGlhPSRhW0IuYl0sb2I9JGFbQi5jXSxFYVtsYV09aGEueCxFYVtsYSsxXT1oYS55LEVhW2xhKzJdPWhhLnosRWFbbGErM109aGEudyxFYVtsYSs0XT1pYS54LEVhW2xhKzVdPWlhLnksRWFbbGErNl09aWEueixFYVtsYSs3XT1pYS53LEVhW2xhKzhdPW9iLngsRWFbbGErOV09b2IueSxFYVtsYSsxMF09b2IueixFYVtsYSsxMV09b2IudyxsYSs9MTI7MDxsYSYmKG0uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUix2Ll9fd2ViZ2xTa2luSW5kaWNlc0J1ZmZlciksXG5tLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsRWEsRCksbS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLHYuX193ZWJnbFNraW5XZWlnaHRzQnVmZmVyKSxtLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsRmEsRCkpfWlmKGliKXt5PTA7Zm9yKHo9JC5sZW5ndGg7eTx6O3krKylCPXhhWyRbeV1dLE09Qi52ZXJ0ZXhDb2xvcnMsUj1CLmNvbG9yLDM9PT1NLmxlbmd0aCYmRS52ZXJ0ZXhDb2xvcnM9PT1USFJFRS5WZXJ0ZXhDb2xvcnM/KGRhPU1bMF0sYmE9TVsxXSxqYT1NWzJdKTpqYT1iYT1kYT1SLERhW0hhXT1kYS5yLERhW0hhKzFdPWRhLmcsRGFbSGErMl09ZGEuYixEYVtIYSszXT1iYS5yLERhW0hhKzRdPWJhLmcsRGFbSGErNV09YmEuYixEYVtIYSs2XT1qYS5yLERhW0hhKzddPWphLmcsRGFbSGErOF09amEuYixIYSs9OTswPEhhJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLHYuX193ZWJnbENvbG9yQnVmZmVyKSxtLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsRGEsXG5EKSl9aWYoT2ImJmVhLmhhc1RhbmdlbnRzKXt5PTA7Zm9yKHo9JC5sZW5ndGg7eTx6O3krKylCPXhhWyRbeV1dLFA9Qi52ZXJ0ZXhUYW5nZW50cyxLYT1QWzBdLFY9UFsxXSxXPVBbMl0sc2FbQWFdPUthLngsc2FbQWErMV09S2EueSxzYVtBYSsyXT1LYS56LHNhW0FhKzNdPUthLncsc2FbQWErNF09Vi54LHNhW0FhKzVdPVYueSxzYVtBYSs2XT1WLnosc2FbQWErN109Vi53LHNhW0FhKzhdPVcueCxzYVtBYSs5XT1XLnksc2FbQWErMTBdPVcueixzYVtBYSsxMV09Vy53LEFhKz0xMjttLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsdi5fX3dlYmdsVGFuZ2VudEJ1ZmZlcik7bS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLHNhLEQpfWlmKE1iKXt5PTA7Zm9yKHo9JC5sZW5ndGg7eTx6O3krKylpZihCPXhhWyRbeV1dLEk9Qi52ZXJ0ZXhOb3JtYWxzLEg9Qi5ub3JtYWwsMz09PUkubGVuZ3RoJiYhMT09PUcpZm9yKFk9MDszPlk7WSsrKXBhPUlbWV0sTmFbUmFdPXBhLngsTmFbUmErMV09XG5wYS55LE5hW1JhKzJdPXBhLnosUmErPTM7ZWxzZSBmb3IoWT0wOzM+WTtZKyspTmFbUmFdPUgueCxOYVtSYSsxXT1ILnksTmFbUmErMl09SC56LFJhKz0zO20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUix2Ll9fd2ViZ2xOb3JtYWxCdWZmZXIpO20uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixOYSxEKX1pZih2YiYmSGIpe3k9MDtmb3Ioej0kLmxlbmd0aDt5PHo7eSsrKWlmKEY9JFt5XSxVPUhiW0ZdLHZvaWQgMCE9PVUpZm9yKFk9MDszPlk7WSsrKWFiPVVbWV0sQWJba2JdPWFiLngsQWJba2IrMV09YWIueSxrYis9MjswPGtiJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLHYuX193ZWJnbFVWQnVmZmVyKSxtLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsQWIsRCkpfWlmKHZiJiZPYSl7eT0wO2Zvcih6PSQubGVuZ3RoO3k8ejt5KyspaWYoRj0kW3ldLE89T2FbRl0sdm9pZCAwIT09Tylmb3IoWT0wOzM+WTtZKyspb2E9T1tZXSxsYlt5Yl09b2EueCxsYlt5YisxXT1vYS55LFxueWIrPTI7MDx5YiYmKG0uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUix2Ll9fd2ViZ2xVVjJCdWZmZXIpLG0uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixsYixEKSl9aWYoZmIpe3k9MDtmb3Ioej0kLmxlbmd0aDt5PHo7eSsrKVZhW3piXT1MYSxWYVt6YisxXT1MYSsxLFZhW3piKzJdPUxhKzIsemIrPTMsVGFbZWJdPUxhLFRhW2ViKzFdPUxhKzEsVGFbZWIrMl09TGEsVGFbZWIrM109TGErMixUYVtlYis0XT1MYSsxLFRhW2ViKzVdPUxhKzIsZWIrPTYsTGErPTM7bS5iaW5kQnVmZmVyKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsdi5fX3dlYmdsRmFjZUJ1ZmZlcik7bS5idWZmZXJEYXRhKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsVmEsRCk7bS5iaW5kQnVmZmVyKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsdi5fX3dlYmdsTGluZUJ1ZmZlcik7bS5idWZmZXJEYXRhKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsVGEsRCl9aWYobWIpZm9yKFk9MCx1Yj1tYi5sZW5ndGg7WTx1YjtZKyspaWYoQz1cbm1iW1ldLEMuX19vcmlnaW5hbC5uZWVkc1VwZGF0ZSl7Sz0wO2lmKDE9PT1DLnNpemUpaWYodm9pZCAwPT09Qy5ib3VuZFRvfHxcInZlcnRpY2VzXCI9PT1DLmJvdW5kVG8pZm9yKHk9MCx6PSQubGVuZ3RoO3k8ejt5KyspQj14YVskW3ldXSxDLmFycmF5W0tdPUMudmFsdWVbQi5hXSxDLmFycmF5W0srMV09Qy52YWx1ZVtCLmJdLEMuYXJyYXlbSysyXT1DLnZhbHVlW0IuY10sSys9MztlbHNle2lmKFwiZmFjZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKyl6YT1DLnZhbHVlWyRbeV1dLEMuYXJyYXlbS109emEsQy5hcnJheVtLKzFdPXphLEMuYXJyYXlbSysyXT16YSxLKz0zfWVsc2UgaWYoMj09PUMuc2l6ZSlpZih2b2lkIDA9PT1DLmJvdW5kVG98fFwidmVydGljZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKylCPXhhWyRbeV1dLEo9Qy52YWx1ZVtCLmFdLEw9Qy52YWx1ZVtCLmJdLE49Qy52YWx1ZVtCLmNdLEMuYXJyYXlbS109Si54LFxuQy5hcnJheVtLKzFdPUoueSxDLmFycmF5W0srMl09TC54LEMuYXJyYXlbSyszXT1MLnksQy5hcnJheVtLKzRdPU4ueCxDLmFycmF5W0srNV09Ti55LEsrPTY7ZWxzZXtpZihcImZhY2VzXCI9PT1DLmJvdW5kVG8pZm9yKHk9MCx6PSQubGVuZ3RoO3k8ejt5KyspTj1MPUo9emE9Qy52YWx1ZVskW3ldXSxDLmFycmF5W0tdPUoueCxDLmFycmF5W0srMV09Si55LEMuYXJyYXlbSysyXT1MLngsQy5hcnJheVtLKzNdPUwueSxDLmFycmF5W0srNF09Ti54LEMuYXJyYXlbSys1XT1OLnksSys9Nn1lbHNlIGlmKDM9PT1DLnNpemUpe3ZhciBUO1Q9XCJjXCI9PT1DLnR5cGU/W1wiclwiLFwiZ1wiLFwiYlwiXTpbXCJ4XCIsXCJ5XCIsXCJ6XCJdO2lmKHZvaWQgMD09PUMuYm91bmRUb3x8XCJ2ZXJ0aWNlc1wiPT09Qy5ib3VuZFRvKWZvcih5PTAsej0kLmxlbmd0aDt5PHo7eSsrKUI9eGFbJFt5XV0sSj1DLnZhbHVlW0IuYV0sTD1DLnZhbHVlW0IuYl0sTj1DLnZhbHVlW0IuY10sQy5hcnJheVtLXT1KW1RbMF1dLEMuYXJyYXlbSysxXT1cbkpbVFsxXV0sQy5hcnJheVtLKzJdPUpbVFsyXV0sQy5hcnJheVtLKzNdPUxbVFswXV0sQy5hcnJheVtLKzRdPUxbVFsxXV0sQy5hcnJheVtLKzVdPUxbVFsyXV0sQy5hcnJheVtLKzZdPU5bVFswXV0sQy5hcnJheVtLKzddPU5bVFsxXV0sQy5hcnJheVtLKzhdPU5bVFsyXV0sSys9OTtlbHNlIGlmKFwiZmFjZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKylOPUw9Sj16YT1DLnZhbHVlWyRbeV1dLEMuYXJyYXlbS109SltUWzBdXSxDLmFycmF5W0srMV09SltUWzFdXSxDLmFycmF5W0srMl09SltUWzJdXSxDLmFycmF5W0srM109TFtUWzBdXSxDLmFycmF5W0srNF09TFtUWzFdXSxDLmFycmF5W0srNV09TFtUWzJdXSxDLmFycmF5W0srNl09TltUWzBdXSxDLmFycmF5W0srN109TltUWzFdXSxDLmFycmF5W0srOF09TltUWzJdXSxLKz05O2Vsc2UgaWYoXCJmYWNlVmVydGljZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKyl6YT1DLnZhbHVlWyRbeV1dLFxuSj16YVswXSxMPXphWzFdLE49emFbMl0sQy5hcnJheVtLXT1KW1RbMF1dLEMuYXJyYXlbSysxXT1KW1RbMV1dLEMuYXJyYXlbSysyXT1KW1RbMl1dLEMuYXJyYXlbSyszXT1MW1RbMF1dLEMuYXJyYXlbSys0XT1MW1RbMV1dLEMuYXJyYXlbSys1XT1MW1RbMl1dLEMuYXJyYXlbSys2XT1OW1RbMF1dLEMuYXJyYXlbSys3XT1OW1RbMV1dLEMuYXJyYXlbSys4XT1OW1RbMl1dLEsrPTl9ZWxzZSBpZig0PT09Qy5zaXplKWlmKHZvaWQgMD09PUMuYm91bmRUb3x8XCJ2ZXJ0aWNlc1wiPT09Qy5ib3VuZFRvKWZvcih5PTAsej0kLmxlbmd0aDt5PHo7eSsrKUI9eGFbJFt5XV0sSj1DLnZhbHVlW0IuYV0sTD1DLnZhbHVlW0IuYl0sTj1DLnZhbHVlW0IuY10sQy5hcnJheVtLXT1KLngsQy5hcnJheVtLKzFdPUoueSxDLmFycmF5W0srMl09Si56LEMuYXJyYXlbSyszXT1KLncsQy5hcnJheVtLKzRdPUwueCxDLmFycmF5W0srNV09TC55LEMuYXJyYXlbSys2XT1MLnosQy5hcnJheVtLKzddPUwudyxDLmFycmF5W0srXG44XT1OLngsQy5hcnJheVtLKzldPU4ueSxDLmFycmF5W0srMTBdPU4ueixDLmFycmF5W0srMTFdPU4udyxLKz0xMjtlbHNlIGlmKFwiZmFjZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKylOPUw9Sj16YT1DLnZhbHVlWyRbeV1dLEMuYXJyYXlbS109Si54LEMuYXJyYXlbSysxXT1KLnksQy5hcnJheVtLKzJdPUoueixDLmFycmF5W0srM109Si53LEMuYXJyYXlbSys0XT1MLngsQy5hcnJheVtLKzVdPUwueSxDLmFycmF5W0srNl09TC56LEMuYXJyYXlbSys3XT1MLncsQy5hcnJheVtLKzhdPU4ueCxDLmFycmF5W0srOV09Ti55LEMuYXJyYXlbSysxMF09Ti56LEMuYXJyYXlbSysxMV09Ti53LEsrPTEyO2Vsc2UgaWYoXCJmYWNlVmVydGljZXNcIj09PUMuYm91bmRUbylmb3IoeT0wLHo9JC5sZW5ndGg7eTx6O3krKyl6YT1DLnZhbHVlWyRbeV1dLEo9emFbMF0sTD16YVsxXSxOPXphWzJdLEMuYXJyYXlbS109Si54LEMuYXJyYXlbSysxXT1KLnksQy5hcnJheVtLKzJdPVxuSi56LEMuYXJyYXlbSyszXT1KLncsQy5hcnJheVtLKzRdPUwueCxDLmFycmF5W0srNV09TC55LEMuYXJyYXlbSys2XT1MLnosQy5hcnJheVtLKzddPUwudyxDLmFycmF5W0srOF09Ti54LEMuYXJyYXlbSys5XT1OLnksQy5hcnJheVtLKzEwXT1OLnosQy5hcnJheVtLKzExXT1OLncsSys9MTI7bS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLEMuYnVmZmVyKTttLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsQy5hcnJheSxEKX1BJiYoZGVsZXRlIHYuX19pbml0dGVkQXJyYXlzLGRlbGV0ZSB2Ll9fY29sb3JBcnJheSxkZWxldGUgdi5fX25vcm1hbEFycmF5LGRlbGV0ZSB2Ll9fdGFuZ2VudEFycmF5LGRlbGV0ZSB2Ll9fdXZBcnJheSxkZWxldGUgdi5fX3V2MkFycmF5LGRlbGV0ZSB2Ll9fZmFjZUFycmF5LGRlbGV0ZSB2Ll9fdmVydGV4QXJyYXksZGVsZXRlIHYuX19saW5lQXJyYXksZGVsZXRlIHYuX19za2luSW5kZXhBcnJheSxkZWxldGUgdi5fX3NraW5XZWlnaHRBcnJheSl9fX1iLnZlcnRpY2VzTmVlZFVwZGF0ZT1cbiExO2IubW9ycGhUYXJnZXRzTmVlZFVwZGF0ZT0hMTtiLmVsZW1lbnRzTmVlZFVwZGF0ZT0hMTtiLnV2c05lZWRVcGRhdGU9ITE7Yi5ub3JtYWxzTmVlZFVwZGF0ZT0hMTtiLmNvbG9yc05lZWRVcGRhdGU9ITE7Yi50YW5nZW50c05lZWRVcGRhdGU9ITE7dy5hdHRyaWJ1dGVzJiZzKHcpfWVsc2UgaWYoYSBpbnN0YW5jZW9mIFRIUkVFLkxpbmUpe3c9YyhhLGIpO3U9dy5hdHRyaWJ1dGVzJiZyKHcpO2lmKGIudmVydGljZXNOZWVkVXBkYXRlfHxiLmNvbG9yc05lZWRVcGRhdGV8fGIubGluZURpc3RhbmNlc05lZWRVcGRhdGV8fHUpe3ZhciBEYj1tLkRZTkFNSUNfRFJBVyxTLGFhLFosQmEsWCxFYixSYj1iLnZlcnRpY2VzLEliPWIuY29sb3JzLGdiPWIubGluZURpc3RhbmNlcyx5YT1SYi5sZW5ndGgscGI9SWIubGVuZ3RoLHFiPWdiLmxlbmd0aCxXYT1iLl9fdmVydGV4QXJyYXksdGI9Yi5fX2NvbG9yQXJyYXksaGI9Yi5fX2xpbmVEaXN0YW5jZUFycmF5LCRiPWIuY29sb3JzTmVlZFVwZGF0ZSxcbkZiPWIubGluZURpc3RhbmNlc05lZWRVcGRhdGUsU2I9Yi5fX3dlYmdsQ3VzdG9tQXR0cmlidXRlc0xpc3QsSmIsY2IsdWEsS2IsSWEsZmE7aWYoYi52ZXJ0aWNlc05lZWRVcGRhdGUpe2ZvcihTPTA7Uzx5YTtTKyspQmE9UmJbU10sWD0zKlMsV2FbWF09QmEueCxXYVtYKzFdPUJhLnksV2FbWCsyXT1CYS56O20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixiLl9fd2ViZ2xWZXJ0ZXhCdWZmZXIpO20uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixXYSxEYil9aWYoJGIpe2ZvcihhYT0wO2FhPHBiO2FhKyspRWI9SWJbYWFdLFg9MyphYSx0YltYXT1FYi5yLHRiW1grMV09RWIuZyx0YltYKzJdPUViLmI7bS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGIuX193ZWJnbENvbG9yQnVmZmVyKTttLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsdGIsRGIpfWlmKEZiKXtmb3IoWj0wO1o8cWI7WisrKWhiW1pdPWdiW1pdO20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixiLl9fd2ViZ2xMaW5lRGlzdGFuY2VCdWZmZXIpO1xubS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLGhiLERiKX1pZihTYilmb3IoSmI9MCxjYj1TYi5sZW5ndGg7SmI8Y2I7SmIrKylpZihmYT1TYltKYl0sZmEubmVlZHNVcGRhdGUmJih2b2lkIDA9PT1mYS5ib3VuZFRvfHxcInZlcnRpY2VzXCI9PT1mYS5ib3VuZFRvKSl7WD0wO0tiPWZhLnZhbHVlLmxlbmd0aDtpZigxPT09ZmEuc2l6ZSlmb3IodWE9MDt1YTxLYjt1YSsrKWZhLmFycmF5W3VhXT1mYS52YWx1ZVt1YV07ZWxzZSBpZigyPT09ZmEuc2l6ZSlmb3IodWE9MDt1YTxLYjt1YSsrKUlhPWZhLnZhbHVlW3VhXSxmYS5hcnJheVtYXT1JYS54LGZhLmFycmF5W1grMV09SWEueSxYKz0yO2Vsc2UgaWYoMz09PWZhLnNpemUpaWYoXCJjXCI9PT1mYS50eXBlKWZvcih1YT0wO3VhPEtiO3VhKyspSWE9ZmEudmFsdWVbdWFdLGZhLmFycmF5W1hdPUlhLnIsZmEuYXJyYXlbWCsxXT1JYS5nLGZhLmFycmF5W1grMl09SWEuYixYKz0zO2Vsc2UgZm9yKHVhPTA7dWE8S2I7dWErKylJYT1mYS52YWx1ZVt1YV0sXG5mYS5hcnJheVtYXT1JYS54LGZhLmFycmF5W1grMV09SWEueSxmYS5hcnJheVtYKzJdPUlhLnosWCs9MztlbHNlIGlmKDQ9PT1mYS5zaXplKWZvcih1YT0wO3VhPEtiO3VhKyspSWE9ZmEudmFsdWVbdWFdLGZhLmFycmF5W1hdPUlhLngsZmEuYXJyYXlbWCsxXT1JYS55LGZhLmFycmF5W1grMl09SWEueixmYS5hcnJheVtYKzNdPUlhLncsWCs9NDttLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZmEuYnVmZmVyKTttLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsZmEuYXJyYXksRGIpO2ZhLm5lZWRzVXBkYXRlPSExfX1iLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMTtiLmNvbG9yc05lZWRVcGRhdGU9ITE7Yi5saW5lRGlzdGFuY2VzTmVlZFVwZGF0ZT0hMTt3LmF0dHJpYnV0ZXMmJnModyl9ZWxzZSBpZihhIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRDbG91ZCl7dz1jKGEsYik7dT13LmF0dHJpYnV0ZXMmJnIodyk7aWYoYi52ZXJ0aWNlc05lZWRVcGRhdGV8fGIuY29sb3JzTmVlZFVwZGF0ZXx8XG51KXt2YXIgZGI9bS5EWU5BTUlDX0RSQVcsVGIsVWIsYWMsbWEsYmMsTmI9Yi52ZXJ0aWNlcyxWYj1OYi5sZW5ndGgsUGI9Yi5jb2xvcnMscmI9UGIubGVuZ3RoLGNjPWIuX192ZXJ0ZXhBcnJheSxkYz1iLl9fY29sb3JBcnJheSx3Yj1iLmNvbG9yc05lZWRVcGRhdGUsZ2M9Yi5fX3dlYmdsQ3VzdG9tQXR0cmlidXRlc0xpc3QsZWMsamIsdmEsTGIsSmEsZ2E7aWYoYi52ZXJ0aWNlc05lZWRVcGRhdGUpe2ZvcihUYj0wO1RiPFZiO1RiKyspYWM9TmJbVGJdLG1hPTMqVGIsY2NbbWFdPWFjLngsY2NbbWErMV09YWMueSxjY1ttYSsyXT1hYy56O20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixiLl9fd2ViZ2xWZXJ0ZXhCdWZmZXIpO20uYnVmZmVyRGF0YShtLkFSUkFZX0JVRkZFUixjYyxkYil9aWYod2Ipe2ZvcihVYj0wO1ViPHJiO1ViKyspYmM9UGJbVWJdLG1hPTMqVWIsZGNbbWFdPWJjLnIsZGNbbWErMV09YmMuZyxkY1ttYSsyXT1iYy5iO20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixcbmIuX193ZWJnbENvbG9yQnVmZmVyKTttLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsZGMsZGIpfWlmKGdjKWZvcihlYz0wLGpiPWdjLmxlbmd0aDtlYzxqYjtlYysrKXtnYT1nY1tlY107aWYoZ2EubmVlZHNVcGRhdGUmJih2b2lkIDA9PT1nYS5ib3VuZFRvfHxcInZlcnRpY2VzXCI9PT1nYS5ib3VuZFRvKSlpZihMYj1nYS52YWx1ZS5sZW5ndGgsbWE9MCwxPT09Z2Euc2l6ZSlmb3IodmE9MDt2YTxMYjt2YSsrKWdhLmFycmF5W3ZhXT1nYS52YWx1ZVt2YV07ZWxzZSBpZigyPT09Z2Euc2l6ZSlmb3IodmE9MDt2YTxMYjt2YSsrKUphPWdhLnZhbHVlW3ZhXSxnYS5hcnJheVttYV09SmEueCxnYS5hcnJheVttYSsxXT1KYS55LG1hKz0yO2Vsc2UgaWYoMz09PWdhLnNpemUpaWYoXCJjXCI9PT1nYS50eXBlKWZvcih2YT0wO3ZhPExiO3ZhKyspSmE9Z2EudmFsdWVbdmFdLGdhLmFycmF5W21hXT1KYS5yLGdhLmFycmF5W21hKzFdPUphLmcsZ2EuYXJyYXlbbWErMl09SmEuYixtYSs9MztlbHNlIGZvcih2YT1cbjA7dmE8TGI7dmErKylKYT1nYS52YWx1ZVt2YV0sZ2EuYXJyYXlbbWFdPUphLngsZ2EuYXJyYXlbbWErMV09SmEueSxnYS5hcnJheVttYSsyXT1KYS56LG1hKz0zO2Vsc2UgaWYoND09PWdhLnNpemUpZm9yKHZhPTA7dmE8TGI7dmErKylKYT1nYS52YWx1ZVt2YV0sZ2EuYXJyYXlbbWFdPUphLngsZ2EuYXJyYXlbbWErMV09SmEueSxnYS5hcnJheVttYSsyXT1KYS56LGdhLmFycmF5W21hKzNdPUphLncsbWErPTQ7bS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGdhLmJ1ZmZlcik7bS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLGdhLmFycmF5LGRiKTtnYS5uZWVkc1VwZGF0ZT0hMX19Yi52ZXJ0aWNlc05lZWRVcGRhdGU9ITE7Yi5jb2xvcnNOZWVkVXBkYXRlPSExO3cuYXR0cmlidXRlcyYmcyh3KX19ZnVuY3Rpb24gcihhKXtmb3IodmFyIGIgaW4gYS5hdHRyaWJ1dGVzKWlmKGEuYXR0cmlidXRlc1tiXS5uZWVkc1VwZGF0ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBzKGEpe2Zvcih2YXIgYiBpbiBhLmF0dHJpYnV0ZXMpYS5hdHRyaWJ1dGVzW2JdLm5lZWRzVXBkYXRlPVxuITF9ZnVuY3Rpb24gdShhKXshMD09PWEudHJhbnNwYXJlbnQ/Vy5zZXRCbGVuZGluZyhhLmJsZW5kaW5nLGEuYmxlbmRFcXVhdGlvbixhLmJsZW5kU3JjLGEuYmxlbmREc3QsYS5ibGVuZEVxdWF0aW9uQWxwaGEsYS5ibGVuZFNyY0FscGhhLGEuYmxlbmREc3RBbHBoYSk6Vy5zZXRCbGVuZGluZyhUSFJFRS5Ob0JsZW5kaW5nKTtXLnNldERlcHRoVGVzdChhLmRlcHRoVGVzdCk7Vy5zZXREZXB0aFdyaXRlKGEuZGVwdGhXcml0ZSk7Vy5zZXRDb2xvcldyaXRlKGEuY29sb3JXcml0ZSk7Vy5zZXRQb2x5Z29uT2Zmc2V0KGEucG9seWdvbk9mZnNldCxhLnBvbHlnb25PZmZzZXRGYWN0b3IsYS5wb2x5Z29uT2Zmc2V0VW5pdHMpfWZ1bmN0aW9uIHYoYSxiLGMsZCxlKXt2YXIgZixnLGgsaztNYj0wO2lmKGQubmVlZHNVcGRhdGUpe2QucHJvZ3JhbSYmaGMoZCk7ZC5hZGRFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGljKTt2YXIgbj1wY1tkLnR5cGVdO2lmKG4pe3ZhciBsPVRIUkVFLlNoYWRlckxpYltuXTtcbmQuX193ZWJnbFNoYWRlcj17dW5pZm9ybXM6VEhSRUUuVW5pZm9ybXNVdGlscy5jbG9uZShsLnVuaWZvcm1zKSx2ZXJ0ZXhTaGFkZXI6bC52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6bC5mcmFnbWVudFNoYWRlcn19ZWxzZSBkLl9fd2ViZ2xTaGFkZXI9e3VuaWZvcm1zOmQudW5pZm9ybXMsdmVydGV4U2hhZGVyOmQudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOmQuZnJhZ21lbnRTaGFkZXJ9O2Zvcih2YXIgcD0wLHE9MCxyPTAscz0wLHQ9MCx3PWIubGVuZ3RoO3Q8dzt0Kyspe3ZhciB2PWJbdF07di5vbmx5U2hhZG93fHwhMT09PXYudmlzaWJsZXx8KHYgaW5zdGFuY2VvZiBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0JiZwKyssdiBpbnN0YW5jZW9mIFRIUkVFLlBvaW50TGlnaHQmJnErKyx2IGluc3RhbmNlb2YgVEhSRUUuU3BvdExpZ2h0JiZyKyssdiBpbnN0YW5jZW9mIFRIUkVFLkhlbWlzcGhlcmVMaWdodCYmcysrKX1mPXA7Zz1xO2g9cjtrPXM7Zm9yKHZhciB1LHo9MCxHPVxuMCxGPWIubGVuZ3RoO0c8RjtHKyspe3ZhciBKPWJbR107Si5jYXN0U2hhZG93JiYoSiBpbnN0YW5jZW9mIFRIUkVFLlNwb3RMaWdodCYmeisrLEogaW5zdGFuY2VvZiBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0JiYhSi5zaGFkb3dDYXNjYWRlJiZ6KyspfXU9ejt2YXIgSDtpZihOYiYmZSYmZS5za2VsZXRvbiYmZS5za2VsZXRvbi51c2VWZXJ0ZXhUZXh0dXJlKUg9MTAyNDtlbHNle3ZhciBOPW0uZ2V0UGFyYW1ldGVyKG0uTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMpLE09TWF0aC5mbG9vcigoTi0yMCkvNCk7dm9pZCAwIT09ZSYmZSBpbnN0YW5jZW9mIFRIUkVFLlNraW5uZWRNZXNoJiYoTT1NYXRoLm1pbihlLnNrZWxldG9uLmJvbmVzLmxlbmd0aCxNKSxNPGUuc2tlbGV0b24uYm9uZXMubGVuZ3RoJiZUSFJFRS53YXJuKFwiV2ViR0xSZW5kZXJlcjogdG9vIG1hbnkgYm9uZXMgLSBcIitlLnNrZWxldG9uLmJvbmVzLmxlbmd0aCtcIiwgdGhpcyBHUFUgc3VwcG9ydHMganVzdCBcIitNK1wiICh0cnkgT3BlbkdMIGluc3RlYWQgb2YgQU5HTEUpXCIpKTtcbkg9TX12YXIgUD17cHJlY2lzaW9uOkwsc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlczpWYixtYXA6ISFkLm1hcCxlbnZNYXA6ISFkLmVudk1hcCxlbnZNYXBNb2RlOmQuZW52TWFwJiZkLmVudk1hcC5tYXBwaW5nLGxpZ2h0TWFwOiEhZC5saWdodE1hcCxidW1wTWFwOiEhZC5idW1wTWFwLG5vcm1hbE1hcDohIWQubm9ybWFsTWFwLHNwZWN1bGFyTWFwOiEhZC5zcGVjdWxhck1hcCxhbHBoYU1hcDohIWQuYWxwaGFNYXAsY29tYmluZTpkLmNvbWJpbmUsdmVydGV4Q29sb3JzOmQudmVydGV4Q29sb3JzLGZvZzpjLHVzZUZvZzpkLmZvZyxmb2dFeHA6YyBpbnN0YW5jZW9mIFRIUkVFLkZvZ0V4cDIsZmxhdFNoYWRpbmc6ZC5zaGFkaW5nPT09VEhSRUUuRmxhdFNoYWRpbmcsc2l6ZUF0dGVudWF0aW9uOmQuc2l6ZUF0dGVudWF0aW9uLGxvZ2FyaXRobWljRGVwdGhCdWZmZXI6amEsc2tpbm5pbmc6ZC5za2lubmluZyxtYXhCb25lczpILHVzZVZlcnRleFRleHR1cmU6TmImJmUmJmUuc2tlbGV0b24mJlxuZS5za2VsZXRvbi51c2VWZXJ0ZXhUZXh0dXJlLG1vcnBoVGFyZ2V0czpkLm1vcnBoVGFyZ2V0cyxtb3JwaE5vcm1hbHM6ZC5tb3JwaE5vcm1hbHMsbWF4TW9ycGhUYXJnZXRzOkIubWF4TW9ycGhUYXJnZXRzLG1heE1vcnBoTm9ybWFsczpCLm1heE1vcnBoTm9ybWFscyxtYXhEaXJMaWdodHM6ZixtYXhQb2ludExpZ2h0czpnLG1heFNwb3RMaWdodHM6aCxtYXhIZW1pTGlnaHRzOmssbWF4U2hhZG93czp1LHNoYWRvd01hcEVuYWJsZWQ6Qi5zaGFkb3dNYXBFbmFibGVkJiZlLnJlY2VpdmVTaGFkb3cmJjA8dSxzaGFkb3dNYXBUeXBlOkIuc2hhZG93TWFwVHlwZSxzaGFkb3dNYXBEZWJ1ZzpCLnNoYWRvd01hcERlYnVnLHNoYWRvd01hcENhc2NhZGU6Qi5zaGFkb3dNYXBDYXNjYWRlLGFscGhhVGVzdDpkLmFscGhhVGVzdCxtZXRhbDpkLm1ldGFsLHdyYXBBcm91bmQ6ZC53cmFwQXJvdW5kLGRvdWJsZVNpZGVkOmQuc2lkZT09PVRIUkVFLkRvdWJsZVNpZGUsZmxpcFNpZGVkOmQuc2lkZT09PVxuVEhSRUUuQmFja1NpZGV9LFI9W107bj9SLnB1c2gobik6KFIucHVzaChkLmZyYWdtZW50U2hhZGVyKSxSLnB1c2goZC52ZXJ0ZXhTaGFkZXIpKTtpZih2b2lkIDAhPT1kLmRlZmluZXMpZm9yKHZhciBPIGluIGQuZGVmaW5lcylSLnB1c2goTyksUi5wdXNoKGQuZGVmaW5lc1tPXSk7Zm9yKE8gaW4gUClSLnB1c2goTyksUi5wdXNoKFBbT10pO2Zvcih2YXIgS2E9Ui5qb2luKCksVixXPTAsUWE9UGEubGVuZ3RoO1c8UWE7VysrKXt2YXIgWWE9UGFbV107aWYoWWEuY29kZT09PUthKXtWPVlhO1YudXNlZFRpbWVzKys7YnJlYWt9fXZvaWQgMD09PVYmJihWPW5ldyBUSFJFRS5XZWJHTFByb2dyYW0oQixLYSxkLFApLFBhLnB1c2goViksQi5pbmZvLm1lbW9yeS5wcm9ncmFtcz1QYS5sZW5ndGgpO2QucHJvZ3JhbT1WO3ZhciBYYT1WLmF0dHJpYnV0ZXM7aWYoZC5tb3JwaFRhcmdldHMpe2QubnVtU3VwcG9ydGVkTW9ycGhUYXJnZXRzPTA7Zm9yKHZhciBjYSxkYT1cIm1vcnBoVGFyZ2V0XCIsYmE9XG4wO2JhPEIubWF4TW9ycGhUYXJnZXRzO2JhKyspY2E9ZGErYmEsMDw9WGFbY2FdJiZkLm51bVN1cHBvcnRlZE1vcnBoVGFyZ2V0cysrfWlmKGQubW9ycGhOb3JtYWxzKWZvcihkLm51bVN1cHBvcnRlZE1vcnBoTm9ybWFscz0wLGRhPVwibW9ycGhOb3JtYWxcIixiYT0wO2JhPEIubWF4TW9ycGhOb3JtYWxzO2JhKyspY2E9ZGErYmEsMDw9WGFbY2FdJiZkLm51bVN1cHBvcnRlZE1vcnBoTm9ybWFscysrO2QudW5pZm9ybXNMaXN0PVtdO2Zvcih2YXIgaGEgaW4gZC5fX3dlYmdsU2hhZGVyLnVuaWZvcm1zKXt2YXIgdGE9ZC5wcm9ncmFtLnVuaWZvcm1zW2hhXTt0YSYmZC51bmlmb3Jtc0xpc3QucHVzaChbZC5fX3dlYmdsU2hhZGVyLnVuaWZvcm1zW2hhXSx0YV0pfWQubmVlZHNVcGRhdGU9ITF9ZC5tb3JwaFRhcmdldHMmJiFlLl9fd2ViZ2xNb3JwaFRhcmdldEluZmx1ZW5jZXMmJihlLl9fd2ViZ2xNb3JwaFRhcmdldEluZmx1ZW5jZXM9bmV3IEZsb2F0MzJBcnJheShCLm1heE1vcnBoVGFyZ2V0cykpO1xudmFyIGFiPSExLG9hPSExLHFhPSExLFVhPWQucHJvZ3JhbSxrYT1VYS51bmlmb3JtcyxRPWQuX193ZWJnbFNoYWRlci51bmlmb3JtcztVYS5pZCE9PW9iJiYobS51c2VQcm9ncmFtKFVhLnByb2dyYW0pLG9iPVVhLmlkLHFhPW9hPWFiPSEwKTtkLmlkIT09dWImJigtMT09PXViJiYocWE9ITApLHViPWQuaWQsb2E9ITApO2lmKGFifHxhIT09dmIpbS51bmlmb3JtTWF0cml4NGZ2KGthLnByb2plY3Rpb25NYXRyaXgsITEsYS5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzKSxqYSYmbS51bmlmb3JtMWYoa2EubG9nRGVwdGhCdWZGQywyLyhNYXRoLmxvZyhhLmZhcisxKS9NYXRoLkxOMikpLGEhPT12YiYmKHZiPWEpLChkIGluc3RhbmNlb2YgVEhSRUUuU2hhZGVyTWF0ZXJpYWx8fGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbHx8ZC5lbnZNYXApJiZudWxsIT09a2EuY2FtZXJhUG9zaXRpb24mJih3YS5zZXRGcm9tTWF0cml4UG9zaXRpb24oYS5tYXRyaXhXb3JsZCksbS51bmlmb3JtM2Yoa2EuY2FtZXJhUG9zaXRpb24sXG53YS54LHdhLnksd2EueikpLChkIGluc3RhbmNlb2YgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWx8fGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsfHxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWx8fGQgaW5zdGFuY2VvZiBUSFJFRS5TaGFkZXJNYXRlcmlhbHx8ZC5za2lubmluZykmJm51bGwhPT1rYS52aWV3TWF0cml4JiZtLnVuaWZvcm1NYXRyaXg0ZnYoa2Eudmlld01hdHJpeCwhMSxhLm1hdHJpeFdvcmxkSW52ZXJzZS5lbGVtZW50cyk7aWYoZC5za2lubmluZylpZihlLmJpbmRNYXRyaXgmJm51bGwhPT1rYS5iaW5kTWF0cml4JiZtLnVuaWZvcm1NYXRyaXg0ZnYoa2EuYmluZE1hdHJpeCwhMSxlLmJpbmRNYXRyaXguZWxlbWVudHMpLGUuYmluZE1hdHJpeEludmVyc2UmJm51bGwhPT1rYS5iaW5kTWF0cml4SW52ZXJzZSYmbS51bmlmb3JtTWF0cml4NGZ2KGthLmJpbmRNYXRyaXhJbnZlcnNlLCExLGUuYmluZE1hdHJpeEludmVyc2UuZWxlbWVudHMpLFxuTmImJmUuc2tlbGV0b24mJmUuc2tlbGV0b24udXNlVmVydGV4VGV4dHVyZSl7aWYobnVsbCE9PWthLmJvbmVUZXh0dXJlKXt2YXIgZGI9RCgpO20udW5pZm9ybTFpKGthLmJvbmVUZXh0dXJlLGRiKTtCLnNldFRleHR1cmUoZS5za2VsZXRvbi5ib25lVGV4dHVyZSxkYil9bnVsbCE9PWthLmJvbmVUZXh0dXJlV2lkdGgmJm0udW5pZm9ybTFpKGthLmJvbmVUZXh0dXJlV2lkdGgsZS5za2VsZXRvbi5ib25lVGV4dHVyZVdpZHRoKTtudWxsIT09a2EuYm9uZVRleHR1cmVIZWlnaHQmJm0udW5pZm9ybTFpKGthLmJvbmVUZXh0dXJlSGVpZ2h0LGUuc2tlbGV0b24uYm9uZVRleHR1cmVIZWlnaHQpfWVsc2UgZS5za2VsZXRvbiYmZS5za2VsZXRvbi5ib25lTWF0cmljZXMmJm51bGwhPT1rYS5ib25lR2xvYmFsTWF0cmljZXMmJm0udW5pZm9ybU1hdHJpeDRmdihrYS5ib25lR2xvYmFsTWF0cmljZXMsITEsZS5za2VsZXRvbi5ib25lTWF0cmljZXMpO2lmKG9hKXtjJiZkLmZvZyYmKFEuZm9nQ29sb3IudmFsdWU9XG5jLmNvbG9yLGMgaW5zdGFuY2VvZiBUSFJFRS5Gb2c/KFEuZm9nTmVhci52YWx1ZT1jLm5lYXIsUS5mb2dGYXIudmFsdWU9Yy5mYXIpOmMgaW5zdGFuY2VvZiBUSFJFRS5Gb2dFeHAyJiYoUS5mb2dEZW5zaXR5LnZhbHVlPWMuZGVuc2l0eSkpO2lmKGQgaW5zdGFuY2VvZiBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbHx8ZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWx8fGQubGlnaHRzKXtpZihPYil7dmFyIHFhPSEwLGlhLFphLFksYmI9MCxjYj0wLGliPTAseGIscGIscWIsQ2EsamIsbmE9amMscmI9bmEuZGlyZWN0aW9uYWwuY29sb3JzLExhPW5hLmRpcmVjdGlvbmFsLnBvc2l0aW9ucyxNYT1uYS5wb2ludC5jb2xvcnMsa2I9bmEucG9pbnQucG9zaXRpb25zLHliPW5hLnBvaW50LmRpc3RhbmNlcyx6Yj1uYS5wb2ludC5kZWNheXMsUmE9bmEuc3BvdC5jb2xvcnMsQWE9bmEuc3BvdC5wb3NpdGlvbnMsZWI9bmEuc3BvdC5kaXN0YW5jZXMsSGE9bmEuc3BvdC5kaXJlY3Rpb25zLFxubGE9bmEuc3BvdC5hbmdsZXNDb3MscmE9bmEuc3BvdC5leHBvbmVudHMsSz1uYS5zcG90LmRlY2F5cyx6YT1uYS5oZW1pLnNreUNvbG9ycyxTYT1uYS5oZW1pLmdyb3VuZENvbG9ycyxBYj1uYS5oZW1pLnBvc2l0aW9ucyxsYj0wLE5hPTAsc2E9MCxEYT0wLEVhPTAsRmE9MCxHYj0wLEJiPTAsbWI9MCxDPTAsVmE9MCxUYT0wO2lhPTA7Zm9yKFphPWIubGVuZ3RoO2lhPFphO2lhKyspWT1iW2lhXSxZLm9ubHlTaGFkb3d8fCh4Yj1ZLmNvbG9yLENhPVkuaW50ZW5zaXR5LGpiPVkuZGlzdGFuY2UsWSBpbnN0YW5jZW9mIFRIUkVFLkFtYmllbnRMaWdodD9ZLnZpc2libGUmJihiYis9eGIucixjYis9eGIuZyxpYis9eGIuYik6WSBpbnN0YW5jZW9mIFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQ/KEVhKz0xLFkudmlzaWJsZSYmKHBhLnNldEZyb21NYXRyaXhQb3NpdGlvbihZLm1hdHJpeFdvcmxkKSx3YS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWS50YXJnZXQubWF0cml4V29ybGQpLHBhLnN1Yih3YSksXG5wYS5ub3JtYWxpemUoKSxtYj0zKmxiLExhW21iXT1wYS54LExhW21iKzFdPXBhLnksTGFbbWIrMl09cGEueix5KHJiLG1iLHhiLENhKSxsYis9MSkpOlkgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludExpZ2h0PyhGYSs9MSxZLnZpc2libGUmJihDPTMqTmEseShNYSxDLHhiLENhKSx3YS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWS5tYXRyaXhXb3JsZCksa2JbQ109d2EueCxrYltDKzFdPXdhLnksa2JbQysyXT13YS56LHliW05hXT1qYix6YltOYV09MD09PVkuZGlzdGFuY2U/MDpZLmRlY2F5LE5hKz0xKSk6WSBpbnN0YW5jZW9mIFRIUkVFLlNwb3RMaWdodD8oR2IrPTEsWS52aXNpYmxlJiYoVmE9MypzYSx5KFJhLFZhLHhiLENhKSxwYS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWS5tYXRyaXhXb3JsZCksQWFbVmFdPXBhLngsQWFbVmErMV09cGEueSxBYVtWYSsyXT1wYS56LGViW3NhXT1qYix3YS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWS50YXJnZXQubWF0cml4V29ybGQpLHBhLnN1Yih3YSksXG5wYS5ub3JtYWxpemUoKSxIYVtWYV09cGEueCxIYVtWYSsxXT1wYS55LEhhW1ZhKzJdPXBhLnosbGFbc2FdPU1hdGguY29zKFkuYW5nbGUpLHJhW3NhXT1ZLmV4cG9uZW50LEtbc2FdPTA9PT1ZLmRpc3RhbmNlPzA6WS5kZWNheSxzYSs9MSkpOlkgaW5zdGFuY2VvZiBUSFJFRS5IZW1pc3BoZXJlTGlnaHQmJihCYis9MSxZLnZpc2libGUmJihwYS5zZXRGcm9tTWF0cml4UG9zaXRpb24oWS5tYXRyaXhXb3JsZCkscGEubm9ybWFsaXplKCksVGE9MypEYSxBYltUYV09cGEueCxBYltUYSsxXT1wYS55LEFiW1RhKzJdPXBhLnoscGI9WS5jb2xvcixxYj1ZLmdyb3VuZENvbG9yLHkoemEsVGEscGIsQ2EpLHkoU2EsVGEscWIsQ2EpLERhKz0xKSkpO2lhPTMqbGI7Zm9yKFphPU1hdGgubWF4KHJiLmxlbmd0aCwzKkVhKTtpYTxaYTtpYSsrKXJiW2lhXT0wO2lhPTMqTmE7Zm9yKFphPU1hdGgubWF4KE1hLmxlbmd0aCwzKkZhKTtpYTxaYTtpYSsrKU1hW2lhXT0wO2lhPTMqc2E7Zm9yKFphPU1hdGgubWF4KFJhLmxlbmd0aCxcbjMqR2IpO2lhPFphO2lhKyspUmFbaWFdPTA7aWE9MypEYTtmb3IoWmE9TWF0aC5tYXgoemEubGVuZ3RoLDMqQmIpO2lhPFphO2lhKyspemFbaWFdPTA7aWE9MypEYTtmb3IoWmE9TWF0aC5tYXgoU2EubGVuZ3RoLDMqQmIpO2lhPFphO2lhKyspU2FbaWFdPTA7bmEuZGlyZWN0aW9uYWwubGVuZ3RoPWxiO25hLnBvaW50Lmxlbmd0aD1OYTtuYS5zcG90Lmxlbmd0aD1zYTtuYS5oZW1pLmxlbmd0aD1EYTtuYS5hbWJpZW50WzBdPWJiO25hLmFtYmllbnRbMV09Y2I7bmEuYW1iaWVudFsyXT1pYjtPYj0hMX1pZihxYSl7dmFyIGVhPWpjO1EuYW1iaWVudExpZ2h0Q29sb3IudmFsdWU9ZWEuYW1iaWVudDtRLmRpcmVjdGlvbmFsTGlnaHRDb2xvci52YWx1ZT1lYS5kaXJlY3Rpb25hbC5jb2xvcnM7US5kaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9uLnZhbHVlPWVhLmRpcmVjdGlvbmFsLnBvc2l0aW9ucztRLnBvaW50TGlnaHRDb2xvci52YWx1ZT1lYS5wb2ludC5jb2xvcnM7US5wb2ludExpZ2h0UG9zaXRpb24udmFsdWU9XG5lYS5wb2ludC5wb3NpdGlvbnM7US5wb2ludExpZ2h0RGlzdGFuY2UudmFsdWU9ZWEucG9pbnQuZGlzdGFuY2VzO1EucG9pbnRMaWdodERlY2F5LnZhbHVlPWVhLnBvaW50LmRlY2F5cztRLnNwb3RMaWdodENvbG9yLnZhbHVlPWVhLnNwb3QuY29sb3JzO1Euc3BvdExpZ2h0UG9zaXRpb24udmFsdWU9ZWEuc3BvdC5wb3NpdGlvbnM7US5zcG90TGlnaHREaXN0YW5jZS52YWx1ZT1lYS5zcG90LmRpc3RhbmNlcztRLnNwb3RMaWdodERpcmVjdGlvbi52YWx1ZT1lYS5zcG90LmRpcmVjdGlvbnM7US5zcG90TGlnaHRBbmdsZUNvcy52YWx1ZT1lYS5zcG90LmFuZ2xlc0NvcztRLnNwb3RMaWdodEV4cG9uZW50LnZhbHVlPWVhLnNwb3QuZXhwb25lbnRzO1Euc3BvdExpZ2h0RGVjYXkudmFsdWU9ZWEuc3BvdC5kZWNheXM7US5oZW1pc3BoZXJlTGlnaHRTa3lDb2xvci52YWx1ZT1lYS5oZW1pLnNreUNvbG9ycztRLmhlbWlzcGhlcmVMaWdodEdyb3VuZENvbG9yLnZhbHVlPWVhLmhlbWkuZ3JvdW5kQ29sb3JzO1xuUS5oZW1pc3BoZXJlTGlnaHREaXJlY3Rpb24udmFsdWU9ZWEuaGVtaS5wb3NpdGlvbnM7eChRLCEwKX1lbHNlIHgoUSwhMSl9aWYoZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsfHxkIGluc3RhbmNlb2YgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbHx8ZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKXtRLm9wYWNpdHkudmFsdWU9ZC5vcGFjaXR5O1EuZGlmZnVzZS52YWx1ZT1kLmNvbG9yO1EubWFwLnZhbHVlPWQubWFwO1EubGlnaHRNYXAudmFsdWU9ZC5saWdodE1hcDtRLnNwZWN1bGFyTWFwLnZhbHVlPWQuc3BlY3VsYXJNYXA7US5hbHBoYU1hcC52YWx1ZT1kLmFscGhhTWFwO2QuYnVtcE1hcCYmKFEuYnVtcE1hcC52YWx1ZT1kLmJ1bXBNYXAsUS5idW1wU2NhbGUudmFsdWU9ZC5idW1wU2NhbGUpO2Qubm9ybWFsTWFwJiYoUS5ub3JtYWxNYXAudmFsdWU9ZC5ub3JtYWxNYXAsUS5ub3JtYWxTY2FsZS52YWx1ZS5jb3B5KGQubm9ybWFsU2NhbGUpKTtcbnZhciBmYjtkLm1hcD9mYj1kLm1hcDpkLnNwZWN1bGFyTWFwP2ZiPWQuc3BlY3VsYXJNYXA6ZC5ub3JtYWxNYXA/ZmI9ZC5ub3JtYWxNYXA6ZC5idW1wTWFwP2ZiPWQuYnVtcE1hcDpkLmFscGhhTWFwJiYoZmI9ZC5hbHBoYU1hcCk7aWYodm9pZCAwIT09ZmIpe3ZhciB3Yj1mYi5vZmZzZXQsUWI9ZmIucmVwZWF0O1Eub2Zmc2V0UmVwZWF0LnZhbHVlLnNldCh3Yi54LHdiLnksUWIueCxRYi55KX1RLmVudk1hcC52YWx1ZT1kLmVudk1hcDtRLmZsaXBFbnZNYXAudmFsdWU9ZC5lbnZNYXAgaW5zdGFuY2VvZiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmU/MTotMTtRLnJlZmxlY3Rpdml0eS52YWx1ZT1kLnJlZmxlY3Rpdml0eTtRLnJlZnJhY3Rpb25SYXRpby52YWx1ZT1kLnJlZnJhY3Rpb25SYXRpb31pZihkIGluc3RhbmNlb2YgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwpUS5kaWZmdXNlLnZhbHVlPWQuY29sb3IsUS5vcGFjaXR5LnZhbHVlPWQub3BhY2l0eTtlbHNlIGlmKGQgaW5zdGFuY2VvZlxuVEhSRUUuTGluZURhc2hlZE1hdGVyaWFsKVEuZGlmZnVzZS52YWx1ZT1kLmNvbG9yLFEub3BhY2l0eS52YWx1ZT1kLm9wYWNpdHksUS5kYXNoU2l6ZS52YWx1ZT1kLmRhc2hTaXplLFEudG90YWxTaXplLnZhbHVlPWQuZGFzaFNpemUrZC5nYXBTaXplLFEuc2NhbGUudmFsdWU9ZC5zY2FsZTtlbHNlIGlmKGQgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwpe2lmKFEucHNDb2xvci52YWx1ZT1kLmNvbG9yLFEub3BhY2l0eS52YWx1ZT1kLm9wYWNpdHksUS5zaXplLnZhbHVlPWQuc2l6ZSxRLnNjYWxlLnZhbHVlPVUuaGVpZ2h0LzIsUS5tYXAudmFsdWU9ZC5tYXAsbnVsbCE9PWQubWFwKXt2YXIgV2I9ZC5tYXAub2Zmc2V0LFhiPWQubWFwLnJlcGVhdDtRLm9mZnNldFJlcGVhdC52YWx1ZS5zZXQoV2IueCxXYi55LFhiLngsWGIueSl9fWVsc2UgZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsPyhRLnNoaW5pbmVzcy52YWx1ZT1kLnNoaW5pbmVzcyxRLmVtaXNzaXZlLnZhbHVlPVxuZC5lbWlzc2l2ZSxRLnNwZWN1bGFyLnZhbHVlPWQuc3BlY3VsYXIsZC53cmFwQXJvdW5kJiZRLndyYXBSR0IudmFsdWUuY29weShkLndyYXBSR0IpKTpkIGluc3RhbmNlb2YgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbD8oUS5lbWlzc2l2ZS52YWx1ZT1kLmVtaXNzaXZlLGQud3JhcEFyb3VuZCYmUS53cmFwUkdCLnZhbHVlLmNvcHkoZC53cmFwUkdCKSk6ZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hEZXB0aE1hdGVyaWFsPyhRLm1OZWFyLnZhbHVlPWEubmVhcixRLm1GYXIudmFsdWU9YS5mYXIsUS5vcGFjaXR5LnZhbHVlPWQub3BhY2l0eSk6ZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2hOb3JtYWxNYXRlcmlhbCYmKFEub3BhY2l0eS52YWx1ZT1kLm9wYWNpdHkpO2lmKGUucmVjZWl2ZVNoYWRvdyYmIWQuX3NoYWRvd1Bhc3MmJlEuc2hhZG93TWF0cml4KWZvcih2YXIgc2I9MCxDYj0wLCQ9Yi5sZW5ndGg7Q2I8JDtDYisrKXt2YXIgeGE9YltDYl07eGEuY2FzdFNoYWRvdyYmKHhhIGluc3RhbmNlb2ZcblRIUkVFLlNwb3RMaWdodHx8eGEgaW5zdGFuY2VvZiBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0JiYheGEuc2hhZG93Q2FzY2FkZSkmJihRLnNoYWRvd01hcC52YWx1ZVtzYl09eGEuc2hhZG93TWFwLFEuc2hhZG93TWFwU2l6ZS52YWx1ZVtzYl09eGEuc2hhZG93TWFwU2l6ZSxRLnNoYWRvd01hdHJpeC52YWx1ZVtzYl09eGEuc2hhZG93TWF0cml4LFEuc2hhZG93RGFya25lc3MudmFsdWVbc2JdPXhhLnNoYWRvd0RhcmtuZXNzLFEuc2hhZG93Qmlhcy52YWx1ZVtzYl09eGEuc2hhZG93QmlhcyxzYisrKX1mb3IodmFyIEhiPWQudW5pZm9ybXNMaXN0LE9hLCRhLEdhLG5iPTAsZmM9SGIubGVuZ3RoO25iPGZjO25iKyspe3ZhciBUPUhiW25iXVswXTtpZighMSE9PVQubmVlZHNVcGRhdGUpe3ZhciBEYj1ULnR5cGUsUz1ULnZhbHVlLGFhPUhiW25iXVsxXTtzd2l0Y2goRGIpe2Nhc2UgXCIxaVwiOm0udW5pZm9ybTFpKGFhLFMpO2JyZWFrO2Nhc2UgXCIxZlwiOm0udW5pZm9ybTFmKGFhLFMpO2JyZWFrO1xuY2FzZSBcIjJmXCI6bS51bmlmb3JtMmYoYWEsU1swXSxTWzFdKTticmVhaztjYXNlIFwiM2ZcIjptLnVuaWZvcm0zZihhYSxTWzBdLFNbMV0sU1syXSk7YnJlYWs7Y2FzZSBcIjRmXCI6bS51bmlmb3JtNGYoYWEsU1swXSxTWzFdLFNbMl0sU1szXSk7YnJlYWs7Y2FzZSBcIjFpdlwiOm0udW5pZm9ybTFpdihhYSxTKTticmVhaztjYXNlIFwiM2l2XCI6bS51bmlmb3JtM2l2KGFhLFMpO2JyZWFrO2Nhc2UgXCIxZnZcIjptLnVuaWZvcm0xZnYoYWEsUyk7YnJlYWs7Y2FzZSBcIjJmdlwiOm0udW5pZm9ybTJmdihhYSxTKTticmVhaztjYXNlIFwiM2Z2XCI6bS51bmlmb3JtM2Z2KGFhLFMpO2JyZWFrO2Nhc2UgXCI0ZnZcIjptLnVuaWZvcm00ZnYoYWEsUyk7YnJlYWs7Y2FzZSBcIk1hdHJpeDNmdlwiOm0udW5pZm9ybU1hdHJpeDNmdihhYSwhMSxTKTticmVhaztjYXNlIFwiTWF0cml4NGZ2XCI6bS51bmlmb3JtTWF0cml4NGZ2KGFhLCExLFMpO2JyZWFrO2Nhc2UgXCJpXCI6bS51bmlmb3JtMWkoYWEsUyk7YnJlYWs7Y2FzZSBcImZcIjptLnVuaWZvcm0xZihhYSxcblMpO2JyZWFrO2Nhc2UgXCJ2MlwiOm0udW5pZm9ybTJmKGFhLFMueCxTLnkpO2JyZWFrO2Nhc2UgXCJ2M1wiOm0udW5pZm9ybTNmKGFhLFMueCxTLnksUy56KTticmVhaztjYXNlIFwidjRcIjptLnVuaWZvcm00ZihhYSxTLngsUy55LFMueixTLncpO2JyZWFrO2Nhc2UgXCJjXCI6bS51bmlmb3JtM2YoYWEsUy5yLFMuZyxTLmIpO2JyZWFrO2Nhc2UgXCJpdjFcIjptLnVuaWZvcm0xaXYoYWEsUyk7YnJlYWs7Y2FzZSBcIml2XCI6bS51bmlmb3JtM2l2KGFhLFMpO2JyZWFrO2Nhc2UgXCJmdjFcIjptLnVuaWZvcm0xZnYoYWEsUyk7YnJlYWs7Y2FzZSBcImZ2XCI6bS51bmlmb3JtM2Z2KGFhLFMpO2JyZWFrO2Nhc2UgXCJ2MnZcIjp2b2lkIDA9PT1ULl9hcnJheSYmKFQuX2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoMipTLmxlbmd0aCkpO2Zvcih2YXIgWj0wLEJhPVMubGVuZ3RoO1o8QmE7WisrKUdhPTIqWixULl9hcnJheVtHYV09U1taXS54LFQuX2FycmF5W0dhKzFdPVNbWl0ueTttLnVuaWZvcm0yZnYoYWEsVC5fYXJyYXkpO1xuYnJlYWs7Y2FzZSBcInYzdlwiOnZvaWQgMD09PVQuX2FycmF5JiYoVC5fYXJyYXk9bmV3IEZsb2F0MzJBcnJheSgzKlMubGVuZ3RoKSk7Wj0wO2ZvcihCYT1TLmxlbmd0aDtaPEJhO1orKylHYT0zKlosVC5fYXJyYXlbR2FdPVNbWl0ueCxULl9hcnJheVtHYSsxXT1TW1pdLnksVC5fYXJyYXlbR2ErMl09U1taXS56O20udW5pZm9ybTNmdihhYSxULl9hcnJheSk7YnJlYWs7Y2FzZSBcInY0dlwiOnZvaWQgMD09PVQuX2FycmF5JiYoVC5fYXJyYXk9bmV3IEZsb2F0MzJBcnJheSg0KlMubGVuZ3RoKSk7Wj0wO2ZvcihCYT1TLmxlbmd0aDtaPEJhO1orKylHYT00KlosVC5fYXJyYXlbR2FdPVNbWl0ueCxULl9hcnJheVtHYSsxXT1TW1pdLnksVC5fYXJyYXlbR2ErMl09U1taXS56LFQuX2FycmF5W0dhKzNdPVNbWl0udzttLnVuaWZvcm00ZnYoYWEsVC5fYXJyYXkpO2JyZWFrO2Nhc2UgXCJtM1wiOm0udW5pZm9ybU1hdHJpeDNmdihhYSwhMSxTLmVsZW1lbnRzKTticmVhaztjYXNlIFwibTN2XCI6dm9pZCAwPT09XG5ULl9hcnJheSYmKFQuX2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoOSpTLmxlbmd0aCkpO1o9MDtmb3IoQmE9Uy5sZW5ndGg7WjxCYTtaKyspU1taXS5mbGF0dGVuVG9BcnJheU9mZnNldChULl9hcnJheSw5KlopO20udW5pZm9ybU1hdHJpeDNmdihhYSwhMSxULl9hcnJheSk7YnJlYWs7Y2FzZSBcIm00XCI6bS51bmlmb3JtTWF0cml4NGZ2KGFhLCExLFMuZWxlbWVudHMpO2JyZWFrO2Nhc2UgXCJtNHZcIjp2b2lkIDA9PT1ULl9hcnJheSYmKFQuX2FycmF5PW5ldyBGbG9hdDMyQXJyYXkoMTYqUy5sZW5ndGgpKTtaPTA7Zm9yKEJhPVMubGVuZ3RoO1o8QmE7WisrKVNbWl0uZmxhdHRlblRvQXJyYXlPZmZzZXQoVC5fYXJyYXksMTYqWik7bS51bmlmb3JtTWF0cml4NGZ2KGFhLCExLFQuX2FycmF5KTticmVhaztjYXNlIFwidFwiOk9hPVM7JGE9RCgpO20udW5pZm9ybTFpKGFhLCRhKTtpZighT2EpY29udGludWU7aWYoT2EgaW5zdGFuY2VvZiBUSFJFRS5DdWJlVGV4dHVyZXx8T2EuaW1hZ2UgaW5zdGFuY2VvZlxuQXJyYXkmJjY9PT1PYS5pbWFnZS5sZW5ndGgpe3ZhciBYPU9hLEViPSRhO2lmKDY9PT1YLmltYWdlLmxlbmd0aClpZihYLm5lZWRzVXBkYXRlKXtYLmltYWdlLl9fd2ViZ2xUZXh0dXJlQ3ViZXx8KFguYWRkRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixQYiksWC5pbWFnZS5fX3dlYmdsVGV4dHVyZUN1YmU9bS5jcmVhdGVUZXh0dXJlKCksQi5pbmZvLm1lbW9yeS50ZXh0dXJlcysrKTttLmFjdGl2ZVRleHR1cmUobS5URVhUVVJFMCtFYik7bS5iaW5kVGV4dHVyZShtLlRFWFRVUkVfQ1VCRV9NQVAsWC5pbWFnZS5fX3dlYmdsVGV4dHVyZUN1YmUpO20ucGl4ZWxTdG9yZWkobS5VTlBBQ0tfRkxJUF9ZX1dFQkdMLFguZmxpcFkpO2Zvcih2YXIgUmI9WCBpbnN0YW5jZW9mIFRIUkVFLkNvbXByZXNzZWRUZXh0dXJlLEliPVguaW1hZ2VbMF1pbnN0YW5jZW9mIFRIUkVFLkRhdGFUZXh0dXJlLGdiPVtdLHlhPTA7Nj55YTt5YSsrKWdiW3lhXT0hQi5hdXRvU2NhbGVDdWJlbWFwc3x8UmJ8fEliP0liP1xuWC5pbWFnZVt5YV0uaW1hZ2U6WC5pbWFnZVt5YV06RShYLmltYWdlW3lhXSxxYyk7dmFyIFliPWdiWzBdLFpiPVRIUkVFLk1hdGguaXNQb3dlck9mVHdvKFliLndpZHRoKSYmVEhSRUUuTWF0aC5pc1Bvd2VyT2ZUd28oWWIuaGVpZ2h0KSxXYT1JKFguZm9ybWF0KSx0Yj1JKFgudHlwZSk7QShtLlRFWFRVUkVfQ1VCRV9NQVAsWCxaYik7Zm9yKHlhPTA7Nj55YTt5YSsrKWlmKFJiKWZvcih2YXIgaGIsJGI9Z2JbeWFdLm1pcG1hcHMsRmI9MCxTYj0kYi5sZW5ndGg7RmI8U2I7RmIrKyloYj0kYltGYl0sWC5mb3JtYXQhPT1USFJFRS5SR0JBRm9ybWF0JiZYLmZvcm1hdCE9PVRIUkVFLlJHQkZvcm1hdD8tMTxrYygpLmluZGV4T2YoV2EpP20uY29tcHJlc3NlZFRleEltYWdlMkQobS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1greWEsRmIsV2EsaGIud2lkdGgsaGIuaGVpZ2h0LDAsaGIuZGF0YSk6VEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IEF0dGVtcHQgdG8gbG9hZCB1bnN1cHBvcnRlZCBjb21wcmVzc2VkIHRleHR1cmUgZm9ybWF0IGluIC5zZXRDdWJlVGV4dHVyZSgpXCIpOlxubS50ZXhJbWFnZTJEKG0uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3lhLEZiLFdhLGhiLndpZHRoLGhiLmhlaWdodCwwLFdhLHRiLGhiLmRhdGEpO2Vsc2UgSWI/bS50ZXhJbWFnZTJEKG0uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3lhLDAsV2EsZ2JbeWFdLndpZHRoLGdiW3lhXS5oZWlnaHQsMCxXYSx0YixnYlt5YV0uZGF0YSk6bS50ZXhJbWFnZTJEKG0uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3lhLDAsV2EsV2EsdGIsZ2JbeWFdKTtYLmdlbmVyYXRlTWlwbWFwcyYmWmImJm0uZ2VuZXJhdGVNaXBtYXAobS5URVhUVVJFX0NVQkVfTUFQKTtYLm5lZWRzVXBkYXRlPSExO2lmKFgub25VcGRhdGUpWC5vblVwZGF0ZSgpfWVsc2UgbS5hY3RpdmVUZXh0dXJlKG0uVEVYVFVSRTArRWIpLG0uYmluZFRleHR1cmUobS5URVhUVVJFX0NVQkVfTUFQLFguaW1hZ2UuX193ZWJnbFRleHR1cmVDdWJlKX1lbHNlIGlmKE9hIGluc3RhbmNlb2YgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRDdWJlKXt2YXIgSmI9XG5PYTttLmFjdGl2ZVRleHR1cmUobS5URVhUVVJFMCskYSk7bS5iaW5kVGV4dHVyZShtLlRFWFRVUkVfQ1VCRV9NQVAsSmIuX193ZWJnbFRleHR1cmUpfWVsc2UgQi5zZXRUZXh0dXJlKE9hLCRhKTticmVhaztjYXNlIFwidHZcIjp2b2lkIDA9PT1ULl9hcnJheSYmKFQuX2FycmF5PVtdKTtaPTA7Zm9yKEJhPVQudmFsdWUubGVuZ3RoO1o8QmE7WisrKVQuX2FycmF5W1pdPUQoKTttLnVuaWZvcm0xaXYoYWEsVC5fYXJyYXkpO1o9MDtmb3IoQmE9VC52YWx1ZS5sZW5ndGg7WjxCYTtaKyspT2E9VC52YWx1ZVtaXSwkYT1ULl9hcnJheVtaXSxPYSYmQi5zZXRUZXh0dXJlKE9hLCRhKTticmVhaztkZWZhdWx0OlRIUkVFLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBVbmtub3duIHVuaWZvcm0gdHlwZTogXCIrRGIpfX19fW0udW5pZm9ybU1hdHJpeDRmdihrYS5tb2RlbFZpZXdNYXRyaXgsITEsZS5fbW9kZWxWaWV3TWF0cml4LmVsZW1lbnRzKTtrYS5ub3JtYWxNYXRyaXgmJm0udW5pZm9ybU1hdHJpeDNmdihrYS5ub3JtYWxNYXRyaXgsXG4hMSxlLl9ub3JtYWxNYXRyaXguZWxlbWVudHMpO251bGwhPT1rYS5tb2RlbE1hdHJpeCYmbS51bmlmb3JtTWF0cml4NGZ2KGthLm1vZGVsTWF0cml4LCExLGUubWF0cml4V29ybGQuZWxlbWVudHMpO3JldHVybiBVYX1mdW5jdGlvbiB4KGEsYil7YS5hbWJpZW50TGlnaHRDb2xvci5uZWVkc1VwZGF0ZT1iO2EuZGlyZWN0aW9uYWxMaWdodENvbG9yLm5lZWRzVXBkYXRlPWI7YS5kaXJlY3Rpb25hbExpZ2h0RGlyZWN0aW9uLm5lZWRzVXBkYXRlPWI7YS5wb2ludExpZ2h0Q29sb3IubmVlZHNVcGRhdGU9YjthLnBvaW50TGlnaHRQb3NpdGlvbi5uZWVkc1VwZGF0ZT1iO2EucG9pbnRMaWdodERpc3RhbmNlLm5lZWRzVXBkYXRlPWI7YS5wb2ludExpZ2h0RGVjYXkubmVlZHNVcGRhdGU9YjthLnNwb3RMaWdodENvbG9yLm5lZWRzVXBkYXRlPWI7YS5zcG90TGlnaHRQb3NpdGlvbi5uZWVkc1VwZGF0ZT1iO2Euc3BvdExpZ2h0RGlzdGFuY2UubmVlZHNVcGRhdGU9YjthLnNwb3RMaWdodERpcmVjdGlvbi5uZWVkc1VwZGF0ZT1cbmI7YS5zcG90TGlnaHRBbmdsZUNvcy5uZWVkc1VwZGF0ZT1iO2Euc3BvdExpZ2h0RXhwb25lbnQubmVlZHNVcGRhdGU9YjthLnNwb3RMaWdodERlY2F5Lm5lZWRzVXBkYXRlPWI7YS5oZW1pc3BoZXJlTGlnaHRTa3lDb2xvci5uZWVkc1VwZGF0ZT1iO2EuaGVtaXNwaGVyZUxpZ2h0R3JvdW5kQ29sb3IubmVlZHNVcGRhdGU9YjthLmhlbWlzcGhlcmVMaWdodERpcmVjdGlvbi5uZWVkc1VwZGF0ZT1ifWZ1bmN0aW9uIEQoKXt2YXIgYT1NYjthPj1XYiYmVEhSRUUud2FybihcIldlYkdMUmVuZGVyZXI6IHRyeWluZyB0byB1c2UgXCIrYStcIiB0ZXh0dXJlIHVuaXRzIHdoaWxlIHRoaXMgR1BVIHN1cHBvcnRzIG9ubHkgXCIrV2IpO01iKz0xO3JldHVybiBhfWZ1bmN0aW9uIHcoYSxiKXthLl9tb2RlbFZpZXdNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhiLm1hdHJpeFdvcmxkSW52ZXJzZSxhLm1hdHJpeFdvcmxkKTthLl9ub3JtYWxNYXRyaXguZ2V0Tm9ybWFsTWF0cml4KGEuX21vZGVsVmlld01hdHJpeCl9XG5mdW5jdGlvbiB5KGEsYixjLGQpe2FbYl09Yy5yKmQ7YVtiKzFdPWMuZypkO2FbYisyXT1jLmIqZH1mdW5jdGlvbiBBKGEsYixjKXtjPyhtLnRleFBhcmFtZXRlcmkoYSxtLlRFWFRVUkVfV1JBUF9TLEkoYi53cmFwUykpLG0udGV4UGFyYW1ldGVyaShhLG0uVEVYVFVSRV9XUkFQX1QsSShiLndyYXBUKSksbS50ZXhQYXJhbWV0ZXJpKGEsbS5URVhUVVJFX01BR19GSUxURVIsSShiLm1hZ0ZpbHRlcikpLG0udGV4UGFyYW1ldGVyaShhLG0uVEVYVFVSRV9NSU5fRklMVEVSLEkoYi5taW5GaWx0ZXIpKSk6KG0udGV4UGFyYW1ldGVyaShhLG0uVEVYVFVSRV9XUkFQX1MsbS5DTEFNUF9UT19FREdFKSxtLnRleFBhcmFtZXRlcmkoYSxtLlRFWFRVUkVfV1JBUF9ULG0uQ0xBTVBfVE9fRURHRSksYi53cmFwUz09PVRIUkVFLkNsYW1wVG9FZGdlV3JhcHBpbmcmJmIud3JhcFQ9PT1USFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nfHxUSFJFRS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogVGV4dHVyZSBpcyBub3QgcG93ZXIgb2YgdHdvLiBUZXh0dXJlLndyYXBTIGFuZCBUZXh0dXJlLndyYXBUIHNob3VsZCBiZSBzZXQgdG8gVEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZy4gKCBcIitcbmIuc291cmNlRmlsZStcIiApXCIpLG0udGV4UGFyYW1ldGVyaShhLG0uVEVYVFVSRV9NQUdfRklMVEVSLHooYi5tYWdGaWx0ZXIpKSxtLnRleFBhcmFtZXRlcmkoYSxtLlRFWFRVUkVfTUlOX0ZJTFRFUix6KGIubWluRmlsdGVyKSksYi5taW5GaWx0ZXIhPT1USFJFRS5OZWFyZXN0RmlsdGVyJiZiLm1pbkZpbHRlciE9PVRIUkVFLkxpbmVhckZpbHRlciYmVEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFRleHR1cmUgaXMgbm90IHBvd2VyIG9mIHR3by4gVGV4dHVyZS5taW5GaWx0ZXIgc2hvdWxkIGJlIHNldCB0byBUSFJFRS5OZWFyZXN0RmlsdGVyIG9yIFRIUkVFLkxpbmVhckZpbHRlci4gKCBcIitiLnNvdXJjZUZpbGUrXCIgKVwiKSk7KGM9ZGEuZ2V0KFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpKSYmYi50eXBlIT09VEhSRUUuRmxvYXRUeXBlJiZiLnR5cGUhPT1USFJFRS5IYWxmRmxvYXRUeXBlJiYoMTxiLmFuaXNvdHJvcHl8fGIuX19jdXJyZW50QW5pc290cm9weSkmJlxuKG0udGV4UGFyYW1ldGVyZihhLGMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4oYi5hbmlzb3Ryb3B5LEIuZ2V0TWF4QW5pc290cm9weSgpKSksYi5fX2N1cnJlbnRBbmlzb3Ryb3B5PWIuYW5pc290cm9weSl9ZnVuY3Rpb24gRShhLGIpe2lmKGEud2lkdGg+Ynx8YS5oZWlnaHQ+Yil7dmFyIGM9Yi9NYXRoLm1heChhLndpZHRoLGEuaGVpZ2h0KSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZC53aWR0aD1NYXRoLmZsb29yKGEud2lkdGgqYyk7ZC5oZWlnaHQ9TWF0aC5mbG9vcihhLmhlaWdodCpjKTtkLmdldENvbnRleHQoXCIyZFwiKS5kcmF3SW1hZ2UoYSwwLDAsYS53aWR0aCxhLmhlaWdodCwwLDAsZC53aWR0aCxkLmhlaWdodCk7VEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IGltYWdlIGlzIHRvbyBiaWcgKFwiK2Eud2lkdGgrXCJ4XCIrYS5oZWlnaHQrXCIpLiBSZXNpemVkIHRvIFwiK2Qud2lkdGgrXCJ4XCIrZC5oZWlnaHQsYSk7cmV0dXJuIGR9cmV0dXJuIGF9XG5mdW5jdGlvbiBHKGEsYil7bS5iaW5kUmVuZGVyYnVmZmVyKG0uUkVOREVSQlVGRkVSLGEpO2IuZGVwdGhCdWZmZXImJiFiLnN0ZW5jaWxCdWZmZXI/KG0ucmVuZGVyYnVmZmVyU3RvcmFnZShtLlJFTkRFUkJVRkZFUixtLkRFUFRIX0NPTVBPTkVOVDE2LGIud2lkdGgsYi5oZWlnaHQpLG0uZnJhbWVidWZmZXJSZW5kZXJidWZmZXIobS5GUkFNRUJVRkZFUixtLkRFUFRIX0FUVEFDSE1FTlQsbS5SRU5ERVJCVUZGRVIsYSkpOmIuZGVwdGhCdWZmZXImJmIuc3RlbmNpbEJ1ZmZlcj8obS5yZW5kZXJidWZmZXJTdG9yYWdlKG0uUkVOREVSQlVGRkVSLG0uREVQVEhfU1RFTkNJTCxiLndpZHRoLGIuaGVpZ2h0KSxtLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG0uRlJBTUVCVUZGRVIsbS5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsbS5SRU5ERVJCVUZGRVIsYSkpOm0ucmVuZGVyYnVmZmVyU3RvcmFnZShtLlJFTkRFUkJVRkZFUixtLlJHQkE0LGIud2lkdGgsYi5oZWlnaHQpfWZ1bmN0aW9uIEYoYSl7YSBpbnN0YW5jZW9mXG5USFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmU/KG0uYmluZFRleHR1cmUobS5URVhUVVJFX0NVQkVfTUFQLGEuX193ZWJnbFRleHR1cmUpLG0uZ2VuZXJhdGVNaXBtYXAobS5URVhUVVJFX0NVQkVfTUFQKSxtLmJpbmRUZXh0dXJlKG0uVEVYVFVSRV9DVUJFX01BUCxudWxsKSk6KG0uYmluZFRleHR1cmUobS5URVhUVVJFXzJELGEuX193ZWJnbFRleHR1cmUpLG0uZ2VuZXJhdGVNaXBtYXAobS5URVhUVVJFXzJEKSxtLmJpbmRUZXh0dXJlKG0uVEVYVFVSRV8yRCxudWxsKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gYT09PVRIUkVFLk5lYXJlc3RGaWx0ZXJ8fGE9PT1USFJFRS5OZWFyZXN0TWlwTWFwTmVhcmVzdEZpbHRlcnx8YT09PVRIUkVFLk5lYXJlc3RNaXBNYXBMaW5lYXJGaWx0ZXI/bS5ORUFSRVNUOm0uTElORUFSfWZ1bmN0aW9uIEkoYSl7dmFyIGI7aWYoYT09PVRIUkVFLlJlcGVhdFdyYXBwaW5nKXJldHVybiBtLlJFUEVBVDtpZihhPT09VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZylyZXR1cm4gbS5DTEFNUF9UT19FREdFO1xuaWYoYT09PVRIUkVFLk1pcnJvcmVkUmVwZWF0V3JhcHBpbmcpcmV0dXJuIG0uTUlSUk9SRURfUkVQRUFUO2lmKGE9PT1USFJFRS5OZWFyZXN0RmlsdGVyKXJldHVybiBtLk5FQVJFU1Q7aWYoYT09PVRIUkVFLk5lYXJlc3RNaXBNYXBOZWFyZXN0RmlsdGVyKXJldHVybiBtLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q7aWYoYT09PVRIUkVFLk5lYXJlc3RNaXBNYXBMaW5lYXJGaWx0ZXIpcmV0dXJuIG0uTkVBUkVTVF9NSVBNQVBfTElORUFSO2lmKGE9PT1USFJFRS5MaW5lYXJGaWx0ZXIpcmV0dXJuIG0uTElORUFSO2lmKGE9PT1USFJFRS5MaW5lYXJNaXBNYXBOZWFyZXN0RmlsdGVyKXJldHVybiBtLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDtpZihhPT09VEhSRUUuTGluZWFyTWlwTWFwTGluZWFyRmlsdGVyKXJldHVybiBtLkxJTkVBUl9NSVBNQVBfTElORUFSO2lmKGE9PT1USFJFRS5VbnNpZ25lZEJ5dGVUeXBlKXJldHVybiBtLlVOU0lHTkVEX0JZVEU7aWYoYT09PVRIUkVFLlVuc2lnbmVkU2hvcnQ0NDQ0VHlwZSlyZXR1cm4gbS5VTlNJR05FRF9TSE9SVF80XzRfNF80O1xuaWYoYT09PVRIUkVFLlVuc2lnbmVkU2hvcnQ1NTUxVHlwZSlyZXR1cm4gbS5VTlNJR05FRF9TSE9SVF81XzVfNV8xO2lmKGE9PT1USFJFRS5VbnNpZ25lZFNob3J0NTY1VHlwZSlyZXR1cm4gbS5VTlNJR05FRF9TSE9SVF81XzZfNTtpZihhPT09VEhSRUUuQnl0ZVR5cGUpcmV0dXJuIG0uQllURTtpZihhPT09VEhSRUUuU2hvcnRUeXBlKXJldHVybiBtLlNIT1JUO2lmKGE9PT1USFJFRS5VbnNpZ25lZFNob3J0VHlwZSlyZXR1cm4gbS5VTlNJR05FRF9TSE9SVDtpZihhPT09VEhSRUUuSW50VHlwZSlyZXR1cm4gbS5JTlQ7aWYoYT09PVRIUkVFLlVuc2lnbmVkSW50VHlwZSlyZXR1cm4gbS5VTlNJR05FRF9JTlQ7aWYoYT09PVRIUkVFLkZsb2F0VHlwZSlyZXR1cm4gbS5GTE9BVDtiPWRhLmdldChcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIik7aWYobnVsbCE9PWImJmE9PT1USFJFRS5IYWxmRmxvYXRUeXBlKXJldHVybiBiLkhBTEZfRkxPQVRfT0VTO2lmKGE9PT1USFJFRS5BbHBoYUZvcm1hdClyZXR1cm4gbS5BTFBIQTtcbmlmKGE9PT1USFJFRS5SR0JGb3JtYXQpcmV0dXJuIG0uUkdCO2lmKGE9PT1USFJFRS5SR0JBRm9ybWF0KXJldHVybiBtLlJHQkE7aWYoYT09PVRIUkVFLkx1bWluYW5jZUZvcm1hdClyZXR1cm4gbS5MVU1JTkFOQ0U7aWYoYT09PVRIUkVFLkx1bWluYW5jZUFscGhhRm9ybWF0KXJldHVybiBtLkxVTUlOQU5DRV9BTFBIQTtpZihhPT09VEhSRUUuQWRkRXF1YXRpb24pcmV0dXJuIG0uRlVOQ19BREQ7aWYoYT09PVRIUkVFLlN1YnRyYWN0RXF1YXRpb24pcmV0dXJuIG0uRlVOQ19TVUJUUkFDVDtpZihhPT09VEhSRUUuUmV2ZXJzZVN1YnRyYWN0RXF1YXRpb24pcmV0dXJuIG0uRlVOQ19SRVZFUlNFX1NVQlRSQUNUO2lmKGE9PT1USFJFRS5aZXJvRmFjdG9yKXJldHVybiBtLlpFUk87aWYoYT09PVRIUkVFLk9uZUZhY3RvcilyZXR1cm4gbS5PTkU7aWYoYT09PVRIUkVFLlNyY0NvbG9yRmFjdG9yKXJldHVybiBtLlNSQ19DT0xPUjtpZihhPT09VEhSRUUuT25lTWludXNTcmNDb2xvckZhY3RvcilyZXR1cm4gbS5PTkVfTUlOVVNfU1JDX0NPTE9SO1xuaWYoYT09PVRIUkVFLlNyY0FscGhhRmFjdG9yKXJldHVybiBtLlNSQ19BTFBIQTtpZihhPT09VEhSRUUuT25lTWludXNTcmNBbHBoYUZhY3RvcilyZXR1cm4gbS5PTkVfTUlOVVNfU1JDX0FMUEhBO2lmKGE9PT1USFJFRS5Ec3RBbHBoYUZhY3RvcilyZXR1cm4gbS5EU1RfQUxQSEE7aWYoYT09PVRIUkVFLk9uZU1pbnVzRHN0QWxwaGFGYWN0b3IpcmV0dXJuIG0uT05FX01JTlVTX0RTVF9BTFBIQTtpZihhPT09VEhSRUUuRHN0Q29sb3JGYWN0b3IpcmV0dXJuIG0uRFNUX0NPTE9SO2lmKGE9PT1USFJFRS5PbmVNaW51c0RzdENvbG9yRmFjdG9yKXJldHVybiBtLk9ORV9NSU5VU19EU1RfQ09MT1I7aWYoYT09PVRIUkVFLlNyY0FscGhhU2F0dXJhdGVGYWN0b3IpcmV0dXJuIG0uU1JDX0FMUEhBX1NBVFVSQVRFO2I9ZGEuZ2V0KFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIik7aWYobnVsbCE9PWIpe2lmKGE9PT1USFJFRS5SR0JfUzNUQ19EWFQxX0Zvcm1hdClyZXR1cm4gYi5DT01QUkVTU0VEX1JHQl9TM1RDX0RYVDFfRVhUO1xuaWYoYT09PVRIUkVFLlJHQkFfUzNUQ19EWFQxX0Zvcm1hdClyZXR1cm4gYi5DT01QUkVTU0VEX1JHQkFfUzNUQ19EWFQxX0VYVDtpZihhPT09VEhSRUUuUkdCQV9TM1RDX0RYVDNfRm9ybWF0KXJldHVybiBiLkNPTVBSRVNTRURfUkdCQV9TM1RDX0RYVDNfRVhUO2lmKGE9PT1USFJFRS5SR0JBX1MzVENfRFhUNV9Gb3JtYXQpcmV0dXJuIGIuQ09NUFJFU1NFRF9SR0JBX1MzVENfRFhUNV9FWFR9Yj1kYS5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGNcIik7aWYobnVsbCE9PWIpe2lmKGE9PT1USFJFRS5SR0JfUFZSVENfNEJQUFYxX0Zvcm1hdClyZXR1cm4gYi5DT01QUkVTU0VEX1JHQl9QVlJUQ180QlBQVjFfSU1HO2lmKGE9PT1USFJFRS5SR0JfUFZSVENfMkJQUFYxX0Zvcm1hdClyZXR1cm4gYi5DT01QUkVTU0VEX1JHQl9QVlJUQ18yQlBQVjFfSU1HO2lmKGE9PT1USFJFRS5SR0JBX1BWUlRDXzRCUFBWMV9Gb3JtYXQpcmV0dXJuIGIuQ09NUFJFU1NFRF9SR0JBX1BWUlRDXzRCUFBWMV9JTUc7XG5pZihhPT09VEhSRUUuUkdCQV9QVlJUQ18yQlBQVjFfRm9ybWF0KXJldHVybiBiLkNPTVBSRVNTRURfUkdCQV9QVlJUQ18yQlBQVjFfSU1HfWI9ZGEuZ2V0KFwiRVhUX2JsZW5kX21pbm1heFwiKTtpZihudWxsIT09Yil7aWYoYT09PVRIUkVFLk1pbkVxdWF0aW9uKXJldHVybiBiLk1JTl9FWFQ7aWYoYT09PVRIUkVFLk1heEVxdWF0aW9uKXJldHVybiBiLk1BWF9FWFR9cmV0dXJuIDB9Y29uc29sZS5sb2coXCJUSFJFRS5XZWJHTFJlbmRlcmVyXCIsVEhSRUUuUkVWSVNJT04pO2E9YXx8e307dmFyIFU9dm9pZCAwIT09YS5jYW52YXM/YS5jYW52YXM6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxNPXZvaWQgMCE9PWEuY29udGV4dD9hLmNvbnRleHQ6bnVsbCxIPTEsTD12b2lkIDAhPT1hLnByZWNpc2lvbj9hLnByZWNpc2lvbjpcImhpZ2hwXCIsUD12b2lkIDAhPT1hLmFscGhhP2EuYWxwaGE6ITEsTj12b2lkIDAhPT1hLmRlcHRoP2EuZGVwdGg6ITAsUj12b2lkIDAhPT1hLnN0ZW5jaWw/XG5hLnN0ZW5jaWw6ITAsVj12b2lkIDAhPT1hLmFudGlhbGlhcz9hLmFudGlhbGlhczohMSxKPXZvaWQgMCE9PWEucHJlbXVsdGlwbGllZEFscGhhP2EucHJlbXVsdGlwbGllZEFscGhhOiEwLG9hPXZvaWQgMCE9PWEucHJlc2VydmVEcmF3aW5nQnVmZmVyP2EucHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLGphPXZvaWQgMCE9PWEubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj9hLmxvZ2FyaXRobWljRGVwdGhCdWZmZXI6ITEsaGE9bmV3IFRIUkVFLkNvbG9yKDApLE89MCxjYT1bXSxiYT17fSxxYT1bXSxLYT1bXSxRYT1bXSxYYT1bXSxZYT1bXTt0aGlzLmRvbUVsZW1lbnQ9VTt0aGlzLmNvbnRleHQ9bnVsbDt0aGlzLnNvcnRPYmplY3RzPXRoaXMuYXV0b0NsZWFyU3RlbmNpbD10aGlzLmF1dG9DbGVhckRlcHRoPXRoaXMuYXV0b0NsZWFyQ29sb3I9dGhpcy5hdXRvQ2xlYXI9ITA7dGhpcy5nYW1tYUZhY3Rvcj0yO3RoaXMuc2hhZG93TWFwRW5hYmxlZD10aGlzLmdhbW1hT3V0cHV0PXRoaXMuZ2FtbWFJbnB1dD1cbiExO3RoaXMuc2hhZG93TWFwVHlwZT1USFJFRS5QQ0ZTaGFkb3dNYXA7dGhpcy5zaGFkb3dNYXBDdWxsRmFjZT1USFJFRS5DdWxsRmFjZUZyb250O3RoaXMuc2hhZG93TWFwQ2FzY2FkZT10aGlzLnNoYWRvd01hcERlYnVnPSExO3RoaXMubWF4TW9ycGhUYXJnZXRzPTg7dGhpcy5tYXhNb3JwaE5vcm1hbHM9NDt0aGlzLmF1dG9TY2FsZUN1YmVtYXBzPSEwO3RoaXMuaW5mbz17bWVtb3J5Ontwcm9ncmFtczowLGdlb21ldHJpZXM6MCx0ZXh0dXJlczowfSxyZW5kZXI6e2NhbGxzOjAsdmVydGljZXM6MCxmYWNlczowLHBvaW50czowfX07dmFyIEI9dGhpcyxQYT1bXSxvYj1udWxsLGFiPW51bGwsdWI9LTEsdGE9XCJcIix2Yj1udWxsLE1iPTAsaWI9MCxiYj0wLHBiPVUud2lkdGgscWI9VS5oZWlnaHQsWGI9MCxmYz0wLGNiPW5ldyBUSFJFRS5GcnVzdHVtLGRiPW5ldyBUSFJFRS5NYXRyaXg0LHdhPW5ldyBUSFJFRS5WZWN0b3IzLHBhPW5ldyBUSFJFRS5WZWN0b3IzLE9iPSEwLGpjPXthbWJpZW50OlswLFxuMCwwXSxkaXJlY3Rpb25hbDp7bGVuZ3RoOjAsY29sb3JzOltdLHBvc2l0aW9uczpbXX0scG9pbnQ6e2xlbmd0aDowLGNvbG9yczpbXSxwb3NpdGlvbnM6W10sZGlzdGFuY2VzOltdLGRlY2F5czpbXX0sc3BvdDp7bGVuZ3RoOjAsY29sb3JzOltdLHBvc2l0aW9uczpbXSxkaXN0YW5jZXM6W10sZGlyZWN0aW9uczpbXSxhbmdsZXNDb3M6W10sZXhwb25lbnRzOltdLGRlY2F5czpbXX0saGVtaTp7bGVuZ3RoOjAsc2t5Q29sb3JzOltdLGdyb3VuZENvbG9yczpbXSxwb3NpdGlvbnM6W119fSxtO3RyeXt2YXIgWWI9e2FscGhhOlAsZGVwdGg6TixzdGVuY2lsOlIsYW50aWFsaWFzOlYscHJlbXVsdGlwbGllZEFscGhhOkoscHJlc2VydmVEcmF3aW5nQnVmZmVyOm9hfTttPU18fFUuZ2V0Q29udGV4dChcIndlYmdsXCIsWWIpfHxVLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixZYik7aWYobnVsbD09PW0pe2lmKG51bGwhPT1VLmdldENvbnRleHQoXCJ3ZWJnbFwiKSl0aHJvd1wiRXJyb3IgY3JlYXRpbmcgV2ViR0wgY29udGV4dCB3aXRoIHlvdXIgc2VsZWN0ZWQgYXR0cmlidXRlcy5cIjtcbnRocm93XCJFcnJvciBjcmVhdGluZyBXZWJHTCBjb250ZXh0LlwiO31VLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO1piKCk7bGMoKTtiYT17fX0sITEpfWNhdGNoKHJjKXtUSFJFRS5lcnJvcihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFwiK3JjKX12YXIgVz1uZXcgVEhSRUUuV2ViR0xTdGF0ZShtLEkpO3ZvaWQgMD09PW0uZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0JiYobS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm57cmFuZ2VNaW46MSxyYW5nZU1heDoxLHByZWNpc2lvbjoxfX0pO3ZhciBkYT1uZXcgVEhSRUUuV2ViR0xFeHRlbnNpb25zKG0pO2RhLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0XCIpO2RhLmdldChcIk9FU190ZXh0dXJlX2Zsb2F0X2xpbmVhclwiKTtkYS5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpO2RhLmdldChcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpO1xuZGEuZ2V0KFwiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCIpO2phJiZkYS5nZXQoXCJFWFRfZnJhZ19kZXB0aFwiKTt2YXIgcmI9ZnVuY3Rpb24oYSxiLGMsZCl7ITA9PT1KJiYoYSo9ZCxiKj1kLGMqPWQpO20uY2xlYXJDb2xvcihhLGIsYyxkKX0sbGM9ZnVuY3Rpb24oKXttLmNsZWFyQ29sb3IoMCwwLDAsMSk7bS5jbGVhckRlcHRoKDEpO20uY2xlYXJTdGVuY2lsKDApO20uZW5hYmxlKG0uREVQVEhfVEVTVCk7bS5kZXB0aEZ1bmMobS5MRVFVQUwpO20uZnJvbnRGYWNlKG0uQ0NXKTttLmN1bGxGYWNlKG0uQkFDSyk7bS5lbmFibGUobS5DVUxMX0ZBQ0UpO20uZW5hYmxlKG0uQkxFTkQpO20uYmxlbmRFcXVhdGlvbihtLkZVTkNfQUREKTttLmJsZW5kRnVuYyhtLlNSQ19BTFBIQSxtLk9ORV9NSU5VU19TUkNfQUxQSEEpO20udmlld3BvcnQoaWIsYmIscGIscWIpO3JiKGhhLnIsaGEuZyxoYS5iLE8pfSxaYj1mdW5jdGlvbigpe3ZiPW9iPW51bGw7dGE9XCJcIjt1Yj0tMTtPYj0hMDtXLnJlc2V0KCl9O1xubGMoKTt0aGlzLmNvbnRleHQ9bTt0aGlzLnN0YXRlPVc7dmFyIFdiPW0uZ2V0UGFyYW1ldGVyKG0uTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLHNjPW0uZ2V0UGFyYW1ldGVyKG0uTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTKSx0Yz1tLmdldFBhcmFtZXRlcihtLk1BWF9URVhUVVJFX1NJWkUpLHFjPW0uZ2V0UGFyYW1ldGVyKG0uTUFYX0NVQkVfTUFQX1RFWFRVUkVfU0laRSksVmI9MDxzYyxOYj1WYiYmZGEuZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRcIiksdWM9bS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQobS5WRVJURVhfU0hBREVSLG0uSElHSF9GTE9BVCksdmM9bS5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQobS5WRVJURVhfU0hBREVSLG0uTUVESVVNX0ZMT0FUKSx3Yz1tLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdChtLkZSQUdNRU5UX1NIQURFUixtLkhJR0hfRkxPQVQpLHhjPW0uZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KG0uRlJBR01FTlRfU0hBREVSLG0uTUVESVVNX0ZMT0FUKSxcbmtjPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09YSlyZXR1cm4gYTthPVtdO2lmKGRhLmdldChcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKXx8ZGEuZ2V0KFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIikpZm9yKHZhciBiPW0uZ2V0UGFyYW1ldGVyKG0uQ09NUFJFU1NFRF9URVhUVVJFX0ZPUk1BVFMpLGM9MDtjPGIubGVuZ3RoO2MrKylhLnB1c2goYltjXSk7cmV0dXJuIGF9fSgpLHljPTA8dWMucHJlY2lzaW9uJiYwPHdjLnByZWNpc2lvbixtYz0wPHZjLnByZWNpc2lvbiYmMDx4Yy5wcmVjaXNpb247XCJoaWdocFwiIT09THx8eWN8fChtYz8oTD1cIm1lZGl1bXBcIixUSFJFRS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogaGlnaHAgbm90IHN1cHBvcnRlZCwgdXNpbmcgbWVkaXVtcC5cIikpOihMPVwibG93cFwiLFRIUkVFLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBoaWdocCBhbmQgbWVkaXVtcCBub3Qgc3VwcG9ydGVkLCB1c2luZyBsb3dwLlwiKSkpO1xuXCJtZWRpdW1wXCIhPT1MfHxtY3x8KEw9XCJsb3dwXCIsVEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IG1lZGl1bXAgbm90IHN1cHBvcnRlZCwgdXNpbmcgbG93cC5cIikpO3ZhciB6Yz1uZXcgVEhSRUUuU2hhZG93TWFwUGx1Z2luKHRoaXMsY2EsYmEscWEpLEFjPW5ldyBUSFJFRS5TcHJpdGVQbHVnaW4odGhpcyxYYSksQmM9bmV3IFRIUkVFLkxlbnNGbGFyZVBsdWdpbih0aGlzLFlhKTt0aGlzLmdldENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gbX07dGhpcy5mb3JjZUNvbnRleHRMb3NzPWZ1bmN0aW9uKCl7ZGEuZ2V0KFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpLmxvc2VDb250ZXh0KCl9O3RoaXMuc3VwcG9ydHNWZXJ0ZXhUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBWYn07dGhpcy5zdXBwb3J0c0Zsb2F0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZGEuZ2V0KFwiT0VTX3RleHR1cmVfZmxvYXRcIil9O3RoaXMuc3VwcG9ydHNIYWxmRmxvYXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBkYS5nZXQoXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpfTtcbnRoaXMuc3VwcG9ydHNTdGFuZGFyZERlcml2YXRpdmVzPWZ1bmN0aW9uKCl7cmV0dXJuIGRhLmdldChcIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiKX07dGhpcy5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUzNUQz1mdW5jdGlvbigpe3JldHVybiBkYS5nZXQoXCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKX07dGhpcy5zdXBwb3J0c0NvbXByZXNzZWRUZXh0dXJlUFZSVEM9ZnVuY3Rpb24oKXtyZXR1cm4gZGEuZ2V0KFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpfTt0aGlzLnN1cHBvcnRzQmxlbmRNaW5NYXg9ZnVuY3Rpb24oKXtyZXR1cm4gZGEuZ2V0KFwiRVhUX2JsZW5kX21pbm1heFwiKX07dGhpcy5nZXRNYXhBbmlzb3Ryb3B5PWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09YSlyZXR1cm4gYTt2YXIgYj1kYS5nZXQoXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7cmV0dXJuIGE9bnVsbCE9PWI/bS5nZXRQYXJhbWV0ZXIoYi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOlxuMH19KCk7dGhpcy5nZXRQcmVjaXNpb249ZnVuY3Rpb24oKXtyZXR1cm4gTH07dGhpcy5nZXRQaXhlbFJhdGlvPWZ1bmN0aW9uKCl7cmV0dXJuIEh9O3RoaXMuc2V0UGl4ZWxSYXRpbz1mdW5jdGlvbihhKXtIPWF9O3RoaXMuc2V0U2l6ZT1mdW5jdGlvbihhLGIsYyl7VS53aWR0aD1hKkg7VS5oZWlnaHQ9YipIOyExIT09YyYmKFUuc3R5bGUud2lkdGg9YStcInB4XCIsVS5zdHlsZS5oZWlnaHQ9YitcInB4XCIpO3RoaXMuc2V0Vmlld3BvcnQoMCwwLGEsYil9O3RoaXMuc2V0Vmlld3BvcnQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWI9YSpIO2JiPWIqSDtwYj1jKkg7cWI9ZCpIO20udmlld3BvcnQoaWIsYmIscGIscWIpfTt0aGlzLnNldFNjaXNzb3I9ZnVuY3Rpb24oYSxiLGMsZCl7bS5zY2lzc29yKGEqSCxiKkgsYypILGQqSCl9O3RoaXMuZW5hYmxlU2Npc3NvclRlc3Q9ZnVuY3Rpb24oYSl7YT9tLmVuYWJsZShtLlNDSVNTT1JfVEVTVCk6bS5kaXNhYmxlKG0uU0NJU1NPUl9URVNUKX07dGhpcy5nZXRDbGVhckNvbG9yPVxuZnVuY3Rpb24oKXtyZXR1cm4gaGF9O3RoaXMuc2V0Q2xlYXJDb2xvcj1mdW5jdGlvbihhLGIpe2hhLnNldChhKTtPPXZvaWQgMCE9PWI/YjoxO3JiKGhhLnIsaGEuZyxoYS5iLE8pfTt0aGlzLmdldENsZWFyQWxwaGE9ZnVuY3Rpb24oKXtyZXR1cm4gT307dGhpcy5zZXRDbGVhckFscGhhPWZ1bmN0aW9uKGEpe089YTtyYihoYS5yLGhhLmcsaGEuYixPKX07dGhpcy5jbGVhcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9MDtpZih2b2lkIDA9PT1hfHxhKWR8PW0uQ09MT1JfQlVGRkVSX0JJVDtpZih2b2lkIDA9PT1ifHxiKWR8PW0uREVQVEhfQlVGRkVSX0JJVDtpZih2b2lkIDA9PT1jfHxjKWR8PW0uU1RFTkNJTF9CVUZGRVJfQklUO20uY2xlYXIoZCl9O3RoaXMuY2xlYXJDb2xvcj1mdW5jdGlvbigpe20uY2xlYXIobS5DT0xPUl9CVUZGRVJfQklUKX07dGhpcy5jbGVhckRlcHRoPWZ1bmN0aW9uKCl7bS5jbGVhcihtLkRFUFRIX0JVRkZFUl9CSVQpfTt0aGlzLmNsZWFyU3RlbmNpbD1mdW5jdGlvbigpe20uY2xlYXIobS5TVEVOQ0lMX0JVRkZFUl9CSVQpfTtcbnRoaXMuY2xlYXJUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5zZXRSZW5kZXJUYXJnZXQoYSk7dGhpcy5jbGVhcihiLGMsZCl9O3RoaXMucmVzZXRHTFN0YXRlPVpiO3ZhciB3Yj1mdW5jdGlvbihhKXthLnRhcmdldC50cmF2ZXJzZShmdW5jdGlvbihhKXthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZW1vdmVcIix3Yik7aWYoYSBpbnN0YW5jZW9mIFRIUkVFLk1lc2h8fGEgaW5zdGFuY2VvZiBUSFJFRS5Qb2ludENsb3VkfHxhIGluc3RhbmNlb2YgVEhSRUUuTGluZSlkZWxldGUgYmFbYS5pZF07ZWxzZSBpZihhIGluc3RhbmNlb2YgVEhSRUUuSW1tZWRpYXRlUmVuZGVyT2JqZWN0fHxhLmltbWVkaWF0ZVJlbmRlckNhbGxiYWNrKWZvcih2YXIgYj1xYSxjPWIubGVuZ3RoLTE7MDw9YztjLS0pYltjXS5vYmplY3Q9PT1hJiZiLnNwbGljZShjLDEpO2RlbGV0ZSBhLl9fd2ViZ2xJbml0O2RlbGV0ZSBhLl9tb2RlbFZpZXdNYXRyaXg7ZGVsZXRlIGEuX25vcm1hbE1hdHJpeDtkZWxldGUgYS5fX3dlYmdsQWN0aXZlfSl9LFxuamI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsamIpO2RlbGV0ZSBhLl9fd2ViZ2xJbml0O2lmKGEgaW5zdGFuY2VvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeSl7Zm9yKHZhciBiIGluIGEuYXR0cmlidXRlcyl7dmFyIGM9YS5hdHRyaWJ1dGVzW2JdO3ZvaWQgMCE9PWMuYnVmZmVyJiYobS5kZWxldGVCdWZmZXIoYy5idWZmZXIpLGRlbGV0ZSBjLmJ1ZmZlcil9Qi5pbmZvLm1lbW9yeS5nZW9tZXRyaWVzLS19ZWxzZSBpZihiPVVhW2EuaWRdLHZvaWQgMCE9PWIpe2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9YltjXTtpZih2b2lkIDAhPT1lLm51bU1vcnBoVGFyZ2V0cyl7Zm9yKHZhciBmPTAsZz1lLm51bU1vcnBoVGFyZ2V0cztmPGc7ZisrKW0uZGVsZXRlQnVmZmVyKGUuX193ZWJnbE1vcnBoVGFyZ2V0c0J1ZmZlcnNbZl0pO2RlbGV0ZSBlLl9fd2ViZ2xNb3JwaFRhcmdldHNCdWZmZXJzfWlmKHZvaWQgMCE9PWUubnVtTW9ycGhOb3JtYWxzKXtmPVxuMDtmb3IoZz1lLm51bU1vcnBoTm9ybWFscztmPGc7ZisrKW0uZGVsZXRlQnVmZmVyKGUuX193ZWJnbE1vcnBoTm9ybWFsc0J1ZmZlcnNbZl0pO2RlbGV0ZSBlLl9fd2ViZ2xNb3JwaE5vcm1hbHNCdWZmZXJzfW5jKGUpfWRlbGV0ZSBVYVthLmlkXX1lbHNlIG5jKGEpO3RhPVwiXCJ9LFBiPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7YS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLFBiKTthLmltYWdlJiZhLmltYWdlLl9fd2ViZ2xUZXh0dXJlQ3ViZT8obS5kZWxldGVUZXh0dXJlKGEuaW1hZ2UuX193ZWJnbFRleHR1cmVDdWJlKSxkZWxldGUgYS5pbWFnZS5fX3dlYmdsVGV4dHVyZUN1YmUpOnZvaWQgMCE9PWEuX193ZWJnbEluaXQmJihtLmRlbGV0ZVRleHR1cmUoYS5fX3dlYmdsVGV4dHVyZSksZGVsZXRlIGEuX193ZWJnbFRleHR1cmUsZGVsZXRlIGEuX193ZWJnbEluaXQpO0IuaW5mby5tZW1vcnkudGV4dHVyZXMtLX0sb2M9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDthLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsXG5vYyk7aWYoYSYmdm9pZCAwIT09YS5fX3dlYmdsVGV4dHVyZSl7bS5kZWxldGVUZXh0dXJlKGEuX193ZWJnbFRleHR1cmUpO2RlbGV0ZSBhLl9fd2ViZ2xUZXh0dXJlO2lmKGEgaW5zdGFuY2VvZiBUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmUpZm9yKHZhciBiPTA7Nj5iO2IrKyltLmRlbGV0ZUZyYW1lYnVmZmVyKGEuX193ZWJnbEZyYW1lYnVmZmVyW2JdKSxtLmRlbGV0ZVJlbmRlcmJ1ZmZlcihhLl9fd2ViZ2xSZW5kZXJidWZmZXJbYl0pO2Vsc2UgbS5kZWxldGVGcmFtZWJ1ZmZlcihhLl9fd2ViZ2xGcmFtZWJ1ZmZlciksbS5kZWxldGVSZW5kZXJidWZmZXIoYS5fX3dlYmdsUmVuZGVyYnVmZmVyKTtkZWxldGUgYS5fX3dlYmdsRnJhbWVidWZmZXI7ZGVsZXRlIGEuX193ZWJnbFJlbmRlcmJ1ZmZlcn1CLmluZm8ubWVtb3J5LnRleHR1cmVzLS19LGljPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7YS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGlzcG9zZVwiLGljKTtoYyhhKX0sbmM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVxuXCJfX3dlYmdsVmVydGV4QnVmZmVyIF9fd2ViZ2xOb3JtYWxCdWZmZXIgX193ZWJnbFRhbmdlbnRCdWZmZXIgX193ZWJnbENvbG9yQnVmZmVyIF9fd2ViZ2xVVkJ1ZmZlciBfX3dlYmdsVVYyQnVmZmVyIF9fd2ViZ2xTa2luSW5kaWNlc0J1ZmZlciBfX3dlYmdsU2tpbldlaWdodHNCdWZmZXIgX193ZWJnbEZhY2VCdWZmZXIgX193ZWJnbExpbmVCdWZmZXIgX193ZWJnbExpbmVEaXN0YW5jZUJ1ZmZlclwiLnNwbGl0KFwiIFwiKSxjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1iW2NdO3ZvaWQgMCE9PWFbZV0mJihtLmRlbGV0ZUJ1ZmZlcihhW2VdKSxkZWxldGUgYVtlXSl9aWYodm9pZCAwIT09YS5fX3dlYmdsQ3VzdG9tQXR0cmlidXRlc0xpc3Qpe2ZvcihlIGluIGEuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0KW0uZGVsZXRlQnVmZmVyKGEuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0W2VdLmJ1ZmZlcik7ZGVsZXRlIGEuX193ZWJnbEN1c3RvbUF0dHJpYnV0ZXNMaXN0fUIuaW5mby5tZW1vcnkuZ2VvbWV0cmllcy0tfSxcbmhjPWZ1bmN0aW9uKGEpe3ZhciBiPWEucHJvZ3JhbS5wcm9ncmFtO2lmKHZvaWQgMCE9PWIpe2EucHJvZ3JhbT12b2lkIDA7dmFyIGMsZCxlPSExO2E9MDtmb3IoYz1QYS5sZW5ndGg7YTxjO2ErKylpZihkPVBhW2FdLGQucHJvZ3JhbT09PWIpe2QudXNlZFRpbWVzLS07MD09PWQudXNlZFRpbWVzJiYoZT0hMCk7YnJlYWt9aWYoITA9PT1lKXtlPVtdO2E9MDtmb3IoYz1QYS5sZW5ndGg7YTxjO2ErKylkPVBhW2FdLGQucHJvZ3JhbSE9PWImJmUucHVzaChkKTtQYT1lO20uZGVsZXRlUHJvZ3JhbShiKTtCLmluZm8ubWVtb3J5LnByb2dyYW1zLS19fX07dGhpcy5yZW5kZXJCdWZmZXJJbW1lZGlhdGU9ZnVuY3Rpb24oYSxiLGMpe1cuaW5pdEF0dHJpYnV0ZXMoKTthLmhhc1Bvc2l0aW9ucyYmIWEuX193ZWJnbFZlcnRleEJ1ZmZlciYmKGEuX193ZWJnbFZlcnRleEJ1ZmZlcj1tLmNyZWF0ZUJ1ZmZlcigpKTthLmhhc05vcm1hbHMmJiFhLl9fd2ViZ2xOb3JtYWxCdWZmZXImJihhLl9fd2ViZ2xOb3JtYWxCdWZmZXI9XG5tLmNyZWF0ZUJ1ZmZlcigpKTthLmhhc1V2cyYmIWEuX193ZWJnbFV2QnVmZmVyJiYoYS5fX3dlYmdsVXZCdWZmZXI9bS5jcmVhdGVCdWZmZXIoKSk7YS5oYXNDb2xvcnMmJiFhLl9fd2ViZ2xDb2xvckJ1ZmZlciYmKGEuX193ZWJnbENvbG9yQnVmZmVyPW0uY3JlYXRlQnVmZmVyKCkpO2EuaGFzUG9zaXRpb25zJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGEuX193ZWJnbFZlcnRleEJ1ZmZlciksbS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLGEucG9zaXRpb25BcnJheSxtLkRZTkFNSUNfRFJBVyksVy5lbmFibGVBdHRyaWJ1dGUoYi5hdHRyaWJ1dGVzLnBvc2l0aW9uKSxtLnZlcnRleEF0dHJpYlBvaW50ZXIoYi5hdHRyaWJ1dGVzLnBvc2l0aW9uLDMsbS5GTE9BVCwhMSwwLDApKTtpZihhLmhhc05vcm1hbHMpe20uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixhLl9fd2ViZ2xOb3JtYWxCdWZmZXIpO2lmKCExPT09YyBpbnN0YW5jZW9mIFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsJiZcbmMuc2hhZGluZz09PVRIUkVFLkZsYXRTaGFkaW5nKXt2YXIgZCxlLGYsZyxoLGssbixsLHAscSxyLHM9MyphLmNvdW50O2ZvcihyPTA7cjxzO3IrPTkpcT1hLm5vcm1hbEFycmF5LGQ9cVtyXSxlPXFbcisxXSxmPXFbcisyXSxnPXFbciszXSxrPXFbcis0XSxsPXFbcis1XSxoPXFbcis2XSxuPXFbcis3XSxwPXFbcis4XSxkPShkK2craCkvMyxlPShlK2srbikvMyxmPShmK2wrcCkvMyxxW3JdPWQscVtyKzFdPWUscVtyKzJdPWYscVtyKzNdPWQscVtyKzRdPWUscVtyKzVdPWYscVtyKzZdPWQscVtyKzddPWUscVtyKzhdPWZ9bS5idWZmZXJEYXRhKG0uQVJSQVlfQlVGRkVSLGEubm9ybWFsQXJyYXksbS5EWU5BTUlDX0RSQVcpO1cuZW5hYmxlQXR0cmlidXRlKGIuYXR0cmlidXRlcy5ub3JtYWwpO20udmVydGV4QXR0cmliUG9pbnRlcihiLmF0dHJpYnV0ZXMubm9ybWFsLDMsbS5GTE9BVCwhMSwwLDApfWEuaGFzVXZzJiZjLm1hcCYmKG0uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixhLl9fd2ViZ2xVdkJ1ZmZlciksXG5tLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsYS51dkFycmF5LG0uRFlOQU1JQ19EUkFXKSxXLmVuYWJsZUF0dHJpYnV0ZShiLmF0dHJpYnV0ZXMudXYpLG0udmVydGV4QXR0cmliUG9pbnRlcihiLmF0dHJpYnV0ZXMudXYsMixtLkZMT0FULCExLDAsMCkpO2EuaGFzQ29sb3JzJiZjLnZlcnRleENvbG9ycyE9PVRIUkVFLk5vQ29sb3JzJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGEuX193ZWJnbENvbG9yQnVmZmVyKSxtLmJ1ZmZlckRhdGEobS5BUlJBWV9CVUZGRVIsYS5jb2xvckFycmF5LG0uRFlOQU1JQ19EUkFXKSxXLmVuYWJsZUF0dHJpYnV0ZShiLmF0dHJpYnV0ZXMuY29sb3IpLG0udmVydGV4QXR0cmliUG9pbnRlcihiLmF0dHJpYnV0ZXMuY29sb3IsMyxtLkZMT0FULCExLDAsMCkpO1cuZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXMoKTttLmRyYXdBcnJheXMobS5UUklBTkdMRVMsMCxhLmNvdW50KTthLmNvdW50PTB9O3RoaXMucmVuZGVyQnVmZmVyRGlyZWN0PWZ1bmN0aW9uKGEsXG5iLGMsZSxmLGcpe2lmKCExIT09ZS52aXNpYmxlKWlmKHQoZyksYT12KGEsYixjLGUsZyksYj0hMSxjPVwiZGlyZWN0X1wiK2YuaWQrXCJfXCIrYS5pZCtcIl9cIisoZS53aXJlZnJhbWU/MTowKSxjIT09dGEmJih0YT1jLGI9ITApLGImJlcuaW5pdEF0dHJpYnV0ZXMoKSxnIGluc3RhbmNlb2YgVEhSRUUuTWVzaCl7Zz0hMD09PWUud2lyZWZyYW1lP20uTElORVM6bS5UUklBTkdMRVM7dmFyIGg9Zi5hdHRyaWJ1dGVzLmluZGV4O2lmKGgpe3ZhciBrLG47aC5hcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiZkYS5nZXQoXCJPRVNfZWxlbWVudF9pbmRleF91aW50XCIpPyhrPW0uVU5TSUdORURfSU5ULG49NCk6KGs9bS5VTlNJR05FRF9TSE9SVCxuPTIpO2M9Zi5vZmZzZXRzO2lmKDA9PT1jLmxlbmd0aCliJiYoZChlLGEsZiwwKSxtLmJpbmRCdWZmZXIobS5FTEVNRU5UX0FSUkFZX0JVRkZFUixoLmJ1ZmZlcikpLG0uZHJhd0VsZW1lbnRzKGcsaC5hcnJheS5sZW5ndGgsaywwKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssXG5CLmluZm8ucmVuZGVyLnZlcnRpY2VzKz1oLmFycmF5Lmxlbmd0aCxCLmluZm8ucmVuZGVyLmZhY2VzKz1oLmFycmF5Lmxlbmd0aC8zO2Vsc2V7Yj0hMDtmb3IodmFyIGw9MCxwPWMubGVuZ3RoO2w8cDtsKyspe3ZhciBxPWNbbF0uaW5kZXg7YiYmKGQoZSxhLGYscSksbS5iaW5kQnVmZmVyKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsaC5idWZmZXIpKTttLmRyYXdFbGVtZW50cyhnLGNbbF0uY291bnQsayxjW2xdLnN0YXJ0Km4pO0IuaW5mby5yZW5kZXIuY2FsbHMrKztCLmluZm8ucmVuZGVyLnZlcnRpY2VzKz1jW2xdLmNvdW50O0IuaW5mby5yZW5kZXIuZmFjZXMrPWNbbF0uY291bnQvM319fWVsc2UgYiYmZChlLGEsZiwwKSxlPWYuYXR0cmlidXRlcy5wb3NpdGlvbixtLmRyYXdBcnJheXMoZywwLGUuYXJyYXkubGVuZ3RoL2UuaXRlbVNpemUpLEIuaW5mby5yZW5kZXIuY2FsbHMrKyxCLmluZm8ucmVuZGVyLnZlcnRpY2VzKz1lLmFycmF5Lmxlbmd0aC9lLml0ZW1TaXplLEIuaW5mby5yZW5kZXIuZmFjZXMrPVxuZS5hcnJheS5sZW5ndGgvKDMqZS5pdGVtU2l6ZSl9ZWxzZSBpZihnIGluc3RhbmNlb2YgVEhSRUUuUG9pbnRDbG91ZClpZihnPW0uUE9JTlRTLGg9Zi5hdHRyaWJ1dGVzLmluZGV4KWlmKGguYXJyYXkgaW5zdGFuY2VvZiBVaW50MzJBcnJheSYmZGEuZ2V0KFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKT8oaz1tLlVOU0lHTkVEX0lOVCxuPTQpOihrPW0uVU5TSUdORURfU0hPUlQsbj0yKSxjPWYub2Zmc2V0cywwPT09Yy5sZW5ndGgpYiYmKGQoZSxhLGYsMCksbS5iaW5kQnVmZmVyKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsaC5idWZmZXIpKSxtLmRyYXdFbGVtZW50cyhnLGguYXJyYXkubGVuZ3RoLGssMCksQi5pbmZvLnJlbmRlci5jYWxscysrLEIuaW5mby5yZW5kZXIucG9pbnRzKz1oLmFycmF5Lmxlbmd0aDtlbHNlIGZvcigxPGMubGVuZ3RoJiYoYj0hMCksbD0wLHA9Yy5sZW5ndGg7bDxwO2wrKylxPWNbbF0uaW5kZXgsYiYmKGQoZSxhLGYscSksbS5iaW5kQnVmZmVyKG0uRUxFTUVOVF9BUlJBWV9CVUZGRVIsXG5oLmJ1ZmZlcikpLG0uZHJhd0VsZW1lbnRzKGcsY1tsXS5jb3VudCxrLGNbbF0uc3RhcnQqbiksQi5pbmZvLnJlbmRlci5jYWxscysrLEIuaW5mby5yZW5kZXIucG9pbnRzKz1jW2xdLmNvdW50O2Vsc2UgaWYoYiYmZChlLGEsZiwwKSxlPWYuYXR0cmlidXRlcy5wb3NpdGlvbixjPWYub2Zmc2V0cywwPT09Yy5sZW5ndGgpbS5kcmF3QXJyYXlzKGcsMCxlLmFycmF5Lmxlbmd0aC8zKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssQi5pbmZvLnJlbmRlci5wb2ludHMrPWUuYXJyYXkubGVuZ3RoLzM7ZWxzZSBmb3IobD0wLHA9Yy5sZW5ndGg7bDxwO2wrKyltLmRyYXdBcnJheXMoZyxjW2xdLmluZGV4LGNbbF0uY291bnQpLEIuaW5mby5yZW5kZXIuY2FsbHMrKyxCLmluZm8ucmVuZGVyLnBvaW50cys9Y1tsXS5jb3VudDtlbHNlIGlmKGcgaW5zdGFuY2VvZiBUSFJFRS5MaW5lKWlmKGc9Zy5tb2RlPT09VEhSRUUuTGluZVN0cmlwP20uTElORV9TVFJJUDptLkxJTkVTLFcuc2V0TGluZVdpZHRoKGUubGluZXdpZHRoKlxuSCksaD1mLmF0dHJpYnV0ZXMuaW5kZXgpaWYoaC5hcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5PyhrPW0uVU5TSUdORURfSU5ULG49NCk6KGs9bS5VTlNJR05FRF9TSE9SVCxuPTIpLGM9Zi5vZmZzZXRzLDA9PT1jLmxlbmd0aCliJiYoZChlLGEsZiwwKSxtLmJpbmRCdWZmZXIobS5FTEVNRU5UX0FSUkFZX0JVRkZFUixoLmJ1ZmZlcikpLG0uZHJhd0VsZW1lbnRzKGcsaC5hcnJheS5sZW5ndGgsaywwKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssQi5pbmZvLnJlbmRlci52ZXJ0aWNlcys9aC5hcnJheS5sZW5ndGg7ZWxzZSBmb3IoMTxjLmxlbmd0aCYmKGI9ITApLGw9MCxwPWMubGVuZ3RoO2w8cDtsKyspcT1jW2xdLmluZGV4LGImJihkKGUsYSxmLHEpLG0uYmluZEJ1ZmZlcihtLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGguYnVmZmVyKSksbS5kcmF3RWxlbWVudHMoZyxjW2xdLmNvdW50LGssY1tsXS5zdGFydCpuKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssQi5pbmZvLnJlbmRlci52ZXJ0aWNlcys9XG5jW2xdLmNvdW50O2Vsc2UgaWYoYiYmZChlLGEsZiwwKSxlPWYuYXR0cmlidXRlcy5wb3NpdGlvbixjPWYub2Zmc2V0cywwPT09Yy5sZW5ndGgpbS5kcmF3QXJyYXlzKGcsMCxlLmFycmF5Lmxlbmd0aC8zKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssQi5pbmZvLnJlbmRlci52ZXJ0aWNlcys9ZS5hcnJheS5sZW5ndGgvMztlbHNlIGZvcihsPTAscD1jLmxlbmd0aDtsPHA7bCsrKW0uZHJhd0FycmF5cyhnLGNbbF0uaW5kZXgsY1tsXS5jb3VudCksQi5pbmZvLnJlbmRlci5jYWxscysrLEIuaW5mby5yZW5kZXIudmVydGljZXMrPWNbbF0uY291bnR9O3RoaXMucmVuZGVyQnVmZmVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZighMSE9PWQudmlzaWJsZSl7dChmKTtjPXYoYSxiLGMsZCxmKTtiPWMuYXR0cmlidXRlczthPSExO2M9ZS5pZCtcIl9cIitjLmlkK1wiX1wiKyhkLndpcmVmcmFtZT8xOjApO2MhPT10YSYmKHRhPWMsYT0hMCk7YSYmVy5pbml0QXR0cmlidXRlcygpO2lmKCFkLm1vcnBoVGFyZ2V0cyYmXG4wPD1iLnBvc2l0aW9uKWEmJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsVmVydGV4QnVmZmVyKSxXLmVuYWJsZUF0dHJpYnV0ZShiLnBvc2l0aW9uKSxtLnZlcnRleEF0dHJpYlBvaW50ZXIoYi5wb3NpdGlvbiwzLG0uRkxPQVQsITEsMCwwKSk7ZWxzZSBpZihmLm1vcnBoVGFyZ2V0QmFzZSl7Yz1kLnByb2dyYW0uYXR0cmlidXRlczstMSE9PWYubW9ycGhUYXJnZXRCYXNlJiYwPD1jLnBvc2l0aW9uPyhtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsTW9ycGhUYXJnZXRzQnVmZmVyc1tmLm1vcnBoVGFyZ2V0QmFzZV0pLFcuZW5hYmxlQXR0cmlidXRlKGMucG9zaXRpb24pLG0udmVydGV4QXR0cmliUG9pbnRlcihjLnBvc2l0aW9uLDMsbS5GTE9BVCwhMSwwLDApKTowPD1jLnBvc2l0aW9uJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbFZlcnRleEJ1ZmZlciksVy5lbmFibGVBdHRyaWJ1dGUoYy5wb3NpdGlvbiksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGMucG9zaXRpb24sXG4zLG0uRkxPQVQsITEsMCwwKSk7aWYoZi5tb3JwaFRhcmdldEZvcmNlZE9yZGVyLmxlbmd0aClmb3IodmFyIGg9MCxrPWYubW9ycGhUYXJnZXRGb3JjZWRPcmRlcixuPWYubW9ycGhUYXJnZXRJbmZsdWVuY2VzLGw7aDxkLm51bVN1cHBvcnRlZE1vcnBoVGFyZ2V0cyYmaDxrLmxlbmd0aDspbD1jW1wibW9ycGhUYXJnZXRcIitoXSwwPD1sJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbE1vcnBoVGFyZ2V0c0J1ZmZlcnNba1toXV0pLFcuZW5hYmxlQXR0cmlidXRlKGwpLG0udmVydGV4QXR0cmliUG9pbnRlcihsLDMsbS5GTE9BVCwhMSwwLDApKSxsPWNbXCJtb3JwaE5vcm1hbFwiK2hdLDA8PWwmJmQubW9ycGhOb3JtYWxzJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbE1vcnBoTm9ybWFsc0J1ZmZlcnNba1toXV0pLFcuZW5hYmxlQXR0cmlidXRlKGwpLG0udmVydGV4QXR0cmliUG9pbnRlcihsLDMsbS5GTE9BVCwhMSwwLDApKSxmLl9fd2ViZ2xNb3JwaFRhcmdldEluZmx1ZW5jZXNbaF09XG5uW2tbaF1dLGgrKztlbHNle2s9W107bj1mLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztoPWYuZ2VvbWV0cnkubW9ycGhUYXJnZXRzO24ubGVuZ3RoPmgubGVuZ3RoJiYoY29uc29sZS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogSW5mbHVlbmNlcyBhcnJheSBpcyBiaWdnZXIgdGhhbiBtb3JwaFRhcmdldHMgYXJyYXkuXCIpLG4ubGVuZ3RoPWgubGVuZ3RoKTtoPTA7Zm9yKGw9bi5sZW5ndGg7aDxsO2grKylrLnB1c2goW25baF0saF0pO2subGVuZ3RoPmQubnVtU3VwcG9ydGVkTW9ycGhUYXJnZXRzPyhrLnNvcnQoZyksay5sZW5ndGg9ZC5udW1TdXBwb3J0ZWRNb3JwaFRhcmdldHMpOmsubGVuZ3RoPmQubnVtU3VwcG9ydGVkTW9ycGhOb3JtYWxzP2suc29ydChnKTowPT09ay5sZW5ndGgmJmsucHVzaChbMCwwXSk7Zm9yKHZhciBoPTAscD1kLm51bVN1cHBvcnRlZE1vcnBoVGFyZ2V0cztoPHA7aCsrKWlmKGtbaF0pe3ZhciBxPWtbaF1bMV07bD1jW1wibW9ycGhUYXJnZXRcIitoXTswPD1sJiZcbihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsTW9ycGhUYXJnZXRzQnVmZmVyc1txXSksVy5lbmFibGVBdHRyaWJ1dGUobCksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGwsMyxtLkZMT0FULCExLDAsMCkpO2w9Y1tcIm1vcnBoTm9ybWFsXCIraF07MDw9bCYmZC5tb3JwaE5vcm1hbHMmJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsTW9ycGhOb3JtYWxzQnVmZmVyc1txXSksVy5lbmFibGVBdHRyaWJ1dGUobCksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGwsMyxtLkZMT0FULCExLDAsMCkpO2YuX193ZWJnbE1vcnBoVGFyZ2V0SW5mbHVlbmNlc1toXT1uW3FdfWVsc2UgZi5fX3dlYmdsTW9ycGhUYXJnZXRJbmZsdWVuY2VzW2hdPTB9bnVsbCE9PWQucHJvZ3JhbS51bmlmb3Jtcy5tb3JwaFRhcmdldEluZmx1ZW5jZXMmJm0udW5pZm9ybTFmdihkLnByb2dyYW0udW5pZm9ybXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzLGYuX193ZWJnbE1vcnBoVGFyZ2V0SW5mbHVlbmNlcyl9aWYoYSl7aWYoZS5fX3dlYmdsQ3VzdG9tQXR0cmlidXRlc0xpc3QpZm9yKGM9XG4wLG49ZS5fX3dlYmdsQ3VzdG9tQXR0cmlidXRlc0xpc3QubGVuZ3RoO2M8bjtjKyspaz1lLl9fd2ViZ2xDdXN0b21BdHRyaWJ1dGVzTGlzdFtjXSwwPD1iW2suYnVmZmVyLmJlbG9uZ3NUb0F0dHJpYnV0ZV0mJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsay5idWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGJbay5idWZmZXIuYmVsb25nc1RvQXR0cmlidXRlXSksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGJbay5idWZmZXIuYmVsb25nc1RvQXR0cmlidXRlXSxrLnNpemUsbS5GTE9BVCwhMSwwLDApKTswPD1iLmNvbG9yJiYoMDxmLmdlb21ldHJ5LmNvbG9ycy5sZW5ndGh8fDA8Zi5nZW9tZXRyeS5mYWNlcy5sZW5ndGg/KG0uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixlLl9fd2ViZ2xDb2xvckJ1ZmZlciksVy5lbmFibGVBdHRyaWJ1dGUoYi5jb2xvciksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGIuY29sb3IsMyxtLkZMT0FULCExLDAsMCkpOnZvaWQgMCE9PWQuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcyYmXG5tLnZlcnRleEF0dHJpYjNmdihiLmNvbG9yLGQuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcy5jb2xvcikpOzA8PWIubm9ybWFsJiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbE5vcm1hbEJ1ZmZlciksVy5lbmFibGVBdHRyaWJ1dGUoYi5ub3JtYWwpLG0udmVydGV4QXR0cmliUG9pbnRlcihiLm5vcm1hbCwzLG0uRkxPQVQsITEsMCwwKSk7MDw9Yi50YW5nZW50JiYobS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbFRhbmdlbnRCdWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGIudGFuZ2VudCksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGIudGFuZ2VudCw0LG0uRkxPQVQsITEsMCwwKSk7MDw9Yi51diYmKGYuZ2VvbWV0cnkuZmFjZVZlcnRleFV2c1swXT8obS5iaW5kQnVmZmVyKG0uQVJSQVlfQlVGRkVSLGUuX193ZWJnbFVWQnVmZmVyKSxXLmVuYWJsZUF0dHJpYnV0ZShiLnV2KSxtLnZlcnRleEF0dHJpYlBvaW50ZXIoYi51diwyLG0uRkxPQVQsITEsMCxcbjApKTp2b2lkIDAhPT1kLmRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXMmJm0udmVydGV4QXR0cmliMmZ2KGIudXYsZC5kZWZhdWx0QXR0cmlidXRlVmFsdWVzLnV2KSk7MDw9Yi51djImJihmLmdlb21ldHJ5LmZhY2VWZXJ0ZXhVdnNbMV0/KG0uYmluZEJ1ZmZlcihtLkFSUkFZX0JVRkZFUixlLl9fd2ViZ2xVVjJCdWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGIudXYyKSxtLnZlcnRleEF0dHJpYlBvaW50ZXIoYi51djIsMixtLkZMT0FULCExLDAsMCkpOnZvaWQgMCE9PWQuZGVmYXVsdEF0dHJpYnV0ZVZhbHVlcyYmbS52ZXJ0ZXhBdHRyaWIyZnYoYi51djIsZC5kZWZhdWx0QXR0cmlidXRlVmFsdWVzLnV2MikpO2Quc2tpbm5pbmcmJjA8PWIuc2tpbkluZGV4JiYwPD1iLnNraW5XZWlnaHQmJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsU2tpbkluZGljZXNCdWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGIuc2tpbkluZGV4KSxtLnZlcnRleEF0dHJpYlBvaW50ZXIoYi5za2luSW5kZXgsXG40LG0uRkxPQVQsITEsMCwwKSxtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsU2tpbldlaWdodHNCdWZmZXIpLFcuZW5hYmxlQXR0cmlidXRlKGIuc2tpbldlaWdodCksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGIuc2tpbldlaWdodCw0LG0uRkxPQVQsITEsMCwwKSk7MDw9Yi5saW5lRGlzdGFuY2UmJihtLmJpbmRCdWZmZXIobS5BUlJBWV9CVUZGRVIsZS5fX3dlYmdsTGluZURpc3RhbmNlQnVmZmVyKSxXLmVuYWJsZUF0dHJpYnV0ZShiLmxpbmVEaXN0YW5jZSksbS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGIubGluZURpc3RhbmNlLDEsbS5GTE9BVCwhMSwwLDApKX1XLmRpc2FibGVVbnVzZWRBdHRyaWJ1dGVzKCk7ZiBpbnN0YW5jZW9mIFRIUkVFLk1lc2g/KGY9ZS5fX3R5cGVBcnJheT09PVVpbnQzMkFycmF5P20uVU5TSUdORURfSU5UOm0uVU5TSUdORURfU0hPUlQsZC53aXJlZnJhbWU/KFcuc2V0TGluZVdpZHRoKGQud2lyZWZyYW1lTGluZXdpZHRoKkgpLGEmJm0uYmluZEJ1ZmZlcihtLkVMRU1FTlRfQVJSQVlfQlVGRkVSLFxuZS5fX3dlYmdsTGluZUJ1ZmZlciksbS5kcmF3RWxlbWVudHMobS5MSU5FUyxlLl9fd2ViZ2xMaW5lQ291bnQsZiwwKSk6KGEmJm0uYmluZEJ1ZmZlcihtLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUuX193ZWJnbEZhY2VCdWZmZXIpLG0uZHJhd0VsZW1lbnRzKG0uVFJJQU5HTEVTLGUuX193ZWJnbEZhY2VDb3VudCxmLDApKSxCLmluZm8ucmVuZGVyLmNhbGxzKyssQi5pbmZvLnJlbmRlci52ZXJ0aWNlcys9ZS5fX3dlYmdsRmFjZUNvdW50LEIuaW5mby5yZW5kZXIuZmFjZXMrPWUuX193ZWJnbEZhY2VDb3VudC8zKTpmIGluc3RhbmNlb2YgVEhSRUUuTGluZT8oZj1mLm1vZGU9PT1USFJFRS5MaW5lU3RyaXA/bS5MSU5FX1NUUklQOm0uTElORVMsVy5zZXRMaW5lV2lkdGgoZC5saW5ld2lkdGgqSCksbS5kcmF3QXJyYXlzKGYsMCxlLl9fd2ViZ2xMaW5lQ291bnQpLEIuaW5mby5yZW5kZXIuY2FsbHMrKyk6ZiBpbnN0YW5jZW9mIFRIUkVFLlBvaW50Q2xvdWQmJihtLmRyYXdBcnJheXMobS5QT0lOVFMsXG4wLGUuX193ZWJnbFBhcnRpY2xlQ291bnQpLEIuaW5mby5yZW5kZXIuY2FsbHMrKyxCLmluZm8ucmVuZGVyLnBvaW50cys9ZS5fX3dlYmdsUGFydGljbGVDb3VudCl9fTt0aGlzLnJlbmRlcj1mdW5jdGlvbihhLGIsYyxkKXtpZighMT09PWIgaW5zdGFuY2VvZiBUSFJFRS5DYW1lcmEpVEhSRUUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlbmRlcjogY2FtZXJhIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBUSFJFRS5DYW1lcmEuXCIpO2Vsc2V7dmFyIGc9YS5mb2c7dGE9XCJcIjt1Yj0tMTt2Yj1udWxsO09iPSEwOyEwPT09YS5hdXRvVXBkYXRlJiZhLnVwZGF0ZU1hdHJpeFdvcmxkKCk7dm9pZCAwPT09Yi5wYXJlbnQmJmIudXBkYXRlTWF0cml4V29ybGQoKTthLnRyYXZlcnNlKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBUSFJFRS5Ta2lubmVkTWVzaCYmYS5za2VsZXRvbi51cGRhdGUoKX0pO2IubWF0cml4V29ybGRJbnZlcnNlLmdldEludmVyc2UoYi5tYXRyaXhXb3JsZCk7ZGIubXVsdGlwbHlNYXRyaWNlcyhiLnByb2plY3Rpb25NYXRyaXgsXG5iLm1hdHJpeFdvcmxkSW52ZXJzZSk7Y2Iuc2V0RnJvbU1hdHJpeChkYik7Y2EubGVuZ3RoPTA7S2EubGVuZ3RoPTA7UWEubGVuZ3RoPTA7WGEubGVuZ3RoPTA7WWEubGVuZ3RoPTA7aChhKTshMD09PUIuc29ydE9iamVjdHMmJihLYS5zb3J0KGUpLFFhLnNvcnQoZikpO3pjLnJlbmRlcihhLGIpO0IuaW5mby5yZW5kZXIuY2FsbHM9MDtCLmluZm8ucmVuZGVyLnZlcnRpY2VzPTA7Qi5pbmZvLnJlbmRlci5mYWNlcz0wO0IuaW5mby5yZW5kZXIucG9pbnRzPTA7dGhpcy5zZXRSZW5kZXJUYXJnZXQoYyk7KHRoaXMuYXV0b0NsZWFyfHxkKSYmdGhpcy5jbGVhcih0aGlzLmF1dG9DbGVhckNvbG9yLHRoaXMuYXV0b0NsZWFyRGVwdGgsdGhpcy5hdXRvQ2xlYXJTdGVuY2lsKTtkPTA7Zm9yKHZhciBuPXFhLmxlbmd0aDtkPG47ZCsrKXt2YXIgbT1xYVtkXSxxPW0ub2JqZWN0O3EudmlzaWJsZSYmKHcocSxiKSxwKG0pKX1hLm92ZXJyaWRlTWF0ZXJpYWw/KGQ9YS5vdmVycmlkZU1hdGVyaWFsLHUoZCksXG5rKEthLGIsY2EsZyxkKSxrKFFhLGIsY2EsZyxkKSxsKHFhLFwiXCIsYixjYSxnLGQpKTooVy5zZXRCbGVuZGluZyhUSFJFRS5Ob0JsZW5kaW5nKSxrKEthLGIsY2EsZyxudWxsKSxsKHFhLFwib3BhcXVlXCIsYixjYSxnLG51bGwpLGsoUWEsYixjYSxnLG51bGwpLGwocWEsXCJ0cmFuc3BhcmVudFwiLGIsY2EsZyxudWxsKSk7QWMucmVuZGVyKGEsYik7QmMucmVuZGVyKGEsYixYYixmYyk7YyYmYy5nZW5lcmF0ZU1pcG1hcHMmJmMubWluRmlsdGVyIT09VEhSRUUuTmVhcmVzdEZpbHRlciYmYy5taW5GaWx0ZXIhPT1USFJFRS5MaW5lYXJGaWx0ZXImJkYoYyk7Vy5zZXREZXB0aFRlc3QoITApO1cuc2V0RGVwdGhXcml0ZSghMCk7Vy5zZXRDb2xvcldyaXRlKCEwKX19O3RoaXMucmVuZGVySW1tZWRpYXRlT2JqZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dihhLGIsYyxkLGUpO3RhPVwiXCI7Qi5zZXRNYXRlcmlhbEZhY2VzKGQpO2UuaW1tZWRpYXRlUmVuZGVyQ2FsbGJhY2s/ZS5pbW1lZGlhdGVSZW5kZXJDYWxsYmFjayhmLFxubSxjYik6ZS5yZW5kZXIoZnVuY3Rpb24oYSl7Qi5yZW5kZXJCdWZmZXJJbW1lZGlhdGUoYSxmLGQpfSl9O3ZhciBVYT17fSxRYj0wLHBjPXtNZXNoRGVwdGhNYXRlcmlhbDpcImRlcHRoXCIsTWVzaE5vcm1hbE1hdGVyaWFsOlwibm9ybWFsXCIsTWVzaEJhc2ljTWF0ZXJpYWw6XCJiYXNpY1wiLE1lc2hMYW1iZXJ0TWF0ZXJpYWw6XCJsYW1iZXJ0XCIsTWVzaFBob25nTWF0ZXJpYWw6XCJwaG9uZ1wiLExpbmVCYXNpY01hdGVyaWFsOlwiYmFzaWNcIixMaW5lRGFzaGVkTWF0ZXJpYWw6XCJkYXNoZWRcIixQb2ludENsb3VkTWF0ZXJpYWw6XCJwYXJ0aWNsZV9iYXNpY1wifTt0aGlzLnNldEZhY2VDdWxsaW5nPWZ1bmN0aW9uKGEsYil7YT09PVRIUkVFLkN1bGxGYWNlTm9uZT9tLmRpc2FibGUobS5DVUxMX0ZBQ0UpOihiPT09VEhSRUUuRnJvbnRGYWNlRGlyZWN0aW9uQ1c/bS5mcm9udEZhY2UobS5DVyk6bS5mcm9udEZhY2UobS5DQ1cpLGE9PT1USFJFRS5DdWxsRmFjZUJhY2s/bS5jdWxsRmFjZShtLkJBQ0spOmE9PT1cblRIUkVFLkN1bGxGYWNlRnJvbnQ/bS5jdWxsRmFjZShtLkZST05UKTptLmN1bGxGYWNlKG0uRlJPTlRfQU5EX0JBQ0spLG0uZW5hYmxlKG0uQ1VMTF9GQUNFKSl9O3RoaXMuc2V0TWF0ZXJpYWxGYWNlcz1mdW5jdGlvbihhKXtXLnNldERvdWJsZVNpZGVkKGEuc2lkZT09PVRIUkVFLkRvdWJsZVNpZGUpO1cuc2V0RmxpcFNpZGVkKGEuc2lkZT09PVRIUkVFLkJhY2tTaWRlKX07dGhpcy51cGxvYWRUZXh0dXJlPWZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuX193ZWJnbEluaXQmJihhLl9fd2ViZ2xJbml0PSEwLGEuYWRkRXZlbnRMaXN0ZW5lcihcImRpc3Bvc2VcIixQYiksYS5fX3dlYmdsVGV4dHVyZT1tLmNyZWF0ZVRleHR1cmUoKSxCLmluZm8ubWVtb3J5LnRleHR1cmVzKyspO20uYmluZFRleHR1cmUobS5URVhUVVJFXzJELGEuX193ZWJnbFRleHR1cmUpO20ucGl4ZWxTdG9yZWkobS5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGEuZmxpcFkpO20ucGl4ZWxTdG9yZWkobS5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsXG5hLnByZW11bHRpcGx5QWxwaGEpO20ucGl4ZWxTdG9yZWkobS5VTlBBQ0tfQUxJR05NRU5ULGEudW5wYWNrQWxpZ25tZW50KTthLmltYWdlPUUoYS5pbWFnZSx0Yyk7dmFyIGI9YS5pbWFnZSxjPVRIUkVFLk1hdGguaXNQb3dlck9mVHdvKGIud2lkdGgpJiZUSFJFRS5NYXRoLmlzUG93ZXJPZlR3byhiLmhlaWdodCksZD1JKGEuZm9ybWF0KSxlPUkoYS50eXBlKTtBKG0uVEVYVFVSRV8yRCxhLGMpO3ZhciBmPWEubWlwbWFwcztpZihhIGluc3RhbmNlb2YgVEhSRUUuRGF0YVRleHR1cmUpaWYoMDxmLmxlbmd0aCYmYyl7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWI9ZltnXSxtLnRleEltYWdlMkQobS5URVhUVVJFXzJELGcsZCxiLndpZHRoLGIuaGVpZ2h0LDAsZCxlLGIuZGF0YSk7YS5nZW5lcmF0ZU1pcG1hcHM9ITF9ZWxzZSBtLnRleEltYWdlMkQobS5URVhUVVJFXzJELDAsZCxiLndpZHRoLGIuaGVpZ2h0LDAsZCxlLGIuZGF0YSk7ZWxzZSBpZihhIGluc3RhbmNlb2YgVEhSRUUuQ29tcHJlc3NlZFRleHR1cmUpZm9yKGc9XG4wLGg9Zi5sZW5ndGg7ZzxoO2crKyliPWZbZ10sYS5mb3JtYXQhPT1USFJFRS5SR0JBRm9ybWF0JiZhLmZvcm1hdCE9PVRIUkVFLlJHQkZvcm1hdD8tMTxrYygpLmluZGV4T2YoZCk/bS5jb21wcmVzc2VkVGV4SW1hZ2UyRChtLlRFWFRVUkVfMkQsZyxkLGIud2lkdGgsYi5oZWlnaHQsMCxiLmRhdGEpOlRIUkVFLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiBBdHRlbXB0IHRvIGxvYWQgdW5zdXBwb3J0ZWQgY29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpbiAudXBsb2FkVGV4dHVyZSgpXCIpOm0udGV4SW1hZ2UyRChtLlRFWFRVUkVfMkQsZyxkLGIud2lkdGgsYi5oZWlnaHQsMCxkLGUsYi5kYXRhKTtlbHNlIGlmKDA8Zi5sZW5ndGgmJmMpe2c9MDtmb3IoaD1mLmxlbmd0aDtnPGg7ZysrKWI9ZltnXSxtLnRleEltYWdlMkQobS5URVhUVVJFXzJELGcsZCxkLGUsYik7YS5nZW5lcmF0ZU1pcG1hcHM9ITF9ZWxzZSBtLnRleEltYWdlMkQobS5URVhUVVJFXzJELDAsZCxkLGUsYS5pbWFnZSk7XG5hLmdlbmVyYXRlTWlwbWFwcyYmYyYmbS5nZW5lcmF0ZU1pcG1hcChtLlRFWFRVUkVfMkQpO2EubmVlZHNVcGRhdGU9ITE7aWYoYS5vblVwZGF0ZSlhLm9uVXBkYXRlKCl9O3RoaXMuc2V0VGV4dHVyZT1mdW5jdGlvbihhLGIpe20uYWN0aXZlVGV4dHVyZShtLlRFWFRVUkUwK2IpO2EubmVlZHNVcGRhdGU/Qi51cGxvYWRUZXh0dXJlKGEpOm0uYmluZFRleHR1cmUobS5URVhUVVJFXzJELGEuX193ZWJnbFRleHR1cmUpfTt0aGlzLnNldFJlbmRlclRhcmdldD1mdW5jdGlvbihhKXt2YXIgYj1hIGluc3RhbmNlb2YgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXRDdWJlO2lmKGEmJnZvaWQgMD09PWEuX193ZWJnbEZyYW1lYnVmZmVyKXt2b2lkIDA9PT1hLmRlcHRoQnVmZmVyJiYoYS5kZXB0aEJ1ZmZlcj0hMCk7dm9pZCAwPT09YS5zdGVuY2lsQnVmZmVyJiYoYS5zdGVuY2lsQnVmZmVyPSEwKTthLmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNwb3NlXCIsb2MpO2EuX193ZWJnbFRleHR1cmU9bS5jcmVhdGVUZXh0dXJlKCk7XG5CLmluZm8ubWVtb3J5LnRleHR1cmVzKys7dmFyIGM9VEhSRUUuTWF0aC5pc1Bvd2VyT2ZUd28oYS53aWR0aCkmJlRIUkVFLk1hdGguaXNQb3dlck9mVHdvKGEuaGVpZ2h0KSxkPUkoYS5mb3JtYXQpLGU9SShhLnR5cGUpO2lmKGIpe2EuX193ZWJnbEZyYW1lYnVmZmVyPVtdO2EuX193ZWJnbFJlbmRlcmJ1ZmZlcj1bXTttLmJpbmRUZXh0dXJlKG0uVEVYVFVSRV9DVUJFX01BUCxhLl9fd2ViZ2xUZXh0dXJlKTtBKG0uVEVYVFVSRV9DVUJFX01BUCxhLGMpO2Zvcih2YXIgZj0wOzY+ZjtmKyspe2EuX193ZWJnbEZyYW1lYnVmZmVyW2ZdPW0uY3JlYXRlRnJhbWVidWZmZXIoKTthLl9fd2ViZ2xSZW5kZXJidWZmZXJbZl09bS5jcmVhdGVSZW5kZXJidWZmZXIoKTttLnRleEltYWdlMkQobS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZiwwLGQsYS53aWR0aCxhLmhlaWdodCwwLGQsZSxudWxsKTt2YXIgZz1hLGg9bS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZjttLmJpbmRGcmFtZWJ1ZmZlcihtLkZSQU1FQlVGRkVSLFxuYS5fX3dlYmdsRnJhbWVidWZmZXJbZl0pO20uZnJhbWVidWZmZXJUZXh0dXJlMkQobS5GUkFNRUJVRkZFUixtLkNPTE9SX0FUVEFDSE1FTlQwLGgsZy5fX3dlYmdsVGV4dHVyZSwwKTtHKGEuX193ZWJnbFJlbmRlcmJ1ZmZlcltmXSxhKX1jJiZtLmdlbmVyYXRlTWlwbWFwKG0uVEVYVFVSRV9DVUJFX01BUCl9ZWxzZSBhLl9fd2ViZ2xGcmFtZWJ1ZmZlcj1tLmNyZWF0ZUZyYW1lYnVmZmVyKCksYS5fX3dlYmdsUmVuZGVyYnVmZmVyPWEuc2hhcmVEZXB0aEZyb20/YS5zaGFyZURlcHRoRnJvbS5fX3dlYmdsUmVuZGVyYnVmZmVyOm0uY3JlYXRlUmVuZGVyYnVmZmVyKCksbS5iaW5kVGV4dHVyZShtLlRFWFRVUkVfMkQsYS5fX3dlYmdsVGV4dHVyZSksQShtLlRFWFRVUkVfMkQsYSxjKSxtLnRleEltYWdlMkQobS5URVhUVVJFXzJELDAsZCxhLndpZHRoLGEuaGVpZ2h0LDAsZCxlLG51bGwpLGQ9bS5URVhUVVJFXzJELG0uYmluZEZyYW1lYnVmZmVyKG0uRlJBTUVCVUZGRVIsYS5fX3dlYmdsRnJhbWVidWZmZXIpLFxubS5mcmFtZWJ1ZmZlclRleHR1cmUyRChtLkZSQU1FQlVGRkVSLG0uQ09MT1JfQVRUQUNITUVOVDAsZCxhLl9fd2ViZ2xUZXh0dXJlLDApLGEuc2hhcmVEZXB0aEZyb20/YS5kZXB0aEJ1ZmZlciYmIWEuc3RlbmNpbEJ1ZmZlcj9tLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG0uRlJBTUVCVUZGRVIsbS5ERVBUSF9BVFRBQ0hNRU5ULG0uUkVOREVSQlVGRkVSLGEuX193ZWJnbFJlbmRlcmJ1ZmZlcik6YS5kZXB0aEJ1ZmZlciYmYS5zdGVuY2lsQnVmZmVyJiZtLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKG0uRlJBTUVCVUZGRVIsbS5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQsbS5SRU5ERVJCVUZGRVIsYS5fX3dlYmdsUmVuZGVyYnVmZmVyKTpHKGEuX193ZWJnbFJlbmRlcmJ1ZmZlcixhKSxjJiZtLmdlbmVyYXRlTWlwbWFwKG0uVEVYVFVSRV8yRCk7Yj9tLmJpbmRUZXh0dXJlKG0uVEVYVFVSRV9DVUJFX01BUCxudWxsKTptLmJpbmRUZXh0dXJlKG0uVEVYVFVSRV8yRCxudWxsKTttLmJpbmRSZW5kZXJidWZmZXIobS5SRU5ERVJCVUZGRVIsXG5udWxsKTttLmJpbmRGcmFtZWJ1ZmZlcihtLkZSQU1FQlVGRkVSLG51bGwpfWE/KGI9Yj9hLl9fd2ViZ2xGcmFtZWJ1ZmZlclthLmFjdGl2ZUN1YmVGYWNlXTphLl9fd2ViZ2xGcmFtZWJ1ZmZlcixjPWEud2lkdGgsYT1hLmhlaWdodCxlPWQ9MCk6KGI9bnVsbCxjPXBiLGE9cWIsZD1pYixlPWJiKTtiIT09YWImJihtLmJpbmRGcmFtZWJ1ZmZlcihtLkZSQU1FQlVGRkVSLGIpLG0udmlld3BvcnQoZCxlLGMsYSksYWI9Yik7WGI9YztmYz1hfTt0aGlzLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKCEoYSBpbnN0YW5jZW9mIFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0KSljb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IFRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LlwiKTtlbHNlIGlmKGEuX193ZWJnbEZyYW1lYnVmZmVyKWlmKGEuZm9ybWF0IT09VEhSRUUuUkdCQUZvcm1hdCljb25zb2xlLmVycm9yKFwiVEhSRUUuV2ViR0xSZW5kZXJlci5yZWFkUmVuZGVyVGFyZ2V0UGl4ZWxzOiByZW5kZXJUYXJnZXQgaXMgbm90IGluIFJHQkEgZm9ybWF0LiByZWFkUGl4ZWxzIGNhbiByZWFkIG9ubHkgUkdCQSBmb3JtYXQuXCIpO1xuZWxzZXt2YXIgZz0hMTthLl9fd2ViZ2xGcmFtZWJ1ZmZlciE9PWFiJiYobS5iaW5kRnJhbWVidWZmZXIobS5GUkFNRUJVRkZFUixhLl9fd2ViZ2xGcmFtZWJ1ZmZlciksZz0hMCk7bS5jaGVja0ZyYW1lYnVmZmVyU3RhdHVzKG0uRlJBTUVCVUZGRVIpPT09bS5GUkFNRUJVRkZFUl9DT01QTEVURT9tLnJlYWRQaXhlbHMoYixjLGQsZSxtLlJHQkEsbS5VTlNJR05FRF9CWVRFLGYpOmNvbnNvbGUuZXJyb3IoXCJUSFJFRS5XZWJHTFJlbmRlcmVyLnJlYWRSZW5kZXJUYXJnZXRQaXhlbHM6IHJlYWRQaXhlbHMgZnJvbSByZW5kZXJUYXJnZXQgZmFpbGVkLiBGcmFtZWJ1ZmZlciBub3QgY29tcGxldGUuXCIpO2cmJm0uYmluZEZyYW1lYnVmZmVyKG0uRlJBTUVCVUZGRVIsYWIpfX07dGhpcy5pbml0TWF0ZXJpYWw9ZnVuY3Rpb24oKXtUSFJFRS53YXJuKFwiVEhSRUUuV2ViR0xSZW5kZXJlcjogLmluaXRNYXRlcmlhbCgpIGhhcyBiZWVuIHJlbW92ZWQuXCIpfTt0aGlzLmFkZFByZVBsdWdpbj1mdW5jdGlvbigpe1RIUkVFLndhcm4oXCJUSFJFRS5XZWJHTFJlbmRlcmVyOiAuYWRkUHJlUGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9O1xudGhpcy5hZGRQb3N0UGx1Z2luPWZ1bmN0aW9uKCl7VEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC5hZGRQb3N0UGx1Z2luKCkgaGFzIGJlZW4gcmVtb3ZlZC5cIil9O3RoaXMudXBkYXRlU2hhZG93TWFwPWZ1bmN0aW9uKCl7VEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IC51cGRhdGVTaGFkb3dNYXAoKSBoYXMgYmVlbiByZW1vdmVkLlwiKX19O1xuVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMud2lkdGg9YTt0aGlzLmhlaWdodD1iO2M9Y3x8e307dGhpcy53cmFwUz12b2lkIDAhPT1jLndyYXBTP2Mud3JhcFM6VEhSRUUuQ2xhbXBUb0VkZ2VXcmFwcGluZzt0aGlzLndyYXBUPXZvaWQgMCE9PWMud3JhcFQ/Yy53cmFwVDpUSFJFRS5DbGFtcFRvRWRnZVdyYXBwaW5nO3RoaXMubWFnRmlsdGVyPXZvaWQgMCE9PWMubWFnRmlsdGVyP2MubWFnRmlsdGVyOlRIUkVFLkxpbmVhckZpbHRlcjt0aGlzLm1pbkZpbHRlcj12b2lkIDAhPT1jLm1pbkZpbHRlcj9jLm1pbkZpbHRlcjpUSFJFRS5MaW5lYXJNaXBNYXBMaW5lYXJGaWx0ZXI7dGhpcy5hbmlzb3Ryb3B5PXZvaWQgMCE9PWMuYW5pc290cm9weT9jLmFuaXNvdHJvcHk6MTt0aGlzLm9mZnNldD1uZXcgVEhSRUUuVmVjdG9yMigwLDApO3RoaXMucmVwZWF0PW5ldyBUSFJFRS5WZWN0b3IyKDEsMSk7dGhpcy5mb3JtYXQ9dm9pZCAwIT09Yy5mb3JtYXQ/Yy5mb3JtYXQ6XG5USFJFRS5SR0JBRm9ybWF0O3RoaXMudHlwZT12b2lkIDAhPT1jLnR5cGU/Yy50eXBlOlRIUkVFLlVuc2lnbmVkQnl0ZVR5cGU7dGhpcy5kZXB0aEJ1ZmZlcj12b2lkIDAhPT1jLmRlcHRoQnVmZmVyP2MuZGVwdGhCdWZmZXI6ITA7dGhpcy5zdGVuY2lsQnVmZmVyPXZvaWQgMCE9PWMuc3RlbmNpbEJ1ZmZlcj9jLnN0ZW5jaWxCdWZmZXI6ITA7dGhpcy5nZW5lcmF0ZU1pcG1hcHM9ITA7dGhpcy5zaGFyZURlcHRoRnJvbT12b2lkIDAhPT1jLnNoYXJlRGVwdGhGcm9tP2Muc2hhcmVEZXB0aEZyb206bnVsbH07XG5USFJFRS5XZWJHTFJlbmRlclRhcmdldC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LHNldFNpemU6ZnVuY3Rpb24oYSxiKXt0aGlzLndpZHRoPWE7dGhpcy5oZWlnaHQ9Yn0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQodGhpcy53aWR0aCx0aGlzLmhlaWdodCk7YS53cmFwUz10aGlzLndyYXBTO2Eud3JhcFQ9dGhpcy53cmFwVDthLm1hZ0ZpbHRlcj10aGlzLm1hZ0ZpbHRlcjthLm1pbkZpbHRlcj10aGlzLm1pbkZpbHRlcjthLmFuaXNvdHJvcHk9dGhpcy5hbmlzb3Ryb3B5O2Eub2Zmc2V0LmNvcHkodGhpcy5vZmZzZXQpO2EucmVwZWF0LmNvcHkodGhpcy5yZXBlYXQpO2EuZm9ybWF0PXRoaXMuZm9ybWF0O2EudHlwZT10aGlzLnR5cGU7YS5kZXB0aEJ1ZmZlcj10aGlzLmRlcHRoQnVmZmVyO2Euc3RlbmNpbEJ1ZmZlcj10aGlzLnN0ZW5jaWxCdWZmZXI7YS5nZW5lcmF0ZU1pcG1hcHM9dGhpcy5nZW5lcmF0ZU1pcG1hcHM7XG5hLnNoYXJlRGVwdGhGcm9tPXRoaXMuc2hhcmVEZXB0aEZyb207cmV0dXJuIGF9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6XCJkaXNwb3NlXCJ9KX19O1RIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkoVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlKTtUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmU9ZnVuY3Rpb24oYSxiLGMpe1RIUkVFLldlYkdMUmVuZGVyVGFyZ2V0LmNhbGwodGhpcyxhLGIsYyk7dGhpcy5hY3RpdmVDdWJlRmFjZT0wfTtUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQucHJvdG90eXBlKTtUSFJFRS5XZWJHTFJlbmRlclRhcmdldEN1YmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLldlYkdMUmVuZGVyVGFyZ2V0Q3ViZTtcblRIUkVFLldlYkdMRXh0ZW5zaW9ucz1mdW5jdGlvbihhKXt2YXIgYj17fTt0aGlzLmdldD1mdW5jdGlvbihjKXtpZih2b2lkIDAhPT1iW2NdKXJldHVybiBiW2NdO3ZhciBkO3N3aXRjaChjKXtjYXNlIFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCI6ZD1hLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8YS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxhLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIik7YnJlYWs7Y2FzZSBcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCI6ZD1hLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjXCIpfHxhLmdldEV4dGVuc2lvbihcIk1PWl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y1wiKXx8YS5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNcIik7XG5icmVhaztjYXNlIFwiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCI6ZD1hLmdldEV4dGVuc2lvbihcIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0Y1wiKXx8YS5nZXRFeHRlbnNpb24oXCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjXCIpO2JyZWFrO2RlZmF1bHQ6ZD1hLmdldEV4dGVuc2lvbihjKX1udWxsPT09ZCYmVEhSRUUud2FybihcIlRIUkVFLldlYkdMUmVuZGVyZXI6IFwiK2MrXCIgZXh0ZW5zaW9uIG5vdCBzdXBwb3J0ZWQuXCIpO3JldHVybiBiW2NdPWR9fTtcblRIUkVFLldlYkdMUHJvZ3JhbT1mdW5jdGlvbigpe3ZhciBhPTA7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmPWIuY29udGV4dCxnPWQuZGVmaW5lcyxoPWQuX193ZWJnbFNoYWRlci51bmlmb3JtcyxrPWQuYXR0cmlidXRlcyxsPWQuX193ZWJnbFNoYWRlci52ZXJ0ZXhTaGFkZXIscD1kLl9fd2ViZ2xTaGFkZXIuZnJhZ21lbnRTaGFkZXIscT1kLmluZGV4MEF0dHJpYnV0ZU5hbWU7dm9pZCAwPT09cSYmITA9PT1lLm1vcnBoVGFyZ2V0cyYmKHE9XCJwb3NpdGlvblwiKTt2YXIgbj1cIlNIQURPV01BUF9UWVBFX0JBU0lDXCI7ZS5zaGFkb3dNYXBUeXBlPT09VEhSRUUuUENGU2hhZG93TWFwP249XCJTSEFET1dNQVBfVFlQRV9QQ0ZcIjplLnNoYWRvd01hcFR5cGU9PT1USFJFRS5QQ0ZTb2Z0U2hhZG93TWFwJiYobj1cIlNIQURPV01BUF9UWVBFX1BDRl9TT0ZUXCIpO3ZhciB0PVwiRU5WTUFQX1RZUEVfQ1VCRVwiLHI9XCJFTlZNQVBfTU9ERV9SRUZMRUNUSU9OXCIscz1cIkVOVk1BUF9CTEVORElOR19NVUxUSVBMWVwiO1xuaWYoZS5lbnZNYXApe3N3aXRjaChkLmVudk1hcC5tYXBwaW5nKXtjYXNlIFRIUkVFLkN1YmVSZWZsZWN0aW9uTWFwcGluZzpjYXNlIFRIUkVFLkN1YmVSZWZyYWN0aW9uTWFwcGluZzp0PVwiRU5WTUFQX1RZUEVfQ1VCRVwiO2JyZWFrO2Nhc2UgVEhSRUUuRXF1aXJlY3Rhbmd1bGFyUmVmbGVjdGlvbk1hcHBpbmc6Y2FzZSBUSFJFRS5FcXVpcmVjdGFuZ3VsYXJSZWZyYWN0aW9uTWFwcGluZzp0PVwiRU5WTUFQX1RZUEVfRVFVSVJFQ1wiO2JyZWFrO2Nhc2UgVEhSRUUuU3BoZXJpY2FsUmVmbGVjdGlvbk1hcHBpbmc6dD1cIkVOVk1BUF9UWVBFX1NQSEVSRVwifXN3aXRjaChkLmVudk1hcC5tYXBwaW5nKXtjYXNlIFRIUkVFLkN1YmVSZWZyYWN0aW9uTWFwcGluZzpjYXNlIFRIUkVFLkVxdWlyZWN0YW5ndWxhclJlZnJhY3Rpb25NYXBwaW5nOnI9XCJFTlZNQVBfTU9ERV9SRUZSQUNUSU9OXCJ9c3dpdGNoKGQuY29tYmluZSl7Y2FzZSBUSFJFRS5NdWx0aXBseU9wZXJhdGlvbjpzPVwiRU5WTUFQX0JMRU5ESU5HX01VTFRJUExZXCI7XG5icmVhaztjYXNlIFRIUkVFLk1peE9wZXJhdGlvbjpzPVwiRU5WTUFQX0JMRU5ESU5HX01JWFwiO2JyZWFrO2Nhc2UgVEhSRUUuQWRkT3BlcmF0aW9uOnM9XCJFTlZNQVBfQkxFTkRJTkdfQUREXCJ9fXZhciB1PTA8Yi5nYW1tYUZhY3Rvcj9iLmdhbW1hRmFjdG9yOjEsdix4O3Y9W107Zm9yKHZhciBEIGluIGcpeD1nW0RdLCExIT09eCYmKHg9XCIjZGVmaW5lIFwiK0QrXCIgXCIreCx2LnB1c2goeCkpO3Y9di5qb2luKFwiXFxuXCIpO2c9Zi5jcmVhdGVQcm9ncmFtKCk7ZCBpbnN0YW5jZW9mIFRIUkVFLlJhd1NoYWRlck1hdGVyaWFsP2I9ZD1cIlwiOihkPVtcInByZWNpc2lvbiBcIitlLnByZWNpc2lvbitcIiBmbG9hdDtcIixcInByZWNpc2lvbiBcIitlLnByZWNpc2lvbitcIiBpbnQ7XCIsdixlLnN1cHBvcnRzVmVydGV4VGV4dHVyZXM/XCIjZGVmaW5lIFZFUlRFWF9URVhUVVJFU1wiOlwiXCIsYi5nYW1tYUlucHV0P1wiI2RlZmluZSBHQU1NQV9JTlBVVFwiOlwiXCIsYi5nYW1tYU91dHB1dD9cIiNkZWZpbmUgR0FNTUFfT1VUUFVUXCI6XG5cIlwiLFwiI2RlZmluZSBHQU1NQV9GQUNUT1IgXCIrdSxcIiNkZWZpbmUgTUFYX0RJUl9MSUdIVFMgXCIrZS5tYXhEaXJMaWdodHMsXCIjZGVmaW5lIE1BWF9QT0lOVF9MSUdIVFMgXCIrZS5tYXhQb2ludExpZ2h0cyxcIiNkZWZpbmUgTUFYX1NQT1RfTElHSFRTIFwiK2UubWF4U3BvdExpZ2h0cyxcIiNkZWZpbmUgTUFYX0hFTUlfTElHSFRTIFwiK2UubWF4SGVtaUxpZ2h0cyxcIiNkZWZpbmUgTUFYX1NIQURPV1MgXCIrZS5tYXhTaGFkb3dzLFwiI2RlZmluZSBNQVhfQk9ORVMgXCIrZS5tYXhCb25lcyxlLm1hcD9cIiNkZWZpbmUgVVNFX01BUFwiOlwiXCIsZS5lbnZNYXA/XCIjZGVmaW5lIFVTRV9FTlZNQVBcIjpcIlwiLGUuZW52TWFwP1wiI2RlZmluZSBcIityOlwiXCIsZS5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixlLmJ1bXBNYXA/XCIjZGVmaW5lIFVTRV9CVU1QTUFQXCI6XCJcIixlLm5vcm1hbE1hcD9cIiNkZWZpbmUgVVNFX05PUk1BTE1BUFwiOlwiXCIsZS5zcGVjdWxhck1hcD9cIiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQXCI6XG5cIlwiLGUuYWxwaGFNYXA/XCIjZGVmaW5lIFVTRV9BTFBIQU1BUFwiOlwiXCIsZS52ZXJ0ZXhDb2xvcnM/XCIjZGVmaW5lIFVTRV9DT0xPUlwiOlwiXCIsZS5mbGF0U2hhZGluZz9cIiNkZWZpbmUgRkxBVF9TSEFERURcIjpcIlwiLGUuc2tpbm5pbmc/XCIjZGVmaW5lIFVTRV9TS0lOTklOR1wiOlwiXCIsZS51c2VWZXJ0ZXhUZXh0dXJlP1wiI2RlZmluZSBCT05FX1RFWFRVUkVcIjpcIlwiLGUubW9ycGhUYXJnZXRzP1wiI2RlZmluZSBVU0VfTU9SUEhUQVJHRVRTXCI6XCJcIixlLm1vcnBoTm9ybWFscz9cIiNkZWZpbmUgVVNFX01PUlBITk9STUFMU1wiOlwiXCIsZS53cmFwQXJvdW5kP1wiI2RlZmluZSBXUkFQX0FST1VORFwiOlwiXCIsZS5kb3VibGVTaWRlZD9cIiNkZWZpbmUgRE9VQkxFX1NJREVEXCI6XCJcIixlLmZsaXBTaWRlZD9cIiNkZWZpbmUgRkxJUF9TSURFRFwiOlwiXCIsZS5zaGFkb3dNYXBFbmFibGVkP1wiI2RlZmluZSBVU0VfU0hBRE9XTUFQXCI6XCJcIixlLnNoYWRvd01hcEVuYWJsZWQ/XCIjZGVmaW5lIFwiK246XCJcIixlLnNoYWRvd01hcERlYnVnP1xuXCIjZGVmaW5lIFNIQURPV01BUF9ERUJVR1wiOlwiXCIsZS5zaGFkb3dNYXBDYXNjYWRlP1wiI2RlZmluZSBTSEFET1dNQVBfQ0FTQ0FERVwiOlwiXCIsZS5zaXplQXR0ZW51YXRpb24/XCIjZGVmaW5lIFVTRV9TSVpFQVRURU5VQVRJT05cIjpcIlwiLGUubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlcj9cIiNkZWZpbmUgVVNFX0xPR0RFUFRIQlVGXCI6XCJcIixcInVuaWZvcm0gbWF0NCBtb2RlbE1hdHJpeDtcXG51bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0NCB2aWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0MyBub3JtYWxNYXRyaXg7XFxudW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDtcXG5hdHRyaWJ1dGUgdmVjMiB1djtcXG5hdHRyaWJ1dGUgdmVjMiB1djI7XFxuI2lmZGVmIFVTRV9DT0xPUlxcblxcdGF0dHJpYnV0ZSB2ZWMzIGNvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBVU0VfTU9SUEhUQVJHRVRTXFxuXFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQwO1xcblxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0MTtcXG5cXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDI7XFxuXFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQzO1xcblxcdCNpZmRlZiBVU0VfTU9SUEhOT1JNQUxTXFxuXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwwO1xcblxcdFxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoTm9ybWFsMTtcXG5cXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaE5vcm1hbDI7XFxuXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhOb3JtYWwzO1xcblxcdCNlbHNlXFxuXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ0O1xcblxcdFxcdGF0dHJpYnV0ZSB2ZWMzIG1vcnBoVGFyZ2V0NTtcXG5cXHRcXHRhdHRyaWJ1dGUgdmVjMyBtb3JwaFRhcmdldDY7XFxuXFx0XFx0YXR0cmlidXRlIHZlYzMgbW9ycGhUYXJnZXQ3O1xcblxcdCNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBVU0VfU0tJTk5JTkdcXG5cXHRhdHRyaWJ1dGUgdmVjNCBza2luSW5kZXg7XFxuXFx0YXR0cmlidXRlIHZlYzQgc2tpbldlaWdodDtcXG4jZW5kaWZcXG5cIl0uam9pbihcIlxcblwiKSxcbmI9W1wicHJlY2lzaW9uIFwiK2UucHJlY2lzaW9uK1wiIGZsb2F0O1wiLFwicHJlY2lzaW9uIFwiK2UucHJlY2lzaW9uK1wiIGludDtcIixlLmJ1bXBNYXB8fGUubm9ybWFsTWFwfHxlLmZsYXRTaGFkaW5nP1wiI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGVcIjpcIlwiLHYsXCIjZGVmaW5lIE1BWF9ESVJfTElHSFRTIFwiK2UubWF4RGlyTGlnaHRzLFwiI2RlZmluZSBNQVhfUE9JTlRfTElHSFRTIFwiK2UubWF4UG9pbnRMaWdodHMsXCIjZGVmaW5lIE1BWF9TUE9UX0xJR0hUUyBcIitlLm1heFNwb3RMaWdodHMsXCIjZGVmaW5lIE1BWF9IRU1JX0xJR0hUUyBcIitlLm1heEhlbWlMaWdodHMsXCIjZGVmaW5lIE1BWF9TSEFET1dTIFwiK2UubWF4U2hhZG93cyxlLmFscGhhVGVzdD9cIiNkZWZpbmUgQUxQSEFURVNUIFwiK2UuYWxwaGFUZXN0OlwiXCIsYi5nYW1tYUlucHV0P1wiI2RlZmluZSBHQU1NQV9JTlBVVFwiOlwiXCIsYi5nYW1tYU91dHB1dD9cIiNkZWZpbmUgR0FNTUFfT1VUUFVUXCI6XCJcIixcIiNkZWZpbmUgR0FNTUFfRkFDVE9SIFwiK1xudSxlLnVzZUZvZyYmZS5mb2c/XCIjZGVmaW5lIFVTRV9GT0dcIjpcIlwiLGUudXNlRm9nJiZlLmZvZ0V4cD9cIiNkZWZpbmUgRk9HX0VYUDJcIjpcIlwiLGUubWFwP1wiI2RlZmluZSBVU0VfTUFQXCI6XCJcIixlLmVudk1hcD9cIiNkZWZpbmUgVVNFX0VOVk1BUFwiOlwiXCIsZS5lbnZNYXA/XCIjZGVmaW5lIFwiK3Q6XCJcIixlLmVudk1hcD9cIiNkZWZpbmUgXCIrcjpcIlwiLGUuZW52TWFwP1wiI2RlZmluZSBcIitzOlwiXCIsZS5saWdodE1hcD9cIiNkZWZpbmUgVVNFX0xJR0hUTUFQXCI6XCJcIixlLmJ1bXBNYXA/XCIjZGVmaW5lIFVTRV9CVU1QTUFQXCI6XCJcIixlLm5vcm1hbE1hcD9cIiNkZWZpbmUgVVNFX05PUk1BTE1BUFwiOlwiXCIsZS5zcGVjdWxhck1hcD9cIiNkZWZpbmUgVVNFX1NQRUNVTEFSTUFQXCI6XCJcIixlLmFscGhhTWFwP1wiI2RlZmluZSBVU0VfQUxQSEFNQVBcIjpcIlwiLGUudmVydGV4Q29sb3JzP1wiI2RlZmluZSBVU0VfQ09MT1JcIjpcIlwiLGUuZmxhdFNoYWRpbmc/XCIjZGVmaW5lIEZMQVRfU0hBREVEXCI6XCJcIixlLm1ldGFsP1wiI2RlZmluZSBNRVRBTFwiOlxuXCJcIixlLndyYXBBcm91bmQ/XCIjZGVmaW5lIFdSQVBfQVJPVU5EXCI6XCJcIixlLmRvdWJsZVNpZGVkP1wiI2RlZmluZSBET1VCTEVfU0lERURcIjpcIlwiLGUuZmxpcFNpZGVkP1wiI2RlZmluZSBGTElQX1NJREVEXCI6XCJcIixlLnNoYWRvd01hcEVuYWJsZWQ/XCIjZGVmaW5lIFVTRV9TSEFET1dNQVBcIjpcIlwiLGUuc2hhZG93TWFwRW5hYmxlZD9cIiNkZWZpbmUgXCIrbjpcIlwiLGUuc2hhZG93TWFwRGVidWc/XCIjZGVmaW5lIFNIQURPV01BUF9ERUJVR1wiOlwiXCIsZS5zaGFkb3dNYXBDYXNjYWRlP1wiI2RlZmluZSBTSEFET1dNQVBfQ0FTQ0FERVwiOlwiXCIsZS5sb2dhcml0aG1pY0RlcHRoQnVmZmVyP1wiI2RlZmluZSBVU0VfTE9HREVQVEhCVUZcIjpcIlwiLFwidW5pZm9ybSBtYXQ0IHZpZXdNYXRyaXg7XFxudW5pZm9ybSB2ZWMzIGNhbWVyYVBvc2l0aW9uO1xcblwiXS5qb2luKFwiXFxuXCIpKTtsPW5ldyBUSFJFRS5XZWJHTFNoYWRlcihmLGYuVkVSVEVYX1NIQURFUixkK2wpO3A9bmV3IFRIUkVFLldlYkdMU2hhZGVyKGYsZi5GUkFHTUVOVF9TSEFERVIsXG5iK3ApO2YuYXR0YWNoU2hhZGVyKGcsbCk7Zi5hdHRhY2hTaGFkZXIoZyxwKTt2b2lkIDAhPT1xJiZmLmJpbmRBdHRyaWJMb2NhdGlvbihnLDAscSk7Zi5saW5rUHJvZ3JhbShnKTtxPWYuZ2V0UHJvZ3JhbUluZm9Mb2coZyk7ITE9PT1mLmdldFByb2dyYW1QYXJhbWV0ZXIoZyxmLkxJTktfU1RBVFVTKSYmVEhSRUUuZXJyb3IoXCJUSFJFRS5XZWJHTFByb2dyYW06IHNoYWRlciBlcnJvcjogXCIrZi5nZXRFcnJvcigpLFwiZ2wuVkFMSURBVEVfU1RBVFVTXCIsZi5nZXRQcm9ncmFtUGFyYW1ldGVyKGcsZi5WQUxJREFURV9TVEFUVVMpLFwiZ2wuZ2V0UFJvZ3JhbUluZm9Mb2dcIixxKTtcIlwiIT09cSYmVEhSRUUud2FybihcIlRIUkVFLldlYkdMUHJvZ3JhbTogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKVwiK3EpO2YuZGVsZXRlU2hhZGVyKGwpO2YuZGVsZXRlU2hhZGVyKHApO3E9XCJ2aWV3TWF0cml4IG1vZGVsVmlld01hdHJpeCBwcm9qZWN0aW9uTWF0cml4IG5vcm1hbE1hdHJpeCBtb2RlbE1hdHJpeCBjYW1lcmFQb3NpdGlvbiBtb3JwaFRhcmdldEluZmx1ZW5jZXMgYmluZE1hdHJpeCBiaW5kTWF0cml4SW52ZXJzZVwiLnNwbGl0KFwiIFwiKTtcbmUudXNlVmVydGV4VGV4dHVyZT8ocS5wdXNoKFwiYm9uZVRleHR1cmVcIikscS5wdXNoKFwiYm9uZVRleHR1cmVXaWR0aFwiKSxxLnB1c2goXCJib25lVGV4dHVyZUhlaWdodFwiKSk6cS5wdXNoKFwiYm9uZUdsb2JhbE1hdHJpY2VzXCIpO2UubG9nYXJpdGhtaWNEZXB0aEJ1ZmZlciYmcS5wdXNoKFwibG9nRGVwdGhCdWZGQ1wiKTtmb3IodmFyIHcgaW4gaClxLnB1c2godyk7aD1xO3c9e307cT0wO2ZvcihiPWgubGVuZ3RoO3E8YjtxKyspbj1oW3FdLHdbbl09Zi5nZXRVbmlmb3JtTG9jYXRpb24oZyxuKTt0aGlzLnVuaWZvcm1zPXc7cT1cInBvc2l0aW9uIG5vcm1hbCB1diB1djIgdGFuZ2VudCBjb2xvciBza2luSW5kZXggc2tpbldlaWdodCBsaW5lRGlzdGFuY2VcIi5zcGxpdChcIiBcIik7Zm9yKGg9MDtoPGUubWF4TW9ycGhUYXJnZXRzO2grKylxLnB1c2goXCJtb3JwaFRhcmdldFwiK2gpO2ZvcihoPTA7aDxlLm1heE1vcnBoTm9ybWFscztoKyspcS5wdXNoKFwibW9ycGhOb3JtYWxcIitoKTtmb3IodmFyIHkgaW4gaylxLnB1c2goeSk7XG5lPXE7az17fTt5PTA7Zm9yKGg9ZS5sZW5ndGg7eTxoO3krKyl3PWVbeV0sa1t3XT1mLmdldEF0dHJpYkxvY2F0aW9uKGcsdyk7dGhpcy5hdHRyaWJ1dGVzPWs7dGhpcy5hdHRyaWJ1dGVzS2V5cz1PYmplY3Qua2V5cyh0aGlzLmF0dHJpYnV0ZXMpO3RoaXMuaWQ9YSsrO3RoaXMuY29kZT1jO3RoaXMudXNlZFRpbWVzPTE7dGhpcy5wcm9ncmFtPWc7dGhpcy52ZXJ0ZXhTaGFkZXI9bDt0aGlzLmZyYWdtZW50U2hhZGVyPXA7cmV0dXJuIHRoaXN9fSgpO1xuVEhSRUUuV2ViR0xTaGFkZXI9ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXthPWEuc3BsaXQoXCJcXG5cIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYVtjXT1jKzErXCI6IFwiK2FbY107cmV0dXJuIGEuam9pbihcIlxcblwiKX07cmV0dXJuIGZ1bmN0aW9uKGIsYyxkKXtjPWIuY3JlYXRlU2hhZGVyKGMpO2Iuc2hhZGVyU291cmNlKGMsZCk7Yi5jb21waWxlU2hhZGVyKGMpOyExPT09Yi5nZXRTaGFkZXJQYXJhbWV0ZXIoYyxiLkNPTVBJTEVfU1RBVFVTKSYmVEhSRUUuZXJyb3IoXCJUSFJFRS5XZWJHTFNoYWRlcjogU2hhZGVyIGNvdWxkbid0IGNvbXBpbGUuXCIpO1wiXCIhPT1iLmdldFNoYWRlckluZm9Mb2coYykmJlRIUkVFLndhcm4oXCJUSFJFRS5XZWJHTFNoYWRlcjogZ2wuZ2V0U2hhZGVySW5mb0xvZygpXCIsYi5nZXRTaGFkZXJJbmZvTG9nKGMpLGEoZCkpO3JldHVybiBjfX0oKTtcblRIUkVFLldlYkdMU3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgVWludDhBcnJheSgxNiksZD1uZXcgVWludDhBcnJheSgxNiksZT1udWxsLGY9bnVsbCxnPW51bGwsaD1udWxsLGs9bnVsbCxsPW51bGwscD1udWxsLHE9bnVsbCxuPW51bGwsdD1udWxsLHI9bnVsbCxzPW51bGwsdT1udWxsLHY9bnVsbCx4PW51bGwsRD1udWxsO3RoaXMuaW5pdEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPWMubGVuZ3RoO2E8YjthKyspY1thXT0wfTt0aGlzLmVuYWJsZUF0dHJpYnV0ZT1mdW5jdGlvbihiKXtjW2JdPTE7MD09PWRbYl0mJihhLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGIpLGRbYl09MSl9O3RoaXMuZGlzYWJsZVVudXNlZEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGI9MCxlPWQubGVuZ3RoO2I8ZTtiKyspZFtiXSE9PWNbYl0mJihhLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiKSxkW2JdPTApfTt0aGlzLnNldEJsZW5kaW5nPWZ1bmN0aW9uKGMsZCxcbm4scSxyLHMsdCl7YyE9PWUmJihjPT09VEhSRUUuTm9CbGVuZGluZz9hLmRpc2FibGUoYS5CTEVORCk6Yz09PVRIUkVFLkFkZGl0aXZlQmxlbmRpbmc/KGEuZW5hYmxlKGEuQkxFTkQpLGEuYmxlbmRFcXVhdGlvbihhLkZVTkNfQUREKSxhLmJsZW5kRnVuYyhhLlNSQ19BTFBIQSxhLk9ORSkpOmM9PT1USFJFRS5TdWJ0cmFjdGl2ZUJsZW5kaW5nPyhhLmVuYWJsZShhLkJMRU5EKSxhLmJsZW5kRXF1YXRpb24oYS5GVU5DX0FERCksYS5ibGVuZEZ1bmMoYS5aRVJPLGEuT05FX01JTlVTX1NSQ19DT0xPUikpOmM9PT1USFJFRS5NdWx0aXBseUJsZW5kaW5nPyhhLmVuYWJsZShhLkJMRU5EKSxhLmJsZW5kRXF1YXRpb24oYS5GVU5DX0FERCksYS5ibGVuZEZ1bmMoYS5aRVJPLGEuU1JDX0NPTE9SKSk6Yz09PVRIUkVFLkN1c3RvbUJsZW5kaW5nP2EuZW5hYmxlKGEuQkxFTkQpOihhLmVuYWJsZShhLkJMRU5EKSxhLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShhLkZVTkNfQURELGEuRlVOQ19BREQpLFxuYS5ibGVuZEZ1bmNTZXBhcmF0ZShhLlNSQ19BTFBIQSxhLk9ORV9NSU5VU19TUkNfQUxQSEEsYS5PTkUsYS5PTkVfTUlOVVNfU1JDX0FMUEhBKSksZT1jKTtpZihjPT09VEhSRUUuQ3VzdG9tQmxlbmRpbmcpe3I9cnx8ZDtzPXN8fG47dD10fHxxO2lmKGQhPT1mfHxyIT09aylhLmJsZW5kRXF1YXRpb25TZXBhcmF0ZShiKGQpLGIocikpLGY9ZCxrPXI7aWYobiE9PWd8fHEhPT1ofHxzIT09bHx8dCE9PXApYS5ibGVuZEZ1bmNTZXBhcmF0ZShiKG4pLGIocSksYihzKSxiKHQpKSxnPW4saD1xLGw9cyxwPXR9ZWxzZSBwPWw9az1oPWc9Zj1udWxsfTt0aGlzLnNldERlcHRoVGVzdD1mdW5jdGlvbihiKXtxIT09YiYmKGI/YS5lbmFibGUoYS5ERVBUSF9URVNUKTphLmRpc2FibGUoYS5ERVBUSF9URVNUKSxxPWIpfTt0aGlzLnNldERlcHRoV3JpdGU9ZnVuY3Rpb24oYil7biE9PWImJihhLmRlcHRoTWFzayhiKSxuPWIpfTt0aGlzLnNldENvbG9yV3JpdGU9ZnVuY3Rpb24oYil7dCE9PWImJihhLmNvbG9yTWFzayhiLFxuYixiLGIpLHQ9Yil9O3RoaXMuc2V0RG91YmxlU2lkZWQ9ZnVuY3Rpb24oYil7ciE9PWImJihiP2EuZGlzYWJsZShhLkNVTExfRkFDRSk6YS5lbmFibGUoYS5DVUxMX0ZBQ0UpLHI9Yil9O3RoaXMuc2V0RmxpcFNpZGVkPWZ1bmN0aW9uKGIpe3MhPT1iJiYoYj9hLmZyb250RmFjZShhLkNXKTphLmZyb250RmFjZShhLkNDVykscz1iKX07dGhpcy5zZXRMaW5lV2lkdGg9ZnVuY3Rpb24oYil7YiE9PXUmJihhLmxpbmVXaWR0aChiKSx1PWIpfTt0aGlzLnNldFBvbHlnb25PZmZzZXQ9ZnVuY3Rpb24oYixjLGQpe3YhPT1iJiYoYj9hLmVuYWJsZShhLlBPTFlHT05fT0ZGU0VUX0ZJTEwpOmEuZGlzYWJsZShhLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHY9Yik7IWJ8fHg9PT1jJiZEPT09ZHx8KGEucG9seWdvbk9mZnNldChjLGQpLHg9YyxEPWQpfTt0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXT0wO3M9cj10PW49cT1lPW51bGx9fTtcblRIUkVFLkxlbnNGbGFyZVBsdWdpbj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxrLGwscCxxLG49YS5jb250ZXh0LHQscixzLHUsdix4O3RoaXMucmVuZGVyPWZ1bmN0aW9uKEQsdyx5LEEpe2lmKDAhPT1iLmxlbmd0aCl7RD1uZXcgVEhSRUUuVmVjdG9yMzt2YXIgRT1BL3ksRz0uNSp5LEY9LjUqQSx6PTE2L0EsST1uZXcgVEhSRUUuVmVjdG9yMih6KkUseiksVT1uZXcgVEhSRUUuVmVjdG9yMygxLDEsMCksTT1uZXcgVEhSRUUuVmVjdG9yMigxLDEpO2lmKHZvaWQgMD09PXMpe3ZhciB6PW5ldyBGbG9hdDMyQXJyYXkoWy0xLC0xLDAsMCwxLC0xLDEsMCwxLDEsMSwxLC0xLDEsMCwxXSksSD1uZXcgVWludDE2QXJyYXkoWzAsMSwyLDAsMiwzXSk7dD1uLmNyZWF0ZUJ1ZmZlcigpO3I9bi5jcmVhdGVCdWZmZXIoKTtuLmJpbmRCdWZmZXIobi5BUlJBWV9CVUZGRVIsdCk7bi5idWZmZXJEYXRhKG4uQVJSQVlfQlVGRkVSLHosbi5TVEFUSUNfRFJBVyk7bi5iaW5kQnVmZmVyKG4uRUxFTUVOVF9BUlJBWV9CVUZGRVIsXG5yKTtuLmJ1ZmZlckRhdGEobi5FTEVNRU5UX0FSUkFZX0JVRkZFUixILG4uU1RBVElDX0RSQVcpO3Y9bi5jcmVhdGVUZXh0dXJlKCk7eD1uLmNyZWF0ZVRleHR1cmUoKTtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx2KTtuLnRleEltYWdlMkQobi5URVhUVVJFXzJELDAsbi5SR0IsMTYsMTYsMCxuLlJHQixuLlVOU0lHTkVEX0JZVEUsbnVsbCk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9TLG4uQ0xBTVBfVE9fRURHRSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9ULG4uQ0xBTVBfVE9fRURHRSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixuLk5FQVJFU1QpO24udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01JTl9GSUxURVIsbi5ORUFSRVNUKTtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx4KTtuLnRleEltYWdlMkQobi5URVhUVVJFXzJELDAsXG5uLlJHQkEsMTYsMTYsMCxuLlJHQkEsbi5VTlNJR05FRF9CWVRFLG51bGwpO24udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfUyxuLkNMQU1QX1RPX0VER0UpO24udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfVCxuLkNMQU1QX1RPX0VER0UpO24udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01BR19GSUxURVIsbi5ORUFSRVNUKTtuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9NSU5fRklMVEVSLG4uTkVBUkVTVCk7dmFyIHo9KHU9MDxuLmdldFBhcmFtZXRlcihuLk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUykpP3t2ZXJ0ZXhTaGFkZXI6XCJ1bmlmb3JtIGxvd3AgaW50IHJlbmRlclR5cGU7XFxudW5pZm9ybSB2ZWMzIHNjcmVlblBvc2l0aW9uO1xcbnVuaWZvcm0gdmVjMiBzY2FsZTtcXG51bmlmb3JtIGZsb2F0IHJvdGF0aW9uO1xcbnVuaWZvcm0gc2FtcGxlcjJEIG9jY2x1c2lvbk1hcDtcXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiB1djtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnZhcnlpbmcgZmxvYXQgdlZpc2liaWxpdHk7XFxudm9pZCBtYWluKCkge1xcbnZVViA9IHV2O1xcbnZlYzIgcG9zID0gcG9zaXRpb247XFxuaWYoIHJlbmRlclR5cGUgPT0gMiApIHtcXG52ZWM0IHZpc2liaWxpdHkgPSB0ZXh0dXJlMkQoIG9jY2x1c2lvbk1hcCwgdmVjMiggMC4xLCAwLjEgKSApO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuNSwgMC4xICkgKTtcXG52aXNpYmlsaXR5ICs9IHRleHR1cmUyRCggb2NjbHVzaW9uTWFwLCB2ZWMyKCAwLjksIDAuMSApICk7XFxudmlzaWJpbGl0eSArPSB0ZXh0dXJlMkQoIG9jY2x1c2lvbk1hcCwgdmVjMiggMC45LCAwLjUgKSApO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuOSwgMC45ICkgKTtcXG52aXNpYmlsaXR5ICs9IHRleHR1cmUyRCggb2NjbHVzaW9uTWFwLCB2ZWMyKCAwLjUsIDAuOSApICk7XFxudmlzaWJpbGl0eSArPSB0ZXh0dXJlMkQoIG9jY2x1c2lvbk1hcCwgdmVjMiggMC4xLCAwLjkgKSApO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuMSwgMC41ICkgKTtcXG52aXNpYmlsaXR5ICs9IHRleHR1cmUyRCggb2NjbHVzaW9uTWFwLCB2ZWMyKCAwLjUsIDAuNSApICk7XFxudlZpc2liaWxpdHkgPSAgICAgICAgdmlzaWJpbGl0eS5yIC8gOS4wO1xcbnZWaXNpYmlsaXR5ICo9IDEuMCAtIHZpc2liaWxpdHkuZyAvIDkuMDtcXG52VmlzaWJpbGl0eSAqPSAgICAgICB2aXNpYmlsaXR5LmIgLyA5LjA7XFxudlZpc2liaWxpdHkgKj0gMS4wIC0gdmlzaWJpbGl0eS5hIC8gOS4wO1xcbnBvcy54ID0gY29zKCByb3RhdGlvbiApICogcG9zaXRpb24ueCAtIHNpbiggcm90YXRpb24gKSAqIHBvc2l0aW9uLnk7XFxucG9zLnkgPSBzaW4oIHJvdGF0aW9uICkgKiBwb3NpdGlvbi54ICsgY29zKCByb3RhdGlvbiApICogcG9zaXRpb24ueTtcXG59XFxuZ2xfUG9zaXRpb24gPSB2ZWM0KCAoIHBvcyAqIHNjYWxlICsgc2NyZWVuUG9zaXRpb24ueHkgKS54eSwgc2NyZWVuUG9zaXRpb24ueiwgMS4wICk7XFxufVwiLFxuZnJhZ21lbnRTaGFkZXI6XCJ1bmlmb3JtIGxvd3AgaW50IHJlbmRlclR5cGU7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG51bmlmb3JtIHZlYzMgY29sb3I7XFxudmFyeWluZyB2ZWMyIHZVVjtcXG52YXJ5aW5nIGZsb2F0IHZWaXNpYmlsaXR5O1xcbnZvaWQgbWFpbigpIHtcXG5pZiggcmVuZGVyVHlwZSA9PSAwICkge1xcbmdsX0ZyYWdDb2xvciA9IHZlYzQoIDEuMCwgMC4wLCAxLjAsIDAuMCApO1xcbn0gZWxzZSBpZiggcmVuZGVyVHlwZSA9PSAxICkge1xcbmdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCggbWFwLCB2VVYgKTtcXG59IGVsc2Uge1xcbnZlYzQgdGV4dHVyZSA9IHRleHR1cmUyRCggbWFwLCB2VVYgKTtcXG50ZXh0dXJlLmEgKj0gb3BhY2l0eSAqIHZWaXNpYmlsaXR5O1xcbmdsX0ZyYWdDb2xvciA9IHRleHR1cmU7XFxuZ2xfRnJhZ0NvbG9yLnJnYiAqPSBjb2xvcjtcXG59XFxufVwifTp7dmVydGV4U2hhZGVyOlwidW5pZm9ybSBsb3dwIGludCByZW5kZXJUeXBlO1xcbnVuaWZvcm0gdmVjMyBzY3JlZW5Qb3NpdGlvbjtcXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBmbG9hdCByb3RhdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiB1djtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnZvaWQgbWFpbigpIHtcXG52VVYgPSB1djtcXG52ZWMyIHBvcyA9IHBvc2l0aW9uO1xcbmlmKCByZW5kZXJUeXBlID09IDIgKSB7XFxucG9zLnggPSBjb3MoIHJvdGF0aW9uICkgKiBwb3NpdGlvbi54IC0gc2luKCByb3RhdGlvbiApICogcG9zaXRpb24ueTtcXG5wb3MueSA9IHNpbiggcm90YXRpb24gKSAqIHBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBwb3NpdGlvbi55O1xcbn1cXG5nbF9Qb3NpdGlvbiA9IHZlYzQoICggcG9zICogc2NhbGUgKyBzY3JlZW5Qb3NpdGlvbi54eSApLnh5LCBzY3JlZW5Qb3NpdGlvbi56LCAxLjAgKTtcXG59XCIsXG5mcmFnbWVudFNoYWRlcjpcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xcbnVuaWZvcm0gbG93cCBpbnQgcmVuZGVyVHlwZTtcXG51bmlmb3JtIHNhbXBsZXIyRCBtYXA7XFxudW5pZm9ybSBzYW1wbGVyMkQgb2NjbHVzaW9uTWFwO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG51bmlmb3JtIHZlYzMgY29sb3I7XFxudmFyeWluZyB2ZWMyIHZVVjtcXG52b2lkIG1haW4oKSB7XFxuaWYoIHJlbmRlclR5cGUgPT0gMCApIHtcXG5nbF9GcmFnQ29sb3IgPSB2ZWM0KCB0ZXh0dXJlMkQoIG1hcCwgdlVWICkucmdiLCAwLjAgKTtcXG59IGVsc2UgaWYoIHJlbmRlclR5cGUgPT0gMSApIHtcXG5nbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoIG1hcCwgdlVWICk7XFxufSBlbHNlIHtcXG5mbG9hdCB2aXNpYmlsaXR5ID0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuNSwgMC4xICkgKS5hO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuOSwgMC41ICkgKS5hO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuNSwgMC45ICkgKS5hO1xcbnZpc2liaWxpdHkgKz0gdGV4dHVyZTJEKCBvY2NsdXNpb25NYXAsIHZlYzIoIDAuMSwgMC41ICkgKS5hO1xcbnZpc2liaWxpdHkgPSAoIDEuMCAtIHZpc2liaWxpdHkgLyA0LjAgKTtcXG52ZWM0IHRleHR1cmUgPSB0ZXh0dXJlMkQoIG1hcCwgdlVWICk7XFxudGV4dHVyZS5hICo9IG9wYWNpdHkgKiB2aXNpYmlsaXR5O1xcbmdsX0ZyYWdDb2xvciA9IHRleHR1cmU7XFxuZ2xfRnJhZ0NvbG9yLnJnYiAqPSBjb2xvcjtcXG59XFxufVwifSxcbkg9bi5jcmVhdGVQcm9ncmFtKCksTD1uLmNyZWF0ZVNoYWRlcihuLkZSQUdNRU5UX1NIQURFUiksUD1uLmNyZWF0ZVNoYWRlcihuLlZFUlRFWF9TSEFERVIpLE49XCJwcmVjaXNpb24gXCIrYS5nZXRQcmVjaXNpb24oKStcIiBmbG9hdDtcXG5cIjtuLnNoYWRlclNvdXJjZShMLE4rei5mcmFnbWVudFNoYWRlcik7bi5zaGFkZXJTb3VyY2UoUCxOK3oudmVydGV4U2hhZGVyKTtuLmNvbXBpbGVTaGFkZXIoTCk7bi5jb21waWxlU2hhZGVyKFApO24uYXR0YWNoU2hhZGVyKEgsTCk7bi5hdHRhY2hTaGFkZXIoSCxQKTtuLmxpbmtQcm9ncmFtKEgpO3M9SDtwPW4uZ2V0QXR0cmliTG9jYXRpb24ocyxcInBvc2l0aW9uXCIpO3E9bi5nZXRBdHRyaWJMb2NhdGlvbihzLFwidXZcIik7Yz1uLmdldFVuaWZvcm1Mb2NhdGlvbihzLFwicmVuZGVyVHlwZVwiKTtkPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJtYXBcIik7ZT1uLmdldFVuaWZvcm1Mb2NhdGlvbihzLFwib2NjbHVzaW9uTWFwXCIpO2Y9bi5nZXRVbmlmb3JtTG9jYXRpb24ocyxcblwib3BhY2l0eVwiKTtnPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJjb2xvclwiKTtoPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJzY2FsZVwiKTtrPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJyb3RhdGlvblwiKTtsPW4uZ2V0VW5pZm9ybUxvY2F0aW9uKHMsXCJzY3JlZW5Qb3NpdGlvblwiKX1uLnVzZVByb2dyYW0ocyk7bi5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwKTtuLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHEpO24udW5pZm9ybTFpKGUsMCk7bi51bmlmb3JtMWkoZCwxKTtuLmJpbmRCdWZmZXIobi5BUlJBWV9CVUZGRVIsdCk7bi52ZXJ0ZXhBdHRyaWJQb2ludGVyKHAsMixuLkZMT0FULCExLDE2LDApO24udmVydGV4QXR0cmliUG9pbnRlcihxLDIsbi5GTE9BVCwhMSwxNiw4KTtuLmJpbmRCdWZmZXIobi5FTEVNRU5UX0FSUkFZX0JVRkZFUixyKTtuLmRpc2FibGUobi5DVUxMX0ZBQ0UpO24uZGVwdGhNYXNrKCExKTtIPTA7Zm9yKEw9Yi5sZW5ndGg7SDxMO0grKylpZih6PTE2L0EsSS5zZXQoeipcbkUseiksUD1iW0hdLEQuc2V0KFAubWF0cml4V29ybGQuZWxlbWVudHNbMTJdLFAubWF0cml4V29ybGQuZWxlbWVudHNbMTNdLFAubWF0cml4V29ybGQuZWxlbWVudHNbMTRdKSxELmFwcGx5TWF0cml4NCh3Lm1hdHJpeFdvcmxkSW52ZXJzZSksRC5hcHBseVByb2plY3Rpb24ody5wcm9qZWN0aW9uTWF0cml4KSxVLmNvcHkoRCksTS54PVUueCpHK0csTS55PVUueSpGK0YsdXx8MDxNLngmJk0ueDx5JiYwPE0ueSYmTS55PEEpe24uYWN0aXZlVGV4dHVyZShuLlRFWFRVUkUxKTtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx2KTtuLmNvcHlUZXhJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLG4uUkdCLE0ueC04LE0ueS04LDE2LDE2LDApO24udW5pZm9ybTFpKGMsMCk7bi51bmlmb3JtMmYoaCxJLngsSS55KTtuLnVuaWZvcm0zZihsLFUueCxVLnksVS56KTtuLmRpc2FibGUobi5CTEVORCk7bi5lbmFibGUobi5ERVBUSF9URVNUKTtuLmRyYXdFbGVtZW50cyhuLlRSSUFOR0xFUyw2LG4uVU5TSUdORURfU0hPUlQsXG4wKTtuLmFjdGl2ZVRleHR1cmUobi5URVhUVVJFMCk7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQseCk7bi5jb3B5VGV4SW1hZ2UyRChuLlRFWFRVUkVfMkQsMCxuLlJHQkEsTS54LTgsTS55LTgsMTYsMTYsMCk7bi51bmlmb3JtMWkoYywxKTtuLmRpc2FibGUobi5ERVBUSF9URVNUKTtuLmFjdGl2ZVRleHR1cmUobi5URVhUVVJFMSk7bi5iaW5kVGV4dHVyZShuLlRFWFRVUkVfMkQsdik7bi5kcmF3RWxlbWVudHMobi5UUklBTkdMRVMsNixuLlVOU0lHTkVEX1NIT1JULDApO1AucG9zaXRpb25TY3JlZW4uY29weShVKTtQLmN1c3RvbVVwZGF0ZUNhbGxiYWNrP1AuY3VzdG9tVXBkYXRlQ2FsbGJhY2soUCk6UC51cGRhdGVMZW5zRmxhcmVzKCk7bi51bmlmb3JtMWkoYywyKTtuLmVuYWJsZShuLkJMRU5EKTtmb3IodmFyIE49MCxSPVAubGVuc0ZsYXJlcy5sZW5ndGg7TjxSO04rKyl7dmFyIFY9UC5sZW5zRmxhcmVzW05dOy4wMDE8Vi5vcGFjaXR5JiYuMDAxPFYuc2NhbGUmJihVLng9Vi54LFxuVS55PVYueSxVLno9Vi56LHo9Vi5zaXplKlYuc2NhbGUvQSxJLng9eipFLEkueT16LG4udW5pZm9ybTNmKGwsVS54LFUueSxVLnopLG4udW5pZm9ybTJmKGgsSS54LEkueSksbi51bmlmb3JtMWYoayxWLnJvdGF0aW9uKSxuLnVuaWZvcm0xZihmLFYub3BhY2l0eSksbi51bmlmb3JtM2YoZyxWLmNvbG9yLnIsVi5jb2xvci5nLFYuY29sb3IuYiksYS5zdGF0ZS5zZXRCbGVuZGluZyhWLmJsZW5kaW5nLFYuYmxlbmRFcXVhdGlvbixWLmJsZW5kU3JjLFYuYmxlbmREc3QpLGEuc2V0VGV4dHVyZShWLnRleHR1cmUsMSksbi5kcmF3RWxlbWVudHMobi5UUklBTkdMRVMsNixuLlVOU0lHTkVEX1NIT1JULDApKX19bi5lbmFibGUobi5DVUxMX0ZBQ0UpO24uZW5hYmxlKG4uREVQVEhfVEVTVCk7bi5kZXB0aE1hc2soITApO2EucmVzZXRHTFN0YXRlKCl9fX07XG5USFJFRS5TaGFkb3dNYXBQbHVnaW49ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhLGIsZCl7aWYoYi52aXNpYmxlKXt2YXIgZj1jW2IuaWRdO2lmKGYmJmIuY2FzdFNoYWRvdyYmKCExPT09Yi5mcnVzdHVtQ3VsbGVkfHwhMD09PXAuaW50ZXJzZWN0c09iamVjdChiKSkpZm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKXt2YXIgaz1mW2ddO2IuX21vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKGQubWF0cml4V29ybGRJbnZlcnNlLGIubWF0cml4V29ybGQpO3MucHVzaChrKX1nPTA7Zm9yKGg9Yi5jaGlsZHJlbi5sZW5ndGg7ZzxoO2crKyllKGEsYi5jaGlsZHJlbltnXSxkKX19dmFyIGY9YS5jb250ZXh0LGcsaCxrLGwscD1uZXcgVEhSRUUuRnJ1c3R1bSxxPW5ldyBUSFJFRS5NYXRyaXg0LG49bmV3IFRIUkVFLlZlY3RvcjMsdD1uZXcgVEhSRUUuVmVjdG9yMyxyPW5ldyBUSFJFRS5WZWN0b3IzLHM9W10sdT1USFJFRS5TaGFkZXJMaWIuZGVwdGhSR0JBLHY9VEhSRUUuVW5pZm9ybXNVdGlscy5jbG9uZSh1LnVuaWZvcm1zKTtcbmc9bmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHt1bmlmb3Jtczp2LHZlcnRleFNoYWRlcjp1LnZlcnRleFNoYWRlcixmcmFnbWVudFNoYWRlcjp1LmZyYWdtZW50U2hhZGVyfSk7aD1uZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe3VuaWZvcm1zOnYsdmVydGV4U2hhZGVyOnUudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOnUuZnJhZ21lbnRTaGFkZXIsbW9ycGhUYXJnZXRzOiEwfSk7az1uZXcgVEhSRUUuU2hhZGVyTWF0ZXJpYWwoe3VuaWZvcm1zOnYsdmVydGV4U2hhZGVyOnUudmVydGV4U2hhZGVyLGZyYWdtZW50U2hhZGVyOnUuZnJhZ21lbnRTaGFkZXIsc2tpbm5pbmc6ITB9KTtsPW5ldyBUSFJFRS5TaGFkZXJNYXRlcmlhbCh7dW5pZm9ybXM6dix2ZXJ0ZXhTaGFkZXI6dS52ZXJ0ZXhTaGFkZXIsZnJhZ21lbnRTaGFkZXI6dS5mcmFnbWVudFNoYWRlcixtb3JwaFRhcmdldHM6ITAsc2tpbm5pbmc6ITB9KTtnLl9zaGFkb3dQYXNzPSEwO2guX3NoYWRvd1Bhc3M9ITA7ay5fc2hhZG93UGFzcz1cbiEwO2wuX3NoYWRvd1Bhc3M9ITA7dGhpcy5yZW5kZXI9ZnVuY3Rpb24oYyx2KXtpZighMSE9PWEuc2hhZG93TWFwRW5hYmxlZCl7dmFyIHUseSxBLEUsRyxGLHosSSxVPVtdO0U9MDtmLmNsZWFyQ29sb3IoMSwxLDEsMSk7Zi5kaXNhYmxlKGYuQkxFTkQpO2YuZW5hYmxlKGYuQ1VMTF9GQUNFKTtmLmZyb250RmFjZShmLkNDVyk7YS5zaGFkb3dNYXBDdWxsRmFjZT09PVRIUkVFLkN1bGxGYWNlRnJvbnQ/Zi5jdWxsRmFjZShmLkZST05UKTpmLmN1bGxGYWNlKGYuQkFDSyk7YS5zdGF0ZS5zZXREZXB0aFRlc3QoITApO3U9MDtmb3IoeT1iLmxlbmd0aDt1PHk7dSsrKWlmKEE9Ylt1XSxBLmNhc3RTaGFkb3cpaWYoQSBpbnN0YW5jZW9mIFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQmJkEuc2hhZG93Q2FzY2FkZSlmb3IoRz0wO0c8QS5zaGFkb3dDYXNjYWRlQ291bnQ7RysrKXt2YXIgTTtpZihBLnNoYWRvd0Nhc2NhZGVBcnJheVtHXSlNPUEuc2hhZG93Q2FzY2FkZUFycmF5W0ddO2Vsc2V7ej1BO1xudmFyIEg9RztNPW5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0O00uaXNWaXJ0dWFsPSEwO00ub25seVNoYWRvdz0hMDtNLmNhc3RTaGFkb3c9ITA7TS5zaGFkb3dDYW1lcmFOZWFyPXouc2hhZG93Q2FtZXJhTmVhcjtNLnNoYWRvd0NhbWVyYUZhcj16LnNoYWRvd0NhbWVyYUZhcjtNLnNoYWRvd0NhbWVyYUxlZnQ9ei5zaGFkb3dDYW1lcmFMZWZ0O00uc2hhZG93Q2FtZXJhUmlnaHQ9ei5zaGFkb3dDYW1lcmFSaWdodDtNLnNoYWRvd0NhbWVyYUJvdHRvbT16LnNoYWRvd0NhbWVyYUJvdHRvbTtNLnNoYWRvd0NhbWVyYVRvcD16LnNoYWRvd0NhbWVyYVRvcDtNLnNoYWRvd0NhbWVyYVZpc2libGU9ei5zaGFkb3dDYW1lcmFWaXNpYmxlO00uc2hhZG93RGFya25lc3M9ei5zaGFkb3dEYXJrbmVzcztNLnNoYWRvd0JpYXM9ei5zaGFkb3dDYXNjYWRlQmlhc1tIXTtNLnNoYWRvd01hcFdpZHRoPXouc2hhZG93Q2FzY2FkZVdpZHRoW0hdO00uc2hhZG93TWFwSGVpZ2h0PXouc2hhZG93Q2FzY2FkZUhlaWdodFtIXTtcbk0ucG9pbnRzV29ybGQ9W107TS5wb2ludHNGcnVzdHVtPVtdO0k9TS5wb2ludHNXb3JsZDtGPU0ucG9pbnRzRnJ1c3R1bTtmb3IodmFyIEw9MDs4Pkw7TCsrKUlbTF09bmV3IFRIUkVFLlZlY3RvcjMsRltMXT1uZXcgVEhSRUUuVmVjdG9yMztJPXouc2hhZG93Q2FzY2FkZU5lYXJaW0hdO3o9ei5zaGFkb3dDYXNjYWRlRmFyWltIXTtGWzBdLnNldCgtMSwtMSxJKTtGWzFdLnNldCgxLC0xLEkpO0ZbMl0uc2V0KC0xLDEsSSk7RlszXS5zZXQoMSwxLEkpO0ZbNF0uc2V0KC0xLC0xLHopO0ZbNV0uc2V0KDEsLTEseik7Rls2XS5zZXQoLTEsMSx6KTtGWzddLnNldCgxLDEseik7TS5vcmlnaW5hbENhbWVyYT12O0Y9bmV3IFRIUkVFLkd5cm9zY29wZTtGLnBvc2l0aW9uLmNvcHkoQS5zaGFkb3dDYXNjYWRlT2Zmc2V0KTtGLmFkZChNKTtGLmFkZChNLnRhcmdldCk7di5hZGQoRik7QS5zaGFkb3dDYXNjYWRlQXJyYXlbR109TX1IPUE7ST1HO3o9SC5zaGFkb3dDYXNjYWRlQXJyYXlbSV07ei5wb3NpdGlvbi5jb3B5KEgucG9zaXRpb24pO1xuei50YXJnZXQucG9zaXRpb24uY29weShILnRhcmdldC5wb3NpdGlvbik7ei5sb29rQXQoei50YXJnZXQpO3ouc2hhZG93Q2FtZXJhVmlzaWJsZT1ILnNoYWRvd0NhbWVyYVZpc2libGU7ei5zaGFkb3dEYXJrbmVzcz1ILnNoYWRvd0RhcmtuZXNzO3ouc2hhZG93Qmlhcz1ILnNoYWRvd0Nhc2NhZGVCaWFzW0ldO0Y9SC5zaGFkb3dDYXNjYWRlTmVhclpbSV07SD1ILnNoYWRvd0Nhc2NhZGVGYXJaW0ldO3o9ei5wb2ludHNGcnVzdHVtO3pbMF0uej1GO3pbMV0uej1GO3pbMl0uej1GO3pbM10uej1GO3pbNF0uej1IO3pbNV0uej1IO3pbNl0uej1IO3pbN10uej1IO1VbRV09TTtFKyt9ZWxzZSBVW0VdPUEsRSsrO3U9MDtmb3IoeT1VLmxlbmd0aDt1PHk7dSsrKXtBPVVbdV07QS5zaGFkb3dNYXB8fChHPVRIUkVFLkxpbmVhckZpbHRlcixhLnNoYWRvd01hcFR5cGU9PT1USFJFRS5QQ0ZTb2Z0U2hhZG93TWFwJiYoRz1USFJFRS5OZWFyZXN0RmlsdGVyKSxBLnNoYWRvd01hcD1uZXcgVEhSRUUuV2ViR0xSZW5kZXJUYXJnZXQoQS5zaGFkb3dNYXBXaWR0aCxcbkEuc2hhZG93TWFwSGVpZ2h0LHttaW5GaWx0ZXI6RyxtYWdGaWx0ZXI6Ryxmb3JtYXQ6VEhSRUUuUkdCQUZvcm1hdH0pLEEuc2hhZG93TWFwU2l6ZT1uZXcgVEhSRUUuVmVjdG9yMihBLnNoYWRvd01hcFdpZHRoLEEuc2hhZG93TWFwSGVpZ2h0KSxBLnNoYWRvd01hdHJpeD1uZXcgVEhSRUUuTWF0cml4NCk7aWYoIUEuc2hhZG93Q2FtZXJhKXtpZihBIGluc3RhbmNlb2YgVEhSRUUuU3BvdExpZ2h0KUEuc2hhZG93Q2FtZXJhPW5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYShBLnNoYWRvd0NhbWVyYUZvdixBLnNoYWRvd01hcFdpZHRoL0Euc2hhZG93TWFwSGVpZ2h0LEEuc2hhZG93Q2FtZXJhTmVhcixBLnNoYWRvd0NhbWVyYUZhcik7ZWxzZSBpZihBIGluc3RhbmNlb2YgVEhSRUUuRGlyZWN0aW9uYWxMaWdodClBLnNoYWRvd0NhbWVyYT1uZXcgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKEEuc2hhZG93Q2FtZXJhTGVmdCxBLnNoYWRvd0NhbWVyYVJpZ2h0LEEuc2hhZG93Q2FtZXJhVG9wLFxuQS5zaGFkb3dDYW1lcmFCb3R0b20sQS5zaGFkb3dDYW1lcmFOZWFyLEEuc2hhZG93Q2FtZXJhRmFyKTtlbHNle1RIUkVFLmVycm9yKFwiVEhSRUUuU2hhZG93TWFwUGx1Z2luOiBVbnN1cHBvcnRlZCBsaWdodCB0eXBlIGZvciBzaGFkb3dcIixBKTtjb250aW51ZX1jLmFkZChBLnNoYWRvd0NhbWVyYSk7ITA9PT1jLmF1dG9VcGRhdGUmJmMudXBkYXRlTWF0cml4V29ybGQoKX1BLnNoYWRvd0NhbWVyYVZpc2libGUmJiFBLmNhbWVyYUhlbHBlciYmKEEuY2FtZXJhSGVscGVyPW5ldyBUSFJFRS5DYW1lcmFIZWxwZXIoQS5zaGFkb3dDYW1lcmEpLGMuYWRkKEEuY2FtZXJhSGVscGVyKSk7aWYoQS5pc1ZpcnR1YWwmJk0ub3JpZ2luYWxDYW1lcmE9PXYpe0c9djtFPUEuc2hhZG93Q2FtZXJhO0Y9QS5wb2ludHNGcnVzdHVtO3o9QS5wb2ludHNXb3JsZDtuLnNldChJbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eSk7dC5zZXQoLUluZmluaXR5LC1JbmZpbml0eSwtSW5maW5pdHkpO2ZvcihIPTA7OD5cbkg7SCsrKUk9eltIXSxJLmNvcHkoRltIXSksSS51bnByb2plY3QoRyksSS5hcHBseU1hdHJpeDQoRS5tYXRyaXhXb3JsZEludmVyc2UpLEkueDxuLngmJihuLng9SS54KSxJLng+dC54JiYodC54PUkueCksSS55PG4ueSYmKG4ueT1JLnkpLEkueT50LnkmJih0Lnk9SS55KSxJLno8bi56JiYobi56PUkueiksSS56PnQueiYmKHQuej1JLnopO0UubGVmdD1uLng7RS5yaWdodD10Lng7RS50b3A9dC55O0UuYm90dG9tPW4ueTtFLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKX1FPUEuc2hhZG93TWFwO0Y9QS5zaGFkb3dNYXRyaXg7Rz1BLnNoYWRvd0NhbWVyYTtHLnBvc2l0aW9uLnNldEZyb21NYXRyaXhQb3NpdGlvbihBLm1hdHJpeFdvcmxkKTtyLnNldEZyb21NYXRyaXhQb3NpdGlvbihBLnRhcmdldC5tYXRyaXhXb3JsZCk7Ry5sb29rQXQocik7Ry51cGRhdGVNYXRyaXhXb3JsZCgpO0cubWF0cml4V29ybGRJbnZlcnNlLmdldEludmVyc2UoRy5tYXRyaXhXb3JsZCk7QS5jYW1lcmFIZWxwZXImJlxuKEEuY2FtZXJhSGVscGVyLnZpc2libGU9QS5zaGFkb3dDYW1lcmFWaXNpYmxlKTtBLnNoYWRvd0NhbWVyYVZpc2libGUmJkEuY2FtZXJhSGVscGVyLnVwZGF0ZSgpO0Yuc2V0KC41LDAsMCwuNSwwLC41LDAsLjUsMCwwLC41LC41LDAsMCwwLDEpO0YubXVsdGlwbHkoRy5wcm9qZWN0aW9uTWF0cml4KTtGLm11bHRpcGx5KEcubWF0cml4V29ybGRJbnZlcnNlKTtxLm11bHRpcGx5TWF0cmljZXMoRy5wcm9qZWN0aW9uTWF0cml4LEcubWF0cml4V29ybGRJbnZlcnNlKTtwLnNldEZyb21NYXRyaXgocSk7YS5zZXRSZW5kZXJUYXJnZXQoRSk7YS5jbGVhcigpO3MubGVuZ3RoPTA7ZShjLGMsRyk7QT0wO2ZvcihFPXMubGVuZ3RoO0E8RTtBKyspej1zW0FdLEY9ei5vYmplY3Qsej16LmJ1ZmZlcixIPUYubWF0ZXJpYWwgaW5zdGFuY2VvZiBUSFJFRS5NZXNoRmFjZU1hdGVyaWFsP0YubWF0ZXJpYWwubWF0ZXJpYWxzWzBdOkYubWF0ZXJpYWwsST12b2lkIDAhPT1GLmdlb21ldHJ5Lm1vcnBoVGFyZ2V0cyYmXG4wPEYuZ2VvbWV0cnkubW9ycGhUYXJnZXRzLmxlbmd0aCYmSC5tb3JwaFRhcmdldHMsTD1GIGluc3RhbmNlb2YgVEhSRUUuU2tpbm5lZE1lc2gmJkguc2tpbm5pbmcsST1GLmN1c3RvbURlcHRoTWF0ZXJpYWw/Ri5jdXN0b21EZXB0aE1hdGVyaWFsOkw/ST9sOms6ST9oOmcsYS5zZXRNYXRlcmlhbEZhY2VzKEgpLHogaW5zdGFuY2VvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeT9hLnJlbmRlckJ1ZmZlckRpcmVjdChHLGIsbnVsbCxJLHosRik6YS5yZW5kZXJCdWZmZXIoRyxiLG51bGwsSSx6LEYpO0E9MDtmb3IoRT1kLmxlbmd0aDtBPEU7QSsrKXo9ZFtBXSxGPXoub2JqZWN0LEYudmlzaWJsZSYmRi5jYXN0U2hhZG93JiYoRi5fbW9kZWxWaWV3TWF0cml4Lm11bHRpcGx5TWF0cmljZXMoRy5tYXRyaXhXb3JsZEludmVyc2UsRi5tYXRyaXhXb3JsZCksYS5yZW5kZXJJbW1lZGlhdGVPYmplY3QoRyxiLG51bGwsZyxGKSl9dT1hLmdldENsZWFyQ29sb3IoKTt5PWEuZ2V0Q2xlYXJBbHBoYSgpO2YuY2xlYXJDb2xvcih1LnIsXG51LmcsdS5iLHkpO2YuZW5hYmxlKGYuQkxFTkQpO2Euc2hhZG93TWFwQ3VsbEZhY2U9PT1USFJFRS5DdWxsRmFjZUZyb250JiZmLmN1bGxGYWNlKGYuQkFDSyk7YS5yZXNldEdMU3RhdGUoKX19fTtcblRIUkVFLlNwcml0ZVBsdWdpbj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaCxrLGwscCxxLG4sdCxyLHMsdSx2LHg7ZnVuY3Rpb24gRChhLGIpe3JldHVybiBhLnohPT1iLno/Yi56LWEuejpiLmlkLWEuaWR9dmFyIHc9YS5jb250ZXh0LHksQSxFLEcsRj1uZXcgVEhSRUUuVmVjdG9yMyx6PW5ldyBUSFJFRS5RdWF0ZXJuaW9uLEk9bmV3IFRIUkVFLlZlY3RvcjM7dGhpcy5yZW5kZXI9ZnVuY3Rpb24oVSxNKXtpZigwIT09Yi5sZW5ndGgpe2lmKHZvaWQgMD09PUUpe3ZhciBIPW5ldyBGbG9hdDMyQXJyYXkoWy0uNSwtLjUsMCwwLC41LC0uNSwxLDAsLjUsLjUsMSwxLC0uNSwuNSwwLDFdKSxMPW5ldyBVaW50MTZBcnJheShbMCwxLDIsMCwyLDNdKTt5PXcuY3JlYXRlQnVmZmVyKCk7QT13LmNyZWF0ZUJ1ZmZlcigpO3cuYmluZEJ1ZmZlcih3LkFSUkFZX0JVRkZFUix5KTt3LmJ1ZmZlckRhdGEody5BUlJBWV9CVUZGRVIsSCx3LlNUQVRJQ19EUkFXKTt3LmJpbmRCdWZmZXIody5FTEVNRU5UX0FSUkFZX0JVRkZFUixcbkEpO3cuYnVmZmVyRGF0YSh3LkVMRU1FTlRfQVJSQVlfQlVGRkVSLEwsdy5TVEFUSUNfRFJBVyk7dmFyIEg9dy5jcmVhdGVQcm9ncmFtKCksTD13LmNyZWF0ZVNoYWRlcih3LlZFUlRFWF9TSEFERVIpLFA9dy5jcmVhdGVTaGFkZXIody5GUkFHTUVOVF9TSEFERVIpO3cuc2hhZGVyU291cmNlKEwsW1wicHJlY2lzaW9uIFwiK2EuZ2V0UHJlY2lzaW9uKCkrXCIgZmxvYXQ7XCIsXCJ1bmlmb3JtIG1hdDQgbW9kZWxWaWV3TWF0cml4O1xcbnVuaWZvcm0gbWF0NCBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gZmxvYXQgcm90YXRpb247XFxudW5pZm9ybSB2ZWMyIHNjYWxlO1xcbnVuaWZvcm0gdmVjMiB1dk9mZnNldDtcXG51bmlmb3JtIHZlYzIgdXZTY2FsZTtcXG5hdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiB1djtcXG52YXJ5aW5nIHZlYzIgdlVWO1xcbnZvaWQgbWFpbigpIHtcXG52VVYgPSB1dk9mZnNldCArIHV2ICogdXZTY2FsZTtcXG52ZWMyIGFsaWduZWRQb3NpdGlvbiA9IHBvc2l0aW9uICogc2NhbGU7XFxudmVjMiByb3RhdGVkUG9zaXRpb247XFxucm90YXRlZFBvc2l0aW9uLnggPSBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueCAtIHNpbiggcm90YXRpb24gKSAqIGFsaWduZWRQb3NpdGlvbi55O1xcbnJvdGF0ZWRQb3NpdGlvbi55ID0gc2luKCByb3RhdGlvbiApICogYWxpZ25lZFBvc2l0aW9uLnggKyBjb3MoIHJvdGF0aW9uICkgKiBhbGlnbmVkUG9zaXRpb24ueTtcXG52ZWM0IGZpbmFsUG9zaXRpb247XFxuZmluYWxQb3NpdGlvbiA9IG1vZGVsVmlld01hdHJpeCAqIHZlYzQoIDAuMCwgMC4wLCAwLjAsIDEuMCApO1xcbmZpbmFsUG9zaXRpb24ueHkgKz0gcm90YXRlZFBvc2l0aW9uO1xcbmZpbmFsUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogZmluYWxQb3NpdGlvbjtcXG5nbF9Qb3NpdGlvbiA9IGZpbmFsUG9zaXRpb247XFxufVwiXS5qb2luKFwiXFxuXCIpKTtcbncuc2hhZGVyU291cmNlKFAsW1wicHJlY2lzaW9uIFwiK2EuZ2V0UHJlY2lzaW9uKCkrXCIgZmxvYXQ7XCIsXCJ1bmlmb3JtIHZlYzMgY29sb3I7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwO1xcbnVuaWZvcm0gZmxvYXQgb3BhY2l0eTtcXG51bmlmb3JtIGludCBmb2dUeXBlO1xcbnVuaWZvcm0gdmVjMyBmb2dDb2xvcjtcXG51bmlmb3JtIGZsb2F0IGZvZ0RlbnNpdHk7XFxudW5pZm9ybSBmbG9hdCBmb2dOZWFyO1xcbnVuaWZvcm0gZmxvYXQgZm9nRmFyO1xcbnVuaWZvcm0gZmxvYXQgYWxwaGFUZXN0O1xcbnZhcnlpbmcgdmVjMiB2VVY7XFxudm9pZCBtYWluKCkge1xcbnZlYzQgdGV4dHVyZSA9IHRleHR1cmUyRCggbWFwLCB2VVYgKTtcXG5pZiAoIHRleHR1cmUuYSA8IGFscGhhVGVzdCApIGRpc2NhcmQ7XFxuZ2xfRnJhZ0NvbG9yID0gdmVjNCggY29sb3IgKiB0ZXh0dXJlLnh5eiwgdGV4dHVyZS5hICogb3BhY2l0eSApO1xcbmlmICggZm9nVHlwZSA+IDAgKSB7XFxuZmxvYXQgZGVwdGggPSBnbF9GcmFnQ29vcmQueiAvIGdsX0ZyYWdDb29yZC53O1xcbmZsb2F0IGZvZ0ZhY3RvciA9IDAuMDtcXG5pZiAoIGZvZ1R5cGUgPT0gMSApIHtcXG5mb2dGYWN0b3IgPSBzbW9vdGhzdGVwKCBmb2dOZWFyLCBmb2dGYXIsIGRlcHRoICk7XFxufSBlbHNlIHtcXG5jb25zdCBmbG9hdCBMT0cyID0gMS40NDI2OTU7XFxuZmxvYXQgZm9nRmFjdG9yID0gZXhwMiggLSBmb2dEZW5zaXR5ICogZm9nRGVuc2l0eSAqIGRlcHRoICogZGVwdGggKiBMT0cyICk7XFxuZm9nRmFjdG9yID0gMS4wIC0gY2xhbXAoIGZvZ0ZhY3RvciwgMC4wLCAxLjAgKTtcXG59XFxuZ2xfRnJhZ0NvbG9yID0gbWl4KCBnbF9GcmFnQ29sb3IsIHZlYzQoIGZvZ0NvbG9yLCBnbF9GcmFnQ29sb3IudyApLCBmb2dGYWN0b3IgKTtcXG59XFxufVwiXS5qb2luKFwiXFxuXCIpKTtcbncuY29tcGlsZVNoYWRlcihMKTt3LmNvbXBpbGVTaGFkZXIoUCk7dy5hdHRhY2hTaGFkZXIoSCxMKTt3LmF0dGFjaFNoYWRlcihILFApO3cubGlua1Byb2dyYW0oSCk7RT1IO3Y9dy5nZXRBdHRyaWJMb2NhdGlvbihFLFwicG9zaXRpb25cIik7eD13LmdldEF0dHJpYkxvY2F0aW9uKEUsXCJ1dlwiKTtjPXcuZ2V0VW5pZm9ybUxvY2F0aW9uKEUsXCJ1dk9mZnNldFwiKTtkPXcuZ2V0VW5pZm9ybUxvY2F0aW9uKEUsXCJ1dlNjYWxlXCIpO2U9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcInJvdGF0aW9uXCIpO2Y9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcInNjYWxlXCIpO2c9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcImNvbG9yXCIpO2g9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcIm1hcFwiKTtrPXcuZ2V0VW5pZm9ybUxvY2F0aW9uKEUsXCJvcGFjaXR5XCIpO2w9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcIm1vZGVsVmlld01hdHJpeFwiKTtwPXcuZ2V0VW5pZm9ybUxvY2F0aW9uKEUsXCJwcm9qZWN0aW9uTWF0cml4XCIpO3E9XG53LmdldFVuaWZvcm1Mb2NhdGlvbihFLFwiZm9nVHlwZVwiKTtuPXcuZ2V0VW5pZm9ybUxvY2F0aW9uKEUsXCJmb2dEZW5zaXR5XCIpO3Q9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcImZvZ05lYXJcIik7cj13LmdldFVuaWZvcm1Mb2NhdGlvbihFLFwiZm9nRmFyXCIpO3M9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcImZvZ0NvbG9yXCIpO3U9dy5nZXRVbmlmb3JtTG9jYXRpb24oRSxcImFscGhhVGVzdFwiKTtIPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7SC53aWR0aD04O0guaGVpZ2h0PTg7TD1ILmdldENvbnRleHQoXCIyZFwiKTtMLmZpbGxTdHlsZT1cIndoaXRlXCI7TC5maWxsUmVjdCgwLDAsOCw4KTtHPW5ldyBUSFJFRS5UZXh0dXJlKEgpO0cubmVlZHNVcGRhdGU9ITB9dy51c2VQcm9ncmFtKEUpO3cuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodik7dy5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh4KTt3LmRpc2FibGUody5DVUxMX0ZBQ0UpO3cuZW5hYmxlKHcuQkxFTkQpO3cuYmluZEJ1ZmZlcih3LkFSUkFZX0JVRkZFUixcbnkpO3cudmVydGV4QXR0cmliUG9pbnRlcih2LDIsdy5GTE9BVCwhMSwxNiwwKTt3LnZlcnRleEF0dHJpYlBvaW50ZXIoeCwyLHcuRkxPQVQsITEsMTYsOCk7dy5iaW5kQnVmZmVyKHcuRUxFTUVOVF9BUlJBWV9CVUZGRVIsQSk7dy51bmlmb3JtTWF0cml4NGZ2KHAsITEsTS5wcm9qZWN0aW9uTWF0cml4LmVsZW1lbnRzKTt3LmFjdGl2ZVRleHR1cmUody5URVhUVVJFMCk7dy51bmlmb3JtMWkoaCwwKTtMPUg9MDsoUD1VLmZvZyk/KHcudW5pZm9ybTNmKHMsUC5jb2xvci5yLFAuY29sb3IuZyxQLmNvbG9yLmIpLFAgaW5zdGFuY2VvZiBUSFJFRS5Gb2c/KHcudW5pZm9ybTFmKHQsUC5uZWFyKSx3LnVuaWZvcm0xZihyLFAuZmFyKSx3LnVuaWZvcm0xaShxLDEpLEw9SD0xKTpQIGluc3RhbmNlb2YgVEhSRUUuRm9nRXhwMiYmKHcudW5pZm9ybTFmKG4sUC5kZW5zaXR5KSx3LnVuaWZvcm0xaShxLDIpLEw9SD0yKSk6KHcudW5pZm9ybTFpKHEsMCksTD1IPTApO2Zvcih2YXIgUD0wLE49Yi5sZW5ndGg7UDxcbk47UCsrKXt2YXIgUj1iW1BdO1IuX21vZGVsVmlld01hdHJpeC5tdWx0aXBseU1hdHJpY2VzKE0ubWF0cml4V29ybGRJbnZlcnNlLFIubWF0cml4V29ybGQpO1Iuej0tUi5fbW9kZWxWaWV3TWF0cml4LmVsZW1lbnRzWzE0XX1iLnNvcnQoRCk7Zm9yKHZhciBWPVtdLFA9MCxOPWIubGVuZ3RoO1A8TjtQKyspe3ZhciBSPWJbUF0sSj1SLm1hdGVyaWFsO3cudW5pZm9ybTFmKHUsSi5hbHBoYVRlc3QpO3cudW5pZm9ybU1hdHJpeDRmdihsLCExLFIuX21vZGVsVmlld01hdHJpeC5lbGVtZW50cyk7Ui5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoRix6LEkpO1ZbMF09SS54O1ZbMV09SS55O1I9MDtVLmZvZyYmSi5mb2cmJihSPUwpO0ghPT1SJiYody51bmlmb3JtMWkocSxSKSxIPVIpO251bGwhPT1KLm1hcD8ody51bmlmb3JtMmYoYyxKLm1hcC5vZmZzZXQueCxKLm1hcC5vZmZzZXQueSksdy51bmlmb3JtMmYoZCxKLm1hcC5yZXBlYXQueCxKLm1hcC5yZXBlYXQueSkpOih3LnVuaWZvcm0yZihjLFxuMCwwKSx3LnVuaWZvcm0yZihkLDEsMSkpO3cudW5pZm9ybTFmKGssSi5vcGFjaXR5KTt3LnVuaWZvcm0zZihnLEouY29sb3IucixKLmNvbG9yLmcsSi5jb2xvci5iKTt3LnVuaWZvcm0xZihlLEoucm90YXRpb24pO3cudW5pZm9ybTJmdihmLFYpO2Euc3RhdGUuc2V0QmxlbmRpbmcoSi5ibGVuZGluZyxKLmJsZW5kRXF1YXRpb24sSi5ibGVuZFNyYyxKLmJsZW5kRHN0KTthLnN0YXRlLnNldERlcHRoVGVzdChKLmRlcHRoVGVzdCk7YS5zdGF0ZS5zZXREZXB0aFdyaXRlKEouZGVwdGhXcml0ZSk7Si5tYXAmJkoubWFwLmltYWdlJiZKLm1hcC5pbWFnZS53aWR0aD9hLnNldFRleHR1cmUoSi5tYXAsMCk6YS5zZXRUZXh0dXJlKEcsMCk7dy5kcmF3RWxlbWVudHMody5UUklBTkdMRVMsNix3LlVOU0lHTkVEX1NIT1JULDApfXcuZW5hYmxlKHcuQ1VMTF9GQUNFKTthLnJlc2V0R0xTdGF0ZSgpfX19O1xuVEhSRUUuR2VvbWV0cnlVdGlscz17bWVyZ2U6ZnVuY3Rpb24oYSxiLGMpe1RIUkVFLndhcm4oXCJUSFJFRS5HZW9tZXRyeVV0aWxzOiAubWVyZ2UoKSBoYXMgYmVlbiBtb3ZlZCB0byBHZW9tZXRyeS4gVXNlIGdlb21ldHJ5Lm1lcmdlKCBnZW9tZXRyeTIsIG1hdHJpeCwgbWF0ZXJpYWxJbmRleE9mZnNldCApIGluc3RlYWQuXCIpO3ZhciBkO2IgaW5zdGFuY2VvZiBUSFJFRS5NZXNoJiYoYi5tYXRyaXhBdXRvVXBkYXRlJiZiLnVwZGF0ZU1hdHJpeCgpLGQ9Yi5tYXRyaXgsYj1iLmdlb21ldHJ5KTthLm1lcmdlKGIsZCxjKX0sY2VudGVyOmZ1bmN0aW9uKGEpe1RIUkVFLndhcm4oXCJUSFJFRS5HZW9tZXRyeVV0aWxzOiAuY2VudGVyKCkgaGFzIGJlZW4gbW92ZWQgdG8gR2VvbWV0cnkuIFVzZSBnZW9tZXRyeS5jZW50ZXIoKSBpbnN0ZWFkLlwiKTtyZXR1cm4gYS5jZW50ZXIoKX19O1xuVEhSRUUuSW1hZ2VVdGlscz17Y3Jvc3NPcmlnaW46dm9pZCAwLGxvYWRUZXh0dXJlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBUSFJFRS5JbWFnZUxvYWRlcjtlLmNyb3NzT3JpZ2luPXRoaXMuY3Jvc3NPcmlnaW47dmFyIGY9bmV3IFRIUkVFLlRleHR1cmUodm9pZCAwLGIpO2UubG9hZChhLGZ1bmN0aW9uKGEpe2YuaW1hZ2U9YTtmLm5lZWRzVXBkYXRlPSEwO2MmJmMoZil9LHZvaWQgMCxmdW5jdGlvbihhKXtkJiZkKGEpfSk7Zi5zb3VyY2VGaWxlPWE7cmV0dXJuIGZ9LGxvYWRUZXh0dXJlQ3ViZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgVEhSRUUuSW1hZ2VMb2FkZXI7ZS5jcm9zc09yaWdpbj10aGlzLmNyb3NzT3JpZ2luO3ZhciBmPW5ldyBUSFJFRS5DdWJlVGV4dHVyZShbXSxiKTtmLmZsaXBZPSExO3ZhciBnPTA7Yj1mdW5jdGlvbihiKXtlLmxvYWQoYVtiXSxmdW5jdGlvbihhKXtmLmltYWdlc1tiXT1hO2crPTE7Nj09PWcmJihmLm5lZWRzVXBkYXRlPSEwLGMmJlxuYyhmKSl9LHZvaWQgMCxkKX07Zm9yKHZhciBoPTAsaz1hLmxlbmd0aDtoPGs7KytoKWIoaCk7cmV0dXJuIGZ9LGxvYWRDb21wcmVzc2VkVGV4dHVyZTpmdW5jdGlvbigpe1RIUkVFLmVycm9yKFwiVEhSRUUuSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmUgaGFzIGJlZW4gcmVtb3ZlZC4gVXNlIFRIUkVFLkREU0xvYWRlciBpbnN0ZWFkLlwiKX0sbG9hZENvbXByZXNzZWRUZXh0dXJlQ3ViZTpmdW5jdGlvbigpe1RIUkVFLmVycm9yKFwiVEhSRUUuSW1hZ2VVdGlscy5sb2FkQ29tcHJlc3NlZFRleHR1cmVDdWJlIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBUSFJFRS5ERFNMb2FkZXIgaW5zdGVhZC5cIil9LGdldE5vcm1hbE1hcDpmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe3ZhciBiPU1hdGguc3FydChhWzBdKmFbMF0rYVsxXSphWzFdK2FbMl0qYVsyXSk7cmV0dXJuW2FbMF0vYixhWzFdL2IsYVsyXS9iXX07Ynw9MTt2YXIgZD1hLndpZHRoLGU9YS5oZWlnaHQsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuZi53aWR0aD1kO2YuaGVpZ2h0PWU7dmFyIGc9Zi5nZXRDb250ZXh0KFwiMmRcIik7Zy5kcmF3SW1hZ2UoYSwwLDApO2Zvcih2YXIgaD1nLmdldEltYWdlRGF0YSgwLDAsZCxlKS5kYXRhLGs9Zy5jcmVhdGVJbWFnZURhdGEoZCxlKSxsPWsuZGF0YSxwPTA7cDxkO3ArKylmb3IodmFyIHE9MDtxPGU7cSsrKXt2YXIgbj0wPnEtMT8wOnEtMSx0PXErMT5lLTE/ZS0xOnErMSxyPTA+cC0xPzA6cC0xLHM9cCsxPmQtMT9kLTE6cCsxLHU9W10sdj1bMCwwLGhbNCoocSpkK3ApXS8yNTUqYl07dS5wdXNoKFstMSwwLGhbNCoocSpkK3IpXS8yNTUqYl0pO3UucHVzaChbLTEsLTEsaFs0KihuKmQrcildLzI1NSpiXSk7dS5wdXNoKFswLC0xLGhbNCoobipkK3ApXS8yNTUqYl0pO3UucHVzaChbMSwtMSxoWzQqKG4qZCtzKV0vMjU1KmJdKTt1LnB1c2goWzEsMCxoWzQqKHEqZCtzKV0vMjU1KmJdKTt1LnB1c2goWzEsMSxoWzQqKHQqZCtzKV0vMjU1KmJdKTt1LnB1c2goWzAsMSxoWzQqKHQqZCtwKV0vMjU1KlxuYl0pO3UucHVzaChbLTEsMSxoWzQqKHQqZCtyKV0vMjU1KmJdKTtuPVtdO3I9dS5sZW5ndGg7Zm9yKHQ9MDt0PHI7dCsrKXt2YXIgcz11W3RdLHg9dVsodCsxKSVyXSxzPVtzWzBdLXZbMF0sc1sxXS12WzFdLHNbMl0tdlsyXV0seD1beFswXS12WzBdLHhbMV0tdlsxXSx4WzJdLXZbMl1dO24ucHVzaChjKFtzWzFdKnhbMl0tc1syXSp4WzFdLHNbMl0qeFswXS1zWzBdKnhbMl0sc1swXSp4WzFdLXNbMV0qeFswXV0pKX11PVswLDAsMF07Zm9yKHQ9MDt0PG4ubGVuZ3RoO3QrKyl1WzBdKz1uW3RdWzBdLHVbMV0rPW5bdF1bMV0sdVsyXSs9blt0XVsyXTt1WzBdLz1uLmxlbmd0aDt1WzFdLz1uLmxlbmd0aDt1WzJdLz1uLmxlbmd0aDt2PTQqKHEqZCtwKTtsW3ZdPSh1WzBdKzEpLzIqMjU1fDA7bFt2KzFdPSh1WzFdKzEpLzIqMjU1fDA7bFt2KzJdPTI1NSp1WzJdfDA7bFt2KzNdPTI1NX1nLnB1dEltYWdlRGF0YShrLDAsMCk7cmV0dXJuIGZ9LGdlbmVyYXRlRGF0YVRleHR1cmU6ZnVuY3Rpb24oYSxcbmIsYyl7dmFyIGQ9YSpiLGU9bmV3IFVpbnQ4QXJyYXkoMypkKSxmPU1hdGguZmxvb3IoMjU1KmMuciksZz1NYXRoLmZsb29yKDI1NSpjLmcpO2M9TWF0aC5mbG9vcigyNTUqYy5iKTtmb3IodmFyIGg9MDtoPGQ7aCsrKWVbMypoXT1mLGVbMypoKzFdPWcsZVszKmgrMl09YzthPW5ldyBUSFJFRS5EYXRhVGV4dHVyZShlLGEsYixUSFJFRS5SR0JGb3JtYXQpO2EubmVlZHNVcGRhdGU9ITA7cmV0dXJuIGF9fTtcblRIUkVFLlNjZW5lVXRpbHM9e2NyZWF0ZU11bHRpTWF0ZXJpYWxPYmplY3Q6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bmV3IFRIUkVFLk9iamVjdDNELGQ9MCxlPWIubGVuZ3RoO2Q8ZTtkKyspYy5hZGQobmV3IFRIUkVFLk1lc2goYSxiW2RdKSk7cmV0dXJuIGN9LGRldGFjaDpmdW5jdGlvbihhLGIsYyl7YS5hcHBseU1hdHJpeChiLm1hdHJpeFdvcmxkKTtiLnJlbW92ZShhKTtjLmFkZChhKX0sYXR0YWNoOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgVEhSRUUuTWF0cml4NDtkLmdldEludmVyc2UoYy5tYXRyaXhXb3JsZCk7YS5hcHBseU1hdHJpeChkKTtiLnJlbW92ZShhKTtjLmFkZChhKX19O1xuVEhSRUUuRm9udFV0aWxzPXtmYWNlczp7fSxmYWNlOlwiaGVsdmV0aWtlclwiLHdlaWdodDpcIm5vcm1hbFwiLHN0eWxlOlwibm9ybWFsXCIsc2l6ZToxNTAsZGl2aXNpb25zOjEwLGdldEZhY2U6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuZmFjZXNbdGhpcy5mYWNlXVt0aGlzLndlaWdodF1bdGhpcy5zdHlsZV19Y2F0Y2goYSl7dGhyb3dcIlRoZSBmb250IFwiK3RoaXMuZmFjZStcIiB3aXRoIFwiK3RoaXMud2VpZ2h0K1wiIHdlaWdodCBhbmQgXCIrdGhpcy5zdHlsZStcIiBzdHlsZSBpcyBtaXNzaW5nLlwiO319LGxvYWRGYWNlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZmFtaWx5TmFtZS50b0xvd2VyQ2FzZSgpO3RoaXMuZmFjZXNbYl09dGhpcy5mYWNlc1tiXXx8e307dGhpcy5mYWNlc1tiXVthLmNzc0ZvbnRXZWlnaHRdPXRoaXMuZmFjZXNbYl1bYS5jc3NGb250V2VpZ2h0XXx8e307dGhpcy5mYWNlc1tiXVthLmNzc0ZvbnRXZWlnaHRdW2EuY3NzRm9udFN0eWxlXT1hO3JldHVybiB0aGlzLmZhY2VzW2JdW2EuY3NzRm9udFdlaWdodF1bYS5jc3NGb250U3R5bGVdPVxuYX0sZHJhd1RleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRGYWNlKCksYz10aGlzLnNpemUvYi5yZXNvbHV0aW9uLGQ9MCxlPVN0cmluZyhhKS5zcGxpdChcIlwiKSxmPWUubGVuZ3RoLGc9W107Zm9yKGE9MDthPGY7YSsrKXt2YXIgaD1uZXcgVEhSRUUuUGF0aCxoPXRoaXMuZXh0cmFjdEdseXBoUG9pbnRzKGVbYV0sYixjLGQsaCksZD1kK2gub2Zmc2V0O2cucHVzaChoLnBhdGgpfXJldHVybntwYXRoczpnLG9mZnNldDpkLzJ9fSxleHRyYWN0R2x5cGhQb2ludHM6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXSxnLGgsayxsLHAscSxuLHQscixzLHUsdj1iLmdseXBoc1thXXx8Yi5nbHlwaHNbXCI/XCJdO2lmKHYpe2lmKHYubylmb3IoYj12Ll9jYWNoZWRPdXRsaW5lfHwodi5fY2FjaGVkT3V0bGluZT12Lm8uc3BsaXQoXCIgXCIpKSxsPWIubGVuZ3RoLGE9MDthPGw7KXN3aXRjaChrPWJbYSsrXSxrKXtjYXNlIFwibVwiOms9YlthKytdKmMrZDtwPWJbYSsrXSpjO2UubW92ZVRvKGsscCk7XG5icmVhaztjYXNlIFwibFwiOms9YlthKytdKmMrZDtwPWJbYSsrXSpjO2UubGluZVRvKGsscCk7YnJlYWs7Y2FzZSBcInFcIjprPWJbYSsrXSpjK2Q7cD1iW2ErK10qYzt0PWJbYSsrXSpjK2Q7cj1iW2ErK10qYztlLnF1YWRyYXRpY0N1cnZlVG8odCxyLGsscCk7aWYoZz1mW2YubGVuZ3RoLTFdKWZvcihxPWcueCxuPWcueSxnPTEsaD10aGlzLmRpdmlzaW9ucztnPD1oO2crKyl7dmFyIHg9Zy9oO1RIUkVFLlNoYXBlLlV0aWxzLmIyKHgscSx0LGspO1RIUkVFLlNoYXBlLlV0aWxzLmIyKHgsbixyLHApfWJyZWFrO2Nhc2UgXCJiXCI6aWYoaz1iW2ErK10qYytkLHA9YlthKytdKmMsdD1iW2ErK10qYytkLHI9YlthKytdKmMscz1iW2ErK10qYytkLHU9YlthKytdKmMsZS5iZXppZXJDdXJ2ZVRvKHQscixzLHUsayxwKSxnPWZbZi5sZW5ndGgtMV0pZm9yKHE9Zy54LG49Zy55LGc9MSxoPXRoaXMuZGl2aXNpb25zO2c8PWg7ZysrKXg9Zy9oLFRIUkVFLlNoYXBlLlV0aWxzLmIzKHgscSx0LHMsayksVEhSRUUuU2hhcGUuVXRpbHMuYjMoeCxcbm4scix1LHApfXJldHVybntvZmZzZXQ6di5oYSpjLHBhdGg6ZX19fX07XG5USFJFRS5Gb250VXRpbHMuZ2VuZXJhdGVTaGFwZXM9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPXZvaWQgMCE9PWIuY3VydmVTZWdtZW50cz9iLmN1cnZlU2VnbWVudHM6NCxkPXZvaWQgMCE9PWIuZm9udD9iLmZvbnQ6XCJoZWx2ZXRpa2VyXCIsZT12b2lkIDAhPT1iLndlaWdodD9iLndlaWdodDpcIm5vcm1hbFwiLGY9dm9pZCAwIT09Yi5zdHlsZT9iLnN0eWxlOlwibm9ybWFsXCI7VEhSRUUuRm9udFV0aWxzLnNpemU9dm9pZCAwIT09Yi5zaXplP2Iuc2l6ZToxMDA7VEhSRUUuRm9udFV0aWxzLmRpdmlzaW9ucz1jO1RIUkVFLkZvbnRVdGlscy5mYWNlPWQ7VEhSRUUuRm9udFV0aWxzLndlaWdodD1lO1RIUkVFLkZvbnRVdGlscy5zdHlsZT1mO2M9VEhSRUUuRm9udFV0aWxzLmRyYXdUZXh0KGEpLnBhdGhzO2Q9W107ZT0wO2ZvcihmPWMubGVuZ3RoO2U8ZjtlKyspQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCxjW2VdLnRvU2hhcGVzKCkpO3JldHVybiBkfTtcbihmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgsZT0wLGY9Yi0xLGc9MDtnPGI7Zj1nKyspZSs9YVtmXS54KmFbZ10ueS1hW2ddLngqYVtmXS55O3JldHVybi41KmV9O2EuVHJpYW5ndWxhdGU9ZnVuY3Rpb24oYSxkKXt2YXIgZT1hLmxlbmd0aDtpZigzPmUpcmV0dXJuIG51bGw7dmFyIGY9W10sZz1bXSxoPVtdLGssbCxwO2lmKDA8YihhKSlmb3IobD0wO2w8ZTtsKyspZ1tsXT1sO2Vsc2UgZm9yKGw9MDtsPGU7bCsrKWdbbF09ZS0xLWw7dmFyIHE9MiplO2ZvcihsPWUtMTsyPGU7KXtpZigwPj1xLS0pe1RIUkVFLndhcm4oXCJUSFJFRS5Gb250VXRpbHM6IFdhcm5pbmcsIHVuYWJsZSB0byB0cmlhbmd1bGF0ZSBwb2x5Z29uISBpbiBUcmlhbmd1bGF0ZS5wcm9jZXNzKClcIik7YnJlYWt9az1sO2U8PWsmJihrPTApO2w9aysxO2U8PWwmJihsPTApO3A9bCsxO2U8PXAmJihwPTApO3ZhciBuO2E6e3ZhciB0PW49dm9pZCAwLHI9dm9pZCAwLHM9dm9pZCAwLFxudT12b2lkIDAsdj12b2lkIDAseD12b2lkIDAsRD12b2lkIDAsdz12b2lkIDAsdD1hW2dba11dLngscj1hW2dba11dLnkscz1hW2dbbF1dLngsdT1hW2dbbF1dLnksdj1hW2dbcF1dLngseD1hW2dbcF1dLnk7aWYoMUUtMTA+KHMtdCkqKHgtciktKHUtcikqKHYtdCkpbj0hMTtlbHNle3ZhciB5PXZvaWQgMCxBPXZvaWQgMCxFPXZvaWQgMCxHPXZvaWQgMCxGPXZvaWQgMCx6PXZvaWQgMCxJPXZvaWQgMCxVPXZvaWQgMCxNPXZvaWQgMCxIPXZvaWQgMCxNPVU9ST13PUQ9dm9pZCAwLHk9di1zLEE9eC11LEU9dC12LEc9ci14LEY9cy10LHo9dS1yO2ZvcihuPTA7bjxlO24rKylpZihEPWFbZ1tuXV0ueCx3PWFbZ1tuXV0ueSwhKEQ9PT10JiZ3PT09cnx8RD09PXMmJnc9PT11fHxEPT09diYmdz09PXgpJiYoST1ELXQsVT13LXIsTT1ELXMsSD13LXUsRC09dix3LT14LE09eSpILUEqTSxJPUYqVS16KkksVT1FKnctRypELC0xRS0xMDw9TSYmLTFFLTEwPD1VJiYtMUUtMTA8PUkpKXtuPSExO2JyZWFrIGF9bj1cbiEwfX1pZihuKXtmLnB1c2goW2FbZ1trXV0sYVtnW2xdXSxhW2dbcF1dXSk7aC5wdXNoKFtnW2tdLGdbbF0sZ1twXV0pO2s9bDtmb3IocD1sKzE7cDxlO2srKyxwKyspZ1trXT1nW3BdO2UtLTtxPTIqZX19cmV0dXJuIGQ/aDpmfTthLlRyaWFuZ3VsYXRlLmFyZWE9YjtyZXR1cm4gYX0pKFRIUkVFLkZvbnRVdGlscyk7c2VsZi5fdHlwZWZhY2VfanM9e2ZhY2VzOlRIUkVFLkZvbnRVdGlscy5mYWNlcyxsb2FkRmFjZTpUSFJFRS5Gb250VXRpbHMubG9hZEZhY2V9O1RIUkVFLnR5cGVmYWNlX2pzPXNlbGYuX3R5cGVmYWNlX2pzO1xuVEhSRUUuQXVkaW89ZnVuY3Rpb24oYSl7VEhSRUUuT2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJBdWRpb1wiO3RoaXMuY29udGV4dD1hLmNvbnRleHQ7dGhpcy5zb3VyY2U9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3RoaXMuc291cmNlLm9uZW5kZWQ9dGhpcy5vbkVuZGVkLmJpbmQodGhpcyk7dGhpcy5nYWluPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCk7dGhpcy5nYWluLmNvbm5lY3QodGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uKTt0aGlzLnBhbm5lcj10aGlzLmNvbnRleHQuY3JlYXRlUGFubmVyKCk7dGhpcy5wYW5uZXIuY29ubmVjdCh0aGlzLmdhaW4pO3RoaXMuYXV0b3BsYXk9ITE7dGhpcy5zdGFydFRpbWU9MDt0aGlzLmlzUGxheWluZz0hMX07VEhSRUUuQXVkaW8ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtUSFJFRS5BdWRpby5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQXVkaW87XG5USFJFRS5BdWRpby5wcm90b3R5cGUubG9hZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Mub3BlbihcIkdFVFwiLGEsITApO2MucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIjtjLm9ubG9hZD1mdW5jdGlvbihhKXtiLmNvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHRoaXMucmVzcG9uc2UsZnVuY3Rpb24oYSl7Yi5zb3VyY2UuYnVmZmVyPWE7Yi5hdXRvcGxheSYmYi5wbGF5KCl9KX07Yy5zZW5kKCk7cmV0dXJuIHRoaXN9O1xuVEhSRUUuQXVkaW8ucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oKXtpZighMD09PXRoaXMuaXNQbGF5aW5nKVRIUkVFLndhcm4oXCJUSFJFRS5BdWRpbzogQXVkaW8gaXMgYWxyZWFkeSBwbGF5aW5nLlwiKTtlbHNle3ZhciBhPXRoaXMuY29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTthLmJ1ZmZlcj10aGlzLnNvdXJjZS5idWZmZXI7YS5sb29wPXRoaXMuc291cmNlLmxvb3A7YS5vbmVuZGVkPXRoaXMuc291cmNlLm9uZW5kZWQ7YS5jb25uZWN0KHRoaXMucGFubmVyKTthLnN0YXJ0KDAsdGhpcy5zdGFydFRpbWUpO3RoaXMuaXNQbGF5aW5nPSEwO3RoaXMuc291cmNlPWF9fTtUSFJFRS5BdWRpby5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLnNvdXJjZS5zdG9wKCk7dGhpcy5zdGFydFRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lfTtUSFJFRS5BdWRpby5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3RoaXMuc291cmNlLnN0b3AoKTt0aGlzLnN0YXJ0VGltZT0wfTtcblRIUkVFLkF1ZGlvLnByb3RvdHlwZS5vbkVuZGVkPWZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITF9O1RIUkVFLkF1ZGlvLnByb3RvdHlwZS5zZXRMb29wPWZ1bmN0aW9uKGEpe3RoaXMuc291cmNlLmxvb3A9YX07VEhSRUUuQXVkaW8ucHJvdG90eXBlLnNldFJlZkRpc3RhbmNlPWZ1bmN0aW9uKGEpe3RoaXMucGFubmVyLnJlZkRpc3RhbmNlPWF9O1RIUkVFLkF1ZGlvLnByb3RvdHlwZS5zZXRSb2xsb2ZmRmFjdG9yPWZ1bmN0aW9uKGEpe3RoaXMucGFubmVyLnJvbGxvZmZGYWN0b3I9YX07VEhSRUUuQXVkaW8ucHJvdG90eXBlLnNldFZvbHVtZT1mdW5jdGlvbihhKXt0aGlzLmdhaW4uZ2Fpbi52YWx1ZT1hfTtcblRIUkVFLkF1ZGlvLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihiKXtUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGIpO2Euc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubWF0cml4V29ybGQpO3RoaXMucGFubmVyLnNldFBvc2l0aW9uKGEueCxhLnksYS56KX19KCk7VEhSRUUuQXVkaW9MaXN0ZW5lcj1mdW5jdGlvbigpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy50eXBlPVwiQXVkaW9MaXN0ZW5lclwiO3RoaXMuY29udGV4dD1uZXcgKHdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpfTtUSFJFRS5BdWRpb0xpc3RlbmVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuQXVkaW9MaXN0ZW5lci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQXVkaW9MaXN0ZW5lcjtcblRIUkVFLkF1ZGlvTGlzdGVuZXIucHJvdG90eXBlLnVwZGF0ZU1hdHJpeFdvcmxkPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuUXVhdGVybmlvbixjPW5ldyBUSFJFRS5WZWN0b3IzLGQ9bmV3IFRIUkVFLlZlY3RvcjMsZT1uZXcgVEhSRUUuVmVjdG9yMyxmPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihnKXtUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUudXBkYXRlTWF0cml4V29ybGQuY2FsbCh0aGlzLGcpO2c9dGhpcy5jb250ZXh0Lmxpc3RlbmVyO3ZhciBoPXRoaXMudXA7dGhpcy5tYXRyaXhXb3JsZC5kZWNvbXBvc2UoYSxiLGMpO2Quc2V0KDAsMCwtMSkuYXBwbHlRdWF0ZXJuaW9uKGIpO2Uuc3ViVmVjdG9ycyhhLGYpO2cuc2V0UG9zaXRpb24oYS54LGEueSxhLnopO2cuc2V0T3JpZW50YXRpb24oZC54LGQueSxkLnosaC54LGgueSxoLnopO2cuc2V0VmVsb2NpdHkoZS54LGUueSxlLnopO2YuY29weShhKX19KCk7XG5USFJFRS5DdXJ2ZT1mdW5jdGlvbigpe307VEhSRUUuQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEpe1RIUkVFLndhcm4oXCJUSFJFRS5DdXJ2ZTogV2FybmluZywgZ2V0UG9pbnQoKSBub3QgaW1wbGVtZW50ZWQhXCIpO3JldHVybiBudWxsfTtUSFJFRS5DdXJ2ZS5wcm90b3R5cGUuZ2V0UG9pbnRBdD1mdW5jdGlvbihhKXthPXRoaXMuZ2V0VXRvVG1hcHBpbmcoYSk7cmV0dXJuIHRoaXMuZ2V0UG9pbnQoYSl9O1RIUkVFLkN1cnZlLnByb3RvdHlwZS5nZXRQb2ludHM9ZnVuY3Rpb24oYSl7YXx8KGE9NSk7dmFyIGIsYz1bXTtmb3IoYj0wO2I8PWE7YisrKWMucHVzaCh0aGlzLmdldFBvaW50KGIvYSkpO3JldHVybiBjfTtUSFJFRS5DdXJ2ZS5wcm90b3R5cGUuZ2V0U3BhY2VkUG9pbnRzPWZ1bmN0aW9uKGEpe2F8fChhPTUpO3ZhciBiLGM9W107Zm9yKGI9MDtiPD1hO2IrKyljLnB1c2godGhpcy5nZXRQb2ludEF0KGIvYSkpO3JldHVybiBjfTtcblRIUkVFLkN1cnZlLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldExlbmd0aHMoKTtyZXR1cm4gYVthLmxlbmd0aC0xXX07VEhSRUUuQ3VydmUucHJvdG90eXBlLmdldExlbmd0aHM9ZnVuY3Rpb24oYSl7YXx8KGE9dGhpcy5fX2FyY0xlbmd0aERpdmlzaW9ucz90aGlzLl9fYXJjTGVuZ3RoRGl2aXNpb25zOjIwMCk7aWYodGhpcy5jYWNoZUFyY0xlbmd0aHMmJnRoaXMuY2FjaGVBcmNMZW5ndGhzLmxlbmd0aD09YSsxJiYhdGhpcy5uZWVkc1VwZGF0ZSlyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM7dGhpcy5uZWVkc1VwZGF0ZT0hMTt2YXIgYj1bXSxjLGQ9dGhpcy5nZXRQb2ludCgwKSxlLGY9MDtiLnB1c2goMCk7Zm9yKGU9MTtlPD1hO2UrKyljPXRoaXMuZ2V0UG9pbnQoZS9hKSxmKz1jLmRpc3RhbmNlVG8oZCksYi5wdXNoKGYpLGQ9YztyZXR1cm4gdGhpcy5jYWNoZUFyY0xlbmd0aHM9Yn07XG5USFJFRS5DdXJ2ZS5wcm90b3R5cGUudXBkYXRlQXJjTGVuZ3Rocz1mdW5jdGlvbigpe3RoaXMubmVlZHNVcGRhdGU9ITA7dGhpcy5nZXRMZW5ndGhzKCl9O1RIUkVFLkN1cnZlLnByb3RvdHlwZS5nZXRVdG9UbWFwcGluZz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGVuZ3RocygpLGQ9MCxlPWMubGVuZ3RoLGY7Zj1iP2I6YSpjW2UtMV07Zm9yKHZhciBnPTAsaD1lLTEsaztnPD1oOylpZihkPU1hdGguZmxvb3IoZysoaC1nKS8yKSxrPWNbZF0tZiwwPmspZz1kKzE7ZWxzZSBpZigwPGspaD1kLTE7ZWxzZXtoPWQ7YnJlYWt9ZD1oO2lmKGNbZF09PWYpcmV0dXJuIGQvKGUtMSk7Zz1jW2RdO3JldHVybiBjPShkKyhmLWcpLyhjW2QrMV0tZykpLyhlLTEpfTtUSFJFRS5DdXJ2ZS5wcm90b3R5cGUuZ2V0VGFuZ2VudD1mdW5jdGlvbihhKXt2YXIgYj1hLTFFLTQ7YSs9MUUtNDswPmImJihiPTApOzE8YSYmKGE9MSk7Yj10aGlzLmdldFBvaW50KGIpO3JldHVybiB0aGlzLmdldFBvaW50KGEpLmNsb25lKCkuc3ViKGIpLm5vcm1hbGl6ZSgpfTtcblRIUkVFLkN1cnZlLnByb3RvdHlwZS5nZXRUYW5nZW50QXQ9ZnVuY3Rpb24oYSl7YT10aGlzLmdldFV0b1RtYXBwaW5nKGEpO3JldHVybiB0aGlzLmdldFRhbmdlbnQoYSl9O1xuVEhSRUUuQ3VydmUuVXRpbHM9e3RhbmdlbnRRdWFkcmF0aWNCZXppZXI6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIDIqKDEtYSkqKGMtYikrMiphKihkLWMpfSx0YW5nZW50Q3ViaWNCZXppZXI6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4tMypiKigxLWEpKigxLWEpKzMqYyooMS1hKSooMS1hKS02KmEqYyooMS1hKSs2KmEqZCooMS1hKS0zKmEqYSpkKzMqYSphKmV9LHRhbmdlbnRTcGxpbmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gNiphKmEtNiphKygzKmEqYS00KmErMSkrKC02KmEqYSs2KmEpKygzKmEqYS0yKmEpfSxpbnRlcnBvbGF0ZTpmdW5jdGlvbihhLGIsYyxkLGUpe2E9LjUqKGMtYSk7ZD0uNSooZC1iKTt2YXIgZj1lKmU7cmV0dXJuKDIqYi0yKmMrYStkKSplKmYrKC0zKmIrMypjLTIqYS1kKSpmK2EqZStifX07XG5USFJFRS5DdXJ2ZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkN1cnZlLnByb3RvdHlwZSk7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLnByb3RvdHlwZS5nZXRQb2ludD1iO3JldHVybiBhfTtUSFJFRS5DdXJ2ZVBhdGg9ZnVuY3Rpb24oKXt0aGlzLmN1cnZlcz1bXTt0aGlzLmJlbmRzPVtdO3RoaXMuYXV0b0Nsb3NlPSExfTtUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuQ3VydmUucHJvdG90eXBlKTtUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkN1cnZlUGF0aDtUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLmN1cnZlcy5wdXNoKGEpfTtUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmNoZWNrQ29ubmVjdGlvbj1mdW5jdGlvbigpe307XG5USFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmNsb3NlUGF0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VydmVzWzBdLmdldFBvaW50KDApLGI9dGhpcy5jdXJ2ZXNbdGhpcy5jdXJ2ZXMubGVuZ3RoLTFdLmdldFBvaW50KDEpO2EuZXF1YWxzKGIpfHx0aGlzLmN1cnZlcy5wdXNoKG5ldyBUSFJFRS5MaW5lQ3VydmUoYixhKSl9O1RIUkVFLkN1cnZlUGF0aC5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9YSp0aGlzLmdldExlbmd0aCgpLGM9dGhpcy5nZXRDdXJ2ZUxlbmd0aHMoKTtmb3IoYT0wO2E8Yy5sZW5ndGg7KXtpZihjW2FdPj1iKXJldHVybiBiPWNbYV0tYixhPXRoaXMuY3VydmVzW2FdLGI9MS1iL2EuZ2V0TGVuZ3RoKCksYS5nZXRQb2ludEF0KGIpO2ErK31yZXR1cm4gbnVsbH07VEhSRUUuQ3VydmVQYXRoLnByb3RvdHlwZS5nZXRMZW5ndGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnZlTGVuZ3RocygpO3JldHVybiBhW2EubGVuZ3RoLTFdfTtcblRIUkVFLkN1cnZlUGF0aC5wcm90b3R5cGUuZ2V0Q3VydmVMZW5ndGhzPWZ1bmN0aW9uKCl7aWYodGhpcy5jYWNoZUxlbmd0aHMmJnRoaXMuY2FjaGVMZW5ndGhzLmxlbmd0aD09dGhpcy5jdXJ2ZXMubGVuZ3RoKXJldHVybiB0aGlzLmNhY2hlTGVuZ3Roczt2YXIgYT1bXSxiPTAsYyxkPXRoaXMuY3VydmVzLmxlbmd0aDtmb3IoYz0wO2M8ZDtjKyspYis9dGhpcy5jdXJ2ZXNbY10uZ2V0TGVuZ3RoKCksYS5wdXNoKGIpO3JldHVybiB0aGlzLmNhY2hlTGVuZ3Rocz1hfTtcblRIUkVFLkN1cnZlUGF0aC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFBvaW50cygpLGIsYyxkLGUsZixnO2I9Yz1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7ZT1mPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt2YXIgaCxrLGwscCxxPWFbMF1pbnN0YW5jZW9mIFRIUkVFLlZlY3RvcjM7cD1xP25ldyBUSFJFRS5WZWN0b3IzOm5ldyBUSFJFRS5WZWN0b3IyO2s9MDtmb3IobD1hLmxlbmd0aDtrPGw7aysrKWg9YVtrXSxoLng+Yj9iPWgueDpoLng8ZSYmKGU9aC54KSxoLnk+Yz9jPWgueTpoLnk8ZiYmKGY9aC55KSxxJiYoaC56PmQ/ZD1oLno6aC56PGcmJihnPWgueikpLHAuYWRkKGgpO2E9e21pblg6ZSxtaW5ZOmYsbWF4WDpiLG1heFk6Y307cSYmKGEubWF4Wj1kLGEubWluWj1nKTtyZXR1cm4gYX07XG5USFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmNyZWF0ZVBvaW50c0dlb21ldHJ5PWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRQb2ludHMoYSwhMCk7cmV0dXJuIHRoaXMuY3JlYXRlR2VvbWV0cnkoYSl9O1RIUkVFLkN1cnZlUGF0aC5wcm90b3R5cGUuY3JlYXRlU3BhY2VkUG9pbnRzR2VvbWV0cnk9ZnVuY3Rpb24oYSl7YT10aGlzLmdldFNwYWNlZFBvaW50cyhhLCEwKTtyZXR1cm4gdGhpcy5jcmVhdGVHZW9tZXRyeShhKX07VEhSRUUuQ3VydmVQYXRoLnByb3RvdHlwZS5jcmVhdGVHZW9tZXRyeT1mdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IFRIUkVFLkdlb21ldHJ5LGM9MDtjPGEubGVuZ3RoO2MrKyliLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoYVtjXS54LGFbY10ueSxhW2NdLnp8fDApKTtyZXR1cm4gYn07VEhSRUUuQ3VydmVQYXRoLnByb3RvdHlwZS5hZGRXcmFwUGF0aD1mdW5jdGlvbihhKXt0aGlzLmJlbmRzLnB1c2goYSl9O1xuVEhSRUUuQ3VydmVQYXRoLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1lZFBvaW50cz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0UG9pbnRzKGEpLGQsZTtifHwoYj10aGlzLmJlbmRzKTtkPTA7Zm9yKGU9Yi5sZW5ndGg7ZDxlO2QrKyljPXRoaXMuZ2V0V3JhcFBvaW50cyhjLGJbZF0pO3JldHVybiBjfTtUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlLmdldFRyYW5zZm9ybWVkU3BhY2VkUG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRTcGFjZWRQb2ludHMoYSksZCxlO2J8fChiPXRoaXMuYmVuZHMpO2Q9MDtmb3IoZT1iLmxlbmd0aDtkPGU7ZCsrKWM9dGhpcy5nZXRXcmFwUG9pbnRzKGMsYltkXSk7cmV0dXJuIGN9O1xuVEhSRUUuQ3VydmVQYXRoLnByb3RvdHlwZS5nZXRXcmFwUG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRCb3VuZGluZ0JveCgpLGQsZSxmLGcsaCxrO2Q9MDtmb3IoZT1hLmxlbmd0aDtkPGU7ZCsrKWY9YVtkXSxnPWYueCxoPWYueSxrPWcvYy5tYXhYLGs9Yi5nZXRVdG9UbWFwcGluZyhrLGcpLGc9Yi5nZXRQb2ludChrKSxrPWIuZ2V0VGFuZ2VudChrKSxrLnNldCgtay55LGsueCkubXVsdGlwbHlTY2FsYXIoaCksZi54PWcueCtrLngsZi55PWcueStrLnk7cmV0dXJuIGF9O1RIUkVFLkd5cm9zY29wZT1mdW5jdGlvbigpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyl9O1RIUkVFLkd5cm9zY29wZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUpO1RIUkVFLkd5cm9zY29wZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuR3lyb3Njb3BlO1xuVEhSRUUuR3lyb3Njb3BlLnByb3RvdHlwZS51cGRhdGVNYXRyaXhXb3JsZD1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlF1YXRlcm5pb24sYz1uZXcgVEhSRUUuVmVjdG9yMyxkPW5ldyBUSFJFRS5WZWN0b3IzLGU9bmV3IFRIUkVFLlF1YXRlcm5pb24sZj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oZyl7dGhpcy5tYXRyaXhBdXRvVXBkYXRlJiZ0aGlzLnVwZGF0ZU1hdHJpeCgpO2lmKHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZXx8Zyl0aGlzLnBhcmVudD8odGhpcy5tYXRyaXhXb3JsZC5tdWx0aXBseU1hdHJpY2VzKHRoaXMucGFyZW50Lm1hdHJpeFdvcmxkLHRoaXMubWF0cml4KSx0aGlzLm1hdHJpeFdvcmxkLmRlY29tcG9zZShkLGUsZiksdGhpcy5tYXRyaXguZGVjb21wb3NlKGEsYixjKSx0aGlzLm1hdHJpeFdvcmxkLmNvbXBvc2UoZCxiLGYpKTp0aGlzLm1hdHJpeFdvcmxkLmNvcHkodGhpcy5tYXRyaXgpLHRoaXMubWF0cml4V29ybGROZWVkc1VwZGF0ZT1cbiExLGc9ITA7Zm9yKHZhciBoPTAsaz10aGlzLmNoaWxkcmVuLmxlbmd0aDtoPGs7aCsrKXRoaXMuY2hpbGRyZW5baF0udXBkYXRlTWF0cml4V29ybGQoZyl9fSgpO1RIUkVFLlBhdGg9ZnVuY3Rpb24oYSl7VEhSRUUuQ3VydmVQYXRoLmNhbGwodGhpcyk7dGhpcy5hY3Rpb25zPVtdO2EmJnRoaXMuZnJvbVBvaW50cyhhKX07VEhSRUUuUGF0aC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5DdXJ2ZVBhdGgucHJvdG90eXBlKTtUSFJFRS5QYXRoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5QYXRoO1RIUkVFLlBhdGhBY3Rpb25zPXtNT1ZFX1RPOlwibW92ZVRvXCIsTElORV9UTzpcImxpbmVUb1wiLFFVQURSQVRJQ19DVVJWRV9UTzpcInF1YWRyYXRpY0N1cnZlVG9cIixCRVpJRVJfQ1VSVkVfVE86XCJiZXppZXJDdXJ2ZVRvXCIsQ1NQTElORV9USFJVOlwic3BsaW5lVGhydVwiLEFSQzpcImFyY1wiLEVMTElQU0U6XCJlbGxpcHNlXCJ9O1xuVEhSRUUuUGF0aC5wcm90b3R5cGUuZnJvbVBvaW50cz1mdW5jdGlvbihhKXt0aGlzLm1vdmVUbyhhWzBdLngsYVswXS55KTtmb3IodmFyIGI9MSxjPWEubGVuZ3RoO2I8YztiKyspdGhpcy5saW5lVG8oYVtiXS54LGFbYl0ueSl9O1RIUkVFLlBhdGgucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hY3Rpb25zLnB1c2goe2FjdGlvbjpUSFJFRS5QYXRoQWN0aW9ucy5NT1ZFX1RPLGFyZ3M6Y30pfTtcblRIUkVFLlBhdGgucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksZD10aGlzLmFjdGlvbnNbdGhpcy5hY3Rpb25zLmxlbmd0aC0xXS5hcmdzLGQ9bmV3IFRIUkVFLkxpbmVDdXJ2ZShuZXcgVEhSRUUuVmVjdG9yMihkW2QubGVuZ3RoLTJdLGRbZC5sZW5ndGgtMV0pLG5ldyBUSFJFRS5WZWN0b3IyKGEsYikpO3RoaXMuY3VydmVzLnB1c2goZCk7dGhpcy5hY3Rpb25zLnB1c2goe2FjdGlvbjpUSFJFRS5QYXRoQWN0aW9ucy5MSU5FX1RPLGFyZ3M6Y30pfTtcblRIUkVFLlBhdGgucHJvdG90eXBlLnF1YWRyYXRpY0N1cnZlVG89ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxmPXRoaXMuYWN0aW9uc1t0aGlzLmFjdGlvbnMubGVuZ3RoLTFdLmFyZ3MsZj1uZXcgVEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUobmV3IFRIUkVFLlZlY3RvcjIoZltmLmxlbmd0aC0yXSxmW2YubGVuZ3RoLTFdKSxuZXcgVEhSRUUuVmVjdG9yMihhLGIpLG5ldyBUSFJFRS5WZWN0b3IyKGMsZCkpO3RoaXMuY3VydmVzLnB1c2goZik7dGhpcy5hY3Rpb25zLnB1c2goe2FjdGlvbjpUSFJFRS5QYXRoQWN0aW9ucy5RVUFEUkFUSUNfQ1VSVkVfVE8sYXJnczplfSl9O1xuVEhSRUUuUGF0aC5wcm90b3R5cGUuYmV6aWVyQ3VydmVUbz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxoPXRoaXMuYWN0aW9uc1t0aGlzLmFjdGlvbnMubGVuZ3RoLTFdLmFyZ3MsaD1uZXcgVEhSRUUuQ3ViaWNCZXppZXJDdXJ2ZShuZXcgVEhSRUUuVmVjdG9yMihoW2gubGVuZ3RoLTJdLGhbaC5sZW5ndGgtMV0pLG5ldyBUSFJFRS5WZWN0b3IyKGEsYiksbmV3IFRIUkVFLlZlY3RvcjIoYyxkKSxuZXcgVEhSRUUuVmVjdG9yMihlLGYpKTt0aGlzLmN1cnZlcy5wdXNoKGgpO3RoaXMuYWN0aW9ucy5wdXNoKHthY3Rpb246VEhSRUUuUGF0aEFjdGlvbnMuQkVaSUVSX0NVUlZFX1RPLGFyZ3M6Z30pfTtcblRIUkVFLlBhdGgucHJvdG90eXBlLnNwbGluZVRocnU9ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxjPXRoaXMuYWN0aW9uc1t0aGlzLmFjdGlvbnMubGVuZ3RoLTFdLmFyZ3MsYz1bbmV3IFRIUkVFLlZlY3RvcjIoY1tjLmxlbmd0aC0yXSxjW2MubGVuZ3RoLTFdKV07QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxhKTtjPW5ldyBUSFJFRS5TcGxpbmVDdXJ2ZShjKTt0aGlzLmN1cnZlcy5wdXNoKGMpO3RoaXMuYWN0aW9ucy5wdXNoKHthY3Rpb246VEhSRUUuUGF0aEFjdGlvbnMuQ1NQTElORV9USFJVLGFyZ3M6Yn0pfTtUSFJFRS5QYXRoLnByb3RvdHlwZS5hcmM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMuYWN0aW9uc1t0aGlzLmFjdGlvbnMubGVuZ3RoLTFdLmFyZ3M7dGhpcy5hYnNhcmMoYStnW2cubGVuZ3RoLTJdLGIrZ1tnLmxlbmd0aC0xXSxjLGQsZSxmKX07XG5USFJFRS5QYXRoLnByb3RvdHlwZS5hYnNhcmM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuYWJzZWxsaXBzZShhLGIsYyxjLGQsZSxmKX07VEhSRUUuUGF0aC5wcm90b3R5cGUuZWxsaXBzZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD10aGlzLmFjdGlvbnNbdGhpcy5hY3Rpb25zLmxlbmd0aC0xXS5hcmdzO3RoaXMuYWJzZWxsaXBzZShhK2hbaC5sZW5ndGgtMl0sYitoW2gubGVuZ3RoLTFdLGMsZCxlLGYsZyl9O1RIUkVFLlBhdGgucHJvdG90eXBlLmFic2VsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGg9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxrPW5ldyBUSFJFRS5FbGxpcHNlQ3VydmUoYSxiLGMsZCxlLGYsZyk7dGhpcy5jdXJ2ZXMucHVzaChrKTtrPWsuZ2V0UG9pbnQoMSk7aC5wdXNoKGsueCk7aC5wdXNoKGsueSk7dGhpcy5hY3Rpb25zLnB1c2goe2FjdGlvbjpUSFJFRS5QYXRoQWN0aW9ucy5FTExJUFNFLGFyZ3M6aH0pfTtcblRIUkVFLlBhdGgucHJvdG90eXBlLmdldFNwYWNlZFBvaW50cz1mdW5jdGlvbihhLGIpe2F8fChhPTQwKTtmb3IodmFyIGM9W10sZD0wO2Q8YTtkKyspYy5wdXNoKHRoaXMuZ2V0UG9pbnQoZC9hKSk7cmV0dXJuIGN9O1xuVEhSRUUuUGF0aC5wcm90b3R5cGUuZ2V0UG9pbnRzPWZ1bmN0aW9uKGEsYil7aWYodGhpcy51c2VTcGFjZWRQb2ludHMpcmV0dXJuIGNvbnNvbGUubG9nKFwidGF0YVwiKSx0aGlzLmdldFNwYWNlZFBvaW50cyhhLGIpO2E9YXx8MTI7dmFyIGM9W10sZCxlLGYsZyxoLGssbCxwLHEsbix0LHIscztkPTA7Zm9yKGU9dGhpcy5hY3Rpb25zLmxlbmd0aDtkPGU7ZCsrKXN3aXRjaChmPXRoaXMuYWN0aW9uc1tkXSxnPWYuYWN0aW9uLGY9Zi5hcmdzLGcpe2Nhc2UgVEhSRUUuUGF0aEFjdGlvbnMuTU9WRV9UTzpjLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoZlswXSxmWzFdKSk7YnJlYWs7Y2FzZSBUSFJFRS5QYXRoQWN0aW9ucy5MSU5FX1RPOmMucHVzaChuZXcgVEhSRUUuVmVjdG9yMihmWzBdLGZbMV0pKTticmVhaztjYXNlIFRIUkVFLlBhdGhBY3Rpb25zLlFVQURSQVRJQ19DVVJWRV9UTzpoPWZbMl07az1mWzNdO3E9ZlswXTtuPWZbMV07MDxjLmxlbmd0aD8oZz1jW2MubGVuZ3RoLTFdLHQ9Zy54LFxucj1nLnkpOihnPXRoaXMuYWN0aW9uc1tkLTFdLmFyZ3MsdD1nW2cubGVuZ3RoLTJdLHI9Z1tnLmxlbmd0aC0xXSk7Zm9yKGY9MTtmPD1hO2YrKylzPWYvYSxnPVRIUkVFLlNoYXBlLlV0aWxzLmIyKHMsdCxxLGgpLHM9VEhSRUUuU2hhcGUuVXRpbHMuYjIocyxyLG4sayksYy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKGcscykpO2JyZWFrO2Nhc2UgVEhSRUUuUGF0aEFjdGlvbnMuQkVaSUVSX0NVUlZFX1RPOmg9Zls0XTtrPWZbNV07cT1mWzBdO249ZlsxXTtsPWZbMl07cD1mWzNdOzA8Yy5sZW5ndGg/KGc9Y1tjLmxlbmd0aC0xXSx0PWcueCxyPWcueSk6KGc9dGhpcy5hY3Rpb25zW2QtMV0uYXJncyx0PWdbZy5sZW5ndGgtMl0scj1nW2cubGVuZ3RoLTFdKTtmb3IoZj0xO2Y8PWE7ZisrKXM9Zi9hLGc9VEhSRUUuU2hhcGUuVXRpbHMuYjMocyx0LHEsbCxoKSxzPVRIUkVFLlNoYXBlLlV0aWxzLmIzKHMscixuLHAsayksYy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKGcscykpO2JyZWFrO2Nhc2UgVEhSRUUuUGF0aEFjdGlvbnMuQ1NQTElORV9USFJVOmc9XG50aGlzLmFjdGlvbnNbZC0xXS5hcmdzO3M9W25ldyBUSFJFRS5WZWN0b3IyKGdbZy5sZW5ndGgtMl0sZ1tnLmxlbmd0aC0xXSldO2c9YSpmWzBdLmxlbmd0aDtzPXMuY29uY2F0KGZbMF0pO3M9bmV3IFRIUkVFLlNwbGluZUN1cnZlKHMpO2ZvcihmPTE7Zjw9ZztmKyspYy5wdXNoKHMuZ2V0UG9pbnRBdChmL2cpKTticmVhaztjYXNlIFRIUkVFLlBhdGhBY3Rpb25zLkFSQzpoPWZbMF07az1mWzFdO249ZlsyXTtsPWZbM107Zz1mWzRdO3E9ISFmWzVdO3Q9Zy1sO3I9MiphO2ZvcihmPTE7Zjw9cjtmKyspcz1mL3IscXx8KHM9MS1zKSxzPWwrcyp0LGc9aCtuKk1hdGguY29zKHMpLHM9aytuKk1hdGguc2luKHMpLGMucHVzaChuZXcgVEhSRUUuVmVjdG9yMihnLHMpKTticmVhaztjYXNlIFRIUkVFLlBhdGhBY3Rpb25zLkVMTElQU0U6Zm9yKGg9ZlswXSxrPWZbMV0sbj1mWzJdLHA9ZlszXSxsPWZbNF0sZz1mWzVdLHE9ISFmWzZdLHQ9Zy1sLHI9MiphLGY9MTtmPD1yO2YrKylzPWYvcixxfHxcbihzPTEtcykscz1sK3MqdCxnPWgrbipNYXRoLmNvcyhzKSxzPWsrcCpNYXRoLnNpbihzKSxjLnB1c2gobmV3IFRIUkVFLlZlY3RvcjIoZyxzKSl9ZD1jW2MubGVuZ3RoLTFdOzFFLTEwPk1hdGguYWJzKGQueC1jWzBdLngpJiYxRS0xMD5NYXRoLmFicyhkLnktY1swXS55KSYmYy5zcGxpY2UoYy5sZW5ndGgtMSwxKTtiJiZjLnB1c2goY1swXSk7cmV0dXJuIGN9O1xuVEhSRUUuUGF0aC5wcm90b3R5cGUudG9TaGFwZXM9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1hW2NdLGY9bmV3IFRIUkVFLlNoYXBlO2YuYWN0aW9ucz1lLmFjdGlvbnM7Zi5jdXJ2ZXM9ZS5jdXJ2ZXM7Yi5wdXNoKGYpfXJldHVybiBifWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9Yi5sZW5ndGgsZD0hMSxlPWMtMSxmPTA7ZjxjO2U9ZisrKXt2YXIgZz1iW2VdLGg9YltmXSxrPWgueC1nLngsbj1oLnktZy55O2lmKDFFLTEwPE1hdGguYWJzKG4pKXtpZigwPm4mJihnPWJbZl0saz0tayxoPWJbZV0sbj0tbiksIShhLnk8Zy55fHxhLnk+aC55KSlpZihhLnk9PWcueSl7aWYoYS54PT1nLngpcmV0dXJuITB9ZWxzZXtlPW4qKGEueC1nLngpLWsqKGEueS1nLnkpO2lmKDA9PWUpcmV0dXJuITA7MD5lfHwoZD0hZCl9fWVsc2UgaWYoYS55PT1nLnkmJihoLng8PWEueCYmYS54PD1nLnh8fGcueDw9YS54JiZhLng8PVxuaC54KSlyZXR1cm4hMH1yZXR1cm4gZH12YXIgZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmPVtdLGc9bmV3IFRIUkVFLlBhdGg7Yj0wO2ZvcihjPWEubGVuZ3RoO2I8YztiKyspZD1hW2JdLGU9ZC5hcmdzLGQ9ZC5hY3Rpb24sZD09VEhSRUUuUGF0aEFjdGlvbnMuTU9WRV9UTyYmMCE9Zy5hY3Rpb25zLmxlbmd0aCYmKGYucHVzaChnKSxnPW5ldyBUSFJFRS5QYXRoKSxnW2RdLmFwcGx5KGcsZSk7MCE9Zy5hY3Rpb25zLmxlbmd0aCYmZi5wdXNoKGcpO3JldHVybiBmfSh0aGlzLmFjdGlvbnMpO2lmKDA9PWUubGVuZ3RoKXJldHVybltdO2lmKCEwPT09YilyZXR1cm4gYyhlKTt2YXIgZixnLGgsaz1bXTtpZigxPT1lLmxlbmd0aClyZXR1cm4gZz1lWzBdLGg9bmV3IFRIUkVFLlNoYXBlLGguYWN0aW9ucz1nLmFjdGlvbnMsaC5jdXJ2ZXM9Zy5jdXJ2ZXMsay5wdXNoKGgpLGs7dmFyIGw9IVRIUkVFLlNoYXBlLlV0aWxzLmlzQ2xvY2tXaXNlKGVbMF0uZ2V0UG9pbnRzKCkpLGw9YT8hbDpsO1xuaD1bXTt2YXIgcD1bXSxxPVtdLG49MCx0O3Bbbl09dm9pZCAwO3Fbbl09W107dmFyIHIscztyPTA7Zm9yKHM9ZS5sZW5ndGg7cjxzO3IrKylnPWVbcl0sdD1nLmdldFBvaW50cygpLGY9VEhSRUUuU2hhcGUuVXRpbHMuaXNDbG9ja1dpc2UodCksKGY9YT8hZjpmKT8oIWwmJnBbbl0mJm4rKyxwW25dPXtzOm5ldyBUSFJFRS5TaGFwZSxwOnR9LHBbbl0ucy5hY3Rpb25zPWcuYWN0aW9ucyxwW25dLnMuY3VydmVzPWcuY3VydmVzLGwmJm4rKyxxW25dPVtdKTpxW25dLnB1c2goe2g6ZyxwOnRbMF19KTtpZighcFswXSlyZXR1cm4gYyhlKTtpZigxPHAubGVuZ3RoKXtyPSExO3M9W107Zz0wO2ZvcihlPXAubGVuZ3RoO2c8ZTtnKyspaFtnXT1bXTtnPTA7Zm9yKGU9cC5sZW5ndGg7ZzxlO2crKylmb3IoZj1xW2ddLGw9MDtsPGYubGVuZ3RoO2wrKyl7bj1mW2xdO3Q9ITA7Zm9yKHZhciB1PTA7dTxwLmxlbmd0aDt1KyspZChuLnAscFt1XS5wKSYmKGchPXUmJnMucHVzaCh7ZnJvbXM6Zyx0b3M6dSxcbmhvbGU6bH0pLHQ/KHQ9ITEsaFt1XS5wdXNoKG4pKTpyPSEwKTt0JiZoW2ddLnB1c2gobil9MDxzLmxlbmd0aCYmKHJ8fChxPWgpKX1yPTA7Zm9yKHM9cC5sZW5ndGg7cjxzO3IrKylmb3IoaD1wW3JdLnMsay5wdXNoKGgpLGc9cVtyXSxlPTAsZj1nLmxlbmd0aDtlPGY7ZSsrKWguaG9sZXMucHVzaChnW2VdLmgpO3JldHVybiBrfTtUSFJFRS5TaGFwZT1mdW5jdGlvbigpe1RIUkVFLlBhdGguYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaG9sZXM9W119O1RIUkVFLlNoYXBlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLlBhdGgucHJvdG90eXBlKTtUSFJFRS5TaGFwZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuU2hhcGU7VEhSRUUuU2hhcGUucHJvdG90eXBlLmV4dHJ1ZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBUSFJFRS5FeHRydWRlR2VvbWV0cnkodGhpcyxhKX07XG5USFJFRS5TaGFwZS5wcm90b3R5cGUubWFrZUdlb21ldHJ5PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVEhSRUUuU2hhcGVHZW9tZXRyeSh0aGlzLGEpfTtUSFJFRS5TaGFwZS5wcm90b3R5cGUuZ2V0UG9pbnRzSG9sZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYz10aGlzLmhvbGVzLmxlbmd0aCxkPVtdO2ZvcihiPTA7YjxjO2IrKylkW2JdPXRoaXMuaG9sZXNbYl0uZ2V0VHJhbnNmb3JtZWRQb2ludHMoYSx0aGlzLmJlbmRzKTtyZXR1cm4gZH07VEhSRUUuU2hhcGUucHJvdG90eXBlLmdldFNwYWNlZFBvaW50c0hvbGVzPWZ1bmN0aW9uKGEpe3ZhciBiLGM9dGhpcy5ob2xlcy5sZW5ndGgsZD1bXTtmb3IoYj0wO2I8YztiKyspZFtiXT10aGlzLmhvbGVzW2JdLmdldFRyYW5zZm9ybWVkU3BhY2VkUG9pbnRzKGEsdGhpcy5iZW5kcyk7cmV0dXJuIGR9O1xuVEhSRUUuU2hhcGUucHJvdG90eXBlLmV4dHJhY3RBbGxQb2ludHM9ZnVuY3Rpb24oYSl7cmV0dXJue3NoYXBlOnRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludHMoYSksaG9sZXM6dGhpcy5nZXRQb2ludHNIb2xlcyhhKX19O1RIUkVFLlNoYXBlLnByb3RvdHlwZS5leHRyYWN0UG9pbnRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnVzZVNwYWNlZFBvaW50cz90aGlzLmV4dHJhY3RBbGxTcGFjZWRQb2ludHMoYSk6dGhpcy5leHRyYWN0QWxsUG9pbnRzKGEpfTtUSFJFRS5TaGFwZS5wcm90b3R5cGUuZXh0cmFjdEFsbFNwYWNlZFBvaW50cz1mdW5jdGlvbihhKXtyZXR1cm57c2hhcGU6dGhpcy5nZXRUcmFuc2Zvcm1lZFNwYWNlZFBvaW50cyhhKSxob2xlczp0aGlzLmdldFNwYWNlZFBvaW50c0hvbGVzKGEpfX07XG5USFJFRS5TaGFwZS5VdGlscz17dHJpYW5ndWxhdGVTaGFwZTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe3JldHVybiBhLnghPWIueD9hLng8Yi54P2EueDw9Yy54JiZjLng8PWIueDpiLng8PWMueCYmYy54PD1hLng6YS55PGIueT9hLnk8PWMueSYmYy55PD1iLnk6Yi55PD1jLnkmJmMueTw9YS55fWZ1bmN0aW9uIGQoYSxiLGQsZSxmKXt2YXIgZz1iLngtYS54LGg9Yi55LWEueSxrPWUueC1kLngsbD1lLnktZC55LHA9YS54LWQueCxxPWEueS1kLnksRT1oKmstZypsLEc9aCpwLWcqcTtpZigxRS0xMDxNYXRoLmFicyhFKSl7aWYoMDxFKXtpZigwPkd8fEc+RSlyZXR1cm5bXTtrPWwqcC1rKnE7aWYoMD5rfHxrPkUpcmV0dXJuW119ZWxzZXtpZigwPEd8fEc8RSlyZXR1cm5bXTtrPWwqcC1rKnE7aWYoMDxrfHxrPEUpcmV0dXJuW119aWYoMD09aylyZXR1cm4hZnx8MCE9RyYmRyE9RT9bYV06W107aWYoaz09RSlyZXR1cm4hZnx8MCE9RyYmRyE9RT9bYl06W107aWYoMD09RylyZXR1cm5bZF07XG5pZihHPT1FKXJldHVybltlXTtmPWsvRTtyZXR1cm5be3g6YS54K2YqZyx5OmEueStmKmh9XX1pZigwIT1HfHxsKnAhPWsqcSlyZXR1cm5bXTtoPTA9PWcmJjA9PWg7az0wPT1rJiYwPT1sO2lmKGgmJmspcmV0dXJuIGEueCE9ZC54fHxhLnkhPWQueT9bXTpbYV07aWYoaClyZXR1cm4gYyhkLGUsYSk/W2FdOltdO2lmKGspcmV0dXJuIGMoYSxiLGQpP1tkXTpbXTswIT1nPyhhLng8Yi54PyhnPWEsaz1hLngsaD1iLGE9Yi54KTooZz1iLGs9Yi54LGg9YSxhPWEueCksZC54PGUueD8oYj1kLEU9ZC54LGw9ZSxkPWUueCk6KGI9ZSxFPWUueCxsPWQsZD1kLngpKTooYS55PGIueT8oZz1hLGs9YS55LGg9YixhPWIueSk6KGc9YixrPWIueSxoPWEsYT1hLnkpLGQueTxlLnk/KGI9ZCxFPWQueSxsPWUsZD1lLnkpOihiPWUsRT1lLnksbD1kLGQ9ZC55KSk7cmV0dXJuIGs8PUU/YTxFP1tdOmE9PUU/Zj9bXTpbYl06YTw9ZD9bYixoXTpbYixsXTprPmQ/W106az09ZD9mP1tdOltnXTphPD1kP1tnLGhdOlxuW2csbF19ZnVuY3Rpb24gZShhLGIsYyxkKXt2YXIgZT1iLngtYS54LGY9Yi55LWEueTtiPWMueC1hLng7Yz1jLnktYS55O3ZhciBnPWQueC1hLng7ZD1kLnktYS55O2E9ZSpjLWYqYjtlPWUqZC1mKmc7cmV0dXJuIDFFLTEwPE1hdGguYWJzKGEpPyhiPWcqYy1kKmIsMDxhPzA8PWUmJjA8PWI6MDw9ZXx8MDw9Yik6MDxlfXZhciBmLGcsaCxrLGwscD17fTtoPWEuY29uY2F0KCk7Zj0wO2ZvcihnPWIubGVuZ3RoO2Y8ZztmKyspQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaCxiW2ZdKTtmPTA7Zm9yKGc9aC5sZW5ndGg7ZjxnO2YrKylsPWhbZl0ueCtcIjpcIitoW2ZdLnksdm9pZCAwIT09cFtsXSYmVEhSRUUud2FybihcIlRIUkVFLlNoYXBlOiBEdXBsaWNhdGUgcG9pbnRcIixsKSxwW2xdPWY7Zj1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiKXt2YXIgZD1oLmxlbmd0aC0xLGY9YS0xOzA+ZiYmKGY9ZCk7dmFyIGc9YSsxO2c+ZCYmKGc9MCk7ZD1lKGhbYV0saFtmXSxoW2ddLGtbYl0pO1xuaWYoIWQpcmV0dXJuITE7ZD1rLmxlbmd0aC0xO2Y9Yi0xOzA+ZiYmKGY9ZCk7Zz1iKzE7Zz5kJiYoZz0wKTtyZXR1cm4oZD1lKGtbYl0sa1tmXSxrW2ddLGhbYV0pKT8hMDohMX1mdW5jdGlvbiBmKGEsYil7dmFyIGMsZTtmb3IoYz0wO2M8aC5sZW5ndGg7YysrKWlmKGU9YysxLGUlPWgubGVuZ3RoLGU9ZChhLGIsaFtjXSxoW2VdLCEwKSwwPGUubGVuZ3RoKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGcoYSxjKXt2YXIgZSxmLGgsaztmb3IoZT0wO2U8bC5sZW5ndGg7ZSsrKWZvcihmPWJbbFtlXV0saD0wO2g8Zi5sZW5ndGg7aCsrKWlmKGs9aCsxLGslPWYubGVuZ3RoLGs9ZChhLGMsZltoXSxmW2tdLCEwKSwwPGsubGVuZ3RoKXJldHVybiEwO3JldHVybiExfXZhciBoPWEuY29uY2F0KCksayxsPVtdLHAscSxBLEUsRyxGPVtdLHosSSxVLE09MDtmb3IocD1iLmxlbmd0aDtNPHA7TSsrKWwucHVzaChNKTt6PTA7Zm9yKHZhciBIPTIqbC5sZW5ndGg7MDxsLmxlbmd0aDspe0gtLTtpZigwPlxuSCl7Y29uc29sZS5sb2coXCJJbmZpbml0ZSBMb29wISBIb2xlcyBsZWZ0OlwiK2wubGVuZ3RoK1wiLCBQcm9iYWJseSBIb2xlIG91dHNpZGUgU2hhcGUhXCIpO2JyZWFrfWZvcihxPXo7cTxoLmxlbmd0aDtxKyspe0E9aFtxXTtwPS0xO2ZvcihNPTA7TTxsLmxlbmd0aDtNKyspaWYoRT1sW01dLEc9QS54K1wiOlwiK0EueStcIjpcIitFLHZvaWQgMD09PUZbR10pe2s9YltFXTtmb3IoST0wO0k8ay5sZW5ndGg7SSsrKWlmKEU9a1tJXSxjKHEsSSkmJiFmKEEsRSkmJiFnKEEsRSkpe3A9STtsLnNwbGljZShNLDEpO3o9aC5zbGljZSgwLHErMSk7RT1oLnNsaWNlKHEpO0k9ay5zbGljZShwKTtVPWsuc2xpY2UoMCxwKzEpO2g9ei5jb25jYXQoSSkuY29uY2F0KFUpLmNvbmNhdChFKTt6PXE7YnJlYWt9aWYoMDw9cClicmVhaztGW0ddPSEwfWlmKDA8PXApYnJlYWt9fXJldHVybiBofShhLGIpO3ZhciBxPVRIUkVFLkZvbnRVdGlscy5Ucmlhbmd1bGF0ZShmLCExKTtmPTA7Zm9yKGc9cS5sZW5ndGg7ZjxnO2YrKylmb3Ioaz1cbnFbZl0saD0wOzM+aDtoKyspbD1rW2hdLngrXCI6XCIra1toXS55LGw9cFtsXSx2b2lkIDAhPT1sJiYoa1toXT1sKTtyZXR1cm4gcS5jb25jYXQoKX0saXNDbG9ja1dpc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIDA+VEhSRUUuRm9udFV0aWxzLlRyaWFuZ3VsYXRlLmFyZWEoYSl9LGIycDA6ZnVuY3Rpb24oYSxiKXt2YXIgYz0xLWE7cmV0dXJuIGMqYypifSxiMnAxOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDIqKDEtYSkqYSpifSxiMnAyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqYSpifSxiMjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5iMnAwKGEsYikrdGhpcy5iMnAxKGEsYykrdGhpcy5iMnAyKGEsZCl9LGIzcDA6ZnVuY3Rpb24oYSxiKXt2YXIgYz0xLWE7cmV0dXJuIGMqYypjKmJ9LGIzcDE6ZnVuY3Rpb24oYSxiKXt2YXIgYz0xLWE7cmV0dXJuIDMqYypjKmEqYn0sYjNwMjpmdW5jdGlvbihhLGIpe3JldHVybiAzKigxLWEpKmEqYSpifSxiM3AzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqXG5hKmEqYn0sYjM6ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5iM3AwKGEsYikrdGhpcy5iM3AxKGEsYykrdGhpcy5iM3AyKGEsZCkrdGhpcy5iM3AzKGEsZSl9fTtUSFJFRS5MaW5lQ3VydmU9ZnVuY3Rpb24oYSxiKXt0aGlzLnYxPWE7dGhpcy52Mj1ifTtUSFJFRS5MaW5lQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuQ3VydmUucHJvdG90eXBlKTtUSFJFRS5MaW5lQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkxpbmVDdXJ2ZTtUSFJFRS5MaW5lQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudjIuY2xvbmUoKS5zdWIodGhpcy52MSk7Yi5tdWx0aXBseVNjYWxhcihhKS5hZGQodGhpcy52MSk7cmV0dXJuIGJ9O1RIUkVFLkxpbmVDdXJ2ZS5wcm90b3R5cGUuZ2V0UG9pbnRBdD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRQb2ludChhKX07XG5USFJFRS5MaW5lQ3VydmUucHJvdG90eXBlLmdldFRhbmdlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudjIuY2xvbmUoKS5zdWIodGhpcy52MSkubm9ybWFsaXplKCl9O1RIUkVFLlF1YWRyYXRpY0JlemllckN1cnZlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnYwPWE7dGhpcy52MT1iO3RoaXMudjI9Y307VEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuQ3VydmUucHJvdG90eXBlKTtUSFJFRS5RdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmU7XG5USFJFRS5RdWFkcmF0aWNCZXppZXJDdXJ2ZS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFRIUkVFLlZlY3RvcjI7Yi54PVRIUkVFLlNoYXBlLlV0aWxzLmIyKGEsdGhpcy52MC54LHRoaXMudjEueCx0aGlzLnYyLngpO2IueT1USFJFRS5TaGFwZS5VdGlscy5iMihhLHRoaXMudjAueSx0aGlzLnYxLnksdGhpcy52Mi55KTtyZXR1cm4gYn07VEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUucHJvdG90eXBlLmdldFRhbmdlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFRIUkVFLlZlY3RvcjI7Yi54PVRIUkVFLkN1cnZlLlV0aWxzLnRhbmdlbnRRdWFkcmF0aWNCZXppZXIoYSx0aGlzLnYwLngsdGhpcy52MS54LHRoaXMudjIueCk7Yi55PVRIUkVFLkN1cnZlLlV0aWxzLnRhbmdlbnRRdWFkcmF0aWNCZXppZXIoYSx0aGlzLnYwLnksdGhpcy52MS55LHRoaXMudjIueSk7cmV0dXJuIGIubm9ybWFsaXplKCl9O1xuVEhSRUUuQ3ViaWNCZXppZXJDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnYwPWE7dGhpcy52MT1iO3RoaXMudjI9Yzt0aGlzLnYzPWR9O1RIUkVFLkN1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuQ3VydmUucHJvdG90eXBlKTtUSFJFRS5DdWJpY0JlemllckN1cnZlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5DdWJpY0JlemllckN1cnZlO1RIUkVFLkN1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiO2I9VEhSRUUuU2hhcGUuVXRpbHMuYjMoYSx0aGlzLnYwLngsdGhpcy52MS54LHRoaXMudjIueCx0aGlzLnYzLngpO2E9VEhSRUUuU2hhcGUuVXRpbHMuYjMoYSx0aGlzLnYwLnksdGhpcy52MS55LHRoaXMudjIueSx0aGlzLnYzLnkpO3JldHVybiBuZXcgVEhSRUUuVmVjdG9yMihiLGEpfTtcblRIUkVFLkN1YmljQmV6aWVyQ3VydmUucHJvdG90eXBlLmdldFRhbmdlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI7Yj1USFJFRS5DdXJ2ZS5VdGlscy50YW5nZW50Q3ViaWNCZXppZXIoYSx0aGlzLnYwLngsdGhpcy52MS54LHRoaXMudjIueCx0aGlzLnYzLngpO2E9VEhSRUUuQ3VydmUuVXRpbHMudGFuZ2VudEN1YmljQmV6aWVyKGEsdGhpcy52MC55LHRoaXMudjEueSx0aGlzLnYyLnksdGhpcy52My55KTtiPW5ldyBUSFJFRS5WZWN0b3IyKGIsYSk7Yi5ub3JtYWxpemUoKTtyZXR1cm4gYn07VEhSRUUuU3BsaW5lQ3VydmU9ZnVuY3Rpb24oYSl7dGhpcy5wb2ludHM9dm9pZCAwPT1hP1tdOmF9O1RIUkVFLlNwbGluZUN1cnZlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkN1cnZlLnByb3RvdHlwZSk7VEhSRUUuU3BsaW5lQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlNwbGluZUN1cnZlO1xuVEhSRUUuU3BsaW5lQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucG9pbnRzO2EqPWIubGVuZ3RoLTE7dmFyIGM9TWF0aC5mbG9vcihhKTthLT1jO3ZhciBkPWJbMD09Yz9jOmMtMV0sZT1iW2NdLGY9YltjPmIubGVuZ3RoLTI/Yi5sZW5ndGgtMTpjKzFdLGI9YltjPmIubGVuZ3RoLTM/Yi5sZW5ndGgtMTpjKzJdLGM9bmV3IFRIUkVFLlZlY3RvcjI7Yy54PVRIUkVFLkN1cnZlLlV0aWxzLmludGVycG9sYXRlKGQueCxlLngsZi54LGIueCxhKTtjLnk9VEhSRUUuQ3VydmUuVXRpbHMuaW50ZXJwb2xhdGUoZC55LGUueSxmLnksYi55LGEpO3JldHVybiBjfTtUSFJFRS5FbGxpcHNlQ3VydmU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dGhpcy5hWD1hO3RoaXMuYVk9Yjt0aGlzLnhSYWRpdXM9Yzt0aGlzLnlSYWRpdXM9ZDt0aGlzLmFTdGFydEFuZ2xlPWU7dGhpcy5hRW5kQW5nbGU9Zjt0aGlzLmFDbG9ja3dpc2U9Z307XG5USFJFRS5FbGxpcHNlQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuQ3VydmUucHJvdG90eXBlKTtUSFJFRS5FbGxpcHNlQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkVsbGlwc2VDdXJ2ZTtUSFJFRS5FbGxpcHNlQ3VydmUucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYUVuZEFuZ2xlLXRoaXMuYVN0YXJ0QW5nbGU7MD5iJiYoYis9MipNYXRoLlBJKTtiPjIqTWF0aC5QSSYmKGItPTIqTWF0aC5QSSk7YT0hMD09PXRoaXMuYUNsb2Nrd2lzZT90aGlzLmFFbmRBbmdsZSsoMS1hKSooMipNYXRoLlBJLWIpOnRoaXMuYVN0YXJ0QW5nbGUrYSpiO2I9bmV3IFRIUkVFLlZlY3RvcjI7Yi54PXRoaXMuYVgrdGhpcy54UmFkaXVzKk1hdGguY29zKGEpO2IueT10aGlzLmFZK3RoaXMueVJhZGl1cypNYXRoLnNpbihhKTtyZXR1cm4gYn07XG5USFJFRS5BcmNDdXJ2ZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7VEhSRUUuRWxsaXBzZUN1cnZlLmNhbGwodGhpcyxhLGIsYyxjLGQsZSxmKX07VEhSRUUuQXJjQ3VydmUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuRWxsaXBzZUN1cnZlLnByb3RvdHlwZSk7VEhSRUUuQXJjQ3VydmUucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkFyY0N1cnZlO1RIUkVFLkxpbmVDdXJ2ZTM9VEhSRUUuQ3VydmUuY3JlYXRlKGZ1bmN0aW9uKGEsYil7dGhpcy52MT1hO3RoaXMudjI9Yn0sZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFRIUkVFLlZlY3RvcjM7Yi5zdWJWZWN0b3JzKHRoaXMudjIsdGhpcy52MSk7Yi5tdWx0aXBseVNjYWxhcihhKTtiLmFkZCh0aGlzLnYxKTtyZXR1cm4gYn0pO1xuVEhSRUUuUXVhZHJhdGljQmV6aWVyQ3VydmUzPVRIUkVFLkN1cnZlLmNyZWF0ZShmdW5jdGlvbihhLGIsYyl7dGhpcy52MD1hO3RoaXMudjE9Yjt0aGlzLnYyPWN9LGZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBUSFJFRS5WZWN0b3IzO2IueD1USFJFRS5TaGFwZS5VdGlscy5iMihhLHRoaXMudjAueCx0aGlzLnYxLngsdGhpcy52Mi54KTtiLnk9VEhSRUUuU2hhcGUuVXRpbHMuYjIoYSx0aGlzLnYwLnksdGhpcy52MS55LHRoaXMudjIueSk7Yi56PVRIUkVFLlNoYXBlLlV0aWxzLmIyKGEsdGhpcy52MC56LHRoaXMudjEueix0aGlzLnYyLnopO3JldHVybiBifSk7XG5USFJFRS5DdWJpY0JlemllckN1cnZlMz1USFJFRS5DdXJ2ZS5jcmVhdGUoZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy52MD1hO3RoaXMudjE9Yjt0aGlzLnYyPWM7dGhpcy52Mz1kfSxmdW5jdGlvbihhKXt2YXIgYj1uZXcgVEhSRUUuVmVjdG9yMztiLng9VEhSRUUuU2hhcGUuVXRpbHMuYjMoYSx0aGlzLnYwLngsdGhpcy52MS54LHRoaXMudjIueCx0aGlzLnYzLngpO2IueT1USFJFRS5TaGFwZS5VdGlscy5iMyhhLHRoaXMudjAueSx0aGlzLnYxLnksdGhpcy52Mi55LHRoaXMudjMueSk7Yi56PVRIUkVFLlNoYXBlLlV0aWxzLmIzKGEsdGhpcy52MC56LHRoaXMudjEueix0aGlzLnYyLnosdGhpcy52My56KTtyZXR1cm4gYn0pO1xuVEhSRUUuU3BsaW5lQ3VydmUzPVRIUkVFLkN1cnZlLmNyZWF0ZShmdW5jdGlvbihhKXt0aGlzLnBvaW50cz12b2lkIDA9PWE/W106YX0sZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wb2ludHM7YSo9Yi5sZW5ndGgtMTt2YXIgYz1NYXRoLmZsb29yKGEpO2EtPWM7dmFyIGQ9YlswPT1jP2M6Yy0xXSxlPWJbY10sZj1iW2M+Yi5sZW5ndGgtMj9iLmxlbmd0aC0xOmMrMV0sYj1iW2M+Yi5sZW5ndGgtMz9iLmxlbmd0aC0xOmMrMl0sYz1uZXcgVEhSRUUuVmVjdG9yMztjLng9VEhSRUUuQ3VydmUuVXRpbHMuaW50ZXJwb2xhdGUoZC54LGUueCxmLngsYi54LGEpO2MueT1USFJFRS5DdXJ2ZS5VdGlscy5pbnRlcnBvbGF0ZShkLnksZS55LGYueSxiLnksYSk7Yy56PVRIUkVFLkN1cnZlLlV0aWxzLmludGVycG9sYXRlKGQueixlLnosZi56LGIueixhKTtyZXR1cm4gY30pO1xuVEhSRUUuQ2xvc2VkU3BsaW5lQ3VydmUzPVRIUkVFLkN1cnZlLmNyZWF0ZShmdW5jdGlvbihhKXt0aGlzLnBvaW50cz12b2lkIDA9PWE/W106YX0sZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wb2ludHM7YSo9Yi5sZW5ndGgtMDt2YXIgYz1NYXRoLmZsb29yKGEpO2EtPWM7dmFyIGM9YysoMDxjPzA6KE1hdGguZmxvb3IoTWF0aC5hYnMoYykvYi5sZW5ndGgpKzEpKmIubGVuZ3RoKSxkPWJbKGMtMSklYi5sZW5ndGhdLGU9YltjJWIubGVuZ3RoXSxmPWJbKGMrMSklYi5sZW5ndGhdLGI9YlsoYysyKSViLmxlbmd0aF0sYz1uZXcgVEhSRUUuVmVjdG9yMztjLng9VEhSRUUuQ3VydmUuVXRpbHMuaW50ZXJwb2xhdGUoZC54LGUueCxmLngsYi54LGEpO2MueT1USFJFRS5DdXJ2ZS5VdGlscy5pbnRlcnBvbGF0ZShkLnksZS55LGYueSxiLnksYSk7Yy56PVRIUkVFLkN1cnZlLlV0aWxzLmludGVycG9sYXRlKGQueixlLnosZi56LGIueixhKTtyZXR1cm4gY30pO1xuVEhSRUUuQW5pbWF0aW9uSGFuZGxlcj17TElORUFSOjAsQ0FUTVVMTFJPTToxLENBVE1VTExST01fRk9SV0FSRDoyLGFkZDpmdW5jdGlvbigpe1RIUkVFLndhcm4oXCJUSFJFRS5BbmltYXRpb25IYW5kbGVyLmFkZCgpIGhhcyBiZWVuIGRlcHJlY2F0ZWQuXCIpfSxnZXQ6ZnVuY3Rpb24oKXtUSFJFRS53YXJuKFwiVEhSRUUuQW5pbWF0aW9uSGFuZGxlci5nZXQoKSBoYXMgYmVlbiBkZXByZWNhdGVkLlwiKX0scmVtb3ZlOmZ1bmN0aW9uKCl7VEhSRUUud2FybihcIlRIUkVFLkFuaW1hdGlvbkhhbmRsZXIucmVtb3ZlKCkgaGFzIGJlZW4gZGVwcmVjYXRlZC5cIil9LGFuaW1hdGlvbnM6W10saW5pdDpmdW5jdGlvbihhKXtpZighMD09PWEuaW5pdGlhbGl6ZWQpcmV0dXJuIGE7Zm9yKHZhciBiPTA7YjxhLmhpZXJhcmNoeS5sZW5ndGg7YisrKXtmb3IodmFyIGM9MDtjPGEuaGllcmFyY2h5W2JdLmtleXMubGVuZ3RoO2MrKylpZigwPmEuaGllcmFyY2h5W2JdLmtleXNbY10udGltZSYmKGEuaGllcmFyY2h5W2JdLmtleXNbY10udGltZT1cbjApLHZvaWQgMCE9PWEuaGllcmFyY2h5W2JdLmtleXNbY10ucm90JiYhKGEuaGllcmFyY2h5W2JdLmtleXNbY10ucm90IGluc3RhbmNlb2YgVEhSRUUuUXVhdGVybmlvbikpe3ZhciBkPWEuaGllcmFyY2h5W2JdLmtleXNbY10ucm90O2EuaGllcmFyY2h5W2JdLmtleXNbY10ucm90PShuZXcgVEhSRUUuUXVhdGVybmlvbikuZnJvbUFycmF5KGQpfWlmKGEuaGllcmFyY2h5W2JdLmtleXMubGVuZ3RoJiZ2b2lkIDAhPT1hLmhpZXJhcmNoeVtiXS5rZXlzWzBdLm1vcnBoVGFyZ2V0cyl7ZD17fTtmb3IoYz0wO2M8YS5oaWVyYXJjaHlbYl0ua2V5cy5sZW5ndGg7YysrKWZvcih2YXIgZT0wO2U8YS5oaWVyYXJjaHlbYl0ua2V5c1tjXS5tb3JwaFRhcmdldHMubGVuZ3RoO2UrKyl7dmFyIGY9YS5oaWVyYXJjaHlbYl0ua2V5c1tjXS5tb3JwaFRhcmdldHNbZV07ZFtmXT0tMX1hLmhpZXJhcmNoeVtiXS51c2VkTW9ycGhUYXJnZXRzPWQ7Zm9yKGM9MDtjPGEuaGllcmFyY2h5W2JdLmtleXMubGVuZ3RoO2MrKyl7dmFyIGc9XG57fTtmb3IoZiBpbiBkKXtmb3IoZT0wO2U8YS5oaWVyYXJjaHlbYl0ua2V5c1tjXS5tb3JwaFRhcmdldHMubGVuZ3RoO2UrKylpZihhLmhpZXJhcmNoeVtiXS5rZXlzW2NdLm1vcnBoVGFyZ2V0c1tlXT09PWYpe2dbZl09YS5oaWVyYXJjaHlbYl0ua2V5c1tjXS5tb3JwaFRhcmdldHNJbmZsdWVuY2VzW2VdO2JyZWFrfWU9PT1hLmhpZXJhcmNoeVtiXS5rZXlzW2NdLm1vcnBoVGFyZ2V0cy5sZW5ndGgmJihnW2ZdPTApfWEuaGllcmFyY2h5W2JdLmtleXNbY10ubW9ycGhUYXJnZXRzSW5mbHVlbmNlcz1nfX1mb3IoYz0xO2M8YS5oaWVyYXJjaHlbYl0ua2V5cy5sZW5ndGg7YysrKWEuaGllcmFyY2h5W2JdLmtleXNbY10udGltZT09PWEuaGllcmFyY2h5W2JdLmtleXNbYy0xXS50aW1lJiYoYS5oaWVyYXJjaHlbYl0ua2V5cy5zcGxpY2UoYywxKSxjLS0pO2ZvcihjPTA7YzxhLmhpZXJhcmNoeVtiXS5rZXlzLmxlbmd0aDtjKyspYS5oaWVyYXJjaHlbYl0ua2V5c1tjXS5pbmRleD1jfWEuaW5pdGlhbGl6ZWQ9XG4hMDtyZXR1cm4gYX0scGFyc2U6ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSxjKXtjLnB1c2goYSk7Zm9yKHZhciBkPTA7ZDxhLmNoaWxkcmVuLmxlbmd0aDtkKyspYihhLmNoaWxkcmVuW2RdLGMpfSxjPVtdO2lmKGEgaW5zdGFuY2VvZiBUSFJFRS5Ta2lubmVkTWVzaClmb3IodmFyIGQ9MDtkPGEuc2tlbGV0b24uYm9uZXMubGVuZ3RoO2QrKyljLnB1c2goYS5za2VsZXRvbi5ib25lc1tkXSk7ZWxzZSBiKGEsYyk7cmV0dXJuIGN9LHBsYXk6ZnVuY3Rpb24oYSl7LTE9PT10aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhKSYmdGhpcy5hbmltYXRpb25zLnB1c2goYSl9LHN0b3A6ZnVuY3Rpb24oYSl7YT10aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhKTstMSE9PWEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoYSwxKX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtiKyspdGhpcy5hbmltYXRpb25zW2JdLnJlc2V0QmxlbmRXZWlnaHRzKCk7XG5mb3IoYj0wO2I8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtiKyspdGhpcy5hbmltYXRpb25zW2JdLnVwZGF0ZShhKX19O1RIUkVFLkFuaW1hdGlvbj1mdW5jdGlvbihhLGIpe3RoaXMucm9vdD1hO3RoaXMuZGF0YT1USFJFRS5BbmltYXRpb25IYW5kbGVyLmluaXQoYik7dGhpcy5oaWVyYXJjaHk9VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5wYXJzZShhKTt0aGlzLmN1cnJlbnRUaW1lPTA7dGhpcy50aW1lU2NhbGU9MTt0aGlzLmlzUGxheWluZz0hMTt0aGlzLmxvb3A9ITA7dGhpcy53ZWlnaHQ9MDt0aGlzLmludGVycG9sYXRpb25UeXBlPVRIUkVFLkFuaW1hdGlvbkhhbmRsZXIuTElORUFSfTtcblRIUkVFLkFuaW1hdGlvbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLkFuaW1hdGlvbixrZXlUeXBlczpbXCJwb3NcIixcInJvdFwiLFwic2NsXCJdLHBsYXk6ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRUaW1lPXZvaWQgMCE9PWE/YTowO3RoaXMud2VpZ2h0PXZvaWQgMCE9PWI/YjoxO3RoaXMuaXNQbGF5aW5nPSEwO3RoaXMucmVzZXQoKTtUSFJFRS5BbmltYXRpb25IYW5kbGVyLnBsYXkodGhpcyl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMTtUSFJFRS5BbmltYXRpb25IYW5kbGVyLnN0b3AodGhpcyl9LHJlc2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmhpZXJhcmNoeS5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5oaWVyYXJjaHlbYV07dm9pZCAwPT09Yy5hbmltYXRpb25DYWNoZSYmKGMuYW5pbWF0aW9uQ2FjaGU9e2FuaW1hdGlvbnM6e30sYmxlbmRpbmc6e3Bvc2l0aW9uV2VpZ2h0OjAscXVhdGVybmlvbldlaWdodDowLHNjYWxlV2VpZ2h0OjB9fSk7XG52YXIgZD10aGlzLmRhdGEubmFtZSxlPWMuYW5pbWF0aW9uQ2FjaGUuYW5pbWF0aW9ucyxmPWVbZF07dm9pZCAwPT09ZiYmKGY9e3ByZXZLZXk6e3BvczowLHJvdDowLHNjbDowfSxuZXh0S2V5Ontwb3M6MCxyb3Q6MCxzY2w6MH0sb3JpZ2luYWxNYXRyaXg6Yy5tYXRyaXh9LGVbZF09Zik7Zm9yKGM9MDszPmM7YysrKXtmb3IodmFyIGQ9dGhpcy5rZXlUeXBlc1tjXSxlPXRoaXMuZGF0YS5oaWVyYXJjaHlbYV0ua2V5c1swXSxnPXRoaXMuZ2V0TmV4dEtleVdpdGgoZCxhLDEpO2cudGltZTx0aGlzLmN1cnJlbnRUaW1lJiZnLmluZGV4PmUuaW5kZXg7KWU9ZyxnPXRoaXMuZ2V0TmV4dEtleVdpdGgoZCxhLGcuaW5kZXgrMSk7Zi5wcmV2S2V5W2RdPWU7Zi5uZXh0S2V5W2RdPWd9fX0scmVzZXRCbGVuZFdlaWdodHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMuaGllcmFyY2h5Lmxlbmd0aDthPGI7YSsrKXt2YXIgYz10aGlzLmhpZXJhcmNoeVthXS5hbmltYXRpb25DYWNoZTt2b2lkIDAhPT1cbmMmJihjPWMuYmxlbmRpbmcsYy5wb3NpdGlvbldlaWdodD0wLGMucXVhdGVybmlvbldlaWdodD0wLGMuc2NhbGVXZWlnaHQ9MCl9fSx1cGRhdGU6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPW5ldyBUSFJFRS5WZWN0b3IzLGM9bmV3IFRIUkVFLlZlY3RvcjMsZD1uZXcgVEhSRUUuUXVhdGVybmlvbixlPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1bXSxlLHEsbix0LHIscztlPShhLmxlbmd0aC0xKSpiO3E9TWF0aC5mbG9vcihlKTtlLT1xO2NbMF09MD09PXE/cTpxLTE7Y1sxXT1xO2NbMl09cT5hLmxlbmd0aC0yP3E6cSsxO2NbM109cT5hLmxlbmd0aC0zP3E6cSsyO3E9YVtjWzBdXTt0PWFbY1sxXV07cj1hW2NbMl1dO3M9YVtjWzNdXTtjPWUqZTtuPWUqYztkWzBdPWYocVswXSx0WzBdLHJbMF0sc1swXSxlLGMsbik7ZFsxXT1mKHFbMV0sdFsxXSxyWzFdLHNbMV0sZSxjLG4pO2RbMl09ZihxWzJdLHRbMl0sclsyXSxzWzJdLGUsYyxuKTtyZXR1cm4gZH0sZj1mdW5jdGlvbihhLGIsYyxkLFxuZSxmLG4pe2E9LjUqKGMtYSk7ZD0uNSooZC1iKTtyZXR1cm4oMiooYi1jKSthK2QpKm4rKC0zKihiLWMpLTIqYS1kKSpmK2EqZStifTtyZXR1cm4gZnVuY3Rpb24oZil7aWYoITEhPT10aGlzLmlzUGxheWluZyYmKHRoaXMuY3VycmVudFRpbWUrPWYqdGhpcy50aW1lU2NhbGUsMCE9PXRoaXMud2VpZ2h0KSl7Zj10aGlzLmRhdGEubGVuZ3RoO2lmKHRoaXMuY3VycmVudFRpbWU+Znx8MD50aGlzLmN1cnJlbnRUaW1lKXRoaXMubG9vcD8odGhpcy5jdXJyZW50VGltZSU9ZiwwPnRoaXMuY3VycmVudFRpbWUmJih0aGlzLmN1cnJlbnRUaW1lKz1mKSx0aGlzLnJlc2V0KCkpOnRoaXMuc3RvcCgpO2Y9MDtmb3IodmFyIGg9dGhpcy5oaWVyYXJjaHkubGVuZ3RoO2Y8aDtmKyspZm9yKHZhciBrPXRoaXMuaGllcmFyY2h5W2ZdLGw9ay5hbmltYXRpb25DYWNoZS5hbmltYXRpb25zW3RoaXMuZGF0YS5uYW1lXSxwPWsuYW5pbWF0aW9uQ2FjaGUuYmxlbmRpbmcscT0wOzM+cTtxKyspe3ZhciBuPXRoaXMua2V5VHlwZXNbcV0sXG50PWwucHJldktleVtuXSxyPWwubmV4dEtleVtuXTtpZigwPHRoaXMudGltZVNjYWxlJiZyLnRpbWU8PXRoaXMuY3VycmVudFRpbWV8fDA+dGhpcy50aW1lU2NhbGUmJnQudGltZT49dGhpcy5jdXJyZW50VGltZSl7dD10aGlzLmRhdGEuaGllcmFyY2h5W2ZdLmtleXNbMF07Zm9yKHI9dGhpcy5nZXROZXh0S2V5V2l0aChuLGYsMSk7ci50aW1lPHRoaXMuY3VycmVudFRpbWUmJnIuaW5kZXg+dC5pbmRleDspdD1yLHI9dGhpcy5nZXROZXh0S2V5V2l0aChuLGYsci5pbmRleCsxKTtsLnByZXZLZXlbbl09dDtsLm5leHRLZXlbbl09cn12YXIgcz0odGhpcy5jdXJyZW50VGltZS10LnRpbWUpLyhyLnRpbWUtdC50aW1lKSx1PXRbbl0sdj1yW25dOzA+cyYmKHM9MCk7MTxzJiYocz0xKTtpZihcInBvc1wiPT09bilpZih0aGlzLmludGVycG9sYXRpb25UeXBlPT09VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5MSU5FQVIpYy54PXVbMF0rKHZbMF0tdVswXSkqcyxjLnk9dVsxXSsodlsxXS11WzFdKSpzLFxuYy56PXVbMl0rKHZbMl0tdVsyXSkqcyx0PXRoaXMud2VpZ2h0Lyh0aGlzLndlaWdodCtwLnBvc2l0aW9uV2VpZ2h0KSxrLnBvc2l0aW9uLmxlcnAoYyx0KSxwLnBvc2l0aW9uV2VpZ2h0Kz10aGlzLndlaWdodDtlbHNle2lmKHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9PT1USFJFRS5BbmltYXRpb25IYW5kbGVyLkNBVE1VTExST018fHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9PT1USFJFRS5BbmltYXRpb25IYW5kbGVyLkNBVE1VTExST01fRk9SV0FSRClhWzBdPXRoaXMuZ2V0UHJldktleVdpdGgoXCJwb3NcIixmLHQuaW5kZXgtMSkucG9zLGFbMV09dSxhWzJdPXYsYVszXT10aGlzLmdldE5leHRLZXlXaXRoKFwicG9zXCIsZixyLmluZGV4KzEpLnBvcyxzPS4zMypzKy4zMyxyPWUoYSxzKSx0PXRoaXMud2VpZ2h0Lyh0aGlzLndlaWdodCtwLnBvc2l0aW9uV2VpZ2h0KSxwLnBvc2l0aW9uV2VpZ2h0Kz10aGlzLndlaWdodCxuPWsucG9zaXRpb24sbi54Kz0oclswXS1uLngpKnQsbi55Kz0oclsxXS1cbm4ueSkqdCxuLnorPShyWzJdLW4ueikqdCx0aGlzLmludGVycG9sYXRpb25UeXBlPT09VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5DQVRNVUxMUk9NX0ZPUldBUkQmJihzPWUoYSwxLjAxKnMpLGIuc2V0KHNbMF0sc1sxXSxzWzJdKSxiLnN1YihuKSxiLnk9MCxiLm5vcm1hbGl6ZSgpLHM9TWF0aC5hdGFuMihiLngsYi56KSxrLnJvdGF0aW9uLnNldCgwLHMsMCkpfWVsc2VcInJvdFwiPT09bj8oVEhSRUUuUXVhdGVybmlvbi5zbGVycCh1LHYsZCxzKSwwPT09cC5xdWF0ZXJuaW9uV2VpZ2h0PyhrLnF1YXRlcm5pb24uY29weShkKSxwLnF1YXRlcm5pb25XZWlnaHQ9dGhpcy53ZWlnaHQpOih0PXRoaXMud2VpZ2h0Lyh0aGlzLndlaWdodCtwLnF1YXRlcm5pb25XZWlnaHQpLFRIUkVFLlF1YXRlcm5pb24uc2xlcnAoay5xdWF0ZXJuaW9uLGQsay5xdWF0ZXJuaW9uLHQpLHAucXVhdGVybmlvbldlaWdodCs9dGhpcy53ZWlnaHQpKTpcInNjbFwiPT09biYmKGMueD11WzBdKyh2WzBdLXVbMF0pKnMsYy55PVxudVsxXSsodlsxXS11WzFdKSpzLGMuej11WzJdKyh2WzJdLXVbMl0pKnMsdD10aGlzLndlaWdodC8odGhpcy53ZWlnaHQrcC5zY2FsZVdlaWdodCksay5zY2FsZS5sZXJwKGMsdCkscC5zY2FsZVdlaWdodCs9dGhpcy53ZWlnaHQpfXJldHVybiEwfX19KCksZ2V0TmV4dEtleVdpdGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZGF0YS5oaWVyYXJjaHlbYl0ua2V5cztmb3IoYz10aGlzLmludGVycG9sYXRpb25UeXBlPT09VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5DQVRNVUxMUk9NfHx0aGlzLmludGVycG9sYXRpb25UeXBlPT09VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5DQVRNVUxMUk9NX0ZPUldBUkQ/YzxkLmxlbmd0aC0xP2M6ZC5sZW5ndGgtMTpjJWQubGVuZ3RoO2M8ZC5sZW5ndGg7YysrKWlmKHZvaWQgMCE9PWRbY11bYV0pcmV0dXJuIGRbY107cmV0dXJuIHRoaXMuZGF0YS5oaWVyYXJjaHlbYl0ua2V5c1swXX0sZ2V0UHJldktleVdpdGg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVxudGhpcy5kYXRhLmhpZXJhcmNoeVtiXS5rZXlzO2ZvcihjPXRoaXMuaW50ZXJwb2xhdGlvblR5cGU9PT1USFJFRS5BbmltYXRpb25IYW5kbGVyLkNBVE1VTExST018fHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9PT1USFJFRS5BbmltYXRpb25IYW5kbGVyLkNBVE1VTExST01fRk9SV0FSRD8wPGM/YzowOjA8PWM/YzpjK2QubGVuZ3RoOzA8PWM7Yy0tKWlmKHZvaWQgMCE9PWRbY11bYV0pcmV0dXJuIGRbY107cmV0dXJuIHRoaXMuZGF0YS5oaWVyYXJjaHlbYl0ua2V5c1tkLmxlbmd0aC0xXX19O1xuVEhSRUUuS2V5RnJhbWVBbmltYXRpb249ZnVuY3Rpb24oYSl7dGhpcy5yb290PWEubm9kZTt0aGlzLmRhdGE9VEhSRUUuQW5pbWF0aW9uSGFuZGxlci5pbml0KGEpO3RoaXMuaGllcmFyY2h5PVRIUkVFLkFuaW1hdGlvbkhhbmRsZXIucGFyc2UodGhpcy5yb290KTt0aGlzLmN1cnJlbnRUaW1lPTA7dGhpcy50aW1lU2NhbGU9LjAwMTt0aGlzLmlzUGxheWluZz0hMTt0aGlzLmxvb3A9dGhpcy5pc1BhdXNlZD0hMDthPTA7Zm9yKHZhciBiPXRoaXMuaGllcmFyY2h5Lmxlbmd0aDthPGI7YSsrKXt2YXIgYz10aGlzLmRhdGEuaGllcmFyY2h5W2FdLnNpZHMsZD10aGlzLmhpZXJhcmNoeVthXTtpZih0aGlzLmRhdGEuaGllcmFyY2h5W2FdLmtleXMubGVuZ3RoJiZjKXtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXSxnPXRoaXMuZ2V0TmV4dEtleVdpdGgoZixhLDApO2cmJmcuYXBwbHkoZil9ZC5tYXRyaXhBdXRvVXBkYXRlPSExO3RoaXMuZGF0YS5oaWVyYXJjaHlbYV0ubm9kZS51cGRhdGVNYXRyaXgoKTtcbmQubWF0cml4V29ybGROZWVkc1VwZGF0ZT0hMH19fTtcblRIUkVFLktleUZyYW1lQW5pbWF0aW9uLnByb3RvdHlwZT17Y29uc3RydWN0b3I6VEhSRUUuS2V5RnJhbWVBbmltYXRpb24scGxheTpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnRUaW1lPXZvaWQgMCE9PWE/YTowO2lmKCExPT09dGhpcy5pc1BsYXlpbmcpe3RoaXMuaXNQbGF5aW5nPSEwO3ZhciBiPXRoaXMuaGllcmFyY2h5Lmxlbmd0aCxjLGQ7Zm9yKGE9MDthPGI7YSsrKWM9dGhpcy5oaWVyYXJjaHlbYV0sZD10aGlzLmRhdGEuaGllcmFyY2h5W2FdLHZvaWQgMD09PWQuYW5pbWF0aW9uQ2FjaGUmJihkLmFuaW1hdGlvbkNhY2hlPXt9LGQuYW5pbWF0aW9uQ2FjaGUucHJldktleT1udWxsLGQuYW5pbWF0aW9uQ2FjaGUubmV4dEtleT1udWxsLGQuYW5pbWF0aW9uQ2FjaGUub3JpZ2luYWxNYXRyaXg9Yy5tYXRyaXgpLGM9dGhpcy5kYXRhLmhpZXJhcmNoeVthXS5rZXlzLGMubGVuZ3RoJiYoZC5hbmltYXRpb25DYWNoZS5wcmV2S2V5PWNbMF0sZC5hbmltYXRpb25DYWNoZS5uZXh0S2V5PVxuY1sxXSx0aGlzLnN0YXJ0VGltZT1NYXRoLm1pbihjWzBdLnRpbWUsdGhpcy5zdGFydFRpbWUpLHRoaXMuZW5kVGltZT1NYXRoLm1heChjW2MubGVuZ3RoLTFdLnRpbWUsdGhpcy5lbmRUaW1lKSk7dGhpcy51cGRhdGUoMCl9dGhpcy5pc1BhdXNlZD0hMTtUSFJFRS5BbmltYXRpb25IYW5kbGVyLnBsYXkodGhpcyl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmlzUGF1c2VkPXRoaXMuaXNQbGF5aW5nPSExO1RIUkVFLkFuaW1hdGlvbkhhbmRsZXIuc3RvcCh0aGlzKTtmb3IodmFyIGE9MDthPHRoaXMuZGF0YS5oaWVyYXJjaHkubGVuZ3RoO2ErKyl7dmFyIGI9dGhpcy5oaWVyYXJjaHlbYV0sYz10aGlzLmRhdGEuaGllcmFyY2h5W2FdO2lmKHZvaWQgMCE9PWMuYW5pbWF0aW9uQ2FjaGUpe3ZhciBkPWMuYW5pbWF0aW9uQ2FjaGUub3JpZ2luYWxNYXRyaXg7ZC5jb3B5KGIubWF0cml4KTtiLm1hdHJpeD1kO2RlbGV0ZSBjLmFuaW1hdGlvbkNhY2hlfX19LHVwZGF0ZTpmdW5jdGlvbihhKXtpZighMSE9PVxudGhpcy5pc1BsYXlpbmcpe3RoaXMuY3VycmVudFRpbWUrPWEqdGhpcy50aW1lU2NhbGU7YT10aGlzLmRhdGEubGVuZ3RoOyEwPT09dGhpcy5sb29wJiZ0aGlzLmN1cnJlbnRUaW1lPmEmJih0aGlzLmN1cnJlbnRUaW1lJT1hKTt0aGlzLmN1cnJlbnRUaW1lPU1hdGgubWluKHRoaXMuY3VycmVudFRpbWUsYSk7YT0wO2Zvcih2YXIgYj10aGlzLmhpZXJhcmNoeS5sZW5ndGg7YTxiO2ErKyl7dmFyIGM9dGhpcy5oaWVyYXJjaHlbYV0sZD10aGlzLmRhdGEuaGllcmFyY2h5W2FdLGU9ZC5rZXlzLGQ9ZC5hbmltYXRpb25DYWNoZTtpZihlLmxlbmd0aCl7dmFyIGY9ZC5wcmV2S2V5LGc9ZC5uZXh0S2V5O2lmKGcudGltZTw9dGhpcy5jdXJyZW50VGltZSl7Zm9yKDtnLnRpbWU8dGhpcy5jdXJyZW50VGltZSYmZy5pbmRleD5mLmluZGV4OylmPWcsZz1lW2YuaW5kZXgrMV07ZC5wcmV2S2V5PWY7ZC5uZXh0S2V5PWd9Zy50aW1lPj10aGlzLmN1cnJlbnRUaW1lP2YuaW50ZXJwb2xhdGUoZyx0aGlzLmN1cnJlbnRUaW1lKTpcbmYuaW50ZXJwb2xhdGUoZyxnLnRpbWUpO3RoaXMuZGF0YS5oaWVyYXJjaHlbYV0ubm9kZS51cGRhdGVNYXRyaXgoKTtjLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU9ITB9fX19LGdldE5leHRLZXlXaXRoOmZ1bmN0aW9uKGEsYixjKXtiPXRoaXMuZGF0YS5oaWVyYXJjaHlbYl0ua2V5cztmb3IoYyU9Yi5sZW5ndGg7YzxiLmxlbmd0aDtjKyspaWYoYltjXS5oYXNUYXJnZXQoYSkpcmV0dXJuIGJbY107cmV0dXJuIGJbMF19LGdldFByZXZLZXlXaXRoOmZ1bmN0aW9uKGEsYixjKXtiPXRoaXMuZGF0YS5oaWVyYXJjaHlbYl0ua2V5cztmb3IoYz0wPD1jP2M6YytiLmxlbmd0aDswPD1jO2MtLSlpZihiW2NdLmhhc1RhcmdldChhKSlyZXR1cm4gYltjXTtyZXR1cm4gYltiLmxlbmd0aC0xXX19O1xuVEhSRUUuTW9ycGhBbmltYXRpb249ZnVuY3Rpb24oYSl7dGhpcy5tZXNoPWE7dGhpcy5mcmFtZXM9YS5tb3JwaFRhcmdldEluZmx1ZW5jZXMubGVuZ3RoO3RoaXMuY3VycmVudFRpbWU9MDt0aGlzLmR1cmF0aW9uPTFFMzt0aGlzLmxvb3A9ITA7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy5sYXN0RnJhbWU9MDt0aGlzLmlzUGxheWluZz0hMX07XG5USFJFRS5Nb3JwaEFuaW1hdGlvbi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlRIUkVFLk1vcnBoQW5pbWF0aW9uLHBsYXk6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMH0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCExIT09dGhpcy5pc1BsYXlpbmcpe3RoaXMuY3VycmVudFRpbWUrPWE7ITA9PT10aGlzLmxvb3AmJnRoaXMuY3VycmVudFRpbWU+dGhpcy5kdXJhdGlvbiYmKHRoaXMuY3VycmVudFRpbWUlPXRoaXMuZHVyYXRpb24pO3RoaXMuY3VycmVudFRpbWU9TWF0aC5taW4odGhpcy5jdXJyZW50VGltZSx0aGlzLmR1cmF0aW9uKTthPXRoaXMuZHVyYXRpb24vdGhpcy5mcmFtZXM7dmFyIGI9TWF0aC5mbG9vcih0aGlzLmN1cnJlbnRUaW1lL2EpLGM9dGhpcy5tZXNoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcztiIT10aGlzLmN1cnJlbnRGcmFtZSYmKGNbdGhpcy5sYXN0RnJhbWVdPTAsY1t0aGlzLmN1cnJlbnRGcmFtZV09XG4xLGNbYl09MCx0aGlzLmxhc3RGcmFtZT10aGlzLmN1cnJlbnRGcmFtZSx0aGlzLmN1cnJlbnRGcmFtZT1iKTtjW2JdPXRoaXMuY3VycmVudFRpbWUlYS9hO2NbdGhpcy5sYXN0RnJhbWVdPTEtY1tiXX19fTtcblRIUkVFLkJveEdlb21ldHJ5PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmdW5jdGlvbiBnKGEsYixjLGQsZSxmLGcscyl7dmFyIHUsdj1oLndpZHRoU2VnbWVudHMseD1oLmhlaWdodFNlZ21lbnRzLEQ9ZS8yLHc9Zi8yLHk9aC52ZXJ0aWNlcy5sZW5ndGg7aWYoXCJ4XCI9PT1hJiZcInlcIj09PWJ8fFwieVwiPT09YSYmXCJ4XCI9PT1iKXU9XCJ6XCI7ZWxzZSBpZihcInhcIj09PWEmJlwielwiPT09Ynx8XCJ6XCI9PT1hJiZcInhcIj09PWIpdT1cInlcIix4PWguZGVwdGhTZWdtZW50cztlbHNlIGlmKFwielwiPT09YSYmXCJ5XCI9PT1ifHxcInlcIj09PWEmJlwielwiPT09Yil1PVwieFwiLHY9aC5kZXB0aFNlZ21lbnRzO3ZhciBBPXYrMSxFPXgrMSxHPWUvdixGPWYveCx6PW5ldyBUSFJFRS5WZWN0b3IzO3pbdV09MDxnPzE6LTE7Zm9yKGU9MDtlPEU7ZSsrKWZvcihmPTA7ZjxBO2YrKyl7dmFyIEk9bmV3IFRIUkVFLlZlY3RvcjM7SVthXT0oZipHLUQpKmM7SVtiXT0oZSpGLXcpKmQ7SVt1XT1nO2gudmVydGljZXMucHVzaChJKX1mb3IoZT1cbjA7ZTx4O2UrKylmb3IoZj0wO2Y8djtmKyspdz1mK0EqZSxhPWYrQSooZSsxKSxiPWYrMStBKihlKzEpLGM9ZisxK0EqZSxkPW5ldyBUSFJFRS5WZWN0b3IyKGYvdiwxLWUveCksZz1uZXcgVEhSRUUuVmVjdG9yMihmL3YsMS0oZSsxKS94KSx1PW5ldyBUSFJFRS5WZWN0b3IyKChmKzEpL3YsMS0oZSsxKS94KSxEPW5ldyBUSFJFRS5WZWN0b3IyKChmKzEpL3YsMS1lL3gpLHc9bmV3IFRIUkVFLkZhY2UzKHcreSxhK3ksYyt5KSx3Lm5vcm1hbC5jb3B5KHopLHcudmVydGV4Tm9ybWFscy5wdXNoKHouY2xvbmUoKSx6LmNsb25lKCksei5jbG9uZSgpKSx3Lm1hdGVyaWFsSW5kZXg9cyxoLmZhY2VzLnB1c2godyksaC5mYWNlVmVydGV4VXZzWzBdLnB1c2goW2QsZyxEXSksdz1uZXcgVEhSRUUuRmFjZTMoYSt5LGIreSxjK3kpLHcubm9ybWFsLmNvcHkoeiksdy52ZXJ0ZXhOb3JtYWxzLnB1c2goei5jbG9uZSgpLHouY2xvbmUoKSx6LmNsb25lKCkpLHcubWF0ZXJpYWxJbmRleD1zLGguZmFjZXMucHVzaCh3KSxcbmguZmFjZVZlcnRleFV2c1swXS5wdXNoKFtnLmNsb25lKCksdSxELmNsb25lKCldKX1USFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkJveEdlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXt3aWR0aDphLGhlaWdodDpiLGRlcHRoOmMsd2lkdGhTZWdtZW50czpkLGhlaWdodFNlZ21lbnRzOmUsZGVwdGhTZWdtZW50czpmfTt0aGlzLndpZHRoU2VnbWVudHM9ZHx8MTt0aGlzLmhlaWdodFNlZ21lbnRzPWV8fDE7dGhpcy5kZXB0aFNlZ21lbnRzPWZ8fDE7dmFyIGg9dGhpcztkPWEvMjtlPWIvMjtmPWMvMjtnKFwielwiLFwieVwiLC0xLC0xLGMsYixkLDApO2coXCJ6XCIsXCJ5XCIsMSwtMSxjLGIsLWQsMSk7ZyhcInhcIixcInpcIiwxLDEsYSxjLGUsMik7ZyhcInhcIixcInpcIiwxLC0xLGEsYywtZSwzKTtnKFwieFwiLFwieVwiLDEsLTEsYSxiLGYsNCk7ZyhcInhcIixcInlcIiwtMSwtMSxhLGIsLWYsNSk7dGhpcy5tZXJnZVZlcnRpY2VzKCl9O1RIUkVFLkJveEdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7XG5USFJFRS5Cb3hHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQm94R2VvbWV0cnk7XG5USFJFRS5DaXJjbGVHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyxkKXtUSFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIkNpcmNsZUdlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6YSxzZWdtZW50czpiLHRoZXRhU3RhcnQ6Yyx0aGV0YUxlbmd0aDpkfTthPWF8fDUwO2I9dm9pZCAwIT09Yj9NYXRoLm1heCgzLGIpOjg7Yz12b2lkIDAhPT1jP2M6MDtkPXZvaWQgMCE9PWQ/ZDoyKk1hdGguUEk7dmFyIGUsZj1bXTtlPW5ldyBUSFJFRS5WZWN0b3IzO3ZhciBnPW5ldyBUSFJFRS5WZWN0b3IyKC41LC41KTt0aGlzLnZlcnRpY2VzLnB1c2goZSk7Zi5wdXNoKGcpO2ZvcihlPTA7ZTw9YjtlKyspe3ZhciBoPW5ldyBUSFJFRS5WZWN0b3IzLGs9YytlL2IqZDtoLng9YSpNYXRoLmNvcyhrKTtoLnk9YSpNYXRoLnNpbihrKTt0aGlzLnZlcnRpY2VzLnB1c2goaCk7Zi5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKChoLngvYSsxKS8yLChoLnkvYSsxKS8yKSl9Yz1uZXcgVEhSRUUuVmVjdG9yMygwLFxuMCwxKTtmb3IoZT0xO2U8PWI7ZSsrKXRoaXMuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoZSxlKzEsMCxbYy5jbG9uZSgpLGMuY2xvbmUoKSxjLmNsb25lKCldKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW2ZbZV0uY2xvbmUoKSxmW2UrMV0uY2xvbmUoKSxnLmNsb25lKCldKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO3RoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZShuZXcgVEhSRUUuVmVjdG9yMyxhKX07VEhSRUUuQ2lyY2xlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5DaXJjbGVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQ2lyY2xlR2VvbWV0cnk7XG5USFJFRS5DdWJlR2VvbWV0cnk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe1RIUkVFLndhcm4oXCJUSFJFRS5DdWJlR2VvbWV0cnkgaGFzIGJlZW4gcmVuYW1lZCB0byBUSFJFRS5Cb3hHZW9tZXRyeS5cIik7cmV0dXJuIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShhLGIsYyxkLGUsZil9O1xuVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe1RIUkVFLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiQ3lsaW5kZXJHZW9tZXRyeVwiO3RoaXMucGFyYW1ldGVycz17cmFkaXVzVG9wOmEscmFkaXVzQm90dG9tOmIsaGVpZ2h0OmMscmFkaWFsU2VnbWVudHM6ZCxoZWlnaHRTZWdtZW50czplLG9wZW5FbmRlZDpmLHRoZXRhU3RhcnQ6Zyx0aGV0YUxlbmd0aDpofTthPXZvaWQgMCE9PWE/YToyMDtiPXZvaWQgMCE9PWI/YjoyMDtjPXZvaWQgMCE9PWM/YzoxMDA7ZD1kfHw4O2U9ZXx8MTtmPXZvaWQgMCE9PWY/ZjohMTtnPXZvaWQgMCE9PWc/ZzowO2g9dm9pZCAwIT09aD9oOjIqTWF0aC5QSTt2YXIgaz1jLzIsbCxwLHE9W10sbj1bXTtmb3IocD0wO3A8PWU7cCsrKXt2YXIgdD1bXSxyPVtdLHM9cC9lLHU9cyooYi1hKSthO2ZvcihsPTA7bDw9ZDtsKyspe3ZhciB2PWwvZCx4PW5ldyBUSFJFRS5WZWN0b3IzO3gueD11Kk1hdGguc2luKHYqaCtcbmcpO3gueT0tcypjK2s7eC56PXUqTWF0aC5jb3ModipoK2cpO3RoaXMudmVydGljZXMucHVzaCh4KTt0LnB1c2godGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSk7ci5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKHYsMS1zKSl9cS5wdXNoKHQpO24ucHVzaChyKX1jPShiLWEpL2M7Zm9yKGw9MDtsPGQ7bCsrKWZvcigwIT09YT8oZz10aGlzLnZlcnRpY2VzW3FbMF1bbF1dLmNsb25lKCksaD10aGlzLnZlcnRpY2VzW3FbMF1bbCsxXV0uY2xvbmUoKSk6KGc9dGhpcy52ZXJ0aWNlc1txWzFdW2xdXS5jbG9uZSgpLGg9dGhpcy52ZXJ0aWNlc1txWzFdW2wrMV1dLmNsb25lKCkpLGcuc2V0WShNYXRoLnNxcnQoZy54KmcueCtnLnoqZy56KSpjKS5ub3JtYWxpemUoKSxoLnNldFkoTWF0aC5zcXJ0KGgueCpoLngraC56KmgueikqYykubm9ybWFsaXplKCkscD0wO3A8ZTtwKyspe3ZhciB0PXFbcF1bbF0scj1xW3ArMV1bbF0scz1xW3ArMV1bbCsxXSx1PXFbcF1bbCsxXSx2PWcuY2xvbmUoKSx4PWcuY2xvbmUoKSxcbkQ9aC5jbG9uZSgpLHc9aC5jbG9uZSgpLHk9bltwXVtsXS5jbG9uZSgpLEE9bltwKzFdW2xdLmNsb25lKCksRT1uW3ArMV1bbCsxXS5jbG9uZSgpLEc9bltwXVtsKzFdLmNsb25lKCk7dGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh0LHIsdSxbdix4LHddKSk7dGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3ksQSxHXSk7dGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhyLHMsdSxbeC5jbG9uZSgpLEQsdy5jbG9uZSgpXSkpO3RoaXMuZmFjZVZlcnRleFV2c1swXS5wdXNoKFtBLmNsb25lKCksRSxHLmNsb25lKCldKX1pZighMT09PWYmJjA8YSlmb3IodGhpcy52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKDAsaywwKSksbD0wO2w8ZDtsKyspdD1xWzBdW2xdLHI9cVswXVtsKzFdLHM9dGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSx2PW5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSx4PW5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSxEPW5ldyBUSFJFRS5WZWN0b3IzKDAsXG4xLDApLHk9blswXVtsXS5jbG9uZSgpLEE9blswXVtsKzFdLmNsb25lKCksRT1uZXcgVEhSRUUuVmVjdG9yMihBLngsMCksdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh0LHIscyxbdix4LERdKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3ksQSxFXSk7aWYoITE9PT1mJiYwPGIpZm9yKHRoaXMudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMygwLC1rLDApKSxsPTA7bDxkO2wrKyl0PXFbZV1bbCsxXSxyPXFbZV1bbF0scz10aGlzLnZlcnRpY2VzLmxlbmd0aC0xLHY9bmV3IFRIUkVFLlZlY3RvcjMoMCwtMSwwKSx4PW5ldyBUSFJFRS5WZWN0b3IzKDAsLTEsMCksRD1uZXcgVEhSRUUuVmVjdG9yMygwLC0xLDApLHk9bltlXVtsKzFdLmNsb25lKCksQT1uW2VdW2xdLmNsb25lKCksRT1uZXcgVEhSRUUuVmVjdG9yMihBLngsMSksdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyh0LHIscyxbdix4LERdKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3ksXG5BLEVdKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpfTtUSFJFRS5DeWxpbmRlckdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7VEhSRUUuQ3lsaW5kZXJHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQ3lsaW5kZXJHZW9tZXRyeTtUSFJFRS5FeHRydWRlR2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEmJihUSFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpLHRoaXMudHlwZT1cIkV4dHJ1ZGVHZW9tZXRyeVwiLGE9YSBpbnN0YW5jZW9mIEFycmF5P2E6W2FdLHRoaXMuYWRkU2hhcGVMaXN0KGEsYiksdGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKSl9O1RIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5HZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuRXh0cnVkZUdlb21ldHJ5O1xuVEhSRUUuRXh0cnVkZUdlb21ldHJ5LnByb3RvdHlwZS5hZGRTaGFwZUxpc3Q9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5sZW5ndGgsZD0wO2Q8YztkKyspdGhpcy5hZGRTaGFwZShhW2RdLGIpfTtcblRIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUuYWRkU2hhcGU9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixjKXtifHxUSFJFRS5lcnJvcihcIlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeTogdmVjIGRvZXMgbm90IGV4aXN0XCIpO3JldHVybiBiLmNsb25lKCkubXVsdGlwbHlTY2FsYXIoYykuYWRkKGEpfWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkPTEsZD1hLngtYi54LGU9YS55LWIueSxmPWMueC1hLngsZz1jLnktYS55LGg9ZCpkK2UqZTtpZigxRS0xMDxNYXRoLmFicyhkKmctZSpmKSl7dmFyIGs9TWF0aC5zcXJ0KGgpLGw9TWF0aC5zcXJ0KGYqZitnKmcpLGg9Yi54LWUvaztiPWIueStkL2s7Zj0oKGMueC1nL2wtaCkqZy0oYy55K2YvbC1iKSpmKS8oZCpnLWUqZik7Yz1oK2QqZi1hLng7YT1iK2UqZi1hLnk7ZD1jKmMrYSphO2lmKDI+PWQpcmV0dXJuIG5ldyBUSFJFRS5WZWN0b3IyKGMsYSk7ZD1NYXRoLnNxcnQoZC8yKX1lbHNlIGE9ITEsMUUtMTA8ZD8xRS0xMDxmJiYoYT0hMCk6XG4tMUUtMTA+ZD8tMUUtMTA+ZiYmKGE9ITApOk1hdGguc2lnbihlKT09TWF0aC5zaWduKGcpJiYoYT0hMCksYT8oYz0tZSxhPWQsZD1NYXRoLnNxcnQoaCkpOihjPWQsYT1lLGQ9TWF0aC5zcXJ0KGgvMikpO3JldHVybiBuZXcgVEhSRUUuVmVjdG9yMihjL2QsYS9kKX1mdW5jdGlvbiBlKGEsYil7dmFyIGMsZDtmb3IoTz1hLmxlbmd0aDswPD0tLU87KXtjPU87ZD1PLTE7MD5kJiYoZD1hLmxlbmd0aC0xKTtmb3IodmFyIGU9MCxmPXQrMipwLGU9MDtlPGY7ZSsrKXt2YXIgZz1vYSplLGg9b2EqKGUrMSksaz1iK2MrZyxnPWIrZCtnLGw9YitkK2gsaD1iK2MraCxrPWsrVSxnPWcrVSxsPWwrVSxoPWgrVTtJLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGssZyxoLG51bGwsbnVsbCx4KSk7SS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhnLGwsaCxudWxsLG51bGwseCkpO2s9RC5nZW5lcmF0ZVNpZGVXYWxsVVYoSSxrLGcsbCxoKTtJLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChba1swXSxcbmtbMV0sa1szXV0pO0kuZmFjZVZlcnRleFV2c1swXS5wdXNoKFtrWzFdLGtbMl0sa1szXV0pfX19ZnVuY3Rpb24gZihhLGIsYyl7SS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKGEsYixjKSl9ZnVuY3Rpb24gZyhhLGIsYyl7YSs9VTtiKz1VO2MrPVU7SS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhhLGIsYyxudWxsLG51bGwsdikpO2E9RC5nZW5lcmF0ZVRvcFVWKEksYSxiLGMpO0kuZmFjZVZlcnRleFV2c1swXS5wdXNoKGEpfXZhciBoPXZvaWQgMCE9PWIuYW1vdW50P2IuYW1vdW50OjEwMCxrPXZvaWQgMCE9PWIuYmV2ZWxUaGlja25lc3M/Yi5iZXZlbFRoaWNrbmVzczo2LGw9dm9pZCAwIT09Yi5iZXZlbFNpemU/Yi5iZXZlbFNpemU6ay0yLHA9dm9pZCAwIT09Yi5iZXZlbFNlZ21lbnRzP2IuYmV2ZWxTZWdtZW50czozLHE9dm9pZCAwIT09Yi5iZXZlbEVuYWJsZWQ/Yi5iZXZlbEVuYWJsZWQ6ITAsbj12b2lkIDAhPT1iLmN1cnZlU2VnbWVudHM/Yi5jdXJ2ZVNlZ21lbnRzOlxuMTIsdD12b2lkIDAhPT1iLnN0ZXBzP2Iuc3RlcHM6MSxyPWIuZXh0cnVkZVBhdGgscyx1PSExLHY9Yi5tYXRlcmlhbCx4PWIuZXh0cnVkZU1hdGVyaWFsLEQ9dm9pZCAwIT09Yi5VVkdlbmVyYXRvcj9iLlVWR2VuZXJhdG9yOlRIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5Xb3JsZFVWR2VuZXJhdG9yLHcseSxBLEU7ciYmKHM9ci5nZXRTcGFjZWRQb2ludHModCksdT0hMCxxPSExLHc9dm9pZCAwIT09Yi5mcmFtZXM/Yi5mcmFtZXM6bmV3IFRIUkVFLlR1YmVHZW9tZXRyeS5GcmVuZXRGcmFtZXMocix0LCExKSx5PW5ldyBUSFJFRS5WZWN0b3IzLEE9bmV3IFRIUkVFLlZlY3RvcjMsRT1uZXcgVEhSRUUuVmVjdG9yMyk7cXx8KGw9az1wPTApO3ZhciBHLEYseixJPXRoaXMsVT10aGlzLnZlcnRpY2VzLmxlbmd0aCxyPWEuZXh0cmFjdFBvaW50cyhuKSxuPXIuc2hhcGUsTT1yLmhvbGVzO2lmKHI9IVRIUkVFLlNoYXBlLlV0aWxzLmlzQ2xvY2tXaXNlKG4pKXtuPW4ucmV2ZXJzZSgpO0Y9MDtmb3Ioej1cbk0ubGVuZ3RoO0Y8ejtGKyspRz1NW0ZdLFRIUkVFLlNoYXBlLlV0aWxzLmlzQ2xvY2tXaXNlKEcpJiYoTVtGXT1HLnJldmVyc2UoKSk7cj0hMX12YXIgSD1USFJFRS5TaGFwZS5VdGlscy50cmlhbmd1bGF0ZVNoYXBlKG4sTSksTD1uO0Y9MDtmb3Ioej1NLmxlbmd0aDtGPHo7RisrKUc9TVtGXSxuPW4uY29uY2F0KEcpO3ZhciBQLE4sUixWLEosb2E9bi5sZW5ndGgsamEsaGE9SC5sZW5ndGgscj1bXSxPPTA7Uj1MLmxlbmd0aDtQPVItMTtmb3IoTj1PKzE7TzxSO08rKyxQKyssTisrKVA9PT1SJiYoUD0wKSxOPT09UiYmKE49MCkscltPXT1kKExbT10sTFtQXSxMW05dKTt2YXIgY2E9W10sYmEscWE9ci5jb25jYXQoKTtGPTA7Zm9yKHo9TS5sZW5ndGg7Rjx6O0YrKyl7Rz1NW0ZdO2JhPVtdO089MDtSPUcubGVuZ3RoO1A9Ui0xO2ZvcihOPU8rMTtPPFI7TysrLFArKyxOKyspUD09PVImJihQPTApLE49PT1SJiYoTj0wKSxiYVtPXT1kKEdbT10sR1tQXSxHW05dKTtjYS5wdXNoKGJhKTtxYT1cbnFhLmNvbmNhdChiYSl9Zm9yKFA9MDtQPHA7UCsrKXtSPVAvcDtWPWsqKDEtUik7Tj1sKk1hdGguc2luKFIqTWF0aC5QSS8yKTtPPTA7Zm9yKFI9TC5sZW5ndGg7TzxSO08rKylKPWMoTFtPXSxyW09dLE4pLGYoSi54LEoueSwtVik7Rj0wO2Zvcih6PU0ubGVuZ3RoO0Y8ejtGKyspZm9yKEc9TVtGXSxiYT1jYVtGXSxPPTAsUj1HLmxlbmd0aDtPPFI7TysrKUo9YyhHW09dLGJhW09dLE4pLGYoSi54LEoueSwtVil9Tj1sO2ZvcihPPTA7TzxvYTtPKyspSj1xP2MobltPXSxxYVtPXSxOKTpuW09dLHU/KEEuY29weSh3Lm5vcm1hbHNbMF0pLm11bHRpcGx5U2NhbGFyKEoueCkseS5jb3B5KHcuYmlub3JtYWxzWzBdKS5tdWx0aXBseVNjYWxhcihKLnkpLEUuY29weShzWzBdKS5hZGQoQSkuYWRkKHkpLGYoRS54LEUueSxFLnopKTpmKEoueCxKLnksMCk7Zm9yKFI9MTtSPD10O1IrKylmb3IoTz0wO088b2E7TysrKUo9cT9jKG5bT10scWFbT10sTik6bltPXSx1PyhBLmNvcHkody5ub3JtYWxzW1JdKS5tdWx0aXBseVNjYWxhcihKLngpLFxueS5jb3B5KHcuYmlub3JtYWxzW1JdKS5tdWx0aXBseVNjYWxhcihKLnkpLEUuY29weShzW1JdKS5hZGQoQSkuYWRkKHkpLGYoRS54LEUueSxFLnopKTpmKEoueCxKLnksaC90KlIpO2ZvcihQPXAtMTswPD1QO1AtLSl7Uj1QL3A7Vj1rKigxLVIpO049bCpNYXRoLnNpbihSKk1hdGguUEkvMik7Tz0wO2ZvcihSPUwubGVuZ3RoO088UjtPKyspSj1jKExbT10scltPXSxOKSxmKEoueCxKLnksaCtWKTtGPTA7Zm9yKHo9TS5sZW5ndGg7Rjx6O0YrKylmb3IoRz1NW0ZdLGJhPWNhW0ZdLE89MCxSPUcubGVuZ3RoO088UjtPKyspSj1jKEdbT10sYmFbT10sTiksdT9mKEoueCxKLnkrc1t0LTFdLnksc1t0LTFdLngrVik6ZihKLngsSi55LGgrVil9KGZ1bmN0aW9uKCl7aWYocSl7dmFyIGE7YT0wKm9hO2ZvcihPPTA7TzxoYTtPKyspamE9SFtPXSxnKGphWzJdK2EsamFbMV0rYSxqYVswXSthKTthPXQrMipwO2EqPW9hO2ZvcihPPTA7TzxoYTtPKyspamE9SFtPXSxnKGphWzBdK2EsamFbMV0rYSxqYVsyXStcbmEpfWVsc2V7Zm9yKE89MDtPPGhhO08rKylqYT1IW09dLGcoamFbMl0samFbMV0samFbMF0pO2ZvcihPPTA7TzxoYTtPKyspamE9SFtPXSxnKGphWzBdK29hKnQsamFbMV0rb2EqdCxqYVsyXStvYSp0KX19KSgpOyhmdW5jdGlvbigpe3ZhciBhPTA7ZShMLGEpO2ErPUwubGVuZ3RoO0Y9MDtmb3Ioej1NLmxlbmd0aDtGPHo7RisrKUc9TVtGXSxlKEcsYSksYSs9Ry5sZW5ndGh9KSgpfTtcblRIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5Xb3JsZFVWR2VuZXJhdG9yPXtnZW5lcmF0ZVRvcFVWOmZ1bmN0aW9uKGEsYixjLGQpe2E9YS52ZXJ0aWNlcztiPWFbYl07Yz1hW2NdO2Q9YVtkXTtyZXR1cm5bbmV3IFRIUkVFLlZlY3RvcjIoYi54LGIueSksbmV3IFRIUkVFLlZlY3RvcjIoYy54LGMueSksbmV3IFRIUkVFLlZlY3RvcjIoZC54LGQueSldfSxnZW5lcmF0ZVNpZGVXYWxsVVY6ZnVuY3Rpb24oYSxiLGMsZCxlKXthPWEudmVydGljZXM7Yj1hW2JdO2M9YVtjXTtkPWFbZF07ZT1hW2VdO3JldHVybi4wMT5NYXRoLmFicyhiLnktYy55KT9bbmV3IFRIUkVFLlZlY3RvcjIoYi54LDEtYi56KSxuZXcgVEhSRUUuVmVjdG9yMihjLngsMS1jLnopLG5ldyBUSFJFRS5WZWN0b3IyKGQueCwxLWQueiksbmV3IFRIUkVFLlZlY3RvcjIoZS54LDEtZS56KV06W25ldyBUSFJFRS5WZWN0b3IyKGIueSwxLWIueiksbmV3IFRIUkVFLlZlY3RvcjIoYy55LDEtYy56KSxuZXcgVEhSRUUuVmVjdG9yMihkLnksXG4xLWQueiksbmV3IFRIUkVFLlZlY3RvcjIoZS55LDEtZS56KV19fTtUSFJFRS5TaGFwZUdlb21ldHJ5PWZ1bmN0aW9uKGEsYil7VEhSRUUuR2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJTaGFwZUdlb21ldHJ5XCI7ITE9PT1hIGluc3RhbmNlb2YgQXJyYXkmJihhPVthXSk7dGhpcy5hZGRTaGFwZUxpc3QoYSxiKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpfTtUSFJFRS5TaGFwZUdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7VEhSRUUuU2hhcGVHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuU2hhcGVHZW9tZXRyeTtUSFJFRS5TaGFwZUdlb21ldHJ5LnByb3RvdHlwZS5hZGRTaGFwZUxpc3Q9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspdGhpcy5hZGRTaGFwZShhW2NdLGIpO3JldHVybiB0aGlzfTtcblRIUkVFLlNoYXBlR2VvbWV0cnkucHJvdG90eXBlLmFkZFNoYXBlPWZ1bmN0aW9uKGEsYil7dm9pZCAwPT09YiYmKGI9e30pO3ZhciBjPWIubWF0ZXJpYWwsZD12b2lkIDA9PT1iLlVWR2VuZXJhdG9yP1RIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5Xb3JsZFVWR2VuZXJhdG9yOmIuVVZHZW5lcmF0b3IsZSxmLGcsaD10aGlzLnZlcnRpY2VzLmxlbmd0aDtlPWEuZXh0cmFjdFBvaW50cyh2b2lkIDAhPT1iLmN1cnZlU2VnbWVudHM/Yi5jdXJ2ZVNlZ21lbnRzOjEyKTt2YXIgaz1lLnNoYXBlLGw9ZS5ob2xlcztpZighVEhSRUUuU2hhcGUuVXRpbHMuaXNDbG9ja1dpc2UoaykpZm9yKGs9ay5yZXZlcnNlKCksZT0wLGY9bC5sZW5ndGg7ZTxmO2UrKylnPWxbZV0sVEhSRUUuU2hhcGUuVXRpbHMuaXNDbG9ja1dpc2UoZykmJihsW2VdPWcucmV2ZXJzZSgpKTt2YXIgcD1USFJFRS5TaGFwZS5VdGlscy50cmlhbmd1bGF0ZVNoYXBlKGssbCk7ZT0wO2ZvcihmPWwubGVuZ3RoO2U8ZjtlKyspZz1sW2VdLFxuaz1rLmNvbmNhdChnKTtsPWsubGVuZ3RoO2Y9cC5sZW5ndGg7Zm9yKGU9MDtlPGw7ZSsrKWc9a1tlXSx0aGlzLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoZy54LGcueSwwKSk7Zm9yKGU9MDtlPGY7ZSsrKWw9cFtlXSxrPWxbMF0raCxnPWxbMV0raCxsPWxbMl0raCx0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGssZyxsLG51bGwsbnVsbCxjKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goZC5nZW5lcmF0ZVRvcFVWKHRoaXMsayxnLGwpKX07XG5USFJFRS5MYXRoZUdlb21ldHJ5PWZ1bmN0aW9uKGEsYixjLGQpe1RIUkVFLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiTGF0aGVHZW9tZXRyeVwiO3RoaXMucGFyYW1ldGVycz17cG9pbnRzOmEsc2VnbWVudHM6YixwaGlTdGFydDpjLHBoaUxlbmd0aDpkfTtiPWJ8fDEyO2M9Y3x8MDtkPWR8fDIqTWF0aC5QSTtmb3IodmFyIGU9MS8oYS5sZW5ndGgtMSksZj0xL2IsZz0wLGg9YjtnPD1oO2crKylmb3IodmFyIGs9YytnKmYqZCxsPU1hdGguY29zKGspLHA9TWF0aC5zaW4oayksaz0wLHE9YS5sZW5ndGg7azxxO2srKyl7dmFyIG49YVtrXSx0PW5ldyBUSFJFRS5WZWN0b3IzO3QueD1sKm4ueC1wKm4ueTt0Lnk9cCpuLngrbCpuLnk7dC56PW4uejt0aGlzLnZlcnRpY2VzLnB1c2godCl9Yz1hLmxlbmd0aDtnPTA7Zm9yKGg9YjtnPGg7ZysrKWZvcihrPTAscT1hLmxlbmd0aC0xO2s8cTtrKyspe2I9cD1rK2MqZztkPXArYzt2YXIgbD1wKzErYyxwPXArMSxuPWcqZix0PWsqZSxyPVxubitmLHM9dCtlO3RoaXMuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoYixkLHApKTt0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbbmV3IFRIUkVFLlZlY3RvcjIobix0KSxuZXcgVEhSRUUuVmVjdG9yMihyLHQpLG5ldyBUSFJFRS5WZWN0b3IyKG4scyldKTt0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGQsbCxwKSk7dGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW25ldyBUSFJFRS5WZWN0b3IyKHIsdCksbmV3IFRIUkVFLlZlY3RvcjIocixzKSxuZXcgVEhSRUUuVmVjdG9yMihuLHMpXSl9dGhpcy5tZXJnZVZlcnRpY2VzKCk7dGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTt0aGlzLmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCl9O1RIUkVFLkxhdGhlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5MYXRoZUdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5MYXRoZUdlb21ldHJ5O1xuVEhSRUUuUGxhbmVHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyxkKXtjb25zb2xlLmluZm8oXCJUSFJFRS5QbGFuZUdlb21ldHJ5OiBDb25zaWRlciB1c2luZyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5IGZvciBsb3dlciBtZW1vcnkgZm9vdHByaW50LlwiKTtUSFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIlBsYW5lR2VvbWV0cnlcIjt0aGlzLnBhcmFtZXRlcnM9e3dpZHRoOmEsaGVpZ2h0OmIsd2lkdGhTZWdtZW50czpjLGhlaWdodFNlZ21lbnRzOmR9O3RoaXMuZnJvbUJ1ZmZlckdlb21ldHJ5KG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KGEsYixjLGQpKX07VEhSRUUuUGxhbmVHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5HZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLlBsYW5lR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlBsYW5lR2VvbWV0cnk7XG5USFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5PWZ1bmN0aW9uKGEsYixjLGQpe1RIUkVFLkJ1ZmZlckdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiUGxhbmVCdWZmZXJHZW9tZXRyeVwiO3RoaXMucGFyYW1ldGVycz17d2lkdGg6YSxoZWlnaHQ6Yix3aWR0aFNlZ21lbnRzOmMsaGVpZ2h0U2VnbWVudHM6ZH07dmFyIGU9YS8yLGY9Yi8yO2M9Y3x8MTtkPWR8fDE7dmFyIGc9YysxLGg9ZCsxLGs9YS9jLGw9Yi9kO2I9bmV3IEZsb2F0MzJBcnJheShnKmgqMyk7YT1uZXcgRmxvYXQzMkFycmF5KGcqaCozKTtmb3IodmFyIHA9bmV3IEZsb2F0MzJBcnJheShnKmgqMikscT0wLG49MCx0PTA7dDxoO3QrKylmb3IodmFyIHI9dCpsLWYscz0wO3M8ZztzKyspYltxXT1zKmstZSxiW3ErMV09LXIsYVtxKzJdPTEscFtuXT1zL2MscFtuKzFdPTEtdC9kLHErPTMsbis9MjtxPTA7ZT1uZXcgKDY1NTM1PGIubGVuZ3RoLzM/VWludDMyQXJyYXk6VWludDE2QXJyYXkpKGMqZCo2KTtmb3IodD0wO3Q8ZDt0KyspZm9yKHM9XG4wO3M8YztzKyspZj1zK2cqKHQrMSksaD1zKzErZyoodCsxKSxrPXMrMStnKnQsZVtxXT1zK2cqdCxlW3ErMV09ZixlW3ErMl09ayxlW3ErM109ZixlW3ErNF09aCxlW3ErNV09ayxxKz02O3RoaXMuYWRkQXR0cmlidXRlKFwiaW5kZXhcIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGUsMSkpO3RoaXMuYWRkQXR0cmlidXRlKFwicG9zaXRpb25cIixuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKGIsMykpO3RoaXMuYWRkQXR0cmlidXRlKFwibm9ybWFsXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShhLDMpKTt0aGlzLmFkZEF0dHJpYnV0ZShcInV2XCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwLDIpKX07VEhSRUUuUGxhbmVCdWZmZXJHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5CdWZmZXJHZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnk7XG5USFJFRS5SaW5nR2VvbWV0cnk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe1RIUkVFLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiUmluZ0dlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXtpbm5lclJhZGl1czphLG91dGVyUmFkaXVzOmIsdGhldGFTZWdtZW50czpjLHBoaVNlZ21lbnRzOmQsdGhldGFTdGFydDplLHRoZXRhTGVuZ3RoOmZ9O2E9YXx8MDtiPWJ8fDUwO2U9dm9pZCAwIT09ZT9lOjA7Zj12b2lkIDAhPT1mP2Y6MipNYXRoLlBJO2M9dm9pZCAwIT09Yz9NYXRoLm1heCgzLGMpOjg7ZD12b2lkIDAhPT1kP01hdGgubWF4KDEsZCk6ODt2YXIgZyxoPVtdLGs9YSxsPShiLWEpL2Q7Zm9yKGE9MDthPGQrMTthKyspe2ZvcihnPTA7ZzxjKzE7ZysrKXt2YXIgcD1uZXcgVEhSRUUuVmVjdG9yMyxxPWUrZy9jKmY7cC54PWsqTWF0aC5jb3MocSk7cC55PWsqTWF0aC5zaW4ocSk7dGhpcy52ZXJ0aWNlcy5wdXNoKHApO2gucHVzaChuZXcgVEhSRUUuVmVjdG9yMigocC54L2IrMSkvMixcbihwLnkvYisxKS8yKSl9ays9bH1iPW5ldyBUSFJFRS5WZWN0b3IzKDAsMCwxKTtmb3IoYT0wO2E8ZDthKyspZm9yKGU9YSooYysxKSxnPTA7ZzxjO2crKylmPXE9ZytlLGw9cStjKzEscD1xK2MrMix0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGYsbCxwLFtiLmNsb25lKCksYi5jbG9uZSgpLGIuY2xvbmUoKV0pKSx0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbaFtmXS5jbG9uZSgpLGhbbF0uY2xvbmUoKSxoW3BdLmNsb25lKCldKSxmPXEsbD1xK2MrMixwPXErMSx0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGYsbCxwLFtiLmNsb25lKCksYi5jbG9uZSgpLGIuY2xvbmUoKV0pKSx0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbaFtmXS5jbG9uZSgpLGhbbF0uY2xvbmUoKSxoW3BdLmNsb25lKCldKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO3RoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZShuZXcgVEhSRUUuVmVjdG9yMyxrKX07XG5USFJFRS5SaW5nR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5SaW5nR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlJpbmdHZW9tZXRyeTtcblRIUkVFLlNwaGVyZUdlb21ldHJ5PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe1RIUkVFLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiU3BoZXJlR2VvbWV0cnlcIjt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czphLHdpZHRoU2VnbWVudHM6YixoZWlnaHRTZWdtZW50czpjLHBoaVN0YXJ0OmQscGhpTGVuZ3RoOmUsdGhldGFTdGFydDpmLHRoZXRhTGVuZ3RoOmd9O2E9YXx8NTA7Yj1NYXRoLm1heCgzLE1hdGguZmxvb3IoYil8fDgpO2M9TWF0aC5tYXgoMixNYXRoLmZsb29yKGMpfHw2KTtkPXZvaWQgMCE9PWQ/ZDowO2U9dm9pZCAwIT09ZT9lOjIqTWF0aC5QSTtmPXZvaWQgMCE9PWY/ZjowO2c9dm9pZCAwIT09Zz9nOk1hdGguUEk7dmFyIGgsayxsPVtdLHA9W107Zm9yKGs9MDtrPD1jO2srKyl7dmFyIHE9W10sbj1bXTtmb3IoaD0wO2g8PWI7aCsrKXt2YXIgdD1oL2Iscj1rL2Mscz1uZXcgVEhSRUUuVmVjdG9yMztzLng9LWEqTWF0aC5jb3MoZCt0KmUpKk1hdGguc2luKGYrcipnKTtcbnMueT1hKk1hdGguY29zKGYrcipnKTtzLno9YSpNYXRoLnNpbihkK3QqZSkqTWF0aC5zaW4oZityKmcpO3RoaXMudmVydGljZXMucHVzaChzKTtxLnB1c2godGhpcy52ZXJ0aWNlcy5sZW5ndGgtMSk7bi5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKHQsMS1yKSl9bC5wdXNoKHEpO3AucHVzaChuKX1mb3Ioaz0wO2s8YztrKyspZm9yKGg9MDtoPGI7aCsrKXtkPWxba11baCsxXTtlPWxba11baF07Zj1sW2srMV1baF07Zz1sW2srMV1baCsxXTt2YXIgcT10aGlzLnZlcnRpY2VzW2RdLmNsb25lKCkubm9ybWFsaXplKCksbj10aGlzLnZlcnRpY2VzW2VdLmNsb25lKCkubm9ybWFsaXplKCksdD10aGlzLnZlcnRpY2VzW2ZdLmNsb25lKCkubm9ybWFsaXplKCkscj10aGlzLnZlcnRpY2VzW2ddLmNsb25lKCkubm9ybWFsaXplKCkscz1wW2tdW2grMV0uY2xvbmUoKSx1PXBba11baF0uY2xvbmUoKSx2PXBbaysxXVtoXS5jbG9uZSgpLHg9cFtrKzFdW2grMV0uY2xvbmUoKTtNYXRoLmFicyh0aGlzLnZlcnRpY2VzW2RdLnkpPT09XG5hPyhzLng9KHMueCt1LngpLzIsdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhkLGYsZyxbcSx0LHJdKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3Msdix4XSkpOk1hdGguYWJzKHRoaXMudmVydGljZXNbZl0ueSk9PT1hPyh2Lng9KHYueCt4LngpLzIsdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhkLGUsZixbcSxuLHRdKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3MsdSx2XSkpOih0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGQsZSxnLFtxLG4scl0pKSx0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbcyx1LHhdKSx0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGUsZixnLFtuLmNsb25lKCksdCxyLmNsb25lKCldKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3UuY2xvbmUoKSx2LHguY2xvbmUoKV0pKX10aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO3RoaXMuYm91bmRpbmdTcGhlcmU9bmV3IFRIUkVFLlNwaGVyZShuZXcgVEhSRUUuVmVjdG9yMyxcbmEpfTtUSFJFRS5TcGhlcmVHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5HZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLlNwaGVyZUdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5TcGhlcmVHZW9tZXRyeTtUSFJFRS5UZXh0R2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPVRIUkVFLkZvbnRVdGlscy5nZW5lcmF0ZVNoYXBlcyhhLGIpO2IuYW1vdW50PXZvaWQgMCE9PWIuaGVpZ2h0P2IuaGVpZ2h0OjUwO3ZvaWQgMD09PWIuYmV2ZWxUaGlja25lc3MmJihiLmJldmVsVGhpY2tuZXNzPTEwKTt2b2lkIDA9PT1iLmJldmVsU2l6ZSYmKGIuYmV2ZWxTaXplPTgpO3ZvaWQgMD09PWIuYmV2ZWxFbmFibGVkJiYoYi5iZXZlbEVuYWJsZWQ9ITEpO1RIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5jYWxsKHRoaXMsYyxiKTt0aGlzLnR5cGU9XCJUZXh0R2VvbWV0cnlcIn07VEhSRUUuVGV4dEdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkV4dHJ1ZGVHZW9tZXRyeS5wcm90b3R5cGUpO1xuVEhSRUUuVGV4dEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5UZXh0R2VvbWV0cnk7XG5USFJFRS5Ub3J1c0dlb21ldHJ5PWZ1bmN0aW9uKGEsYixjLGQsZSl7VEhSRUUuR2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJUb3J1c0dlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6YSx0dWJlOmIscmFkaWFsU2VnbWVudHM6Yyx0dWJ1bGFyU2VnbWVudHM6ZCxhcmM6ZX07YT1hfHwxMDA7Yj1ifHw0MDtjPWN8fDg7ZD1kfHw2O2U9ZXx8MipNYXRoLlBJO2Zvcih2YXIgZj1uZXcgVEhSRUUuVmVjdG9yMyxnPVtdLGg9W10saz0wO2s8PWM7aysrKWZvcih2YXIgbD0wO2w8PWQ7bCsrKXt2YXIgcD1sL2QqZSxxPWsvYypNYXRoLlBJKjI7Zi54PWEqTWF0aC5jb3MocCk7Zi55PWEqTWF0aC5zaW4ocCk7dmFyIG49bmV3IFRIUkVFLlZlY3RvcjM7bi54PShhK2IqTWF0aC5jb3MocSkpKk1hdGguY29zKHApO24ueT0oYStiKk1hdGguY29zKHEpKSpNYXRoLnNpbihwKTtuLno9YipNYXRoLnNpbihxKTt0aGlzLnZlcnRpY2VzLnB1c2gobik7Zy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IyKGwvXG5kLGsvYykpO2gucHVzaChuLmNsb25lKCkuc3ViKGYpLm5vcm1hbGl6ZSgpKX1mb3Ioaz0xO2s8PWM7aysrKWZvcihsPTE7bDw9ZDtsKyspYT0oZCsxKSprK2wtMSxiPShkKzEpKihrLTEpK2wtMSxlPShkKzEpKihrLTEpK2wsZj0oZCsxKSprK2wscD1uZXcgVEhSRUUuRmFjZTMoYSxiLGYsW2hbYV0uY2xvbmUoKSxoW2JdLmNsb25lKCksaFtmXS5jbG9uZSgpXSksdGhpcy5mYWNlcy5wdXNoKHApLHRoaXMuZmFjZVZlcnRleFV2c1swXS5wdXNoKFtnW2FdLmNsb25lKCksZ1tiXS5jbG9uZSgpLGdbZl0uY2xvbmUoKV0pLHA9bmV3IFRIUkVFLkZhY2UzKGIsZSxmLFtoW2JdLmNsb25lKCksaFtlXS5jbG9uZSgpLGhbZl0uY2xvbmUoKV0pLHRoaXMuZmFjZXMucHVzaChwKSx0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbZ1tiXS5jbG9uZSgpLGdbZV0uY2xvbmUoKSxnW2ZdLmNsb25lKCldKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpfTtcblRIUkVFLlRvcnVzR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5Ub3J1c0dlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5Ub3J1c0dlb21ldHJ5O1xuVEhSRUUuVG9ydXNLbm90R2VvbWV0cnk9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7ZnVuY3Rpb24gaChhLGIsYyxkLGUpe3ZhciBmPU1hdGguY29zKGEpLGc9TWF0aC5zaW4oYSk7YSo9Yi9jO2I9TWF0aC5jb3MoYSk7Zio9ZCooMitiKSouNTtnPWQqKDIrYikqZyouNTtkPWUqZCpNYXRoLnNpbihhKSouNTtyZXR1cm4gbmV3IFRIUkVFLlZlY3RvcjMoZixnLGQpfVRIUkVFLkdlb21ldHJ5LmNhbGwodGhpcyk7dGhpcy50eXBlPVwiVG9ydXNLbm90R2VvbWV0cnlcIjt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czphLHR1YmU6YixyYWRpYWxTZWdtZW50czpjLHR1YnVsYXJTZWdtZW50czpkLHA6ZSxxOmYsaGVpZ2h0U2NhbGU6Z307YT1hfHwxMDA7Yj1ifHw0MDtjPWN8fDY0O2Q9ZHx8ODtlPWV8fDI7Zj1mfHwzO2c9Z3x8MTtmb3IodmFyIGs9QXJyYXkoYyksbD1uZXcgVEhSRUUuVmVjdG9yMyxwPW5ldyBUSFJFRS5WZWN0b3IzLHE9bmV3IFRIUkVFLlZlY3RvcjMsbj0wO248YzsrK24pe2tbbl09XG5BcnJheShkKTt2YXIgdD1uL2MqMiplKk1hdGguUEkscj1oKHQsZixlLGEsZyksdD1oKHQrLjAxLGYsZSxhLGcpO2wuc3ViVmVjdG9ycyh0LHIpO3AuYWRkVmVjdG9ycyh0LHIpO3EuY3Jvc3NWZWN0b3JzKGwscCk7cC5jcm9zc1ZlY3RvcnMocSxsKTtxLm5vcm1hbGl6ZSgpO3Aubm9ybWFsaXplKCk7Zm9yKHQ9MDt0PGQ7Kyt0KXt2YXIgcz10L2QqMipNYXRoLlBJLHU9LWIqTWF0aC5jb3Mocykscz1iKk1hdGguc2luKHMpLHY9bmV3IFRIUkVFLlZlY3RvcjM7di54PXIueCt1KnAueCtzKnEueDt2Lnk9ci55K3UqcC55K3MqcS55O3Yuej1yLnordSpwLnorcypxLno7a1tuXVt0XT10aGlzLnZlcnRpY2VzLnB1c2godiktMX19Zm9yKG49MDtuPGM7KytuKWZvcih0PTA7dDxkOysrdCllPShuKzEpJWMsZj0odCsxKSVkLGE9a1tuXVt0XSxiPWtbZV1bdF0sZT1rW2VdW2ZdLGY9a1tuXVtmXSxnPW5ldyBUSFJFRS5WZWN0b3IyKG4vYyx0L2QpLGw9bmV3IFRIUkVFLlZlY3RvcjIoKG4rMSkvYyxcbnQvZCkscD1uZXcgVEhSRUUuVmVjdG9yMigobisxKS9jLCh0KzEpL2QpLHE9bmV3IFRIUkVFLlZlY3RvcjIobi9jLCh0KzEpL2QpLHRoaXMuZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoYSxiLGYpKSx0aGlzLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbZyxsLHFdKSx0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGIsZSxmKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW2wuY2xvbmUoKSxwLHEuY2xvbmUoKV0pO3RoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCk7dGhpcy5jb21wdXRlVmVydGV4Tm9ybWFscygpfTtUSFJFRS5Ub3J1c0tub3RHZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5HZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLlRvcnVzS25vdEdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5Ub3J1c0tub3RHZW9tZXRyeTtcblRIUkVFLlR1YmVHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyxkLGUsZil7VEhSRUUuR2VvbWV0cnkuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJUdWJlR2VvbWV0cnlcIjt0aGlzLnBhcmFtZXRlcnM9e3BhdGg6YSxzZWdtZW50czpiLHJhZGl1czpjLHJhZGlhbFNlZ21lbnRzOmQsY2xvc2VkOmV9O2I9Ynx8NjQ7Yz1jfHwxO2Q9ZHx8ODtlPWV8fCExO2Y9Znx8VEhSRUUuVHViZUdlb21ldHJ5Lk5vVGFwZXI7dmFyIGc9W10saCxrLGw9YisxLHAscSxuLHQscixzPW5ldyBUSFJFRS5WZWN0b3IzLHUsdix4O3U9bmV3IFRIUkVFLlR1YmVHZW9tZXRyeS5GcmVuZXRGcmFtZXMoYSxiLGUpO3Y9dS5ub3JtYWxzO3g9dS5iaW5vcm1hbHM7dGhpcy50YW5nZW50cz11LnRhbmdlbnRzO3RoaXMubm9ybWFscz12O3RoaXMuYmlub3JtYWxzPXg7Zm9yKHU9MDt1PGw7dSsrKWZvcihnW3VdPVtdLHA9dS8obC0xKSxyPWEuZ2V0UG9pbnRBdChwKSxoPXZbdV0saz14W3VdLG49YypmKHApLHA9MDtwPGQ7cCsrKXE9XG5wL2QqMipNYXRoLlBJLHQ9LW4qTWF0aC5jb3MocSkscT1uKk1hdGguc2luKHEpLHMuY29weShyKSxzLngrPXQqaC54K3Eqay54LHMueSs9dCpoLnkrcSprLnkscy56Kz10KmgueitxKmsueixnW3VdW3BdPXRoaXMudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyhzLngscy55LHMueikpLTE7Zm9yKHU9MDt1PGI7dSsrKWZvcihwPTA7cDxkO3ArKylmPWU/KHUrMSklYjp1KzEsbD0ocCsxKSVkLGE9Z1t1XVtwXSxjPWdbZl1bcF0sZj1nW2ZdW2xdLGw9Z1t1XVtsXSxzPW5ldyBUSFJFRS5WZWN0b3IyKHUvYixwL2QpLHY9bmV3IFRIUkVFLlZlY3RvcjIoKHUrMSkvYixwL2QpLHg9bmV3IFRIUkVFLlZlY3RvcjIoKHUrMSkvYiwocCsxKS9kKSxoPW5ldyBUSFJFRS5WZWN0b3IyKHUvYiwocCsxKS9kKSx0aGlzLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKGEsYyxsKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3MsdixoXSksdGhpcy5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMyhjLFxuZixsKSksdGhpcy5mYWNlVmVydGV4VXZzWzBdLnB1c2goW3YuY2xvbmUoKSx4LGguY2xvbmUoKV0pO3RoaXMuY29tcHV0ZUZhY2VOb3JtYWxzKCk7dGhpcy5jb21wdXRlVmVydGV4Tm9ybWFscygpfTtUSFJFRS5UdWJlR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5UdWJlR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlR1YmVHZW9tZXRyeTtUSFJFRS5UdWJlR2VvbWV0cnkuTm9UYXBlcj1mdW5jdGlvbihhKXtyZXR1cm4gMX07VEhSRUUuVHViZUdlb21ldHJ5LlNpbnVzb2lkYWxUYXBlcj1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zaW4oTWF0aC5QSSphKX07XG5USFJFRS5UdWJlR2VvbWV0cnkuRnJlbmV0RnJhbWVzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgVEhSRUUuVmVjdG9yMyxlPVtdLGY9W10sZz1bXSxoPW5ldyBUSFJFRS5WZWN0b3IzLGs9bmV3IFRIUkVFLk1hdHJpeDQ7Yis9MTt2YXIgbCxwLHE7dGhpcy50YW5nZW50cz1lO3RoaXMubm9ybWFscz1mO3RoaXMuYmlub3JtYWxzPWc7Zm9yKGw9MDtsPGI7bCsrKXA9bC8oYi0xKSxlW2xdPWEuZ2V0VGFuZ2VudEF0KHApLGVbbF0ubm9ybWFsaXplKCk7ZlswXT1uZXcgVEhSRUUuVmVjdG9yMztnWzBdPW5ldyBUSFJFRS5WZWN0b3IzO2E9TnVtYmVyLk1BWF9WQUxVRTtsPU1hdGguYWJzKGVbMF0ueCk7cD1NYXRoLmFicyhlWzBdLnkpO3E9TWF0aC5hYnMoZVswXS56KTtsPD1hJiYoYT1sLGQuc2V0KDEsMCwwKSk7cDw9YSYmKGE9cCxkLnNldCgwLDEsMCkpO3E8PWEmJmQuc2V0KDAsMCwxKTtoLmNyb3NzVmVjdG9ycyhlWzBdLGQpLm5vcm1hbGl6ZSgpO2ZbMF0uY3Jvc3NWZWN0b3JzKGVbMF0sXG5oKTtnWzBdLmNyb3NzVmVjdG9ycyhlWzBdLGZbMF0pO2ZvcihsPTE7bDxiO2wrKylmW2xdPWZbbC0xXS5jbG9uZSgpLGdbbF09Z1tsLTFdLmNsb25lKCksaC5jcm9zc1ZlY3RvcnMoZVtsLTFdLGVbbF0pLDFFLTQ8aC5sZW5ndGgoKSYmKGgubm9ybWFsaXplKCksZD1NYXRoLmFjb3MoVEhSRUUuTWF0aC5jbGFtcChlW2wtMV0uZG90KGVbbF0pLC0xLDEpKSxmW2xdLmFwcGx5TWF0cml4NChrLm1ha2VSb3RhdGlvbkF4aXMoaCxkKSkpLGdbbF0uY3Jvc3NWZWN0b3JzKGVbbF0sZltsXSk7aWYoYylmb3IoZD1NYXRoLmFjb3MoVEhSRUUuTWF0aC5jbGFtcChmWzBdLmRvdChmW2ItMV0pLC0xLDEpKSxkLz1iLTEsMDxlWzBdLmRvdChoLmNyb3NzVmVjdG9ycyhmWzBdLGZbYi0xXSkpJiYoZD0tZCksbD0xO2w8YjtsKyspZltsXS5hcHBseU1hdHJpeDQoay5tYWtlUm90YXRpb25BeGlzKGVbbF0sZCpsKSksZ1tsXS5jcm9zc1ZlY3RvcnMoZVtsXSxmW2xdKX07XG5USFJFRS5Qb2x5aGVkcm9uR2VvbWV0cnk9ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXt2YXIgYj1hLm5vcm1hbGl6ZSgpLmNsb25lKCk7Yi5pbmRleD1rLnZlcnRpY2VzLnB1c2goYiktMTt2YXIgYz1NYXRoLmF0YW4yKGEueiwtYS54KS8yL01hdGguUEkrLjU7YT1NYXRoLmF0YW4yKC1hLnksTWF0aC5zcXJ0KGEueCphLngrYS56KmEueikpL01hdGguUEkrLjU7Yi51dj1uZXcgVEhSRUUuVmVjdG9yMihjLDEtYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIsYyl7dmFyIGQ9bmV3IFRIUkVFLkZhY2UzKGEuaW5kZXgsYi5pbmRleCxjLmluZGV4LFthLmNsb25lKCksYi5jbG9uZSgpLGMuY2xvbmUoKV0pO2suZmFjZXMucHVzaChkKTt1LmNvcHkoYSkuYWRkKGIpLmFkZChjKS5kaXZpZGVTY2FsYXIoMyk7ZD1NYXRoLmF0YW4yKHUueiwtdS54KTtrLmZhY2VWZXJ0ZXhVdnNbMF0ucHVzaChbaChhLnV2LGEsZCksaChiLnV2LGIsZCksaChjLnV2LGMsZCldKX1mdW5jdGlvbiBnKGEsXG5iKXtmb3IodmFyIGM9TWF0aC5wb3coMixiKSxkPWUoay52ZXJ0aWNlc1thLmFdKSxnPWUoay52ZXJ0aWNlc1thLmJdKSxoPWUoay52ZXJ0aWNlc1thLmNdKSxsPVtdLG49MDtuPD1jO24rKyl7bFtuXT1bXTtmb3IodmFyIHA9ZShkLmNsb25lKCkubGVycChoLG4vYykpLHE9ZShnLmNsb25lKCkubGVycChoLG4vYykpLHM9Yy1uLHI9MDtyPD1zO3IrKylsW25dW3JdPTA9PXImJm49PWM/cDplKHAuY2xvbmUoKS5sZXJwKHEsci9zKSl9Zm9yKG49MDtuPGM7bisrKWZvcihyPTA7cjwyKihjLW4pLTE7cisrKWQ9TWF0aC5mbG9vcihyLzIpLDA9PXIlMj9mKGxbbl1bZCsxXSxsW24rMV1bZF0sbFtuXVtkXSk6ZihsW25dW2QrMV0sbFtuKzFdW2QrMV0sbFtuKzFdW2RdKX1mdW5jdGlvbiBoKGEsYixjKXswPmMmJjE9PT1hLngmJihhPW5ldyBUSFJFRS5WZWN0b3IyKGEueC0xLGEueSkpOzA9PT1iLngmJjA9PT1iLnomJihhPW5ldyBUSFJFRS5WZWN0b3IyKGMvMi9NYXRoLlBJKy41LGEueSkpO3JldHVybiBhLmNsb25lKCl9XG5USFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIlBvbHloZWRyb25HZW9tZXRyeVwiO3RoaXMucGFyYW1ldGVycz17dmVydGljZXM6YSxpbmRpY2VzOmIscmFkaXVzOmMsZGV0YWlsOmR9O2M9Y3x8MTtkPWR8fDA7Zm9yKHZhciBrPXRoaXMsbD0wLHA9YS5sZW5ndGg7bDxwO2wrPTMpZShuZXcgVEhSRUUuVmVjdG9yMyhhW2xdLGFbbCsxXSxhW2wrMl0pKTthPXRoaXMudmVydGljZXM7Zm9yKHZhciBxPVtdLG49bD0wLHA9Yi5sZW5ndGg7bDxwO2wrPTMsbisrKXt2YXIgdD1hW2JbbF1dLHI9YVtiW2wrMV1dLHM9YVtiW2wrMl1dO3Fbbl09bmV3IFRIUkVFLkZhY2UzKHQuaW5kZXgsci5pbmRleCxzLmluZGV4LFt0LmNsb25lKCksci5jbG9uZSgpLHMuY2xvbmUoKV0pfWZvcih2YXIgdT1uZXcgVEhSRUUuVmVjdG9yMyxsPTAscD1xLmxlbmd0aDtsPHA7bCsrKWcocVtsXSxkKTtsPTA7Zm9yKHA9dGhpcy5mYWNlVmVydGV4VXZzWzBdLmxlbmd0aDtsPHA7bCsrKWI9dGhpcy5mYWNlVmVydGV4VXZzWzBdW2xdLFxuZD1iWzBdLngsYT1iWzFdLngscT1iWzJdLngsbj1NYXRoLm1heChkLE1hdGgubWF4KGEscSkpLHQ9TWF0aC5taW4oZCxNYXRoLm1pbihhLHEpKSwuOTxuJiYuMT50JiYoLjI+ZCYmKGJbMF0ueCs9MSksLjI+YSYmKGJbMV0ueCs9MSksLjI+cSYmKGJbMl0ueCs9MSkpO2w9MDtmb3IocD10aGlzLnZlcnRpY2VzLmxlbmd0aDtsPHA7bCsrKXRoaXMudmVydGljZXNbbF0ubXVsdGlwbHlTY2FsYXIoYyk7dGhpcy5tZXJnZVZlcnRpY2VzKCk7dGhpcy5jb21wdXRlRmFjZU5vcm1hbHMoKTt0aGlzLmJvdW5kaW5nU3BoZXJlPW5ldyBUSFJFRS5TcGhlcmUobmV3IFRIUkVFLlZlY3RvcjMsYyl9O1RIUkVFLlBvbHloZWRyb25HZW9tZXRyeS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5HZW9tZXRyeS5wcm90b3R5cGUpO1RIUkVFLlBvbHloZWRyb25HZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUG9seWhlZHJvbkdlb21ldHJ5O1xuVEhSRUUuRG9kZWNhaGVkcm9uR2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czphLGRldGFpbDpifTt2YXIgYz0oMStNYXRoLnNxcnQoNSkpLzIsZD0xL2M7VEhSRUUuUG9seWhlZHJvbkdlb21ldHJ5LmNhbGwodGhpcyxbLTEsLTEsLTEsLTEsLTEsMSwtMSwxLC0xLC0xLDEsMSwxLC0xLC0xLDEsLTEsMSwxLDEsLTEsMSwxLDEsMCwtZCwtYywwLC1kLGMsMCxkLC1jLDAsZCxjLC1kLC1jLDAsLWQsYywwLGQsLWMsMCxkLGMsMCwtYywwLC1kLGMsMCwtZCwtYywwLGQsYywwLGRdLFszLDExLDcsMyw3LDE1LDMsMTUsMTMsNywxOSwxNyw3LDE3LDYsNyw2LDE1LDE3LDQsOCwxNyw4LDEwLDE3LDEwLDYsOCwwLDE2LDgsMTYsMiw4LDIsMTAsMCwxMiwxLDAsMSwxOCwwLDE4LDE2LDYsMTAsMiw2LDIsMTMsNiwxMywxNSwyLDE2LDE4LDIsMTgsMywyLDMsMTMsMTgsMSw5LDE4LDksMTEsMTgsMTEsMyw0LDE0LDEyLDQsMTIsMCw0LDAsOCwxMSw5LDUsMTEsNSwxOSxcbjExLDE5LDcsMTksNSwxNCwxOSwxNCw0LDE5LDQsMTcsMSwxMiwxNCwxLDE0LDUsMSw1LDldLGEsYil9O1RIUkVFLkRvZGVjYWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7VEhSRUUuRG9kZWNhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkRvZGVjYWhlZHJvbkdlb21ldHJ5O1xuVEhSRUUuSWNvc2FoZWRyb25HZW9tZXRyeT1mdW5jdGlvbihhLGIpe3ZhciBjPSgxK01hdGguc3FydCg1KSkvMjtUSFJFRS5Qb2x5aGVkcm9uR2VvbWV0cnkuY2FsbCh0aGlzLFstMSxjLDAsMSxjLDAsLTEsLWMsMCwxLC1jLDAsMCwtMSxjLDAsMSxjLDAsLTEsLWMsMCwxLC1jLGMsMCwtMSxjLDAsMSwtYywwLC0xLC1jLDAsMV0sWzAsMTEsNSwwLDUsMSwwLDEsNywwLDcsMTAsMCwxMCwxMSwxLDUsOSw1LDExLDQsMTEsMTAsMiwxMCw3LDYsNywxLDgsMyw5LDQsMyw0LDIsMywyLDYsMyw2LDgsMyw4LDksNCw5LDUsMiw0LDExLDYsMiwxMCw4LDYsNyw5LDgsMV0sYSxiKTt0aGlzLnR5cGU9XCJJY29zYWhlZHJvbkdlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6YSxkZXRhaWw6Yn19O1RIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtcblRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkljb3NhaGVkcm9uR2VvbWV0cnk7VEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5PWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6YSxkZXRhaWw6Yn07VEhSRUUuUG9seWhlZHJvbkdlb21ldHJ5LmNhbGwodGhpcyxbMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTEsMCwwLDAsMSwwLDAsLTFdLFswLDIsNCwwLDQsMywwLDMsNSwwLDUsMiwxLDIsNSwxLDUsMywxLDMsNCwxLDQsMl0sYSxiKTt0aGlzLnR5cGU9XCJPY3RhaGVkcm9uR2VvbWV0cnlcIjt0aGlzLnBhcmFtZXRlcnM9e3JhZGl1czphLGRldGFpbDpifX07VEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7VEhSRUUuT2N0YWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5PY3RhaGVkcm9uR2VvbWV0cnk7XG5USFJFRS5UZXRyYWhlZHJvbkdlb21ldHJ5PWZ1bmN0aW9uKGEsYil7VEhSRUUuUG9seWhlZHJvbkdlb21ldHJ5LmNhbGwodGhpcyxbMSwxLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTFdLFsyLDEsMCwwLDMsMiwxLDMsMCwyLDMsMV0sYSxiKTt0aGlzLnR5cGU9XCJUZXRyYWhlZHJvbkdlb21ldHJ5XCI7dGhpcy5wYXJhbWV0ZXJzPXtyYWRpdXM6YSxkZXRhaWw6Yn19O1RIUkVFLlRldHJhaGVkcm9uR2VvbWV0cnkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuR2VvbWV0cnkucHJvdG90eXBlKTtUSFJFRS5UZXRyYWhlZHJvbkdlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5UZXRyYWhlZHJvbkdlb21ldHJ5O1xuVEhSRUUuUGFyYW1ldHJpY0dlb21ldHJ5PWZ1bmN0aW9uKGEsYixjKXtUSFJFRS5HZW9tZXRyeS5jYWxsKHRoaXMpO3RoaXMudHlwZT1cIlBhcmFtZXRyaWNHZW9tZXRyeVwiO3RoaXMucGFyYW1ldGVycz17ZnVuYzphLHNsaWNlczpiLHN0YWNrczpjfTt2YXIgZD10aGlzLnZlcnRpY2VzLGU9dGhpcy5mYWNlcyxmPXRoaXMuZmFjZVZlcnRleFV2c1swXSxnLGgsayxsLHA9YisxO2ZvcihnPTA7Zzw9YztnKyspZm9yKGw9Zy9jLGg9MDtoPD1iO2grKylrPWgvYixrPWEoayxsKSxkLnB1c2goayk7dmFyIHEsbix0LHI7Zm9yKGc9MDtnPGM7ZysrKWZvcihoPTA7aDxiO2grKylhPWcqcCtoLGQ9ZypwK2grMSxsPShnKzEpKnAraCsxLGs9KGcrMSkqcCtoLHE9bmV3IFRIUkVFLlZlY3RvcjIoaC9iLGcvYyksbj1uZXcgVEhSRUUuVmVjdG9yMigoaCsxKS9iLGcvYyksdD1uZXcgVEhSRUUuVmVjdG9yMigoaCsxKS9iLChnKzEpL2MpLHI9bmV3IFRIUkVFLlZlY3RvcjIoaC9iLChnKzEpL2MpLGUucHVzaChuZXcgVEhSRUUuRmFjZTMoYSxcbmQsaykpLGYucHVzaChbcSxuLHJdKSxlLnB1c2gobmV3IFRIUkVFLkZhY2UzKGQsbCxrKSksZi5wdXNoKFtuLmNsb25lKCksdCxyLmNsb25lKCldKTt0aGlzLmNvbXB1dGVGYWNlTm9ybWFscygpO3RoaXMuY29tcHV0ZVZlcnRleE5vcm1hbHMoKX07VEhSRUUuUGFyYW1ldHJpY0dlb21ldHJ5LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkdlb21ldHJ5LnByb3RvdHlwZSk7VEhSRUUuUGFyYW1ldHJpY0dlb21ldHJ5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5QYXJhbWV0cmljR2VvbWV0cnk7XG5USFJFRS5BeGlzSGVscGVyPWZ1bmN0aW9uKGEpe2E9YXx8MTt2YXIgYj1uZXcgRmxvYXQzMkFycmF5KFswLDAsMCxhLDAsMCwwLDAsMCwwLGEsMCwwLDAsMCwwLDAsYV0pLGM9bmV3IEZsb2F0MzJBcnJheShbMSwwLDAsMSwuNiwwLDAsMSwwLC42LDEsMCwwLDAsMSwwLC42LDFdKTthPW5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeTthLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShiLDMpKTthLmFkZEF0dHJpYnV0ZShcImNvbG9yXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShjLDMpKTtiPW5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOlRIUkVFLlZlcnRleENvbG9yc30pO1RIUkVFLkxpbmUuY2FsbCh0aGlzLGEsYixUSFJFRS5MaW5lUGllY2VzKX07VEhSRUUuQXhpc0hlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7XG5USFJFRS5BeGlzSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5BeGlzSGVscGVyO1xuVEhSRUUuQXJyb3dIZWxwZXI9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuR2VvbWV0cnk7YS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSxuZXcgVEhSRUUuVmVjdG9yMygwLDEsMCkpO3ZhciBiPW5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAsLjUsMSw1LDEpO2IuYXBwbHlNYXRyaXgoKG5ldyBUSFJFRS5NYXRyaXg0KS5tYWtlVHJhbnNsYXRpb24oMCwtLjUsMCkpO3JldHVybiBmdW5jdGlvbihjLGQsZSxmLGcsaCl7VEhSRUUuT2JqZWN0M0QuY2FsbCh0aGlzKTt2b2lkIDA9PT1mJiYoZj0xNjc3Njk2MCk7dm9pZCAwPT09ZSYmKGU9MSk7dm9pZCAwPT09ZyYmKGc9LjIqZSk7dm9pZCAwPT09aCYmKGg9LjIqZyk7dGhpcy5wb3NpdGlvbi5jb3B5KGQpO3RoaXMubGluZT1uZXcgVEhSRUUuTGluZShhLG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6Zn0pKTt0aGlzLmxpbmUubWF0cml4QXV0b1VwZGF0ZT0hMTt0aGlzLmFkZCh0aGlzLmxpbmUpO1xudGhpcy5jb25lPW5ldyBUSFJFRS5NZXNoKGIsbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtjb2xvcjpmfSkpO3RoaXMuY29uZS5tYXRyaXhBdXRvVXBkYXRlPSExO3RoaXMuYWRkKHRoaXMuY29uZSk7dGhpcy5zZXREaXJlY3Rpb24oYyk7dGhpcy5zZXRMZW5ndGgoZSxnLGgpfX0oKTtUSFJFRS5BcnJvd0hlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUpO1RIUkVFLkFycm93SGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5BcnJvd0hlbHBlcjtcblRIUkVFLkFycm93SGVscGVyLnByb3RvdHlwZS5zZXREaXJlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT1uZXcgVEhSRUUuVmVjdG9yMyxiO3JldHVybiBmdW5jdGlvbihjKXsuOTk5OTk8Yy55P3RoaXMucXVhdGVybmlvbi5zZXQoMCwwLDAsMSk6LS45OTk5OT5jLnk/dGhpcy5xdWF0ZXJuaW9uLnNldCgxLDAsMCwwKTooYS5zZXQoYy56LDAsLWMueCkubm9ybWFsaXplKCksYj1NYXRoLmFjb3MoYy55KSx0aGlzLnF1YXRlcm5pb24uc2V0RnJvbUF4aXNBbmdsZShhLGIpKX19KCk7VEhSRUUuQXJyb3dIZWxwZXIucHJvdG90eXBlLnNldExlbmd0aD1mdW5jdGlvbihhLGIsYyl7dm9pZCAwPT09YiYmKGI9LjIqYSk7dm9pZCAwPT09YyYmKGM9LjIqYik7dGhpcy5saW5lLnNjYWxlLnNldCgxLGEtYiwxKTt0aGlzLmxpbmUudXBkYXRlTWF0cml4KCk7dGhpcy5jb25lLnNjYWxlLnNldChjLGIsYyk7dGhpcy5jb25lLnBvc2l0aW9uLnk9YTt0aGlzLmNvbmUudXBkYXRlTWF0cml4KCl9O1xuVEhSRUUuQXJyb3dIZWxwZXIucHJvdG90eXBlLnNldENvbG9yPWZ1bmN0aW9uKGEpe3RoaXMubGluZS5tYXRlcmlhbC5jb2xvci5zZXQoYSk7dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLnNldChhKX07VEhSRUUuQm94SGVscGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeTtiLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KDcyKSwzKSk7VEhSRUUuTGluZS5jYWxsKHRoaXMsYixuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOjE2Nzc2OTYwfSksVEhSRUUuTGluZVBpZWNlcyk7dm9pZCAwIT09YSYmdGhpcy51cGRhdGUoYSl9O1RIUkVFLkJveEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7VEhSRUUuQm94SGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5Cb3hIZWxwZXI7XG5USFJFRS5Cb3hIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1hLmdlb21ldHJ5O251bGw9PT1iLmJvdW5kaW5nQm94JiZiLmNvbXB1dGVCb3VuZGluZ0JveCgpO3ZhciBjPWIuYm91bmRpbmdCb3gubWluLGI9Yi5ib3VuZGluZ0JveC5tYXgsZD10aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7ZFswXT1iLng7ZFsxXT1iLnk7ZFsyXT1iLno7ZFszXT1jLng7ZFs0XT1iLnk7ZFs1XT1iLno7ZFs2XT1jLng7ZFs3XT1iLnk7ZFs4XT1iLno7ZFs5XT1jLng7ZFsxMF09Yy55O2RbMTFdPWIuejtkWzEyXT1jLng7ZFsxM109Yy55O2RbMTRdPWIuejtkWzE1XT1iLng7ZFsxNl09Yy55O2RbMTddPWIuejtkWzE4XT1iLng7ZFsxOV09Yy55O2RbMjBdPWIuejtkWzIxXT1iLng7ZFsyMl09Yi55O2RbMjNdPWIuejtkWzI0XT1iLng7ZFsyNV09Yi55O2RbMjZdPWMuejtkWzI3XT1jLng7ZFsyOF09Yi55O2RbMjldPWMuejtkWzMwXT1jLng7ZFszMV09Yi55O1xuZFszMl09Yy56O2RbMzNdPWMueDtkWzM0XT1jLnk7ZFszNV09Yy56O2RbMzZdPWMueDtkWzM3XT1jLnk7ZFszOF09Yy56O2RbMzldPWIueDtkWzQwXT1jLnk7ZFs0MV09Yy56O2RbNDJdPWIueDtkWzQzXT1jLnk7ZFs0NF09Yy56O2RbNDVdPWIueDtkWzQ2XT1iLnk7ZFs0N109Yy56O2RbNDhdPWIueDtkWzQ5XT1iLnk7ZFs1MF09Yi56O2RbNTFdPWIueDtkWzUyXT1iLnk7ZFs1M109Yy56O2RbNTRdPWMueDtkWzU1XT1iLnk7ZFs1Nl09Yi56O2RbNTddPWMueDtkWzU4XT1iLnk7ZFs1OV09Yy56O2RbNjBdPWMueDtkWzYxXT1jLnk7ZFs2Ml09Yi56O2RbNjNdPWMueDtkWzY0XT1jLnk7ZFs2NV09Yy56O2RbNjZdPWIueDtkWzY3XT1jLnk7ZFs2OF09Yi56O2RbNjldPWIueDtkWzcwXT1jLnk7ZFs3MV09Yy56O3RoaXMuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZT0hMDt0aGlzLmdlb21ldHJ5LmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpO3RoaXMubWF0cml4PWEubWF0cml4V29ybGQ7XG50aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITF9O1RIUkVFLkJvdW5kaW5nQm94SGVscGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwIT09Yj9iOjg5NDc4NDg7dGhpcy5vYmplY3Q9YTt0aGlzLmJveD1uZXcgVEhSRUUuQm94MztUSFJFRS5NZXNoLmNhbGwodGhpcyxuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwxLDEpLG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7Y29sb3I6Yyx3aXJlZnJhbWU6ITB9KSl9O1RIUkVFLkJvdW5kaW5nQm94SGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1lc2gucHJvdG90eXBlKTtUSFJFRS5Cb3VuZGluZ0JveEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuQm91bmRpbmdCb3hIZWxwZXI7VEhSRUUuQm91bmRpbmdCb3hIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuYm94LnNldEZyb21PYmplY3QodGhpcy5vYmplY3QpO3RoaXMuYm94LnNpemUodGhpcy5zY2FsZSk7dGhpcy5ib3guY2VudGVyKHRoaXMucG9zaXRpb24pfTtcblRIUkVFLkNhbWVyYUhlbHBlcj1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixkKXtjKGEsZCk7YyhiLGQpfWZ1bmN0aW9uIGMoYSxiKXtkLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMpO2QuY29sb3JzLnB1c2gobmV3IFRIUkVFLkNvbG9yKGIpKTt2b2lkIDA9PT1mW2FdJiYoZlthXT1bXSk7ZlthXS5wdXNoKGQudmVydGljZXMubGVuZ3RoLTEpfXZhciBkPW5ldyBUSFJFRS5HZW9tZXRyeSxlPW5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6MTY3NzcyMTUsdmVydGV4Q29sb3JzOlRIUkVFLkZhY2VDb2xvcnN9KSxmPXt9O2IoXCJuMVwiLFwibjJcIiwxNjc1NTIwMCk7YihcIm4yXCIsXCJuNFwiLDE2NzU1MjAwKTtiKFwibjRcIixcIm4zXCIsMTY3NTUyMDApO2IoXCJuM1wiLFwibjFcIiwxNjc1NTIwMCk7YihcImYxXCIsXCJmMlwiLDE2NzU1MjAwKTtiKFwiZjJcIixcImY0XCIsMTY3NTUyMDApO2IoXCJmNFwiLFwiZjNcIiwxNjc1NTIwMCk7YihcImYzXCIsXCJmMVwiLDE2NzU1MjAwKTtiKFwibjFcIixcImYxXCIsMTY3NTUyMDApO1xuYihcIm4yXCIsXCJmMlwiLDE2NzU1MjAwKTtiKFwibjNcIixcImYzXCIsMTY3NTUyMDApO2IoXCJuNFwiLFwiZjRcIiwxNjc1NTIwMCk7YihcInBcIixcIm4xXCIsMTY3MTE2ODApO2IoXCJwXCIsXCJuMlwiLDE2NzExNjgwKTtiKFwicFwiLFwibjNcIiwxNjcxMTY4MCk7YihcInBcIixcIm40XCIsMTY3MTE2ODApO2IoXCJ1MVwiLFwidTJcIiw0Mzc3NSk7YihcInUyXCIsXCJ1M1wiLDQzNzc1KTtiKFwidTNcIixcInUxXCIsNDM3NzUpO2IoXCJjXCIsXCJ0XCIsMTY3NzcyMTUpO2IoXCJwXCIsXCJjXCIsMzM1NTQ0Myk7YihcImNuMVwiLFwiY24yXCIsMzM1NTQ0Myk7YihcImNuM1wiLFwiY240XCIsMzM1NTQ0Myk7YihcImNmMVwiLFwiY2YyXCIsMzM1NTQ0Myk7YihcImNmM1wiLFwiY2Y0XCIsMzM1NTQ0Myk7VEhSRUUuTGluZS5jYWxsKHRoaXMsZCxlLFRIUkVFLkxpbmVQaWVjZXMpO3RoaXMuY2FtZXJhPWE7dGhpcy5tYXRyaXg9YS5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITE7dGhpcy5wb2ludE1hcD1mO3RoaXMudXBkYXRlKCl9O1xuVEhSRUUuQ2FtZXJhSGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkxpbmUucHJvdG90eXBlKTtUSFJFRS5DYW1lcmFIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkNhbWVyYUhlbHBlcjtcblRIUkVFLkNhbWVyYUhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGEsYixjPW5ldyBUSFJFRS5WZWN0b3IzLGQ9bmV3IFRIUkVFLkNhbWVyYSxlPWZ1bmN0aW9uKGUsZyxoLGspe2Muc2V0KGcsaCxrKS51bnByb2plY3QoZCk7ZT1iW2VdO2lmKHZvaWQgMCE9PWUpZm9yKGc9MCxoPWUubGVuZ3RoO2c8aDtnKyspYS52ZXJ0aWNlc1tlW2ddXS5jb3B5KGMpfTtyZXR1cm4gZnVuY3Rpb24oKXthPXRoaXMuZ2VvbWV0cnk7Yj10aGlzLnBvaW50TWFwO2QucHJvamVjdGlvbk1hdHJpeC5jb3B5KHRoaXMuY2FtZXJhLnByb2plY3Rpb25NYXRyaXgpO2UoXCJjXCIsMCwwLC0xKTtlKFwidFwiLDAsMCwxKTtlKFwibjFcIiwtMSwtMSwtMSk7ZShcIm4yXCIsMSwtMSwtMSk7ZShcIm4zXCIsLTEsMSwtMSk7ZShcIm40XCIsMSwxLC0xKTtlKFwiZjFcIiwtMSwtMSwxKTtlKFwiZjJcIiwxLC0xLDEpO2UoXCJmM1wiLC0xLDEsMSk7ZShcImY0XCIsMSwxLDEpO2UoXCJ1MVwiLC43LDEuMSwtMSk7ZShcInUyXCIsLS43LDEuMSxcbi0xKTtlKFwidTNcIiwwLDIsLTEpO2UoXCJjZjFcIiwtMSwwLDEpO2UoXCJjZjJcIiwxLDAsMSk7ZShcImNmM1wiLDAsLTEsMSk7ZShcImNmNFwiLDAsMSwxKTtlKFwiY24xXCIsLTEsMCwtMSk7ZShcImNuMlwiLDEsMCwtMSk7ZShcImNuM1wiLDAsLTEsLTEpO2UoXCJjbjRcIiwwLDEsLTEpO2EudmVydGljZXNOZWVkVXBkYXRlPSEwfX0oKTtcblRIUkVFLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXI9ZnVuY3Rpb24oYSxiKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMubGlnaHQ9YTt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dGhpcy5tYXRyaXg9YS5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITE7Yj1ifHwxO3ZhciBjPW5ldyBUSFJFRS5HZW9tZXRyeTtjLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoLWIsYiwwKSxuZXcgVEhSRUUuVmVjdG9yMyhiLGIsMCksbmV3IFRIUkVFLlZlY3RvcjMoYiwtYiwwKSxuZXcgVEhSRUUuVmVjdG9yMygtYiwtYiwwKSxuZXcgVEhSRUUuVmVjdG9yMygtYixiLDApKTt2YXIgZD1uZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe2ZvZzohMX0pO2QuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKS5tdWx0aXBseVNjYWxhcih0aGlzLmxpZ2h0LmludGVuc2l0eSk7dGhpcy5saWdodFBsYW5lPW5ldyBUSFJFRS5MaW5lKGMsZCk7dGhpcy5hZGQodGhpcy5saWdodFBsYW5lKTtcbmM9bmV3IFRIUkVFLkdlb21ldHJ5O2MudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyxuZXcgVEhSRUUuVmVjdG9yMyk7ZD1uZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe2ZvZzohMX0pO2QuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKS5tdWx0aXBseVNjYWxhcih0aGlzLmxpZ2h0LmludGVuc2l0eSk7dGhpcy50YXJnZXRMaW5lPW5ldyBUSFJFRS5MaW5lKGMsZCk7dGhpcy5hZGQodGhpcy50YXJnZXRMaW5lKTt0aGlzLnVwZGF0ZSgpfTtUSFJFRS5EaXJlY3Rpb25hbExpZ2h0SGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk9iamVjdDNELnByb3RvdHlwZSk7VEhSRUUuRGlyZWN0aW9uYWxMaWdodEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuRGlyZWN0aW9uYWxMaWdodEhlbHBlcjtcblRIUkVFLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpZ2h0UGxhbmUuZ2VvbWV0cnkuZGlzcG9zZSgpO3RoaXMubGlnaHRQbGFuZS5tYXRlcmlhbC5kaXNwb3NlKCk7dGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuZGlzcG9zZSgpfTtcblRIUkVFLkRpcmVjdGlvbmFsTGlnaHRIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzLGI9bmV3IFRIUkVFLlZlY3RvcjMsYz1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oKXthLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKTtiLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCk7Yy5zdWJWZWN0b3JzKGIsYSk7dGhpcy5saWdodFBsYW5lLmxvb2tBdChjKTt0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKS5tdWx0aXBseVNjYWxhcih0aGlzLmxpZ2h0LmludGVuc2l0eSk7dGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LnZlcnRpY2VzWzFdLmNvcHkoYyk7dGhpcy50YXJnZXRMaW5lLmdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZT0hMDt0aGlzLnRhcmdldExpbmUubWF0ZXJpYWwuY29sb3IuY29weSh0aGlzLmxpZ2h0UGxhbmUubWF0ZXJpYWwuY29sb3IpfX0oKTtcblRIUkVFLkVkZ2VzSGVscGVyPWZ1bmN0aW9uKGEsYixjKXtiPXZvaWQgMCE9PWI/YjoxNjc3NzIxNTtjPU1hdGguY29zKFRIUkVFLk1hdGguZGVnVG9SYWQodm9pZCAwIT09Yz9jOjEpKTt2YXIgZD1bMCwwXSxlPXt9LGY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSxnPVtcImFcIixcImJcIixcImNcIl0saD1uZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnksazthLmdlb21ldHJ5IGluc3RhbmNlb2YgVEhSRUUuQnVmZmVyR2VvbWV0cnk/KGs9bmV3IFRIUkVFLkdlb21ldHJ5LGsuZnJvbUJ1ZmZlckdlb21ldHJ5KGEuZ2VvbWV0cnkpKTprPWEuZ2VvbWV0cnkuY2xvbmUoKTtrLm1lcmdlVmVydGljZXMoKTtrLmNvbXB1dGVGYWNlTm9ybWFscygpO3ZhciBsPWsudmVydGljZXM7az1rLmZhY2VzO2Zvcih2YXIgcD0wLHE9MCxuPWsubGVuZ3RoO3E8bjtxKyspZm9yKHZhciB0PWtbcV0scj0wOzM+cjtyKyspe2RbMF09dFtnW3JdXTtkWzFdPXRbZ1socisxKSUzXV07ZC5zb3J0KGYpO3ZhciBzPWQudG9TdHJpbmcoKTtcbnZvaWQgMD09PWVbc10/KGVbc109e3ZlcnQxOmRbMF0sdmVydDI6ZFsxXSxmYWNlMTpxLGZhY2UyOnZvaWQgMH0scCsrKTplW3NdLmZhY2UyPXF9ZD1uZXcgRmxvYXQzMkFycmF5KDYqcCk7Zj0wO2ZvcihzIGluIGUpaWYoZz1lW3NdLHZvaWQgMD09PWcuZmFjZTJ8fGtbZy5mYWNlMV0ubm9ybWFsLmRvdChrW2cuZmFjZTJdLm5vcm1hbCk8PWMpcD1sW2cudmVydDFdLGRbZisrXT1wLngsZFtmKytdPXAueSxkW2YrK109cC56LHA9bFtnLnZlcnQyXSxkW2YrK109cC54LGRbZisrXT1wLnksZFtmKytdPXAuejtoLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShkLDMpKTtUSFJFRS5MaW5lLmNhbGwodGhpcyxoLG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6Yn0pLFRIUkVFLkxpbmVQaWVjZXMpO3RoaXMubWF0cml4PWEubWF0cml4V29ybGQ7dGhpcy5tYXRyaXhBdXRvVXBkYXRlPSExfTtcblRIUkVFLkVkZ2VzSGVscGVyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLkxpbmUucHJvdG90eXBlKTtUSFJFRS5FZGdlc0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuRWRnZXNIZWxwZXI7XG5USFJFRS5GYWNlTm9ybWFsc0hlbHBlcj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLm9iamVjdD1hO3RoaXMuc2l6ZT12b2lkIDAhPT1iP2I6MTthPXZvaWQgMCE9PWM/YzoxNjc3Njk2MDtkPXZvaWQgMCE9PWQ/ZDoxO2I9bmV3IFRIUkVFLkdlb21ldHJ5O2M9MDtmb3IodmFyIGU9dGhpcy5vYmplY3QuZ2VvbWV0cnkuZmFjZXMubGVuZ3RoO2M8ZTtjKyspYi52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzLG5ldyBUSFJFRS5WZWN0b3IzKTtUSFJFRS5MaW5lLmNhbGwodGhpcyxiLG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7Y29sb3I6YSxsaW5ld2lkdGg6ZH0pLFRIUkVFLkxpbmVQaWVjZXMpO3RoaXMubWF0cml4QXV0b1VwZGF0ZT0hMTt0aGlzLm5vcm1hbE1hdHJpeD1uZXcgVEhSRUUuTWF0cml4Mzt0aGlzLnVwZGF0ZSgpfTtUSFJFRS5GYWNlTm9ybWFsc0hlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7XG5USFJFRS5GYWNlTm9ybWFsc0hlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuRmFjZU5vcm1hbHNIZWxwZXI7XG5USFJFRS5GYWNlTm9ybWFsc0hlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZW9tZXRyeS52ZXJ0aWNlcyxiPXRoaXMub2JqZWN0LGM9Yi5nZW9tZXRyeS52ZXJ0aWNlcyxkPWIuZ2VvbWV0cnkuZmFjZXMsZT1iLm1hdHJpeFdvcmxkO2IudXBkYXRlTWF0cml4V29ybGQoITApO3RoaXMubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeChlKTtmb3IodmFyIGY9Yj0wLGc9ZC5sZW5ndGg7YjxnO2IrKyxmKz0yKXt2YXIgaD1kW2JdO2FbZl0uY29weShjW2guYV0pLmFkZChjW2guYl0pLmFkZChjW2guY10pLmRpdmlkZVNjYWxhcigzKS5hcHBseU1hdHJpeDQoZSk7YVtmKzFdLmNvcHkoaC5ub3JtYWwpLmFwcGx5TWF0cml4Myh0aGlzLm5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCkubXVsdGlwbHlTY2FsYXIodGhpcy5zaXplKS5hZGQoYVtmXSl9dGhpcy5nZW9tZXRyeS52ZXJ0aWNlc05lZWRVcGRhdGU9ITA7cmV0dXJuIHRoaXN9O1xuVEhSRUUuR3JpZEhlbHBlcj1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBUSFJFRS5HZW9tZXRyeSxkPW5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7dmVydGV4Q29sb3JzOlRIUkVFLlZlcnRleENvbG9yc30pO3RoaXMuY29sb3IxPW5ldyBUSFJFRS5Db2xvcig0NDczOTI0KTt0aGlzLmNvbG9yMj1uZXcgVEhSRUUuQ29sb3IoODk0Nzg0OCk7Zm9yKHZhciBlPS1hO2U8PWE7ZSs9Yil7Yy52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKC1hLDAsZSksbmV3IFRIUkVFLlZlY3RvcjMoYSwwLGUpLG5ldyBUSFJFRS5WZWN0b3IzKGUsMCwtYSksbmV3IFRIUkVFLlZlY3RvcjMoZSwwLGEpKTt2YXIgZj0wPT09ZT90aGlzLmNvbG9yMTp0aGlzLmNvbG9yMjtjLmNvbG9ycy5wdXNoKGYsZixmLGYpfVRIUkVFLkxpbmUuY2FsbCh0aGlzLGMsZCxUSFJFRS5MaW5lUGllY2VzKX07VEhSRUUuR3JpZEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7XG5USFJFRS5HcmlkSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5HcmlkSGVscGVyO1RIUkVFLkdyaWRIZWxwZXIucHJvdG90eXBlLnNldENvbG9ycz1mdW5jdGlvbihhLGIpe3RoaXMuY29sb3IxLnNldChhKTt0aGlzLmNvbG9yMi5zZXQoYik7dGhpcy5nZW9tZXRyeS5jb2xvcnNOZWVkVXBkYXRlPSEwfTtcblRIUkVFLkhlbWlzcGhlcmVMaWdodEhlbHBlcj1mdW5jdGlvbihhLGIpe1RIUkVFLk9iamVjdDNELmNhbGwodGhpcyk7dGhpcy5saWdodD1hO3RoaXMubGlnaHQudXBkYXRlTWF0cml4V29ybGQoKTt0aGlzLm1hdHJpeD1hLm1hdHJpeFdvcmxkO3RoaXMubWF0cml4QXV0b1VwZGF0ZT0hMTt0aGlzLmNvbG9ycz1bbmV3IFRIUkVFLkNvbG9yLG5ldyBUSFJFRS5Db2xvcl07dmFyIGM9bmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KGIsNCwyKTtjLmFwcGx5TWF0cml4KChuZXcgVEhSRUUuTWF0cml4NCkubWFrZVJvdGF0aW9uWCgtTWF0aC5QSS8yKSk7Zm9yKHZhciBkPTA7OD5kO2QrKyljLmZhY2VzW2RdLmNvbG9yPXRoaXMuY29sb3JzWzQ+ZD8wOjFdO2Q9bmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHt2ZXJ0ZXhDb2xvcnM6VEhSRUUuRmFjZUNvbG9ycyx3aXJlZnJhbWU6ITB9KTt0aGlzLmxpZ2h0U3BoZXJlPW5ldyBUSFJFRS5NZXNoKGMsZCk7dGhpcy5hZGQodGhpcy5saWdodFNwaGVyZSk7XG50aGlzLnVwZGF0ZSgpfTtUSFJFRS5IZW1pc3BoZXJlTGlnaHRIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtUSFJFRS5IZW1pc3BoZXJlTGlnaHRIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkhlbWlzcGhlcmVMaWdodEhlbHBlcjtUSFJFRS5IZW1pc3BoZXJlTGlnaHRIZWxwZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpZ2h0U3BoZXJlLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmxpZ2h0U3BoZXJlLm1hdGVyaWFsLmRpc3Bvc2UoKX07XG5USFJFRS5IZW1pc3BoZXJlTGlnaHRIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbigpe3RoaXMuY29sb3JzWzBdLmNvcHkodGhpcy5saWdodC5jb2xvcikubXVsdGlwbHlTY2FsYXIodGhpcy5saWdodC5pbnRlbnNpdHkpO3RoaXMuY29sb3JzWzFdLmNvcHkodGhpcy5saWdodC5ncm91bmRDb2xvcikubXVsdGlwbHlTY2FsYXIodGhpcy5saWdodC5pbnRlbnNpdHkpO3RoaXMubGlnaHRTcGhlcmUubG9va0F0KGEuc2V0RnJvbU1hdHJpeFBvc2l0aW9uKHRoaXMubGlnaHQubWF0cml4V29ybGQpLm5lZ2F0ZSgpKTt0aGlzLmxpZ2h0U3BoZXJlLmdlb21ldHJ5LmNvbG9yc05lZWRVcGRhdGU9ITB9fSgpO1xuVEhSRUUuUG9pbnRMaWdodEhlbHBlcj1mdW5jdGlvbihhLGIpe3RoaXMubGlnaHQ9YTt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dmFyIGM9bmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KGIsNCwyKSxkPW5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7d2lyZWZyYW1lOiEwLGZvZzohMX0pO2QuY29sb3IuY29weSh0aGlzLmxpZ2h0LmNvbG9yKS5tdWx0aXBseVNjYWxhcih0aGlzLmxpZ2h0LmludGVuc2l0eSk7VEhSRUUuTWVzaC5jYWxsKHRoaXMsYyxkKTt0aGlzLm1hdHJpeD10aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkO3RoaXMubWF0cml4QXV0b1VwZGF0ZT0hMX07VEhSRUUuUG9pbnRMaWdodEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5NZXNoLnByb3RvdHlwZSk7VEhSRUUuUG9pbnRMaWdodEhlbHBlci5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuUG9pbnRMaWdodEhlbHBlcjtcblRIUkVFLlBvaW50TGlnaHRIZWxwZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLm1hdGVyaWFsLmRpc3Bvc2UoKX07VEhSRUUuUG9pbnRMaWdodEhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5tYXRlcmlhbC5jb2xvci5jb3B5KHRoaXMubGlnaHQuY29sb3IpLm11bHRpcGx5U2NhbGFyKHRoaXMubGlnaHQuaW50ZW5zaXR5KX07XG5USFJFRS5Ta2VsZXRvbkhlbHBlcj1mdW5jdGlvbihhKXt0aGlzLmJvbmVzPXRoaXMuZ2V0Qm9uZUxpc3QoYSk7Zm9yKHZhciBiPW5ldyBUSFJFRS5HZW9tZXRyeSxjPTA7Yzx0aGlzLmJvbmVzLmxlbmd0aDtjKyspdGhpcy5ib25lc1tjXS5wYXJlbnQgaW5zdGFuY2VvZiBUSFJFRS5Cb25lJiYoYi52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKSxiLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMpLGIuY29sb3JzLnB1c2gobmV3IFRIUkVFLkNvbG9yKDAsMCwxKSksYi5jb2xvcnMucHVzaChuZXcgVEhSRUUuQ29sb3IoMCwxLDApKSk7Yz1uZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe3ZlcnRleENvbG9yczpUSFJFRS5WZXJ0ZXhDb2xvcnMsZGVwdGhUZXN0OiExLGRlcHRoV3JpdGU6ITEsdHJhbnNwYXJlbnQ6ITB9KTtUSFJFRS5MaW5lLmNhbGwodGhpcyxiLGMsVEhSRUUuTGluZVBpZWNlcyk7dGhpcy5yb290PWE7dGhpcy5tYXRyaXg9YS5tYXRyaXhXb3JsZDtcbnRoaXMubWF0cml4QXV0b1VwZGF0ZT0hMTt0aGlzLnVwZGF0ZSgpfTtUSFJFRS5Ta2VsZXRvbkhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7VEhSRUUuU2tlbGV0b25IZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlNrZWxldG9uSGVscGVyO1RIUkVFLlNrZWxldG9uSGVscGVyLnByb3RvdHlwZS5nZXRCb25lTGlzdD1mdW5jdGlvbihhKXt2YXIgYj1bXTthIGluc3RhbmNlb2YgVEhSRUUuQm9uZSYmYi5wdXNoKGEpO2Zvcih2YXIgYz0wO2M8YS5jaGlsZHJlbi5sZW5ndGg7YysrKWIucHVzaC5hcHBseShiLHRoaXMuZ2V0Qm9uZUxpc3QoYS5jaGlsZHJlbltjXSkpO3JldHVybiBifTtcblRIUkVFLlNrZWxldG9uSGVscGVyLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZW9tZXRyeSxiPShuZXcgVEhSRUUuTWF0cml4NCkuZ2V0SW52ZXJzZSh0aGlzLnJvb3QubWF0cml4V29ybGQpLGM9bmV3IFRIUkVFLk1hdHJpeDQsZD0wLGU9MDtlPHRoaXMuYm9uZXMubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5ib25lc1tlXTtmLnBhcmVudCBpbnN0YW5jZW9mIFRIUkVFLkJvbmUmJihjLm11bHRpcGx5TWF0cmljZXMoYixmLm1hdHJpeFdvcmxkKSxhLnZlcnRpY2VzW2RdLnNldEZyb21NYXRyaXhQb3NpdGlvbihjKSxjLm11bHRpcGx5TWF0cmljZXMoYixmLnBhcmVudC5tYXRyaXhXb3JsZCksYS52ZXJ0aWNlc1tkKzFdLnNldEZyb21NYXRyaXhQb3NpdGlvbihjKSxkKz0yKX1hLnZlcnRpY2VzTmVlZFVwZGF0ZT0hMDthLmNvbXB1dGVCb3VuZGluZ1NwaGVyZSgpfTtcblRIUkVFLlNwb3RMaWdodEhlbHBlcj1mdW5jdGlvbihhKXtUSFJFRS5PYmplY3QzRC5jYWxsKHRoaXMpO3RoaXMubGlnaHQ9YTt0aGlzLmxpZ2h0LnVwZGF0ZU1hdHJpeFdvcmxkKCk7dGhpcy5tYXRyaXg9YS5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITE7YT1uZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgwLDEsMSw4LDEsITApO2EuYXBwbHlNYXRyaXgoKG5ldyBUSFJFRS5NYXRyaXg0KS5tYWtlVHJhbnNsYXRpb24oMCwtLjUsMCkpO2EuYXBwbHlNYXRyaXgoKG5ldyBUSFJFRS5NYXRyaXg0KS5tYWtlUm90YXRpb25YKC1NYXRoLlBJLzIpKTt2YXIgYj1uZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoe3dpcmVmcmFtZTohMCxmb2c6ITF9KTt0aGlzLmNvbmU9bmV3IFRIUkVFLk1lc2goYSxiKTt0aGlzLmFkZCh0aGlzLmNvbmUpO3RoaXMudXBkYXRlKCl9O1RIUkVFLlNwb3RMaWdodEhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5PYmplY3QzRC5wcm90b3R5cGUpO1xuVEhSRUUuU3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5TcG90TGlnaHRIZWxwZXI7VEhSRUUuU3BvdExpZ2h0SGVscGVyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5jb25lLmdlb21ldHJ5LmRpc3Bvc2UoKTt0aGlzLmNvbmUubWF0ZXJpYWwuZGlzcG9zZSgpfTtcblRIUkVFLlNwb3RMaWdodEhlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFRIUkVFLlZlY3RvcjMsYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz10aGlzLmxpZ2h0LmRpc3RhbmNlP3RoaXMubGlnaHQuZGlzdGFuY2U6MUU0LGQ9YypNYXRoLnRhbih0aGlzLmxpZ2h0LmFuZ2xlKTt0aGlzLmNvbmUuc2NhbGUuc2V0KGQsZCxjKTthLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0Lm1hdHJpeFdvcmxkKTtiLnNldEZyb21NYXRyaXhQb3NpdGlvbih0aGlzLmxpZ2h0LnRhcmdldC5tYXRyaXhXb3JsZCk7dGhpcy5jb25lLmxvb2tBdChiLnN1YihhKSk7dGhpcy5jb25lLm1hdGVyaWFsLmNvbG9yLmNvcHkodGhpcy5saWdodC5jb2xvcikubXVsdGlwbHlTY2FsYXIodGhpcy5saWdodC5pbnRlbnNpdHkpfX0oKTtcblRIUkVFLlZlcnRleE5vcm1hbHNIZWxwZXI9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5vYmplY3Q9YTt0aGlzLnNpemU9dm9pZCAwIT09Yj9iOjE7Yj12b2lkIDAhPT1jP2M6MTY3MTE2ODA7ZD12b2lkIDAhPT1kP2Q6MTtjPW5ldyBUSFJFRS5HZW9tZXRyeTthPWEuZ2VvbWV0cnkuZmFjZXM7Zm9yKHZhciBlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKWZvcih2YXIgZz0wLGg9YVtlXS52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDtnPGg7ZysrKWMudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyxuZXcgVEhSRUUuVmVjdG9yMyk7VEhSRUUuTGluZS5jYWxsKHRoaXMsYyxuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOmIsbGluZXdpZHRoOmR9KSxUSFJFRS5MaW5lUGllY2VzKTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITE7dGhpcy5ub3JtYWxNYXRyaXg9bmV3IFRIUkVFLk1hdHJpeDM7dGhpcy51cGRhdGUoKX07VEhSRUUuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7XG5USFJFRS5WZXJ0ZXhOb3JtYWxzSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5WZXJ0ZXhOb3JtYWxzSGVscGVyO1xuVEhSRUUuVmVydGV4Tm9ybWFsc0hlbHBlci5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBUSFJFRS5WZWN0b3IzO3JldHVybiBmdW5jdGlvbihhKXthPVtcImFcIixcImJcIixcImNcIixcImRcIl07dGhpcy5vYmplY3QudXBkYXRlTWF0cml4V29ybGQoITApO3RoaXMubm9ybWFsTWF0cml4LmdldE5vcm1hbE1hdHJpeCh0aGlzLm9iamVjdC5tYXRyaXhXb3JsZCk7Zm9yKHZhciBkPXRoaXMuZ2VvbWV0cnkudmVydGljZXMsZT10aGlzLm9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcyxmPXRoaXMub2JqZWN0Lmdlb21ldHJ5LmZhY2VzLGc9dGhpcy5vYmplY3QubWF0cml4V29ybGQsaD0wLGs9MCxsPWYubGVuZ3RoO2s8bDtrKyspZm9yKHZhciBwPWZba10scT0wLG49cC52ZXJ0ZXhOb3JtYWxzLmxlbmd0aDtxPG47cSsrKXt2YXIgdD1wLnZlcnRleE5vcm1hbHNbcV07ZFtoXS5jb3B5KGVbcFthW3FdXV0pLmFwcGx5TWF0cml4NChnKTtiLmNvcHkodCkuYXBwbHlNYXRyaXgzKHRoaXMubm9ybWFsTWF0cml4KS5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpO1xuYi5hZGQoZFtoXSk7aCs9MTtkW2hdLmNvcHkoYik7aCs9MX10aGlzLmdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZT0hMDtyZXR1cm4gdGhpc319KCk7XG5USFJFRS5WZXJ0ZXhUYW5nZW50c0hlbHBlcj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLm9iamVjdD1hO3RoaXMuc2l6ZT12b2lkIDAhPT1iP2I6MTtiPXZvaWQgMCE9PWM/YzoyNTU7ZD12b2lkIDAhPT1kP2Q6MTtjPW5ldyBUSFJFRS5HZW9tZXRyeTthPWEuZ2VvbWV0cnkuZmFjZXM7Zm9yKHZhciBlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKWZvcih2YXIgZz0wLGg9YVtlXS52ZXJ0ZXhUYW5nZW50cy5sZW5ndGg7ZzxoO2crKyljLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMpLGMudmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMyk7VEhSRUUuTGluZS5jYWxsKHRoaXMsYyxuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe2NvbG9yOmIsbGluZXdpZHRoOmR9KSxUSFJFRS5MaW5lUGllY2VzKTt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITE7dGhpcy51cGRhdGUoKX07VEhSRUUuVmVydGV4VGFuZ2VudHNIZWxwZXIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuTGluZS5wcm90b3R5cGUpO1xuVEhSRUUuVmVydGV4VGFuZ2VudHNIZWxwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLlZlcnRleFRhbmdlbnRzSGVscGVyO1xuVEhSRUUuVmVydGV4VGFuZ2VudHNIZWxwZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgVEhSRUUuVmVjdG9yMztyZXR1cm4gZnVuY3Rpb24oYSl7YT1bXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCJdO3RoaXMub2JqZWN0LnVwZGF0ZU1hdHJpeFdvcmxkKCEwKTtmb3IodmFyIGQ9dGhpcy5nZW9tZXRyeS52ZXJ0aWNlcyxlPXRoaXMub2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzLGY9dGhpcy5vYmplY3QuZ2VvbWV0cnkuZmFjZXMsZz10aGlzLm9iamVjdC5tYXRyaXhXb3JsZCxoPTAsaz0wLGw9Zi5sZW5ndGg7azxsO2srKylmb3IodmFyIHA9ZltrXSxxPTAsbj1wLnZlcnRleFRhbmdlbnRzLmxlbmd0aDtxPG47cSsrKXt2YXIgdD1wLnZlcnRleFRhbmdlbnRzW3FdO2RbaF0uY29weShlW3BbYVtxXV1dKS5hcHBseU1hdHJpeDQoZyk7Yi5jb3B5KHQpLnRyYW5zZm9ybURpcmVjdGlvbihnKS5tdWx0aXBseVNjYWxhcih0aGlzLnNpemUpO2IuYWRkKGRbaF0pO2grPTE7ZFtoXS5jb3B5KGIpO1xuaCs9MX10aGlzLmdlb21ldHJ5LnZlcnRpY2VzTmVlZFVwZGF0ZT0hMDtyZXR1cm4gdGhpc319KCk7XG5USFJFRS5XaXJlZnJhbWVIZWxwZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz12b2lkIDAhPT1iP2I6MTY3NzcyMTUsZD1bMCwwXSxlPXt9LGY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSxnPVtcImFcIixcImJcIixcImNcIl0saD1uZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnk7aWYoYS5nZW9tZXRyeSBpbnN0YW5jZW9mIFRIUkVFLkdlb21ldHJ5KXtmb3IodmFyIGs9YS5nZW9tZXRyeS52ZXJ0aWNlcyxsPWEuZ2VvbWV0cnkuZmFjZXMscD0wLHE9bmV3IFVpbnQzMkFycmF5KDYqbC5sZW5ndGgpLG49MCx0PWwubGVuZ3RoO248dDtuKyspZm9yKHZhciByPWxbbl0scz0wOzM+cztzKyspe2RbMF09cltnW3NdXTtkWzFdPXJbZ1socysxKSUzXV07ZC5zb3J0KGYpO3ZhciB1PWQudG9TdHJpbmcoKTt2b2lkIDA9PT1lW3VdJiYocVsyKnBdPWRbMF0scVsyKnArMV09ZFsxXSxlW3VdPSEwLHArKyl9ZD1uZXcgRmxvYXQzMkFycmF5KDYqcCk7bj0wO2Zvcih0PXA7bjx0O24rKylmb3Iocz0wOzI+cztzKyspcD1cbmtbcVsyKm4rc11dLGc9NipuKzMqcyxkW2crMF09cC54LGRbZysxXT1wLnksZFtnKzJdPXAuejtoLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShkLDMpKX1lbHNlIGlmKGEuZ2VvbWV0cnkgaW5zdGFuY2VvZiBUSFJFRS5CdWZmZXJHZW9tZXRyeSl7aWYodm9pZCAwIT09YS5nZW9tZXRyeS5hdHRyaWJ1dGVzLmluZGV4KXtrPWEuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheTt0PWEuZ2VvbWV0cnkuYXR0cmlidXRlcy5pbmRleC5hcnJheTtsPWEuZ2VvbWV0cnkuZHJhd2NhbGxzO3A9MDswPT09bC5sZW5ndGgmJihsPVt7Y291bnQ6dC5sZW5ndGgsaW5kZXg6MCxzdGFydDowfV0pO2Zvcih2YXIgcT1uZXcgVWludDMyQXJyYXkoMip0Lmxlbmd0aCkscj0wLHY9bC5sZW5ndGg7cjx2Oysrcilmb3IodmFyIHM9bFtyXS5zdGFydCx1PWxbcl0uY291bnQsZz1sW3JdLmluZGV4LG49cyx4PXMrdTtuPHg7bis9Mylmb3Iocz0wOzM+cztzKyspZFswXT1cbmcrdFtuK3NdLGRbMV09Zyt0W24rKHMrMSklM10sZC5zb3J0KGYpLHU9ZC50b1N0cmluZygpLHZvaWQgMD09PWVbdV0mJihxWzIqcF09ZFswXSxxWzIqcCsxXT1kWzFdLGVbdV09ITAscCsrKTtkPW5ldyBGbG9hdDMyQXJyYXkoNipwKTtuPTA7Zm9yKHQ9cDtuPHQ7bisrKWZvcihzPTA7Mj5zO3MrKylnPTYqbiszKnMscD0zKnFbMipuK3NdLGRbZyswXT1rW3BdLGRbZysxXT1rW3ArMV0sZFtnKzJdPWtbcCsyXX1lbHNlIGZvcihrPWEuZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5hcnJheSxwPWsubGVuZ3RoLzMscT1wLzMsZD1uZXcgRmxvYXQzMkFycmF5KDYqcCksbj0wLHQ9cTtuPHQ7bisrKWZvcihzPTA7Mz5zO3MrKylnPTE4Km4rNipzLHE9OSpuKzMqcyxkW2crMF09a1txXSxkW2crMV09a1txKzFdLGRbZysyXT1rW3ErMl0scD05Km4rKHMrMSklMyozLGRbZyszXT1rW3BdLGRbZys0XT1rW3ArMV0sZFtnKzVdPWtbcCsyXTtoLmFkZEF0dHJpYnV0ZShcInBvc2l0aW9uXCIsbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShkLFxuMykpfVRIUkVFLkxpbmUuY2FsbCh0aGlzLGgsbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtjb2xvcjpjfSksVEhSRUUuTGluZVBpZWNlcyk7dGhpcy5tYXRyaXg9YS5tYXRyaXhXb3JsZDt0aGlzLm1hdHJpeEF1dG9VcGRhdGU9ITF9O1RIUkVFLldpcmVmcmFtZUhlbHBlci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShUSFJFRS5MaW5lLnByb3RvdHlwZSk7VEhSRUUuV2lyZWZyYW1lSGVscGVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1USFJFRS5XaXJlZnJhbWVIZWxwZXI7VEhSRUUuSW1tZWRpYXRlUmVuZGVyT2JqZWN0PWZ1bmN0aW9uKCl7VEhSRUUuT2JqZWN0M0QuY2FsbCh0aGlzKTt0aGlzLnJlbmRlcj1mdW5jdGlvbihhKXt9fTtUSFJFRS5JbW1lZGlhdGVSZW5kZXJPYmplY3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoVEhSRUUuT2JqZWN0M0QucHJvdG90eXBlKTtUSFJFRS5JbW1lZGlhdGVSZW5kZXJPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yPVRIUkVFLkltbWVkaWF0ZVJlbmRlck9iamVjdDtcblRIUkVFLk1vcnBoQmxlbmRNZXNoPWZ1bmN0aW9uKGEsYil7VEhSRUUuTWVzaC5jYWxsKHRoaXMsYSxiKTt0aGlzLmFuaW1hdGlvbnNNYXA9e307dGhpcy5hbmltYXRpb25zTGlzdD1bXTt2YXIgYz10aGlzLmdlb21ldHJ5Lm1vcnBoVGFyZ2V0cy5sZW5ndGg7dGhpcy5jcmVhdGVBbmltYXRpb24oXCJfX2RlZmF1bHRcIiwwLGMtMSxjLzEpO3RoaXMuc2V0QW5pbWF0aW9uV2VpZ2h0KFwiX19kZWZhdWx0XCIsMSl9O1RIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKFRIUkVFLk1lc2gucHJvdG90eXBlKTtUSFJFRS5Nb3JwaEJsZW5kTWVzaC5wcm90b3R5cGUuY29uc3RydWN0b3I9VEhSRUUuTW9ycGhCbGVuZE1lc2g7XG5USFJFRS5Nb3JwaEJsZW5kTWVzaC5wcm90b3R5cGUuY3JlYXRlQW5pbWF0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe2I9e3N0YXJ0RnJhbWU6YixlbmRGcmFtZTpjLGxlbmd0aDpjLWIrMSxmcHM6ZCxkdXJhdGlvbjooYy1iKS9kLGxhc3RGcmFtZTowLGN1cnJlbnRGcmFtZTowLGFjdGl2ZTohMSx0aW1lOjAsZGlyZWN0aW9uOjEsd2VpZ2h0OjEsZGlyZWN0aW9uQmFja3dhcmRzOiExLG1pcnJvcmVkTG9vcDohMX07dGhpcy5hbmltYXRpb25zTWFwW2FdPWI7dGhpcy5hbmltYXRpb25zTGlzdC5wdXNoKGIpfTtcblRIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZS5hdXRvQ3JlYXRlQW5pbWF0aW9ucz1mdW5jdGlvbihhKXtmb3IodmFyIGI9LyhbYS16XSspXz8oXFxkKykvLGMsZD17fSxlPXRoaXMuZ2VvbWV0cnksZj0wLGc9ZS5tb3JwaFRhcmdldHMubGVuZ3RoO2Y8ZztmKyspe3ZhciBoPWUubW9ycGhUYXJnZXRzW2ZdLm5hbWUubWF0Y2goYik7aWYoaCYmMTxoLmxlbmd0aCl7dmFyIGs9aFsxXTtkW2tdfHwoZFtrXT17c3RhcnQ6SW5maW5pdHksZW5kOi1JbmZpbml0eX0pO2g9ZFtrXTtmPGguc3RhcnQmJihoLnN0YXJ0PWYpO2Y+aC5lbmQmJihoLmVuZD1mKTtjfHwoYz1rKX19Zm9yKGsgaW4gZCloPWRba10sdGhpcy5jcmVhdGVBbmltYXRpb24oayxoLnN0YXJ0LGguZW5kLGEpO3RoaXMuZmlyc3RBbmltYXRpb249Y307XG5USFJFRS5Nb3JwaEJsZW5kTWVzaC5wcm90b3R5cGUuc2V0QW5pbWF0aW9uRGlyZWN0aW9uRm9yd2FyZD1mdW5jdGlvbihhKXtpZihhPXRoaXMuYW5pbWF0aW9uc01hcFthXSlhLmRpcmVjdGlvbj0xLGEuZGlyZWN0aW9uQmFja3dhcmRzPSExfTtUSFJFRS5Nb3JwaEJsZW5kTWVzaC5wcm90b3R5cGUuc2V0QW5pbWF0aW9uRGlyZWN0aW9uQmFja3dhcmQ9ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmFuaW1hdGlvbnNNYXBbYV0pYS5kaXJlY3Rpb249LTEsYS5kaXJlY3Rpb25CYWNrd2FyZHM9ITB9O1RIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZS5zZXRBbmltYXRpb25GUFM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFuaW1hdGlvbnNNYXBbYV07YyYmKGMuZnBzPWIsYy5kdXJhdGlvbj0oYy5lbmQtYy5zdGFydCkvYy5mcHMpfTtcblRIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZS5zZXRBbmltYXRpb25EdXJhdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYW5pbWF0aW9uc01hcFthXTtjJiYoYy5kdXJhdGlvbj1iLGMuZnBzPShjLmVuZC1jLnN0YXJ0KS9jLmR1cmF0aW9uKX07VEhSRUUuTW9ycGhCbGVuZE1lc2gucHJvdG90eXBlLnNldEFuaW1hdGlvbldlaWdodD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYW5pbWF0aW9uc01hcFthXTtjJiYoYy53ZWlnaHQ9Yil9O1RIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZS5zZXRBbmltYXRpb25UaW1lPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hbmltYXRpb25zTWFwW2FdO2MmJihjLnRpbWU9Yil9O1RIUkVFLk1vcnBoQmxlbmRNZXNoLnByb3RvdHlwZS5nZXRBbmltYXRpb25UaW1lPWZ1bmN0aW9uKGEpe3ZhciBiPTA7aWYoYT10aGlzLmFuaW1hdGlvbnNNYXBbYV0pYj1hLnRpbWU7cmV0dXJuIGJ9O1xuVEhSRUUuTW9ycGhCbGVuZE1lc2gucHJvdG90eXBlLmdldEFuaW1hdGlvbkR1cmF0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPS0xO2lmKGE9dGhpcy5hbmltYXRpb25zTWFwW2FdKWI9YS5kdXJhdGlvbjtyZXR1cm4gYn07VEhSRUUuTW9ycGhCbGVuZE1lc2gucHJvdG90eXBlLnBsYXlBbmltYXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hbmltYXRpb25zTWFwW2FdO2I/KGIudGltZT0wLGIuYWN0aXZlPSEwKTpUSFJFRS53YXJuKFwiVEhSRUUuTW9ycGhCbGVuZE1lc2g6IGFuaW1hdGlvbltcIithK1wiXSB1bmRlZmluZWQgaW4gLnBsYXlBbmltYXRpb24oKVwiKX07VEhSRUUuTW9ycGhCbGVuZE1lc2gucHJvdG90eXBlLnN0b3BBbmltYXRpb249ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmFuaW1hdGlvbnNNYXBbYV0pYS5hY3RpdmU9ITF9O1xuVEhSRUUuTW9ycGhCbGVuZE1lc2gucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMuYW5pbWF0aW9uc0xpc3QubGVuZ3RoO2I8YztiKyspe3ZhciBkPXRoaXMuYW5pbWF0aW9uc0xpc3RbYl07aWYoZC5hY3RpdmUpe3ZhciBlPWQuZHVyYXRpb24vZC5sZW5ndGg7ZC50aW1lKz1kLmRpcmVjdGlvbiphO2lmKGQubWlycm9yZWRMb29wKXtpZihkLnRpbWU+ZC5kdXJhdGlvbnx8MD5kLnRpbWUpZC5kaXJlY3Rpb24qPS0xLGQudGltZT5kLmR1cmF0aW9uJiYoZC50aW1lPWQuZHVyYXRpb24sZC5kaXJlY3Rpb25CYWNrd2FyZHM9ITApLDA+ZC50aW1lJiYoZC50aW1lPTAsZC5kaXJlY3Rpb25CYWNrd2FyZHM9ITEpfWVsc2UgZC50aW1lJT1kLmR1cmF0aW9uLDA+ZC50aW1lJiYoZC50aW1lKz1kLmR1cmF0aW9uKTt2YXIgZj1kLnN0YXJ0RnJhbWUrVEhSRUUuTWF0aC5jbGFtcChNYXRoLmZsb29yKGQudGltZS9lKSwwLGQubGVuZ3RoLTEpLGc9ZC53ZWlnaHQ7XG5mIT09ZC5jdXJyZW50RnJhbWUmJih0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tkLmxhc3RGcmFtZV09MCx0aGlzLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tkLmN1cnJlbnRGcmFtZV09MSpnLHRoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2ZdPTAsZC5sYXN0RnJhbWU9ZC5jdXJyZW50RnJhbWUsZC5jdXJyZW50RnJhbWU9Zik7ZT1kLnRpbWUlZS9lO2QuZGlyZWN0aW9uQmFja3dhcmRzJiYoZT0xLWUpO3RoaXMubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2QuY3VycmVudEZyYW1lXT1lKmc7dGhpcy5tb3JwaFRhcmdldEluZmx1ZW5jZXNbZC5sYXN0RnJhbWVdPSgxLWUpKmd9fX07XG4iLCIvLy8gQ29weXJpZ2h0IDIwMTQtMjAxNSBSZWQgSGF0LCBJbmMuIGFuZC9vciBpdHMgYWZmaWxpYXRlc1xuLy8vIGFuZCBvdGhlciBjb250cmlidXRvcnMgYXMgaW5kaWNhdGVkIGJ5IHRoZSBAYXV0aG9yIHRhZ3MuXG4vLy9cbi8vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vL1xuLy8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLy9cbi8vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2xpYnMvaGF3dGlvLXV0aWxpdGllcy9kZWZzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vbGlicy9oYXd0aW8ta3ViZXJuZXRlcy9kZWZzLmQudHNcIi8+XG5cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbm1vZHVsZSBLdWJlM2Qge1xuXG4gIGV4cG9ydCB2YXIgVyA9IDE7XG4gIGV4cG9ydCB2YXIgUyA9IDA7XG4gIGV4cG9ydCB2YXIgV0FMTCA9IFc7XG4gIGV4cG9ydCB2YXIgU1BBQ0UgPSBTO1xuXG4gIGV4cG9ydCB2YXIgQ0VMTF9TSVpFID0gMTAwO1xuICBleHBvcnQgdmFyIEZMT09SX0xFVkVMID0gLUNFTExfU0laRTtcblxuICBleHBvcnQgaW50ZXJmYWNlIFJlbmRlcmFibGUge1xuICAgIHJlbmRlcigpOnZvaWQ7XG4gICAgZGVzdHJveSgpOnZvaWQ7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFNjZW5lT2JqZWN0IGV4dGVuZHMgUmVuZGVyYWJsZXtcbiAgICBnZXRQb3NpdGlvbigpOmFueTtcbiAgICBzZXRQb3NpdGlvbih4LCB5LCB6KTtcbiAgICBzZXRSb3RhdGlvbihyeCwgcnksIHJ6KTtcbiAgfTtcbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi9pbmNsdWRlcy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJrdWJlM2RJbnRlcmZhY2VzLnRzXCIvPlxuXG52YXIgVEhSRUUgPSByZXF1aXJlKCd0aHJlZWpzLWJ1aWxkJyk7XG5cbm1vZHVsZSBLdWJlM2Qge1xuICBleHBvcnQgdmFyIHBsdWdpbk5hbWUgPSAnS3ViZTNkJztcbiAgZXhwb3J0IHZhciBsb2c6TG9nZ2luZy5Mb2dnZXIgPSBMb2dnZXIuZ2V0KHBsdWdpbk5hbWUpO1xuICBleHBvcnQgdmFyIHRlbXBsYXRlUGF0aCA9ICdwbHVnaW5zL2t1YmUzZC9odG1sJztcbiAgZXhwb3J0IHZhciBoYXZlUG9pbnRlckxvY2sgPSAncG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudCB8fCAnbW96UG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudCB8fCAnd2Via2l0UG9pbnRlckxvY2tFbGVtZW50JyBpbiBkb2N1bWVudDtcblxuXG4gIGV4cG9ydCB2YXIgSGFsZlBJID0gTWF0aC5QSSAvIDI7XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIpIHtcbiAgICByZXR1cm4gXCIjXCIgKyAoKDEgPDwgMjQpICsgKHIgPDwgMTYpICsgKGcgPDwgOCkgKyBiKS50b1N0cmluZygxNikuc2xpY2UoMSk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcmFuZG9tR3JleSgpIHtcbiAgICB2YXIgcmdiVmFsID0gTWF0aC5yYW5kb20oKSAqIDEyOCArIDEyODtcbiAgICByZXR1cm4gcmdiVG9IZXgocmdiVmFsLCByZ2JWYWwsIHJnYlZhbCk7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gd2ViZ2xBdmFpbGFibGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xuICAgICAgcmV0dXJuICEhKCAoPGFueT53aW5kb3cpLldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJiAoXG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCggJ3dlYmdsJyApIHx8XG4gICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCggJ2V4cGVyaW1lbnRhbC13ZWJnbCcgKSApXG4gICAgICAgICAgKTtcbiAgICB9IGNhdGNoICggZSApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcGxhY2VPYmplY3QoY2VsbFgsIGNlbGxZLCBpc0Zsb29yID0gZmFsc2UpIHtcbiAgICB2YXIgeCA9IGNlbGxYICogQ0VMTF9TSVpFO1xuICAgIHZhciB6ID0gY2VsbFkgKiBDRUxMX1NJWkU7XG4gICAgdmFyIHkgPSBpc0Zsb29yID8gRkxPT1JfTEVWRUwgOiAwO1xuICAgIHJldHVybiBbeCwgeSwgel07XG4gIH1cblxuXG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJrdWJlM2RIZWxwZXJzLnRzXCIvPlxuXG5tb2R1bGUgS3ViZTNkIHtcblxuICBleHBvcnQgdmFyIF9tb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShwbHVnaW5OYW1lLCBbXSk7XG4gIGV4cG9ydCB2YXIgY29udHJvbGxlciA9IFBsdWdpbkhlbHBlcnMuY3JlYXRlQ29udHJvbGxlckZ1bmN0aW9uKF9tb2R1bGUsIHBsdWdpbk5hbWUpO1xuXG4gIHZhciB0YWIgPSB1bmRlZmluZWQ7XG5cbiAgX21vZHVsZS5jb25maWcoWyckcm91dGVQcm92aWRlcicsIFwiSGF3dGlvTmF2QnVpbGRlclByb3ZpZGVyXCIsICgkcm91dGVQcm92aWRlcjogbmcucm91dGUuSVJvdXRlUHJvdmlkZXIsIGJ1aWxkZXI6IEhhd3Rpb01haW5OYXYuQnVpbGRlckZhY3RvcnkpID0+IHtcbiAgICB0YWIgPSBidWlsZGVyLmNyZWF0ZSgpXG4gICAgICAuaWQocGx1Z2luTmFtZSlcbiAgICAgIC50aXRsZSgoKSA9PiAnM0QgVmlldycpXG4gICAgICAuaHJlZigoKSA9PiAnL2t1YmVybmV0ZXMvM2QnKVxuICAgICAgLnBhZ2UoKCkgPT4gYnVpbGRlci5qb2luKHRlbXBsYXRlUGF0aCwgJ3ZpZXcuaHRtbCcpKVxuICAgICAgLmJ1aWxkKCk7XG4gICAgYnVpbGRlci5jb25maWd1cmVSb3V0aW5nKCRyb3V0ZVByb3ZpZGVyLCB0YWIpO1xuXG4gIH1dKTtcblxuICBfbW9kdWxlLnJ1bihbJ0hhd3Rpb05hdicsIChuYXYpID0+IHtcbiAgICBuYXYub24oSGF3dGlvTWFpbk5hdi5BY3Rpb25zLkFERCwgcGx1Z2luTmFtZSwgKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLmlkICE9PSAna3ViZXJuZXRlcycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmFueShpdGVtLnRhYnMsICh0YWI6YW55KSA9PiB0YWIuaWQgPT09IHBsdWdpbk5hbWUpKSB7XG4gICAgICAgIGl0ZW0udGFicy5wdXNoKHRhYik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1dKTtcblxuXG4gIGhhd3Rpb1BsdWdpbkxvYWRlci5hZGRNb2R1bGUocGx1Z2luTmFtZSk7XG5cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJrdWJlM2RQbHVnaW4udHNcIi8+XG5cbm1vZHVsZSBLdWJlM2Qge1xuXG4gIF9tb2R1bGUuZGlyZWN0aXZlKCdyZXF1ZXN0TG9jaycsIFsnJGRvY3VtZW50JywgKCRkb2N1bWVudCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgJ29uTG9jayc6ICcmcmVxdWVzdExvY2snXG4gICAgICB9LFxuICAgICAgbGluazogKHNjb3BlLCBlbGVtZW50LCBhdHRyKSA9PiB7XG4gICAgICAgIHZhciBlbCA9IGVsZW1lbnRbMF0gfHwgZWxlbWVudDtcbiAgICAgICAgaWYgKGhhdmVQb2ludGVyTG9jaykge1xuICAgICAgICAgIGxvZy5kZWJ1ZyhcImhlcmUhXCIpO1xuICAgICAgICAgIHZhciBkb2MgPSAkZG9jdW1lbnRbMF07XG4gICAgICAgICAgdmFyIGJvZHkgPSBkb2MuYm9keTtcblxuICAgICAgICAgIHZhciBwb2ludGVybG9ja2NoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCBkb2MucG9pbnRlckxvY2tFbGVtZW50ID09PSBib2R5IHx8IFxuICAgICAgICAgICAgICAgICBkb2MubW96UG9pbnRlckxvY2tFbGVtZW50ID09PSBib2R5IHx8IFxuICAgICAgICAgICAgICAgICBkb2Mud2Via2l0UG9pbnRlckxvY2tFbGVtZW50ID09PSBib2R5ICkge1xuICAgICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICBzY29wZS5vbkxvY2soeyBsb2NrOiB0cnVlIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgICBzY29wZS5vbkxvY2soeyBsb2NrOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENvcmUuJGFwcGx5KHNjb3BlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIHBvaW50ZXJsb2NrZXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoICdwb2ludGVybG9ja2NoYW5nZScsIHBvaW50ZXJsb2NrY2hhbmdlLCBmYWxzZSApO1xuICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCAnbW96cG9pbnRlcmxvY2tjaGFuZ2UnLCBwb2ludGVybG9ja2NoYW5nZSwgZmFsc2UgKTtcbiAgICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lciggJ3dlYmtpdHBvaW50ZXJsb2NrY2hhbmdlJywgcG9pbnRlcmxvY2tjaGFuZ2UsIGZhbHNlICk7XG5cbiAgICAgICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lciggJ3BvaW50ZXJsb2NrZXJyb3InLCBwb2ludGVybG9ja2Vycm9yLCBmYWxzZSApO1xuICAgICAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKCAnbW96cG9pbnRlcmxvY2tlcnJvcicsIHBvaW50ZXJsb2NrZXJyb3IsIGZhbHNlICk7XG4gICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoICd3ZWJraXRwb2ludGVybG9ja2Vycm9yJywgcG9pbnRlcmxvY2tlcnJvciwgZmFsc2UgKTtcblxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgYm9keS5yZXF1ZXN0UG9pbnRlckxvY2sgPSBib2R5LnJlcXVlc3RQb2ludGVyTG9jayB8fCBib2R5Lm1velJlcXVlc3RQb2ludGVyTG9jayB8fCBib2R5LndlYmtpdFJlcXVlc3RQb2ludGVyTG9jaztcbiAgICAgICAgICAgIGJvZHkucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImt1YmUzZEludGVyZmFjZXMudHNcIi8+XG5tb2R1bGUgS3ViZTNkIHtcblxuICB2YXIgbG9nOkxvZ2dpbmcuTG9nZ2VyID0gTG9nZ2VyLmdldCgnS3ViZTNkJyk7XG5cbiAgZXhwb3J0IGNsYXNzIFNjZW5lT2JqZWN0QmFzZSBpbXBsZW1lbnRzIFNjZW5lT2JqZWN0IHtcblxuICAgIHByaXZhdGUgYm91bmRpbmdCb3g6YW55ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzY2VuZTphbnksIHB1YmxpYyBnZW9tZXRyeTphbnkpIHtcbiAgICAgIHRoaXMuc2NlbmUuYWRkKGdlb21ldHJ5KTtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3ggPSBuZXcgVEhSRUUuQm91bmRpbmdCb3hIZWxwZXIodGhpcy5nZW9tZXRyeSwgMHgwMGZmMDApO1xuICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5ib3VuZGluZ0JveCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG4gICAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLmdlb21ldHJ5KTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpO1xuICAgICAgZGVsZXRlIHRoaXMuZ2VvbWV0cnk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlYnVnKGVuYWJsZSkge1xuICAgICAgdGhpcy5ib3VuZGluZ0JveC52aXNpYmxlID0gZW5hYmxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3ZlKHgsIHksIHopIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucG9zaXRpb24ueCArPSB4O1xuICAgICAgdGhpcy5nZW9tZXRyeS5wb3NpdGlvbi55ICs9IHk7XG4gICAgICB0aGlzLmdlb21ldHJ5LnBvc2l0aW9uLnogKz0gejtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gucG9zaXRpb24ueCArPSB4O1xuICAgICAgdGhpcy5ib3VuZGluZ0JveC5wb3NpdGlvbi55ICs9IHk7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LnBvc2l0aW9uLnogKz0gejtcbiAgICB9XG5cbiAgICBwdWJsaWMgcm90YXRlKHJ4LCByeSwgcnopIHtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucm90YXRpb24ueCArPSByeDtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucm90YXRpb24ueSArPSByeTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucm90YXRpb24ueiArPSByejtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gucm90YXRpb24ueCArPSByeDtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gucm90YXRpb24ueSArPSByeTtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gucm90YXRpb24ueiArPSByejtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UG9zaXRpb24oKSB7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LnVwZGF0ZSgpO1xuICAgICAgcmV0dXJuIHRoaXMuYm91bmRpbmdCb3gub2JqZWN0LnBvc2l0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRQb3NpdGlvbih4LCB5LCB6KSB7XG4gICAgICB0aGlzLmdlb21ldHJ5LnBvc2l0aW9uLnggPSB4O1xuICAgICAgdGhpcy5nZW9tZXRyeS5wb3NpdGlvbi55ID0geTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucG9zaXRpb24ueiA9IHo7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LnBvc2l0aW9uLnggPSB4O1xuICAgICAgdGhpcy5ib3VuZGluZ0JveC5wb3NpdGlvbi55ID0geTtcbiAgICAgIHRoaXMuYm91bmRpbmdCb3gucG9zaXRpb24ueiA9IHo7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Um90YXRpb24ocngsIHJ5LCByeikge1xuICAgICAgdGhpcy5nZW9tZXRyeS5yb3RhdGlvbi54ID0gcng7XG4gICAgICB0aGlzLmdlb21ldHJ5LnJvdGF0aW9uLnkgPSByeTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucm90YXRpb24ueiA9IHJ6O1xuICAgICAgdGhpcy5nZW9tZXRyeS5yb3RhdGlvbi54ID0gcng7XG4gICAgICB0aGlzLmdlb21ldHJ5LnJvdGF0aW9uLnkgPSByeTtcbiAgICAgIHRoaXMuZ2VvbWV0cnkucm90YXRpb24ueiA9IHJ6O1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgICB0aGlzLmJvdW5kaW5nQm94LnVwZGF0ZSgpO1xuICAgIH1cblxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFBvZE9iamVjdCBleHRlbmRzIFNjZW5lT2JqZWN0QmFzZSB7XG4gICAgcHJpdmF0ZSBhbmdsZTpudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBjaXJjbGU6YW55ID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgcm90YXRpb24gPSB7XG4gICAgICB4OiBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAvIDEwMDAsXG4gICAgICB5OiBNYXRoLnJhbmRvbSgpICogTWF0aC5QSSAvIDEwMCxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJIC8gMTAwMFxuICAgIH07XG4gICAgY29uc3RydWN0b3IocHVibGljIHNjZW5lOiBhbnksIHB1YmxpYyBob3N0T2JqZWN0Okhvc3RPYmplY3QsIHB1YmxpYyBpZDpzdHJpbmcsIHB1YmxpYyBvYmo6YW55KSB7XG4gICAgICBzdXBlcihzY2VuZSwgbmV3IFRIUkVFLk9iamVjdDNEKCkpO1xuICAgICAgdmFyIHRleHR1cmUgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKG9iai4kaWNvblVybCk7XG4gICAgICB0ZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XG4gICAgICB0aGlzLmdlb21ldHJ5LmFkZChcbiAgICAgICAgICBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgICAgIG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg1MCwgNTAsIDUwKSwgXG4gICAgICAgICAgICBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgICBjb2xvcjogMHhmZmZmZmYsIFxuICAgICAgICAgICAgICBtYXA6IHRleHR1cmUsXG4gICAgICAgICAgICAgIGJ1bXBNYXA6IHRleHR1cmUsXG4gICAgICAgICAgICAgIGNhc3RTaGFkb3c6IHRydWUsIFxuICAgICAgICAgICAgICByZWNlaXZlU2hhZG93OiB0cnVlLCBcbiAgICAgICAgICAgICAgc2hhZGluZzogVEhSRUUuU21vb3RoU2hhZGluZ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICkpO1xuICAgICAgbG9nLmRlYnVnKFwiQ3JlYXRlZCBwb2Qgb2JqZWN0IFwiLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShtb2RlbCwgcG9kKSB7XG4gICAgICB0aGlzLm9iaiA9IHBvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuaG9zdE9iamVjdC5nZW9tZXRyeS5yZW1vdmUodGhpcy5jaXJjbGUpO1xuICAgICAgbG9nLmRlYnVnKFwiRGVzdHJveWVkIHBvZCBvYmplY3QgXCIsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGlzdGFuY2UoKSB7XG4gICAgICB2YXIgaG9zdFBvc2l0aW9uID0gdGhpcy5ob3N0T2JqZWN0LmdldFBvc2l0aW9uKCk7XG4gICAgICB2YXIgbXlQb3NpdGlvbiA9IHRoaXMuZ2V0UG9zaXRpb24oKTtcbiAgICAgIHZhciBkaXN0WCA9IE1hdGguYWJzKGhvc3RQb3NpdGlvbi54IC0gbXlQb3NpdGlvbi54KTtcbiAgICAgIHZhciBkaXN0WSA9IE1hdGguYWJzKGhvc3RQb3NpdGlvbi55IC0gbXlQb3NpdGlvbi55KTtcbiAgICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdFggKiBkaXN0WCArIGRpc3RZICogZGlzdFkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYW5nbGVPZlZlbG9jaXR5KCkge1xuICAgICAgaWYgKCF0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHZhciBkaXN0ID0gdGhpcy5kaXN0YW5jZSgpO1xuICAgICAgICBsb2cuZGVidWcoXCJwb2QgaWQ6IFwiLCB0aGlzLmlkLCBcIiBkaXN0YW5jZTogXCIsIGRpc3QpO1xuICAgICAgICB0aGlzLmFuZ2xlID0gKDEgLyBkaXN0KSAqIDEwO1xuICAgICAgICBsb2cuZGVidWcoXCJwb2QgaWQ6IFwiLCB0aGlzLmlkLCBcIiBhbmdsZTogXCIsIHRoaXMuYW5nbGUpO1xuICAgICAgICB2YXIgbWF0ZXJpYWxBcnJheSA9IFtdO1xuICAgICAgICB2YXIgZmFjZSA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7IFxuICAgICAgICAgIGNvbG9yOiAweDU1NTU1NSxcbiAgICAgICAgICBjYXN0U2hhZG93OiB0cnVlLFxuICAgICAgICAgIHJlY2VpdmVTaGFkb3c6IHRydWUsXG4gICAgICAgICAgd2lyZWZyYW1lOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBtYXRlcmlhbEFycmF5LnB1c2goZmFjZS5jbG9uZSgpKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKGZhY2UuY2xvbmUoKSk7XG4gICAgICAgIHRoaXMuY2lyY2xlID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlJpbmdHZW9tZXRyeShkaXN0IC0gMSwgZGlzdCArIDEsIDEyOCksIG5ldyBUSFJFRS5NZXNoRmFjZU1hdGVyaWFsKG1hdGVyaWFsQXJyYXkpKTtcbiAgICAgICAgdGhpcy5ob3N0T2JqZWN0Lmdlb21ldHJ5LmFkZCh0aGlzLmNpcmNsZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5hbmdsZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgdmFyIG15UG9zaXRpb24gPSB0aGlzLmdldFBvc2l0aW9uKCk7XG4gICAgICB2YXIgaG9zdFBvc2l0aW9uID0gdGhpcy5ob3N0T2JqZWN0LmdldFBvc2l0aW9uKCk7XG4gICAgICB2YXIgeCA9IG15UG9zaXRpb24ueDtcbiAgICAgIHZhciB5ID0gbXlQb3NpdGlvbi55O1xuICAgICAgdmFyIGNlbnRlclggPSBob3N0UG9zaXRpb24ueDtcbiAgICAgIHZhciBjZW50ZXJZID0gaG9zdFBvc2l0aW9uLnk7XG4gICAgICB2YXIgb2Zmc2V0WCA9IHggLSBjZW50ZXJYO1xuICAgICAgdmFyIG9mZnNldFkgPSB5IC0gY2VudGVyWTtcbiAgICAgIHZhciBhbmdsZSA9IHRoaXMuYW5nbGVPZlZlbG9jaXR5KCk7XG4gICAgICB2YXIgbmV3WCA9IGNlbnRlclggKyBvZmZzZXRYICogTWF0aC5jb3MoYW5nbGUpIC0gb2Zmc2V0WSAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICAgIHZhciBuZXdZID0gY2VudGVyWSArIG9mZnNldFggKiBNYXRoLnNpbihhbmdsZSkgKyBvZmZzZXRZICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgdGhpcy5zZXRQb3NpdGlvbihuZXdYLCBuZXdZLCAwKTtcbiAgICAgIHRoaXMucm90YXRlKHRoaXMucm90YXRpb24ueCwgdGhpcy5yb3RhdGlvbi55LCB0aGlzLnJvdGF0aW9uLnopO1xuICAgICAgc3VwZXIucmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIEhvc3RPYmplY3QgZXh0ZW5kcyBTY2VuZU9iamVjdEJhc2Uge1xuICAgIHByaXZhdGUgb2Zmc2V0WCA9IDIwMDtcbiAgICBwcml2YXRlIG9mZnNldFkgPSAyMDA7XG4gICAgcHVibGljIHBvZHMgPSB7fTtcbiAgICBwdWJsaWMgcm90YXRpb24gPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHo6IE1hdGgucmFuZG9tKCkgKiBNYXRoLlBJIC8gMTAwMFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNjZW5lOiBhbnksIHB1YmxpYyBpZDpzdHJpbmcsIHB1YmxpYyBvYmo6YW55KSB7XG4gICAgICBzdXBlcihzY2VuZSwgbmV3IFRIUkVFLk9iamVjdDNEKCkpXG4gICAgICB2YXIgdGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2ltZy9zdW4tdGV4dHVyZS5qcGcnKTtcbiAgICAgIHRleHR1cmUubWluRmlsdGVyID0gVEhSRUUuTmVhcmVzdEZpbHRlcjtcbiAgICAgIHRoaXMuZ2VvbWV0cnkuYWRkKCBcbiAgICAgICAgICBuZXcgVEhSRUUuUG9pbnRMaWdodCgweGZmZDcwMCwgMSwgNTAwMCksXG4gICAgICAgICAgbmV3IFRIUkVFLk1lc2goXG4gICAgICAgICAgICBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMTAwLCAzMiwgMTYpLCBcbiAgICAgICAgICAgIG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCh7XG4gICAgICAgICAgICAgIGNvbG9yOiAweGZmZDcwMCwgXG4gICAgICAgICAgICAgIG1hcDogdGV4dHVyZSxcbiAgICAgICAgICAgICAgYnVtcE1hcDogdGV4dHVyZSxcbiAgICAgICAgICAgICAgc3BlY3VsYXI6IDB4MDBmZjAwLCBcbiAgICAgICAgICAgICAgc2hhZGluZzogVEhSRUUuU21vb3RoU2hhZGluZ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICBsb2cuZGVidWcoXCJDcmVhdGVkIGhvc3Qgb2JqZWN0IFwiLCBpZCk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShtb2RlbCwgaG9zdCkge1xuICAgICAgdGhpcy5vYmogPSBob3N0O1xuICAgICAgdmFyIHBvZHNUb1JlbW92ZSA9IFtdO1xuICAgICAgXy5mb3JJbih0aGlzLnBvZHMsIChwb2QsIGtleSkgPT4ge1xuICAgICAgICBpZiAoIShrZXkgaW4gbW9kZWwucG9kc0J5S2V5KSkge1xuICAgICAgICAgIHBvZHNUb1JlbW92ZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXy5mb3JFYWNoKHBvZHNUb1JlbW92ZSwgKGlkKSA9PiB0aGlzLnJlbW92ZVBvZChpZCkpO1xuICAgICAgXy5mb3JFYWNoKHRoaXMub2JqLnBvZHMsIChwb2Q6YW55KSA9PiB7XG4gICAgICAgIHZhciBuYW1lID0gcG9kLl9rZXk7XG4gICAgICAgIGlmICghdGhpcy5oYXNQb2QobmFtZSkpIHtcbiAgICAgICAgICB0aGlzLmFkZFBvZChuYW1lLCBwb2QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwb2RPYmogPSB0aGlzLnBvZHNbbmFtZV07XG4gICAgICAgICAgcG9kT2JqLnVwZGF0ZShtb2RlbCwgcG9kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGRlYnVnKGVuYWJsZSkge1xuICAgICAgdmFyIGlkcyA9IF8ua2V5cyh0aGlzLnBvZHMpXG4gICAgICBfLmZvckVhY2goaWRzLCAoaWQpID0+IHRoaXMucG9kc1tpZF0uZGVidWcoZW5hYmxlKSk7XG4gICAgICBzdXBlci5kZWJ1ZyhlbmFibGUpO1xuICAgIH1cblxuICAgIHB1YmxpYyBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMucG9kcykge1xuICAgICAgICB2YXIgcG9kSWRzID0gXy5rZXlzKHRoaXMucG9kcyk7XG4gICAgICAgIF8uZm9yRWFjaChwb2RJZHMsIChpZCkgPT4gdGhpcy5yZW1vdmVQb2QoaWQpKTtcbiAgICAgIH1cbiAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgIGxvZy5kZWJ1ZyhcIkRlc3Ryb3lpbmcgaG9zdCBvYmplY3QgXCIsIHRoaXMuaWQpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW1vdmVQb2QoaWQpIHtcbiAgICAgIHZhciBwb2QgPSB0aGlzLnBvZHNbaWRdO1xuICAgICAgaWYgKHBvZCkge1xuICAgICAgICBwb2QuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgdGhpcy5wb2RzW2lkXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkUG9kKGtleSwgcDphbnkpIHtcbiAgICAgIGlmICh0aGlzLmhhc1BvZChrZXkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBteVBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbigpO1xuICAgICAgdmFyIHBvZE9mZnNldFggPSB0aGlzLm9mZnNldFggLSBteVBvc2l0aW9uLng7XG4gICAgICB2YXIgcG9kT2Zmc2V0WSA9IG15UG9zaXRpb24ueTtcbiAgICAgIC8qXG4gICAgICB2YXIgYW5nbGUgPSBNYXRoLnJhbmRvbSgpICogMzYwO1xuICAgICAgdmFyIHBvZFggPSBteVBvc2l0aW9uLnggKyBwb2RPZmZzZXRYICogTWF0aC5jb3MoYW5nbGUpIC0gcG9kT2Zmc2V0WSAqIE1hdGguc2luKGFuZ2xlKTtcbiAgICAgIHZhciBwb2RZID0gbXlQb3NpdGlvbi55ICsgcG9kT2Zmc2V0WCAqIE1hdGguc2luKGFuZ2xlKSAtIHBvZE9mZnNldFkgKiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAqL1xuICAgICAgdmFyIHBvZCA9IG5ldyBQb2RPYmplY3QodGhpcy5zY2VuZSwgdGhpcywga2V5LCBwKTtcbiAgICAgIHBvZC5zZXRQb3NpdGlvbihteVBvc2l0aW9uLngsIG15UG9zaXRpb24ueSwgbXlQb3NpdGlvbi56KTtcbiAgICAgIHBvZC5tb3ZlKHRoaXMub2Zmc2V0WCwgMCwgMCk7XG4gICAgICB0aGlzLm9mZnNldFggPSB0aGlzLm9mZnNldFggKyBNYXRoLnJhbmRvbSgpICogNTAgKyAxMDA7XG4gICAgICB0aGlzLm9mZnNldFkgPSB0aGlzLm9mZnNldFkgKyBNYXRoLnJhbmRvbSgpICogNTAgKyAxMDA7XG4gICAgICB0aGlzLnBvZHNba2V5XSA9IHBvZDtcbiAgICB9XG5cbiAgICBwdWJsaWMgaGFzUG9kKGlkKSB7XG4gICAgICByZXR1cm4gKGlkIGluIHRoaXMucG9kcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGVwID0gMDtcbiAgICBcbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuICAgICAgdGhpcy5yb3RhdGUodGhpcy5yb3RhdGlvbi54LCB0aGlzLnJvdGF0aW9uLnksIHRoaXMucm90YXRpb24ueik7XG4gICAgICBfLmZvckluKHRoaXMucG9kcywgKHBvZE9iamVjdCwgaWQpID0+IHtcbiAgICAgICAgcG9kT2JqZWN0LnJlbmRlcigpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnN0ZXAgPSB0aGlzLnN0ZXAgKyAxO1xuICAgICAgc3VwZXIucmVuZGVyKCk7XG4gICAgfVxuXG5cbiAgfVxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwia3ViZTNkSGVscGVycy50c1wiLz5cblxubW9kdWxlIEt1YmUzZCB7XG5cbiAgdmFyIGxldmVsRGF0YSA9IFxuICAgIFtcbiAgICAgIFsgVywgVywgVywgVywgVywgVywgVywgVyBdLFxuICAgICAgWyBXLCBTLCBTLCBTLCBTLCBTLCBTLCBXIF0sXG4gICAgICBbIFcsIFMsIFMsIFMsIFMsIFMsIFMsIFcgXSxcbiAgICAgIFsgVywgUywgUywgUywgUywgUywgUywgVyBdLFxuICAgICAgWyBXLCBTLCBTLCBTLCBTLCBTLCBTLCBXIF0sXG4gICAgICBbIFcsIFMsIFMsIFMsIFMsIFMsIFMsIFcgXSxcbiAgICAgIFsgVywgUywgUywgUywgUywgUywgUywgVyBdLFxuICAgICAgWyBXLCBXLCBXLCBXLCBXLCBXLCBXLCBXIF1cbiAgICBdO1xuXG4gIHZhciBsZXZlbFdpZHRoID0gbGV2ZWxEYXRhWzBdLmxlbmd0aDtcbiAgdmFyIGxldmVsSGVpZ2h0ID0gbGV2ZWxEYXRhLmxlbmd0aDtcblxuICB2YXIgd2FsbFRleHR1cmUgPSBUSFJFRS5JbWFnZVV0aWxzLmxvYWRUZXh0dXJlKCdpbWcvSU1HUDE0NTAuanBnJyk7XG4gIHdhbGxUZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XG4gIHZhciB3YWxsTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDAwZmYwMCwgXG4gICAgbWFwOiB3YWxsVGV4dHVyZSxcbiAgICBjYXN0U2hhZG93OiB0cnVlLFxuICAgIHJlY2VpdmVTaGFkb3c6IHRydWUsXG4gICAgd2lyZWZyYW1lOiBmYWxzZVxuICB9KTtcbiAgdmFyIHdhbGwgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQm94R2VvbWV0cnkoQ0VMTF9TSVpFLCBDRUxMX1NJWkUsIENFTExfU0laRSksIHdhbGxNYXRlcmlhbCk7XG5cbiAgdmFyIGZsb29yVGV4dHVyZSA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2ltZy9JTUdQMTQ1MC5qcGcnKTtcbiAgZmxvb3JUZXh0dXJlLm1pbkZpbHRlciA9IFRIUkVFLk5lYXJlc3RGaWx0ZXI7XG4gIHZhciBmbG9vck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHtcbiAgICBjb2xvcjogMHhmZjAwMDAsIFxuICAgIG1hcDogZmxvb3JUZXh0dXJlLFxuICAgIGNhc3RTaGFkb3c6IHRydWUsXG4gICAgcmVjZWl2ZVNoYWRvdzogdHJ1ZSxcbiAgICB3aXJlZnJhbWU6IGZhbHNlXG4gIH0pO1xuICB2YXIgZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQm94R2VvbWV0cnkoQ0VMTF9TSVpFLCBDRUxMX1NJWkUsIENFTExfU0laRSksIGZsb29yTWF0ZXJpYWwpO1xuXG4gIGZ1bmN0aW9uIG1ha2VCb3goY2VsbFgsIGNlbGxZLCBpc0Zsb29yID0gZmFsc2UpIHtcbiAgICB2YXIgYm94ID0gaXNGbG9vciA/IGZsb29yLmNsb25lKCkgOiB3YWxsLmNsb25lKCk7XG4gICAgYm94LnBvc2l0aW9uLmZyb21BcnJheShwbGFjZU9iamVjdChjZWxsWCwgY2VsbFksIGlzRmxvb3IpKTtcbiAgICByZXR1cm4gYm94O1xuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFdvcmxkIGltcGxlbWVudHMgUmVuZGVyYWJsZSB7XG4gICAgcHJpdmF0ZSBhbWJpZW50ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHhmZmZmZmYgKTtcbiAgICBwcml2YXRlIGxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoIDB4ODg4ODg4ICk7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBzY2VuZSkge1xuICAgICAgdGhpcy5hbWJpZW50LmNvbG9yLnNldEhTTCggMC4xLCAwLjMsIDAuMiApO1xuICAgICAgdGhpcy5saWdodC5wb3NpdGlvbi5zZXQoIDEsIDEsIDApO1xuICAgICAgLy9zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKDB4ZmZmZmZmLCA1MDAsIDEwMDAwKVxuICAgICAgc2NlbmUuYWRkKHRoaXMuYW1iaWVudCk7XG4gICAgICBzY2VuZS5hZGQodGhpcy5saWdodCk7XG5cbiAgICAgIC8vIHNreWJveFxuICAgICAgdmFyIG1hdGVyaWFsQXJyYXkgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKVxuICAgICAgICBtYXRlcmlhbEFycmF5LnB1c2gobmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICBtYXA6IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2ltZy9zcGFjZS1zZWFtbGVzcy5wbmcnKSxcbiAgICAgICAgICBzaWRlOiBUSFJFRS5CYWNrU2lkZVxuICAgICAgICB9KSk7XG4gICAgICB2YXIgc2t5TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbChtYXRlcmlhbEFycmF5KTtcbiAgICAgIHNjZW5lLmFkZChuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQm94R2VvbWV0cnkoMTAwMDAsIDEwMDAwLCAxMDAwMCksIHNreU1hdGVyaWFsKSk7XG5cbiAgICAgIC8vIHdhbGxzL2Zsb29yXG4gICAgICBfLmZvckVhY2gobGV2ZWxEYXRhLCAocm93LCB5KSA9PiB7XG4gICAgICAgIF8uZm9yRWFjaChyb3csIChjZWxsLCB4KSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChjZWxsKSB7XG4gICAgICAgICAgICBjYXNlIFdBTEw6XG4gICAgICAgICAgICAgIHNjZW5lLmFkZChtYWtlQm94KHgsIHksIGZhbHNlKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzY2VuZS5hZGQobWFrZUJveCh4LCB5LCB0cnVlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8qXG4gICAgICAvLyBwYXJ0aWNsZSBjbG91ZFxuICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEwMDAwOyBpKyspIHtcbiAgICAgICAgdmFyIHZlcnRleCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgICAgIHZlcnRleC54ID0gVEhSRUUuTWF0aC5yYW5kRmxvYXRTcHJlYWQoIDEwMDAwICk7XG4gICAgICAgIHZlcnRleC55ID0gVEhSRUUuTWF0aC5yYW5kRmxvYXRTcHJlYWQoIDEwMDAwICk7XG4gICAgICAgIHZlcnRleC56ID0gVEhSRUUuTWF0aC5yYW5kRmxvYXRTcHJlYWQoIDEwMDAwICk7XG4gICAgICAgIGdlb21ldHJ5LnZlcnRpY2VzLnB1c2godmVydGV4KTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXJ0aWNsZXMgPSBuZXcgVEhSRUUuUG9pbnRDbG91ZCggZ2VvbWV0cnksIG5ldyBUSFJFRS5Qb2ludENsb3VkTWF0ZXJpYWwoe2NvbG9yOiAweDg4ODg4OCwgZm9nOiB0cnVlfSkpO1xuICAgICAgc2NlbmUuYWRkKHBhcnRpY2xlcyk7XG4gICAgICAqL1xuICAgIH1cblxuICAgIHB1YmxpYyBwbGFjZVBsYXllcihvYmplY3QpIHtcbiAgICAgIHRoaXMucGxhY2VPYmplY3Qob2JqZWN0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcGxhY2VPYmplY3Qob2JqZWN0KSB7XG4gICAgICBpZiAoIW9iamVjdCB8fCAhb2JqZWN0LnBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB4LCB5O1xuICAgICAgZG8ge1xuICAgICAgICB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxldmVsV2lkdGggLSAyKSArIDEpO1xuICAgICAgICB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGxldmVsSGVpZ2h0IC0yKSArIDEpO1xuICAgICAgICBsb2cuZGVidWcoXCJ4OlwiLHgsXCJ5OlwiLHksXCJ2YWw6XCIsbGV2ZWxEYXRhW3ldW3hdKTtcbiAgICAgIH0gd2hpbGUgKGxldmVsRGF0YVt5XVt4XSAhPT0gU1BBQ0UpXG4gICAgICBvYmplY3QucG9zaXRpb24uZnJvbUFycmF5KHBsYWNlT2JqZWN0KHgsIHkpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyKCkge1xuXG4gICAgfVxuXG4gICAgcHVibGljIGRlc3Ryb3koKSB7XG5cbiAgICB9XG5cbiAgfVxuXG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwia3ViZTNkSGVscGVycy50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJ3b3JsZC50c1wiLz5cblxubW9kdWxlIEt1YmUzZCB7XG5cbiAgZXhwb3J0IGNsYXNzIFBsYXllciBpbXBsZW1lbnRzIFJlbmRlcmFibGUge1xuICAgIHByaXZhdGUgbG9nOkxvZ2dpbmcuTG9nZ2VyID0gTG9nZ2VyLmdldCgna3ViZTNkLXBsYXllcicpO1xuICAgIHByaXZhdGUgZG9tRWxlbWVudDphbnkgPSBudWxsO1xuICAgIHByaXZhdGUgX2xvb2tBdDphbnkgPSBudWxsO1xuICAgIHByaXZhdGUgcGl0Y2ggPSBuZXcgVEhSRUUuT2JqZWN0M0QoKTtcbiAgICBwcml2YXRlIHlhdyA9IG5ldyBUSFJFRS5PYmplY3QzRCgpO1xuXG4gICAgcHJpdmF0ZSBfZW5hYmxlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2RvY3VtZW50ID0gdW5kZWZpbmVkO1xuXG4gICAgcHJpdmF0ZSBnZXRXb3JsZE9iamVjdHM6YW55ID0gKCkgPT4gW107XG5cbiAgICBwcml2YXRlIHJheWNhc3RlciA9IG5ldyBUSFJFRS5SYXljYXN0ZXIobmV3IFRIUkVFLlZlY3RvcjMoKSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgLTEsIDApLCAwLCAxMCk7XG5cbiAgICAvLyBtb3ZlbWVudCBib29sZWFuc1xuICAgIHByaXZhdGUgZm9yd2FyZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgYmFja3dhcmQgPSBmYWxzZTtcbiAgICBwcml2YXRlIGxlZnQgPSBmYWxzZTtcbiAgICBwcml2YXRlIHJpZ2h0ID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBjYW5KdW1wID0gdHJ1ZTtcbiAgICBwcml2YXRlIHJ1bm5pbmcgPSBmYWxzZTtcblxuICAgIC8vIG1vdmVtZW50IHZlbG9jaXR5XG4gICAgcHJpdmF0ZSB2ZWxvY2l0eSA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG4gICAgcHJpdmF0ZSBwcmV2VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gICAgLy8ga2V5L21vdXNlIGhhbmRsZXJzXG4gICAgcHJpdmF0ZSBoYW5kbGVyczphbnkgPSBudWxsO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgc2NlbmUsIHByaXZhdGUgY2FtZXJhLCBwcml2YXRlIGQsIHByaXZhdGUgd29ybGQ6V29ybGQpIHtcblxuICAgICAgY2FtZXJhLnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICB0aGlzLnBpdGNoLmFkZChjYW1lcmEpO1xuICAgICAgdGhpcy55YXcuYWRkKHRoaXMucGl0Y2gpO1xuICAgICAgc2NlbmUuYWRkKHRoaXMueWF3KTtcblxuICAgICAgdGhpcy55YXcucG9zaXRpb24uc2V0KDAsIDAsIC01KTtcblxuICAgICAgdmFyIGRvbUVsZW1lbnQgPSB0aGlzLmRvbUVsZW1lbnQgPSAkKGQpO1xuXG4gICAgICBpZiAoIWhhdmVQb2ludGVyTG9jaykge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgIHNlbGYuaGFuZGxlcnMgPSB7XG4gICAgICAgICdrZXlkb3duJzogKGV2ZW50OmFueSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG4gICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICAgICAgY2FzZSA4NzogLy8gd1xuICAgICAgICAgICAgICBzZWxmLmZvcndhcmQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzc6IC8vIGxlZnRcbiAgICAgICAgICAgIGNhc2UgNjU6IC8vIGFcbiAgICAgICAgICAgICAgc2VsZi5sZWZ0ID0gdHJ1ZTsgXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDogLy8gZG93blxuICAgICAgICAgICAgY2FzZSA4MzogLy8gc1xuICAgICAgICAgICAgICBzZWxmLmJhY2t3YXJkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICAgICAgY2FzZSA2ODogLy8gZFxuICAgICAgICAgICAgICBzZWxmLnJpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE2OiAvLyBzaGlmdFxuICAgICAgICAgICAgICBzZWxmLnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzI6IC8vIHNwYWNlXG4gICAgICAgICAgICAgIGlmIChzZWxmLmNhbkp1bXAgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnZlbG9jaXR5LnkgKz0gMzUwO1xuICAgICAgICAgICAgICAgIHNlbGYuY2FuSnVtcCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2tleXVwJzogKGV2ZW50OmFueSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7XG4gICAgICAgICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICAgICAgY2FzZSA4NzogLy8gd1xuICAgICAgICAgICAgICBzZWxmLmZvcndhcmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM3OiAvLyBsZWZ0XG4gICAgICAgICAgICBjYXNlIDY1OiAvLyBhXG4gICAgICAgICAgICAgIHNlbGYubGVmdCA9IGZhbHNlOyBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwOiAvLyBkb3duXG4gICAgICAgICAgICBjYXNlIDgzOiAvLyBzXG4gICAgICAgICAgICAgIHNlbGYuYmFja3dhcmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICAgICAgY2FzZSA2ODogLy8gZFxuICAgICAgICAgICAgICBzZWxmLnJpZ2h0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxNjogLy8gc2hpZnRcbiAgICAgICAgICAgICAgc2VsZi5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ21vdXNlbW92ZSc6IChldmVudDphbnkpID0+IHtcbiAgICAgICAgICBpZiAoIXNlbGYuX2VuYWJsZWQgfHwgIWhhdmVQb2ludGVyTG9jaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgeWF3ID0gc2VsZi55YXc7XG4gICAgICAgICAgdmFyIHBpdGNoID0gc2VsZi5waXRjaDtcbiAgICAgICAgICB2YXIgZGVsdGFYID0gZXZlbnQubW92ZW1lbnRYIHx8IGV2ZW50Lm1vek1vdmVtZW50WCB8fCBldmVudC53ZWJraXRNb3ZlbWVudFggfHwgMDtcbiAgICAgICAgICB2YXIgZGVsdGFZID0gZXZlbnQubW92ZW1lbnRZIHx8IGV2ZW50Lm1vek1vdmVtZW50WCB8fCBldmVudC53ZWJraXRNb3ZlbWVudFggfHwgMDtcbiAgICAgICAgICB5YXcucm90YXRpb24ueSAtPSBkZWx0YVggKiAwLjAwMjtcbiAgICAgICAgICBwaXRjaC5yb3RhdGlvbi54IC09IGRlbHRhWSAqIDAuMDAyO1xuICAgICAgICAgIHBpdGNoLnJvdGF0aW9uLnggPSBNYXRoLm1heCgtSGFsZlBJLCBNYXRoLm1pbihIYWxmUEksIHBpdGNoLnJvdGF0aW9uLngpKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIF8uZm9ySW4odGhpcy5oYW5kbGVycywgKGhhbmRsZXIsIGV2dCkgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGhhbmRsZXIsIGZhbHNlKSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBlbmFibGVkKGVuYWJsZWQpIHtcbiAgICAgIHRoaXMuX2VuYWJsZWQgPSBlbmFibGVkO1xuICAgICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgICAgIHRoaXMub2JqZWN0LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgdmFyIGFuZ2xlID0gVEhSRUUuTWF0aC5kZWdUb1JhZChUSFJFRS5NYXRoLnJhbmRvbTE2KCkgKiAzNjApO1xuICAgICAgICB0aGlzLnlhdy5yb3RhdGlvbi5zZXQoMCwgYW5nbGUsIDApO1xuICAgICAgICB0aGlzLndvcmxkLnBsYWNlUGxheWVyKHRoaXMub2JqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMueWF3LnBvc2l0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgICAgdGhpcy55YXcucm90YXRpb24uc2V0KDAsIDAsIDApO1xuICAgICAgICB0aGlzLnBpdGNoLnJvdGF0aW9uLnNldCgwLCAwLCAwKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIHB1YmxpYyBzZXRXb3JsZE9iamVjdHNDYWxsYmFjayhmdW5jKSB7XG4gICAgICB0aGlzLmdldFdvcmxkT2JqZWN0cyA9IGZ1bmM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBlbmFibGVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBvYmplY3QoKSB7XG4gICAgICByZXR1cm4gdGhpcy55YXc7XG4gICAgfVxuXG4gICAgcHVibGljIGxvb2tBdChib3gpIHtcbiAgICAgIHRoaXMuX2xvb2tBdCA9IGJveDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuc2NlbmUucmVtb3ZlKHRoaXMueWF3KTtcbiAgICAgIHRoaXMueWF3LmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMucGl0Y2guZGlzcG9zZSgpO1xuICAgICAgXy5mb3JJbih0aGlzLmhhbmRsZXJzLCAoaGFuZGxlciwgZXZ0KSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2dCwgaGFuZGxlcikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgd2Fsa2luZ01vZGlmaWVyID0gNTAwO1xuICAgIHByaXZhdGUgcnVubmluZ01vZGlmaWVyID0gMjAwO1xuXG4gICAgcHVibGljIHJlbmRlcigpIHtcbiAgICAgIGlmICghdGhpcy5lbmFibGVkIHx8ICFoYXZlUG9pbnRlckxvY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvb2tBdCkge1xuICAgICAgICAgIHZhciBhbmdsZSA9IERhdGUubm93KCkgKiAwLjAwMDE7XG4gICAgICAgICAgdGhpcy5jYW1lcmEuZm9jdXModGhpcy5fbG9va0F0LCBhbmdsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJheWNhc3RlciA9IHRoaXMucmF5Y2FzdGVyO1xuICAgICAgdmFyIHZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eTtcbiAgICAgIHZhciBtZSA9IHRoaXMub2JqZWN0O1xuICAgICAgcmF5Y2FzdGVyLnJheS5vcmlnaW4uY29weSggdGhpcy55YXcucG9zaXRpb24gKTtcbiAgICAgIHJheWNhc3Rlci5yYXkub3JpZ2luLnkgLT0gMTA7XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuZ2V0V29ybGRPYmplY3RzKCk7XG4gICAgICB2YXIgaW50ZXJzZWN0aW9ucyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKG9iamVjdHMpO1xuICAgICAgdmFyIGlzT25PYmplY3QgPSBpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDA7XG4gICAgICB2YXIgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgdmFyIGludGVydmFsID0gdGltZSAtIHRoaXMucHJldlRpbWU7XG4gICAgICB2YXIgbW9kaWZpZXIgPSB0aGlzLnJ1bm5pbmcgPyB0aGlzLnJ1bm5pbmdNb2RpZmllciA6IHRoaXMud2Fsa2luZ01vZGlmaWVyO1xuICAgICAgdmFyIGRlbHRhID0gaW50ZXJ2YWwgLyBtb2RpZmllcjtcbiAgICAgIHZhciBkZWx0YVkgPSBpbnRlcnZhbCAvIHRoaXMud2Fsa2luZ01vZGlmaWVyO1xuXG4gICAgICB2ZWxvY2l0eS54IC09IHZlbG9jaXR5LnggKiAxMC4wICogZGVsdGE7XG4gICAgICB2ZWxvY2l0eS56IC09IHZlbG9jaXR5LnogKiAxMC4wICogZGVsdGE7XG4gICAgICB2ZWxvY2l0eS55IC09IDkuOCAqIDEwMC4wICogZGVsdGFZOyAvLyAxMDAuMCA9IG1hc3NcblxuICAgICAgaWYgKHRoaXMuZm9yd2FyZCkgdmVsb2NpdHkueiAtPSA0MDAuMCAqIGRlbHRhO1xuICAgICAgaWYgKHRoaXMuYmFja3dhcmQpIHZlbG9jaXR5LnogKz0gNDAwLjAgKiBkZWx0YTtcbiAgICAgIGlmICh0aGlzLmxlZnQpIHZlbG9jaXR5LnggLT0gNDAwLjAgKiBkZWx0YTtcbiAgICAgIGlmICh0aGlzLnJpZ2h0KSB2ZWxvY2l0eS54ICs9IDQwMC4wICogZGVsdGE7XG5cbiAgICAgIGlmICggaXNPbk9iamVjdCA9PT0gdHJ1ZSApIHtcbiAgICAgICAgdmVsb2NpdHkueSA9IE1hdGgubWF4KCAwLCB2ZWxvY2l0eS55ICk7XG4gICAgICAgIHRoaXMuY2FuSnVtcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIG1lLnRyYW5zbGF0ZVgodmVsb2NpdHkueCAqIGRlbHRhKTtcbiAgICAgIG1lLnRyYW5zbGF0ZVkodmVsb2NpdHkueSAqIGRlbHRhWSk7XG4gICAgICBtZS50cmFuc2xhdGVaKHZlbG9jaXR5LnogKiBkZWx0YSk7XG5cbiAgICAgIGlmICggbWUucG9zaXRpb24ueSA8IDEwICkge1xuXG4gICAgICAgIHZlbG9jaXR5LnkgPSAwO1xuICAgICAgICBtZS5wb3NpdGlvbi55ID0gMTA7XG4gICAgICAgIHRoaXMuY2FuSnVtcCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJldlRpbWUgPSB0aW1lO1xuICAgIH1cbiAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImt1YmUzZFBsdWdpbi50c1wiLz5cblxubW9kdWxlIEt1YmUzZCB7XG5cbiAgdmFyIGRpcmVjdGl2ZU5hbWUgPSAndGhyZWVqcyc7XG5cbiAgX21vZHVsZS5kaXJlY3RpdmUoZGlyZWN0aXZlTmFtZSwgWygpID0+IHtcbiAgICBUSFJFRS5JbWFnZVV0aWxzLmNyb3NzT3JpZ2luID0gJyc7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgY29uZmlnOiAnPT8nICsgZGlyZWN0aXZlTmFtZVxuICAgICAgfSxcbiAgICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpID0+IHtcblxuICAgICAgICB2YXIgc2NlbmU6YW55ID0gbnVsbDtcbiAgICAgICAgdmFyIGNhbWVyYTphbnkgPSBudWxsO1xuICAgICAgICB2YXIgcmVuZGVyZXI6YW55ID0gbnVsbDtcbiAgICAgICAgdmFyIGtlZXBSZW5kZXJpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgcmVzaXplSGFuZGxlOmFueSA9IG51bGw7XG5cbiAgICAgICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICBrZWVwUmVuZGVyaW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZScsIHJlc2l6ZUZ1bmMpO1xuICAgICAgICAgIGRlbGV0ZSByZW5kZXJlcjtcbiAgICAgICAgICBkZWxldGUgY2FtZXJhO1xuICAgICAgICAgIGRlbGV0ZSBzY2VuZTtcbiAgICAgICAgICBlbGVtZW50LmVtcHR5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzaXplRnVuYyA9ICgpID0+IHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcInJlc2l6aW5nXCIpO1xuICAgICAgICAgICAgZWxlbWVudC5maW5kKCdjYW52YXMnKS53aWR0aChlbGVtZW50LndpZHRoKCkpLmhlaWdodChlbGVtZW50LmhlaWdodCgpKTtcbiAgICAgICAgICAgIGNhbWVyYS5hc3BlY3QgPSBlbGVtZW50LndpZHRoKCkgLyBlbGVtZW50LmhlaWdodCgpO1xuICAgICAgICAgICAgY2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcbiAgICAgICAgICAgIHJlbmRlcmVyLnNldFNpemUoZWxlbWVudC53aWR0aCgpLCBlbGVtZW50LmhlaWdodCgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgKCkgPT4ge1xuICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICBsb2cuZGVidWcoXCJzY2VuZSBkZXN0cm95ZWRcIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnY29uZmlnJywgXy5kZWJvdW5jZSgoY29uZmlnKSA9PiB7XG4gICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgIGlmICghY29uZmlnIHx8ICFjb25maWcuaW5pdGlhbGl6ZSkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwibm8gY29uZmlnLCByZXR1cm5pbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZy5kZWJ1ZyhcImNyZWF0aW5nIHNjZW5lXCIpO1xuICAgICAgICAgIC8vc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICAgICAgICBzY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAgICAgIGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg2MCwgZWxlbWVudC53aWR0aCgpIC8gZWxlbWVudC5oZWlnaHQoKSwgMC4xLCAyMDAwMCk7XG5cbiAgICAgICAgICBjYW1lcmEuZm9jdXMgPSAoYm94MzphbnksIGFuZ2xlLCBjOmFueSA9IGNhbWVyYSkgPT4ge1xuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBjIHBvc2l0aW9uIHRvIGtlZXAgZXZlcnl0aGluZyBpbiB2aWV3LCB3ZSdsbCBkb1xuICAgICAgICAgICAgLy8gZ3JhZHVhbCBhZGp1c3RtZW50cyB0aG91Z2hcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBib3gzLnNpemUoKS55O1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gYm94My5zaXplKCkueCAvIChjYW1lcmEuYXNwZWN0IC8gMik7XG4gICAgICAgICAgICAvL2xvZy5kZWJ1ZyhcIndpZHRoOlwiLCB3aWR0aCwgXCIgaGVpZ2h0OlwiLCBoZWlnaHQpO1xuICAgICAgICAgICAgaWYgKHdpZHRoIDwgMCB8fCBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkaXN0WSA9IE1hdGgucm91bmQoaGVpZ2h0ICogTWF0aC50YW4oIChjYW1lcmEuZm92IC8gMiApICogKCBNYXRoLlBJIC8gMTgwICkpKTtcbiAgICAgICAgICAgIHZhciBkaXN0WCA9IE1hdGgucm91bmQod2lkdGggKiBNYXRoLnRhbiggKGNhbWVyYS5mb3YgLyAyICkgKiAoIE1hdGguUEkgLyAxODAgKSkpO1xuICAgICAgICAgICAgdmFyIGRpc3RaID0gKGRpc3RZICsgZGlzdFgpO1xuICAgICAgICAgICAgLy8gbG9nLmRlYnVnKFwiZGlzdFk6XCIsIGRpc3RZLCBcIiBkaXN0WDpcIiwgZGlzdFgsIFwiZGlzdFo6XCIsIGRpc3RaKTtcbiAgICAgICAgICAgIHZhciB6ID0gTWF0aC5yb3VuZChjLnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgdmFyIHBlcmlvZCA9IDUuMDtcbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IGRpc3RYICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgYy5wb3NpdGlvbi55ID0gZGlzdFkgKiBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgICAgICBpZiAoeiAhPT0gZGlzdFopIHtcbiAgICAgICAgICAgICAgaWYgKHogPiBkaXN0Wikge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gKHogLSBkaXN0WikgLyBwZXJpb2Q7XG4gICAgICAgICAgICAgICAgYy5wb3NpdGlvbi56ID0geiAtIHY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHogPCBkaXN0Wikge1xuICAgICAgICAgICAgICAgIHZhciB2ID0gKGRpc3RaIC0geikgLyBwZXJpb2Q7XG4gICAgICAgICAgICAgICAgYy5wb3NpdGlvbi56ID0geiArIHY7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGMubG9va0F0KGJveDMuY2VudGVyKCkpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoIHdlYmdsQXZhaWxhYmxlKCkgKSB7XG4gICAgICAgICAgICByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVyID0gbmV3IFRIUkVFLkNhbnZhc1JlbmRlcmVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vcmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweGZmZmZmZik7XG4gICAgICAgICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgcmVuZGVyZXIuc2V0U2l6ZShlbGVtZW50LndpZHRoKCksIGVsZW1lbnQuaGVpZ2h0KCkpO1xuICAgICAgICAgIHZhciBkb21FbGVtZW50ID0gcmVuZGVyZXIuZG9tRWxlbWVudDtcbiAgICAgICAgICBjb25maWcuaW5pdGlhbGl6ZShyZW5kZXJlciwgc2NlbmUsIGNhbWVyYSwgZG9tRWxlbWVudCk7XG5cbiAgICAgICAgICBlbGVtZW50LmFwcGVuZChkb21FbGVtZW50KTtcbiAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHJlc2l6ZUZ1bmMpO1xuXG4gICAgICAgICAgdmFyIHJlbmRlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICgha2VlcFJlbmRlcmluZykge1xuICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcucmVuZGVyKSB7XG4gICAgICAgICAgICAgIGNvbmZpZy5yZW5kZXIocmVuZGVyZXIsIHNjZW5lLCBjYW1lcmEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyKHNjZW5lLCBjYW1lcmEpO1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtlZXBSZW5kZXJpbmcgPSB0cnVlO1xuICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICB9LCA1MDAsIHsgdHJhaWxpbmc6IHRydWUgfSkpO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cImt1YmUzZFBsdWdpbi50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCJwbGF5ZXIudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwid29ybGQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwib2JqZWN0cy50c1wiLz5cblxubW9kdWxlIEt1YmUzZCB7XG5cbiAgZXhwb3J0IHZhciBWaWV3Q29udHJvbGxlciA9IGNvbnRyb2xsZXIoJ1ZpZXdDb250cm9sbGVyJywgWyckc2NvcGUnLCAnS3ViZXJuZXRlc01vZGVsJywgJ0t1YmVybmV0ZXNTdGF0ZScsICckZWxlbWVudCcsICgkc2NvcGUsIG1vZGVsOkt1YmVybmV0ZXMuS3ViZXJuZXRlc01vZGVsU2VydmljZSwgc3RhdGUsICRlbGVtZW50KSA9PiB7XG5cbiAgICB2YXIgZGVidWdTY2VuZSA9IGZhbHNlO1xuXG4gICAgdmFyIHJlbmRlcmVyOmFueSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgc2NlbmU6YW55ID0gdW5kZWZpbmVkO1xuICAgIHZhciBjYW1lcmE6YW55ID0gdW5kZWZpbmVkO1xuICAgIHZhciBkb21FbGVtZW50OmFueSA9IHVuZGVmaW5lZDtcblxuICAgIHZhciBzY2VuZUdlb21ldHJ5ID0gbmV3IFRIUkVFLk9iamVjdDNEKCk7XG4gICAgdmFyIHNjZW5lQm91bmRzID0gbmV3IFRIUkVFLkJvdW5kaW5nQm94SGVscGVyKHNjZW5lR2VvbWV0cnksIDB4ZmYwMDAwKTtcblxuICAgIHZhciBob3N0T2JqZWN0cyA9IHt9O1xuXG4gICAgdmFyIHVwZGF0aW5nID0gZmFsc2U7XG4gICAgdmFyIGhhc01vdXNlID0gZmFsc2U7XG5cbiAgICB2YXIgcGxheWVyOlBsYXllciA9IG51bGw7XG4gICAgdmFyIHdvcmxkOldvcmxkID0gbnVsbDtcblxuICAgICRzY29wZS5vbkxvY2sgPSAobG9jaykgPT4ge1xuICAgICAgaWYgKCFwbGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGxheWVyLmVuYWJsZWQgPSBsb2NrO1xuICAgIH1cblxuICAgICRzY29wZS5jb25maWcgPSB7XG4gICAgICBpbml0aWFsaXplOiAociwgcywgYywgZCkgPT4ge1xuICAgICAgICBsb2cuZGVidWcoXCJpbml0IGNhbGxlZFwiKTtcbiAgICAgICAgcmVuZGVyZXIgPSByO1xuICAgICAgICBzY2VuZSA9IHM7XG4gICAgICAgIGNhbWVyYSA9IGM7XG4gICAgICAgIGRvbUVsZW1lbnQgPSBkO1xuXG4gICAgICAgIHdvcmxkID0gbmV3IFdvcmxkKHNjZW5lKTtcbiAgICAgICAgcGxheWVyID0gbmV3IFBsYXllcihzY2VuZSwgY2FtZXJhLCBkLCB3b3JsZCk7XG5cbiAgICAgICAgc2NlbmUuYWRkKHNjZW5lR2VvbWV0cnkpO1xuXG4gICAgICAgIGlmIChkZWJ1Z1NjZW5lKSB7XG4gICAgICAgICAgLy8gZGVidWcgc3R1ZmZcbiAgICAgICAgICAvLyBwdXRzIGEgYm91bmRpbmcgYm94IGFyb3VuZCB0aGUgc2NlbmUgd2Ugd2FudCB0byB2aWV3XG4gICAgICAgICAgc2NlbmUuYWRkKHNjZW5lQm91bmRzKTtcblxuICAgICAgICB9XG4gICAgICAgIC8vIGFkZHMgbGluZXMgZm9yIHRoZSB4L3kveiBheGlzXG4gICAgICAgIC8vIFRoZSBYIGF4aXMgaXMgcmVkLiBUaGUgWSBheGlzIGlzIGdyZWVuLiBUaGUgWiBheGlzIGlzIGJsdWVcbiAgICAgICAgdmFyIGF4aXMgPSBuZXcgVEhSRUUuQXhpc0hlbHBlcigxMDAwKTtcbiAgICAgICAgc2NlbmUuYWRkKGF4aXMpO1xuXG4gICAgICAgIHNjZW5lR2VvbWV0cnkucm90YXRpb24ueCA9IDkwO1xuICAgICAgICBzY2VuZUdlb21ldHJ5LnJvdGF0aW9uLnogPSA5MDtcbiAgICAgICAgc2NlbmVHZW9tZXRyeS5wb3NpdGlvbi54ID0gMDtcbiAgICAgICAgc2NlbmVHZW9tZXRyeS5wb3NpdGlvbi55ID0gMDtcbiAgICAgICAgc2NlbmVHZW9tZXRyeS5wb3NpdGlvbi56ID0gMDtcbiAgICAgICAgYnVpbGRTY2VuZSgpO1xuICAgICAgfSxcbiAgICAgIHJlbmRlcjogKHJlbmRlcmVyLCBzY2VuZSwgY2FtZXJhKSA9PiB7XG4gICAgICAgIC8vIE5PVEUgLSB0aGlzIGZ1bmN0aW9uIHJ1bnMgYXQgfiA2MGZwcyFcbiAgICAgICAgaWYgKHVwZGF0aW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdvcmxkLnJlbmRlcigpO1xuICAgICAgICB2YXIgYW5nbGUgPSBEYXRlLm5vdygpICogMC4wMDAxO1xuICAgICAgICBzY2VuZUdlb21ldHJ5LnBvc2l0aW9uLnggPSAxMDAwICogTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBzY2VuZUdlb21ldHJ5LnBvc2l0aW9uLnogPSAxMDAwICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICAvLyBzY2VuZUdlb21ldHJ5LnJvdGF0aW9uLnggKz0gMC4wMDE7XG4gICAgICAgIC8vIHNjZW5lR2VvbWV0cnkucm90YXRpb24ueSArPSAwLjAwMTtcbiAgICAgICAgLy8gc2NlbmVHZW9tZXRyeS5yb3RhdGlvbi56ICs9IDAuMDAxO1xuICAgICAgICBfLmZvckluKGhvc3RPYmplY3RzLCAoaG9zdE9iamVjdCwga2V5KSA9PiB7XG4gICAgICAgICAgaG9zdE9iamVjdC5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNjZW5lQm91bmRzLnVwZGF0ZSgpO1xuICAgICAgICBwbGF5ZXIubG9va0F0KHNjZW5lQm91bmRzLmJveCk7XG4gICAgICAgIHBsYXllci5yZW5kZXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBidWlsZFNjZW5lKCkge1xuICAgICAgaWYgKCFzY2VuZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1cGRhdGluZyA9IHRydWU7XG4gICAgICB2YXIgb3JpZ2luWCA9IDA7XG4gICAgICB2YXIgb3JpZ2luWSA9IDA7XG5cbiAgICAgIHZhciBob3N0c1RvUmVtb3ZlID0gW107XG5cbiAgICAgIF8uZm9ySW4oaG9zdE9iamVjdHMsIChob3N0T2JqZWN0LCBrZXkpID0+IHtcbiAgICAgICAgaWYgKF8uYW55KG1vZGVsLmhvc3RzLCAoaG9zdCkgPT4gaG9zdC5lbGVtZW50SWQgPT09IGtleSkpIHtcbiAgICAgICAgICBsb2cuZGVidWcoXCJLZWVwaW5nIGhvc3Q6IFwiLCBrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhvc3RzVG9SZW1vdmUucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgXy5mb3JFYWNoKGhvc3RzVG9SZW1vdmUsIChrZXkpID0+IHtcbiAgICAgICAgdmFyIGhvc3RPYmplY3QgPSBob3N0T2JqZWN0c1trZXldO1xuICAgICAgICBpZiAoaG9zdE9iamVjdCkge1xuICAgICAgICAgIGhvc3RPYmplY3QuZGVzdHJveSgpO1xuICAgICAgICAgIGRlbGV0ZSBob3N0T2JqZWN0c1trZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgXy5mb3JFYWNoKG1vZGVsLmhvc3RzLCAoaG9zdCkgPT4ge1xuICAgICAgICB2YXIgaWQgPSBob3N0LmVsZW1lbnRJZDtcbiAgICAgICAgbG9nLmRlYnVnKFwiaG9zdDogXCIsIGhvc3QpO1xuICAgICAgICB2YXIgaG9zdE9iamVjdCA9IGhvc3RPYmplY3RzW2lkXSB8fCBuZXcgSG9zdE9iamVjdChzY2VuZUdlb21ldHJ5LCBpZCwgaG9zdCk7XG4gICAgICAgIGlmICghKGlkIGluIGhvc3RPYmplY3RzKSkge1xuICAgICAgICAgIGhvc3RPYmplY3Quc2V0UG9zaXRpb24ob3JpZ2luWCwgb3JpZ2luWSwgMCk7XG4gICAgICAgICAgb3JpZ2luWCA9IG9yaWdpblggKyA1MDA7XG4gICAgICAgICAgb3JpZ2luWSA9IG9yaWdpblkgKyA1MDA7XG4gICAgICAgICAgaG9zdE9iamVjdHNbaWRdID0gaG9zdE9iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBob3N0T2JqZWN0LnVwZGF0ZShtb2RlbCwgaG9zdCk7XG4gICAgICAgIGhvc3RPYmplY3QuZGVidWcoZGVidWdTY2VuZSk7XG4gICAgICB9KTtcblxuICAgICAgbG9nLmRlYnVnKFwibW9kZWwgdXBkYXRlZFwiKTtcbiAgICAgIHVwZGF0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgICRzY29wZS4kb24oJ2t1YmVybmV0ZXNNb2RlbFVwZGF0ZWQnLCBidWlsZFNjZW5lKTtcbiAgfV0pO1xuXG59XG4iXX0=
